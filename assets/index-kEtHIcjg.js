function xL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var A1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _L(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var M4={exports:{}},Fv={},j4={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=Symbol.for("react.element"),CL=Symbol.for("react.portal"),IL=Symbol.for("react.fragment"),EL=Symbol.for("react.strict_mode"),SL=Symbol.for("react.profiler"),FL=Symbol.for("react.provider"),TL=Symbol.for("react.context"),kL=Symbol.for("react.forward_ref"),NL=Symbol.for("react.suspense"),UL=Symbol.for("react.memo"),QL=Symbol.for("react.lazy"),A5=Symbol.iterator;function LL(t){return t===null||typeof t!="object"?null:(t=A5&&t[A5]||t["@@iterator"],typeof t=="function"?t:null)}var H4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V4=Object.assign,K4={};function Ah(t,e,n){this.props=t,this.context=e,this.refs=K4,this.updater=n||H4}Ah.prototype.isReactComponent={};Ah.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ah.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z4(){}z4.prototype=Ah.prototype;function $B(t,e,n){this.props=t,this.context=e,this.refs=K4,this.updater=n||H4}var JB=$B.prototype=new z4;JB.constructor=$B;V4(JB,Ah.prototype);JB.isPureReactComponent=!0;var l5=Array.isArray,G4=Object.prototype.hasOwnProperty,YB={current:null},W4={key:!0,ref:!0,__self:!0,__source:!0};function q4(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)G4.call(e,r)&&!W4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var A=Array(a),l=0;l<a;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zp,type:t,key:s,ref:o,props:i,_owner:YB.current}}function PL(t,e){return{$$typeof:Zp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function XB(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zp}function RL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var u5=/\/+/g;function l1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RL(""+t.key):e.toString(36)}function Jm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zp:case CL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+l1(o,0):r,l5(i)?(n="",t!=null&&(n=t.replace(u5,"$&/")+"/"),Jm(i,e,n,"",function(l){return l})):i!=null&&(XB(i)&&(i=PL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(u5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",l5(t))for(var a=0;a<t.length;a++){s=t[a];var A=r+l1(s,a);o+=Jm(s,e,n,A,i)}else if(A=LL(t),typeof A=="function")for(t=A.call(t),a=0;!(s=t.next()).done;)s=s.value,A=r+l1(s,a++),o+=Jm(s,e,n,A,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xg(t,e,n){if(t==null)return t;var r=[],i=0;return Jm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function DL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Si={current:null},Ym={transition:null},OL={ReactCurrentDispatcher:Si,ReactCurrentBatchConfig:Ym,ReactCurrentOwner:YB};function $4(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:Xg,forEach:function(t,e,n){Xg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xg(t,function(){e++}),e},toArray:function(t){return Xg(t,function(e){return e})||[]},only:function(t){if(!XB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Mt.Component=Ah;Mt.Fragment=IL;Mt.Profiler=SL;Mt.PureComponent=$B;Mt.StrictMode=EL;Mt.Suspense=NL;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OL;Mt.act=$4;Mt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=V4({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=YB.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(A in e)G4.call(e,A)&&!W4.hasOwnProperty(A)&&(r[A]=e[A]===void 0&&a!==void 0?a[A]:e[A])}var A=arguments.length-2;if(A===1)r.children=n;else if(1<A){a=Array(A);for(var l=0;l<A;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Zp,type:t.type,key:i,ref:s,props:r,_owner:o}};Mt.createContext=function(t){return t={$$typeof:TL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FL,_context:t},t.Consumer=t};Mt.createElement=q4;Mt.createFactory=function(t){var e=q4.bind(null,t);return e.type=t,e};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(t){return{$$typeof:kL,render:t}};Mt.isValidElement=XB;Mt.lazy=function(t){return{$$typeof:QL,_payload:{_status:-1,_result:t},_init:DL}};Mt.memo=function(t,e){return{$$typeof:UL,type:t,compare:e===void 0?null:e}};Mt.startTransition=function(t){var e=Ym.transition;Ym.transition={};try{t()}finally{Ym.transition=e}};Mt.unstable_act=$4;Mt.useCallback=function(t,e){return Si.current.useCallback(t,e)};Mt.useContext=function(t){return Si.current.useContext(t)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(t){return Si.current.useDeferredValue(t)};Mt.useEffect=function(t,e){return Si.current.useEffect(t,e)};Mt.useId=function(){return Si.current.useId()};Mt.useImperativeHandle=function(t,e,n){return Si.current.useImperativeHandle(t,e,n)};Mt.useInsertionEffect=function(t,e){return Si.current.useInsertionEffect(t,e)};Mt.useLayoutEffect=function(t,e){return Si.current.useLayoutEffect(t,e)};Mt.useMemo=function(t,e){return Si.current.useMemo(t,e)};Mt.useReducer=function(t,e,n){return Si.current.useReducer(t,e,n)};Mt.useRef=function(t){return Si.current.useRef(t)};Mt.useState=function(t){return Si.current.useState(t)};Mt.useSyncExternalStore=function(t,e,n){return Si.current.useSyncExternalStore(t,e,n)};Mt.useTransition=function(){return Si.current.useTransition()};Mt.version="18.3.1";j4.exports=Mt;var le=j4.exports;const wu=O4(le),ML=xL({__proto__:null,default:wu},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jL=le,HL=Symbol.for("react.element"),VL=Symbol.for("react.fragment"),KL=Object.prototype.hasOwnProperty,zL=jL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GL={key:!0,ref:!0,__self:!0,__source:!0};function J4(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KL.call(e,r)&&!GL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HL,type:t,key:s,ref:o,props:i,_owner:zL.current}}Fv.Fragment=VL;Fv.jsx=J4;Fv.jsxs=J4;M4.exports=Fv;var f=M4.exports,Ny={},Y4={exports:{}},hs={},X4={exports:{}},Z4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,R){var W=$.length;$.push(R);e:for(;0<W;){var re=W-1>>>1,Q=$[re];if(0<i(Q,R))$[re]=R,$[W]=Q,W=re;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var R=$[0],W=$.pop();if(W!==R){$[0]=W;e:for(var re=0,Q=$.length,j=Q>>>1;re<j;){var z=2*(re+1)-1,ee=$[z],ne=z+1,Ae=$[ne];if(0>i(ee,W))ne<Q&&0>i(Ae,ee)?($[re]=Ae,$[ne]=W,re=ne):($[re]=ee,$[z]=W,re=z);else if(ne<Q&&0>i(Ae,W))$[re]=Ae,$[ne]=W,re=ne;else break e}}return R}function i($,R){var W=$.sortIndex-R.sortIndex;return W!==0?W:$.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var A=[],l=[],u=1,c=null,p=3,g=!1,v=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var R=n(l);R!==null;){if(R.callback===null)r(l);else if(R.startTime<=$)r(l),R.sortIndex=R.expirationTime,e(A,R);else break;R=n(l)}}function U($){if(b=!1,x($),!v)if(n(A)!==null)v=!0,te(P);else{var R=n(l);R!==null&&K(U,R.startTime-$)}}function P($,R){v=!1,b&&(b=!1,y(_),_=-1),g=!0;var W=p;try{for(x(R),c=n(A);c!==null&&(!(c.expirationTime>R)||$&&!I());){var re=c.callback;if(typeof re=="function"){c.callback=null,p=c.priorityLevel;var Q=re(c.expirationTime<=R);R=t.unstable_now(),typeof Q=="function"?c.callback=Q:c===n(A)&&r(A),x(R)}else r(A);c=n(A)}if(c!==null)var j=!0;else{var z=n(l);z!==null&&K(U,z.startTime-R),j=!1}return j}finally{c=null,p=W,g=!1}}var M=!1,S=null,_=-1,N=5,O=-1;function I(){return!(t.unstable_now()-O<N)}function T(){if(S!==null){var $=t.unstable_now();O=$;var R=!0;try{R=S(!0,$)}finally{R?k():(M=!1,S=null)}}else M=!1}var k;if(typeof w=="function")k=function(){w(T)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,de=X.port2;X.port1.onmessage=T,k=function(){de.postMessage(null)}}else k=function(){E(T,0)};function te($){S=$,M||(M=!0,k())}function K($,R){_=E(function(){$(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,te(P))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(A)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var W=p;p=R;try{return $()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,R){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=p;p=$;try{return R()}finally{p=W}},t.unstable_scheduleCallback=function($,R,W){var re=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,$={id:u++,callback:R,priorityLevel:$,startTime:W,expirationTime:Q,sortIndex:-1},W>re?($.sortIndex=W,e(l,$),n(A)===null&&$===n(l)&&(b?(y(_),_=-1):b=!0,K(U,W-re))):($.sortIndex=Q,e(A,$),v||g||(v=!0,te(P))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var R=p;return function(){var W=p;p=R;try{return $.apply(this,arguments)}finally{p=W}}}})(Z4);X4.exports=Z4;var WL=X4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qL=le,cs=WL;function nt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eS=new Set,op={};function ic(t,e){Pd(t,e),Pd(t+"Capture",e)}function Pd(t,e){for(op[t]=e,t=0;t<e.length;t++)eS.add(e[t])}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uy=Object.prototype.hasOwnProperty,$L=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c5={},d5={};function JL(t){return Uy.call(d5,t)?!0:Uy.call(c5,t)?!1:$L.test(t)?d5[t]=!0:(c5[t]=!0,!1)}function YL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XL(t,e,n,r){if(e===null||typeof e>"u"||YL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wr[t]=new Fi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wr[e]=new Fi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wr[t]=new Fi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wr[t]=new Fi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wr[t]=new Fi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wr[t]=new Fi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wr[t]=new Fi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wr[t]=new Fi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wr[t]=new Fi(t,5,!1,t.toLowerCase(),null,!1,!1)});var ZB=/[\-:]([a-z])/g;function eb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ZB,eb);Wr[e]=new Fi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ZB,eb);Wr[e]=new Fi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ZB,eb);Wr[e]=new Fi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wr[t]=new Fi(t,1,!1,t.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new Fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wr[t]=new Fi(t,1,!1,t.toLowerCase(),null,!0,!0)});function tb(t,e,n,r){var i=Wr.hasOwnProperty(e)?Wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XL(e,n,i,r)&&(n=null),r||i===null?JL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ma=qL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zg=Symbol.for("react.element"),ld=Symbol.for("react.portal"),ud=Symbol.for("react.fragment"),nb=Symbol.for("react.strict_mode"),Qy=Symbol.for("react.profiler"),tS=Symbol.for("react.provider"),nS=Symbol.for("react.context"),rb=Symbol.for("react.forward_ref"),Ly=Symbol.for("react.suspense"),Py=Symbol.for("react.suspense_list"),ib=Symbol.for("react.memo"),NA=Symbol.for("react.lazy"),rS=Symbol.for("react.offscreen"),h5=Symbol.iterator;function Kh(t){return t===null||typeof t!="object"?null:(t=h5&&t[h5]||t["@@iterator"],typeof t=="function"?t:null)}var Dn=Object.assign,u1;function hf(t){if(u1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);u1=e&&e[1]||""}return`
`+u1+t}var c1=!1;function d1(t,e){if(!t||c1)return"";c1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var A=`
`+i[o].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=o&&0<=a);break}}}finally{c1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hf(t):""}function ZL(t){switch(t.tag){case 5:return hf(t.type);case 16:return hf("Lazy");case 13:return hf("Suspense");case 19:return hf("SuspenseList");case 0:case 2:case 15:return t=d1(t.type,!1),t;case 11:return t=d1(t.type.render,!1),t;case 1:return t=d1(t.type,!0),t;default:return""}}function Ry(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ud:return"Fragment";case ld:return"Portal";case Qy:return"Profiler";case nb:return"StrictMode";case Ly:return"Suspense";case Py:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nS:return(t.displayName||"Context")+".Consumer";case tS:return(t._context.displayName||"Context")+".Provider";case rb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ib:return e=t.displayName||null,e!==null?e:Ry(t.type)||"Memo";case NA:e=t._payload,t=t._init;try{return Ry(t(e))}catch{}}return null}function eP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ry(e);case 8:return e===nb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ul(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tP(t){var e=iS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function em(t){t._valueTracker||(t._valueTracker=tP(t))}function sS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function C0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dy(t,e){var n=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function f5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ul(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oS(t,e){e=e.checked,e!=null&&tb(t,"checked",e,!1)}function Oy(t,e){oS(t,e);var n=ul(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?My(t,e.type,n):e.hasOwnProperty("defaultValue")&&My(t,e.type,ul(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function p5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function My(t,e,n){(e!=="number"||C0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ff=Array.isArray;function xd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ul(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(nt(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function g5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(nt(92));if(ff(n)){if(1<n.length)throw Error(nt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ul(n)}}function aS(t,e){var n=ul(e.value),r=ul(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tm,lS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tm=tm||document.createElement("div"),tm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ap(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nP=["Webkit","ms","Moz","O"];Object.keys(kf).forEach(function(t){nP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kf[e]=kf[t]})});function uS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kf.hasOwnProperty(t)&&kf[t]?(""+e).trim():e+"px"}function cS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rP=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vy(t,e){if(e){if(rP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(nt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(nt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(nt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(nt(62))}}function Ky(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zy=null;function sb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gy=null,_d=null,Cd=null;function v5(t){if(t=ng(t)){if(typeof Gy!="function")throw Error(nt(280));var e=t.stateNode;e&&(e=Qv(e),Gy(t.stateNode,t.type,e))}}function dS(t){_d?Cd?Cd.push(t):Cd=[t]:_d=t}function hS(){if(_d){var t=_d,e=Cd;if(Cd=_d=null,v5(t),e)for(t=0;t<e.length;t++)v5(e[t])}}function fS(t,e){return t(e)}function pS(){}var h1=!1;function gS(t,e,n){if(h1)return t(e,n);h1=!0;try{return fS(t,e,n)}finally{h1=!1,(_d!==null||Cd!==null)&&(pS(),hS())}}function Ap(t,e){var n=t.stateNode;if(n===null)return null;var r=Qv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(nt(231,e,typeof n));return n}var Wy=!1;if(ka)try{var zh={};Object.defineProperty(zh,"passive",{get:function(){Wy=!0}}),window.addEventListener("test",zh,zh),window.removeEventListener("test",zh,zh)}catch{Wy=!1}function iP(t,e,n,r,i,s,o,a,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Nf=!1,I0=null,E0=!1,qy=null,sP={onError:function(t){Nf=!0,I0=t}};function oP(t,e,n,r,i,s,o,a,A){Nf=!1,I0=null,iP.apply(sP,arguments)}function aP(t,e,n,r,i,s,o,a,A){if(oP.apply(this,arguments),Nf){if(Nf){var l=I0;Nf=!1,I0=null}else throw Error(nt(198));E0||(E0=!0,qy=l)}}function sc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w5(t){if(sc(t)!==t)throw Error(nt(188))}function AP(t){var e=t.alternate;if(!e){if(e=sc(t),e===null)throw Error(nt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return w5(i),t;if(s===r)return w5(i),e;s=s.sibling}throw Error(nt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(nt(189))}}if(n.alternate!==r)throw Error(nt(190))}if(n.tag!==3)throw Error(nt(188));return n.stateNode.current===n?t:e}function vS(t){return t=AP(t),t!==null?wS(t):null}function wS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wS(t);if(e!==null)return e;t=t.sibling}return null}var yS=cs.unstable_scheduleCallback,y5=cs.unstable_cancelCallback,lP=cs.unstable_shouldYield,uP=cs.unstable_requestPaint,nr=cs.unstable_now,cP=cs.unstable_getCurrentPriorityLevel,ob=cs.unstable_ImmediatePriority,BS=cs.unstable_UserBlockingPriority,S0=cs.unstable_NormalPriority,dP=cs.unstable_LowPriority,bS=cs.unstable_IdlePriority,Tv=null,Oo=null;function hP(t){if(Oo&&typeof Oo.onCommitFiberRoot=="function")try{Oo.onCommitFiberRoot(Tv,t,void 0,(t.current.flags&128)===128)}catch{}}var io=Math.clz32?Math.clz32:gP,fP=Math.log,pP=Math.LN2;function gP(t){return t>>>=0,t===0?32:31-(fP(t)/pP|0)|0}var nm=64,rm=4194304;function pf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function F0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=pf(a):(s&=o,s!==0&&(r=pf(s)))}else o=n&~i,o!==0?r=pf(o):s!==0&&(r=pf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-io(e),i=1<<n,r|=t[n],e&=~i;return r}function mP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-io(s),a=1<<o,A=i[o];A===-1?(!(a&n)||a&r)&&(i[o]=mP(a,e)):A<=e&&(t.expiredLanes|=a),s&=~a}}function $y(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xS(){var t=nm;return nm<<=1,!(nm&4194240)&&(nm=64),t}function f1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-io(e),t[e]=n}function wP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-io(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ab(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-io(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var un=0;function _S(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CS,Ab,IS,ES,SS,Jy=!1,im=[],$A=null,JA=null,YA=null,lp=new Map,up=new Map,LA=[],yP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B5(t,e){switch(t){case"focusin":case"focusout":$A=null;break;case"dragenter":case"dragleave":JA=null;break;case"mouseover":case"mouseout":YA=null;break;case"pointerover":case"pointerout":lp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":up.delete(e.pointerId)}}function Gh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ng(e),e!==null&&Ab(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BP(t,e,n,r,i){switch(e){case"focusin":return $A=Gh($A,t,e,n,r,i),!0;case"dragenter":return JA=Gh(JA,t,e,n,r,i),!0;case"mouseover":return YA=Gh(YA,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lp.set(s,Gh(lp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,up.set(s,Gh(up.get(s)||null,t,e,n,r,i)),!0}return!1}function FS(t){var e=yu(t.target);if(e!==null){var n=sc(e);if(n!==null){if(e=n.tag,e===13){if(e=mS(n),e!==null){t.blockedOn=e,SS(t.priority,function(){IS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zy=r,n.target.dispatchEvent(r),zy=null}else return e=ng(n),e!==null&&Ab(e),t.blockedOn=n,!1;e.shift()}return!0}function b5(t,e,n){Xm(t)&&n.delete(e)}function bP(){Jy=!1,$A!==null&&Xm($A)&&($A=null),JA!==null&&Xm(JA)&&(JA=null),YA!==null&&Xm(YA)&&(YA=null),lp.forEach(b5),up.forEach(b5)}function Wh(t,e){t.blockedOn===e&&(t.blockedOn=null,Jy||(Jy=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,bP)))}function cp(t){function e(i){return Wh(i,t)}if(0<im.length){Wh(im[0],t);for(var n=1;n<im.length;n++){var r=im[n];r.blockedOn===t&&(r.blockedOn=null)}}for($A!==null&&Wh($A,t),JA!==null&&Wh(JA,t),YA!==null&&Wh(YA,t),lp.forEach(e),up.forEach(e),n=0;n<LA.length;n++)r=LA[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<LA.length&&(n=LA[0],n.blockedOn===null);)FS(n),n.blockedOn===null&&LA.shift()}var Id=Ma.ReactCurrentBatchConfig,T0=!0;function xP(t,e,n,r){var i=un,s=Id.transition;Id.transition=null;try{un=1,lb(t,e,n,r)}finally{un=i,Id.transition=s}}function _P(t,e,n,r){var i=un,s=Id.transition;Id.transition=null;try{un=4,lb(t,e,n,r)}finally{un=i,Id.transition=s}}function lb(t,e,n,r){if(T0){var i=Yy(t,e,n,r);if(i===null)_1(t,e,r,k0,n),B5(t,r);else if(BP(i,t,e,n,r))r.stopPropagation();else if(B5(t,r),e&4&&-1<yP.indexOf(t)){for(;i!==null;){var s=ng(i);if(s!==null&&CS(s),s=Yy(t,e,n,r),s===null&&_1(t,e,r,k0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _1(t,e,r,null,n)}}var k0=null;function Yy(t,e,n,r){if(k0=null,t=sb(r),t=yu(t),t!==null)if(e=sc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return k0=t,null}function TS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cP()){case ob:return 1;case BS:return 4;case S0:case dP:return 16;case bS:return 536870912;default:return 16}default:return 16}}var MA=null,ub=null,Zm=null;function kS(){if(Zm)return Zm;var t,e=ub,n=e.length,r,i="value"in MA?MA.value:MA.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zm=i.slice(t,1<r?1-r:void 0)}function e0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sm(){return!0}function x5(){return!1}function fs(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sm:x5,this.isPropagationStopped=x5,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sm)},persist:function(){},isPersistent:sm}),e}var lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cb=fs(lh),tg=Dn({},lh,{view:0,detail:0}),CP=fs(tg),p1,g1,qh,kv=Dn({},tg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:db,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qh&&(qh&&t.type==="mousemove"?(p1=t.screenX-qh.screenX,g1=t.screenY-qh.screenY):g1=p1=0,qh=t),p1)},movementY:function(t){return"movementY"in t?t.movementY:g1}}),_5=fs(kv),IP=Dn({},kv,{dataTransfer:0}),EP=fs(IP),SP=Dn({},tg,{relatedTarget:0}),m1=fs(SP),FP=Dn({},lh,{animationName:0,elapsedTime:0,pseudoElement:0}),TP=fs(FP),kP=Dn({},lh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NP=fs(kP),UP=Dn({},lh,{data:0}),C5=fs(UP),QP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PP[t])?!!e[t]:!1}function db(){return RP}var DP=Dn({},tg,{key:function(t){if(t.key){var e=QP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=e0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:db,charCode:function(t){return t.type==="keypress"?e0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?e0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OP=fs(DP),MP=Dn({},kv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I5=fs(MP),jP=Dn({},tg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:db}),HP=fs(jP),VP=Dn({},lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),KP=fs(VP),zP=Dn({},kv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GP=fs(zP),WP=[9,13,27,32],hb=ka&&"CompositionEvent"in window,Uf=null;ka&&"documentMode"in document&&(Uf=document.documentMode);var qP=ka&&"TextEvent"in window&&!Uf,NS=ka&&(!hb||Uf&&8<Uf&&11>=Uf),E5=" ",S5=!1;function US(t,e){switch(t){case"keyup":return WP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cd=!1;function $P(t,e){switch(t){case"compositionend":return QS(e);case"keypress":return e.which!==32?null:(S5=!0,E5);case"textInput":return t=e.data,t===E5&&S5?null:t;default:return null}}function JP(t,e){if(cd)return t==="compositionend"||!hb&&US(t,e)?(t=kS(),Zm=ub=MA=null,cd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NS&&e.locale!=="ko"?null:e.data;default:return null}}var YP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YP[t.type]:e==="textarea"}function LS(t,e,n,r){dS(r),e=N0(e,"onChange"),0<e.length&&(n=new cb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qf=null,dp=null;function XP(t){GS(t,0)}function Nv(t){var e=fd(t);if(sS(e))return t}function ZP(t,e){if(t==="change")return e}var PS=!1;if(ka){var v1;if(ka){var w1="oninput"in document;if(!w1){var T5=document.createElement("div");T5.setAttribute("oninput","return;"),w1=typeof T5.oninput=="function"}v1=w1}else v1=!1;PS=v1&&(!document.documentMode||9<document.documentMode)}function k5(){Qf&&(Qf.detachEvent("onpropertychange",RS),dp=Qf=null)}function RS(t){if(t.propertyName==="value"&&Nv(dp)){var e=[];LS(e,dp,t,sb(t)),gS(XP,e)}}function eR(t,e,n){t==="focusin"?(k5(),Qf=e,dp=n,Qf.attachEvent("onpropertychange",RS)):t==="focusout"&&k5()}function tR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nv(dp)}function nR(t,e){if(t==="click")return Nv(e)}function rR(t,e){if(t==="input"||t==="change")return Nv(e)}function iR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ao=typeof Object.is=="function"?Object.is:iR;function hp(t,e){if(ao(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Uy.call(e,i)||!ao(t[i],e[i]))return!1}return!0}function N5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U5(t,e){var n=N5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=N5(n)}}function DS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OS(){for(var t=window,e=C0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=C0(t.document)}return e}function fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sR(t){var e=OS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DS(n.ownerDocument.documentElement,n)){if(r!==null&&fb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=U5(n,s);var o=U5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oR=ka&&"documentMode"in document&&11>=document.documentMode,dd=null,Xy=null,Lf=null,Zy=!1;function Q5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zy||dd==null||dd!==C0(r)||(r=dd,"selectionStart"in r&&fb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lf&&hp(Lf,r)||(Lf=r,r=N0(Xy,"onSelect"),0<r.length&&(e=new cb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=dd)))}function om(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hd={animationend:om("Animation","AnimationEnd"),animationiteration:om("Animation","AnimationIteration"),animationstart:om("Animation","AnimationStart"),transitionend:om("Transition","TransitionEnd")},y1={},MS={};ka&&(MS=document.createElement("div").style,"AnimationEvent"in window||(delete hd.animationend.animation,delete hd.animationiteration.animation,delete hd.animationstart.animation),"TransitionEvent"in window||delete hd.transitionend.transition);function Uv(t){if(y1[t])return y1[t];if(!hd[t])return t;var e=hd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MS)return y1[t]=e[n];return t}var jS=Uv("animationend"),HS=Uv("animationiteration"),VS=Uv("animationstart"),KS=Uv("transitionend"),zS=new Map,L5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Il(t,e){zS.set(t,e),ic(e,[t])}for(var B1=0;B1<L5.length;B1++){var b1=L5[B1],aR=b1.toLowerCase(),AR=b1[0].toUpperCase()+b1.slice(1);Il(aR,"on"+AR)}Il(jS,"onAnimationEnd");Il(HS,"onAnimationIteration");Il(VS,"onAnimationStart");Il("dblclick","onDoubleClick");Il("focusin","onFocus");Il("focusout","onBlur");Il(KS,"onTransitionEnd");Pd("onMouseEnter",["mouseout","mouseover"]);Pd("onMouseLeave",["mouseout","mouseover"]);Pd("onPointerEnter",["pointerout","pointerover"]);Pd("onPointerLeave",["pointerout","pointerover"]);ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lR=new Set("cancel close invalid load scroll toggle".split(" ").concat(gf));function P5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aP(r,e,void 0,t),t.currentTarget=null}function GS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],A=a.instance,l=a.currentTarget;if(a=a.listener,A!==s&&i.isPropagationStopped())break e;P5(i,a,l),s=A}else for(o=0;o<r.length;o++){if(a=r[o],A=a.instance,l=a.currentTarget,a=a.listener,A!==s&&i.isPropagationStopped())break e;P5(i,a,l),s=A}}}if(E0)throw t=qy,E0=!1,qy=null,t}function _n(t,e){var n=e[i2];n===void 0&&(n=e[i2]=new Set);var r=t+"__bubble";n.has(r)||(WS(e,t,2,!1),n.add(r))}function x1(t,e,n){var r=0;e&&(r|=4),WS(n,t,r,e)}var am="_reactListening"+Math.random().toString(36).slice(2);function fp(t){if(!t[am]){t[am]=!0,eS.forEach(function(n){n!=="selectionchange"&&(lR.has(n)||x1(n,!1,t),x1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[am]||(e[am]=!0,x1("selectionchange",!1,e))}}function WS(t,e,n,r){switch(TS(e)){case 1:var i=xP;break;case 4:i=_P;break;default:i=lb}n=i.bind(null,e,n,t),i=void 0,!Wy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var A=o.tag;if((A===3||A===4)&&(A=o.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;o=o.return}for(;a!==null;){if(o=yu(a),o===null)return;if(A=o.tag,A===5||A===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gS(function(){var l=s,u=sb(n),c=[];e:{var p=zS.get(t);if(p!==void 0){var g=cb,v=t;switch(t){case"keypress":if(e0(n)===0)break e;case"keydown":case"keyup":g=OP;break;case"focusin":v="focus",g=m1;break;case"focusout":v="blur",g=m1;break;case"beforeblur":case"afterblur":g=m1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=EP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=HP;break;case jS:case HS:case VS:g=TP;break;case KS:g=KP;break;case"scroll":g=CP;break;case"wheel":g=GP;break;case"copy":case"cut":case"paste":g=NP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=I5}var b=(e&4)!==0,E=!b&&t==="scroll",y=b?p!==null?p+"Capture":null:p;b=[];for(var w=l,x;w!==null;){x=w;var U=x.stateNode;if(x.tag===5&&U!==null&&(x=U,y!==null&&(U=Ap(w,y),U!=null&&b.push(pp(w,U,x)))),E)break;w=w.return}0<b.length&&(p=new g(p,v,null,n,u),c.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==zy&&(v=n.relatedTarget||n.fromElement)&&(yu(v)||v[Na]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=l,v=v?yu(v):null,v!==null&&(E=sc(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=l),g!==v)){if(b=_5,U="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=I5,U="onPointerLeave",y="onPointerEnter",w="pointer"),E=g==null?p:fd(g),x=v==null?p:fd(v),p=new b(U,w+"leave",g,n,u),p.target=E,p.relatedTarget=x,U=null,yu(u)===l&&(b=new b(y,w+"enter",v,n,u),b.target=x,b.relatedTarget=E,U=b),E=U,g&&v)t:{for(b=g,y=v,w=0,x=b;x;x=Oc(x))w++;for(x=0,U=y;U;U=Oc(U))x++;for(;0<w-x;)b=Oc(b),w--;for(;0<x-w;)y=Oc(y),x--;for(;w--;){if(b===y||y!==null&&b===y.alternate)break t;b=Oc(b),y=Oc(y)}b=null}else b=null;g!==null&&R5(c,p,g,b,!1),v!==null&&E!==null&&R5(c,E,v,b,!0)}}e:{if(p=l?fd(l):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=ZP;else if(F5(p))if(PS)P=rR;else{P=tR;var M=eR}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=nR);if(P&&(P=P(t,l))){LS(c,P,n,u);break e}M&&M(t,p,l),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&My(p,"number",p.value)}switch(M=l?fd(l):window,t){case"focusin":(F5(M)||M.contentEditable==="true")&&(dd=M,Xy=l,Lf=null);break;case"focusout":Lf=Xy=dd=null;break;case"mousedown":Zy=!0;break;case"contextmenu":case"mouseup":case"dragend":Zy=!1,Q5(c,n,u);break;case"selectionchange":if(oR)break;case"keydown":case"keyup":Q5(c,n,u)}var S;if(hb)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else cd?US(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(NS&&n.locale!=="ko"&&(cd||_!=="onCompositionStart"?_==="onCompositionEnd"&&cd&&(S=kS()):(MA=u,ub="value"in MA?MA.value:MA.textContent,cd=!0)),M=N0(l,_),0<M.length&&(_=new C5(_,t,null,n,u),c.push({event:_,listeners:M}),S?_.data=S:(S=QS(n),S!==null&&(_.data=S)))),(S=qP?$P(t,n):JP(t,n))&&(l=N0(l,"onBeforeInput"),0<l.length&&(u=new C5("onBeforeInput","beforeinput",null,n,u),c.push({event:u,listeners:l}),u.data=S))}GS(c,e)})}function pp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function N0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ap(t,n),s!=null&&r.unshift(pp(t,s,i)),s=Ap(t,e),s!=null&&r.push(pp(t,s,i))),t=t.return}return r}function Oc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,A=a.alternate,l=a.stateNode;if(A!==null&&A===r)break;a.tag===5&&l!==null&&(a=l,i?(A=Ap(n,s),A!=null&&o.unshift(pp(n,A,a))):i||(A=Ap(n,s),A!=null&&o.push(pp(n,A,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uR=/\r\n?/g,cR=/\u0000|\uFFFD/g;function D5(t){return(typeof t=="string"?t:""+t).replace(uR,`
`).replace(cR,"")}function Am(t,e,n){if(e=D5(e),D5(t)!==e&&n)throw Error(nt(425))}function U0(){}var e2=null,t2=null;function n2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var r2=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,O5=typeof Promise=="function"?Promise:void 0,hR=typeof queueMicrotask=="function"?queueMicrotask:typeof O5<"u"?function(t){return O5.resolve(null).then(t).catch(fR)}:r2;function fR(t){setTimeout(function(){throw t})}function C1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cp(e)}function XA(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function M5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uh=Math.random().toString(36).slice(2),To="__reactFiber$"+uh,gp="__reactProps$"+uh,Na="__reactContainer$"+uh,i2="__reactEvents$"+uh,pR="__reactListeners$"+uh,gR="__reactHandles$"+uh;function yu(t){var e=t[To];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Na]||n[To]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=M5(t);t!==null;){if(n=t[To])return n;t=M5(t)}return e}t=n,n=t.parentNode}return null}function ng(t){return t=t[To]||t[Na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(nt(33))}function Qv(t){return t[gp]||null}var s2=[],pd=-1;function El(t){return{current:t}}function En(t){0>pd||(t.current=s2[pd],s2[pd]=null,pd--)}function yn(t,e){pd++,s2[pd]=t.current,t.current=e}var cl={},ui=El(cl),zi=El(!1),Mu=cl;function Rd(t,e){var n=t.type.contextTypes;if(!n)return cl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gi(t){return t=t.childContextTypes,t!=null}function Q0(){En(zi),En(ui)}function j5(t,e,n){if(ui.current!==cl)throw Error(nt(168));yn(ui,e),yn(zi,n)}function qS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(nt(108,eP(t)||"Unknown",i));return Dn({},n,r)}function L0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cl,Mu=ui.current,yn(ui,t),yn(zi,zi.current),!0}function H5(t,e,n){var r=t.stateNode;if(!r)throw Error(nt(169));n?(t=qS(t,e,Mu),r.__reactInternalMemoizedMergedChildContext=t,En(zi),En(ui),yn(ui,t)):En(zi),yn(zi,n)}var ya=null,Lv=!1,I1=!1;function $S(t){ya===null?ya=[t]:ya.push(t)}function mR(t){Lv=!0,$S(t)}function Sl(){if(!I1&&ya!==null){I1=!0;var t=0,e=un;try{var n=ya;for(un=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ya=null,Lv=!1}catch(i){throw ya!==null&&(ya=ya.slice(t+1)),yS(ob,Sl),i}finally{un=e,I1=!1}}return null}var gd=[],md=0,P0=null,R0=0,Is=[],Es=0,ju=null,Ba=1,ba="";function au(t,e){gd[md++]=R0,gd[md++]=P0,P0=t,R0=e}function JS(t,e,n){Is[Es++]=Ba,Is[Es++]=ba,Is[Es++]=ju,ju=t;var r=Ba;t=ba;var i=32-io(r)-1;r&=~(1<<i),n+=1;var s=32-io(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ba=1<<32-io(e)+i|n<<i|r,ba=s+t}else Ba=1<<s|n<<i|r,ba=t}function pb(t){t.return!==null&&(au(t,1),JS(t,1,0))}function gb(t){for(;t===P0;)P0=gd[--md],gd[md]=null,R0=gd[--md],gd[md]=null;for(;t===ju;)ju=Is[--Es],Is[Es]=null,ba=Is[--Es],Is[Es]=null,Ba=Is[--Es],Is[Es]=null}var us=null,as=null,Tn=!1,no=null;function YS(t,e){var n=Fs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function V5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,us=t,as=XA(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,us=t,as=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ju!==null?{id:Ba,overflow:ba}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,us=t,as=null,!0):!1;default:return!1}}function o2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function a2(t){if(Tn){var e=as;if(e){var n=e;if(!V5(t,e)){if(o2(t))throw Error(nt(418));e=XA(n.nextSibling);var r=us;e&&V5(t,e)?YS(r,n):(t.flags=t.flags&-4097|2,Tn=!1,us=t)}}else{if(o2(t))throw Error(nt(418));t.flags=t.flags&-4097|2,Tn=!1,us=t}}}function K5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;us=t}function lm(t){if(t!==us)return!1;if(!Tn)return K5(t),Tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!n2(t.type,t.memoizedProps)),e&&(e=as)){if(o2(t))throw XS(),Error(nt(418));for(;e;)YS(t,e),e=XA(e.nextSibling)}if(K5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){as=XA(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}as=null}}else as=us?XA(t.stateNode.nextSibling):null;return!0}function XS(){for(var t=as;t;)t=XA(t.nextSibling)}function Dd(){as=us=null,Tn=!1}function mb(t){no===null?no=[t]:no.push(t)}var vR=Ma.ReactCurrentBatchConfig;function $h(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(nt(309));var r=n.stateNode}if(!r)throw Error(nt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(nt(284));if(!n._owner)throw Error(nt(290,t))}return t}function um(t,e){throw t=Object.prototype.toString.call(e),Error(nt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z5(t){var e=t._init;return e(t._payload)}function ZS(t){function e(y,w){if(t){var x=y.deletions;x===null?(y.deletions=[w],y.flags|=16):x.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=nl(y,w),y.index=0,y.sibling=null,y}function s(y,w,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<w?(y.flags|=2,w):x):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,x,U){return w===null||w.tag!==6?(w=U1(x,y.mode,U),w.return=y,w):(w=i(w,x),w.return=y,w)}function A(y,w,x,U){var P=x.type;return P===ud?u(y,w,x.props.children,U,x.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===NA&&z5(P)===w.type)?(U=i(w,x.props),U.ref=$h(y,w,x),U.return=y,U):(U=a0(x.type,x.key,x.props,null,y.mode,U),U.ref=$h(y,w,x),U.return=y,U)}function l(y,w,x,U){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Q1(x,y.mode,U),w.return=y,w):(w=i(w,x.children||[]),w.return=y,w)}function u(y,w,x,U,P){return w===null||w.tag!==7?(w=Fu(x,y.mode,U,P),w.return=y,w):(w=i(w,x),w.return=y,w)}function c(y,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=U1(""+w,y.mode,x),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zg:return x=a0(w.type,w.key,w.props,null,y.mode,x),x.ref=$h(y,null,w),x.return=y,x;case ld:return w=Q1(w,y.mode,x),w.return=y,w;case NA:var U=w._init;return c(y,U(w._payload),x)}if(ff(w)||Kh(w))return w=Fu(w,y.mode,x,null),w.return=y,w;um(y,w)}return null}function p(y,w,x,U){var P=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:a(y,w,""+x,U);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zg:return x.key===P?A(y,w,x,U):null;case ld:return x.key===P?l(y,w,x,U):null;case NA:return P=x._init,p(y,w,P(x._payload),U)}if(ff(x)||Kh(x))return P!==null?null:u(y,w,x,U,null);um(y,x)}return null}function g(y,w,x,U,P){if(typeof U=="string"&&U!==""||typeof U=="number")return y=y.get(x)||null,a(w,y,""+U,P);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Zg:return y=y.get(U.key===null?x:U.key)||null,A(w,y,U,P);case ld:return y=y.get(U.key===null?x:U.key)||null,l(w,y,U,P);case NA:var M=U._init;return g(y,w,x,M(U._payload),P)}if(ff(U)||Kh(U))return y=y.get(x)||null,u(w,y,U,P,null);um(w,U)}return null}function v(y,w,x,U){for(var P=null,M=null,S=w,_=w=0,N=null;S!==null&&_<x.length;_++){S.index>_?(N=S,S=null):N=S.sibling;var O=p(y,S,x[_],U);if(O===null){S===null&&(S=N);break}t&&S&&O.alternate===null&&e(y,S),w=s(O,w,_),M===null?P=O:M.sibling=O,M=O,S=N}if(_===x.length)return n(y,S),Tn&&au(y,_),P;if(S===null){for(;_<x.length;_++)S=c(y,x[_],U),S!==null&&(w=s(S,w,_),M===null?P=S:M.sibling=S,M=S);return Tn&&au(y,_),P}for(S=r(y,S);_<x.length;_++)N=g(S,y,_,x[_],U),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?_:N.key),w=s(N,w,_),M===null?P=N:M.sibling=N,M=N);return t&&S.forEach(function(I){return e(y,I)}),Tn&&au(y,_),P}function b(y,w,x,U){var P=Kh(x);if(typeof P!="function")throw Error(nt(150));if(x=P.call(x),x==null)throw Error(nt(151));for(var M=P=null,S=w,_=w=0,N=null,O=x.next();S!==null&&!O.done;_++,O=x.next()){S.index>_?(N=S,S=null):N=S.sibling;var I=p(y,S,O.value,U);if(I===null){S===null&&(S=N);break}t&&S&&I.alternate===null&&e(y,S),w=s(I,w,_),M===null?P=I:M.sibling=I,M=I,S=N}if(O.done)return n(y,S),Tn&&au(y,_),P;if(S===null){for(;!O.done;_++,O=x.next())O=c(y,O.value,U),O!==null&&(w=s(O,w,_),M===null?P=O:M.sibling=O,M=O);return Tn&&au(y,_),P}for(S=r(y,S);!O.done;_++,O=x.next())O=g(S,y,_,O.value,U),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?_:O.key),w=s(O,w,_),M===null?P=O:M.sibling=O,M=O);return t&&S.forEach(function(T){return e(y,T)}),Tn&&au(y,_),P}function E(y,w,x,U){if(typeof x=="object"&&x!==null&&x.type===ud&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zg:e:{for(var P=x.key,M=w;M!==null;){if(M.key===P){if(P=x.type,P===ud){if(M.tag===7){n(y,M.sibling),w=i(M,x.props.children),w.return=y,y=w;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===NA&&z5(P)===M.type){n(y,M.sibling),w=i(M,x.props),w.ref=$h(y,M,x),w.return=y,y=w;break e}n(y,M);break}else e(y,M);M=M.sibling}x.type===ud?(w=Fu(x.props.children,y.mode,U,x.key),w.return=y,y=w):(U=a0(x.type,x.key,x.props,null,y.mode,U),U.ref=$h(y,w,x),U.return=y,y=U)}return o(y);case ld:e:{for(M=x.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(y,w.sibling),w=i(w,x.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Q1(x,y.mode,U),w.return=y,y=w}return o(y);case NA:return M=x._init,E(y,w,M(x._payload),U)}if(ff(x))return v(y,w,x,U);if(Kh(x))return b(y,w,x,U);um(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,x),w.return=y,y=w):(n(y,w),w=U1(x,y.mode,U),w.return=y,y=w),o(y)):n(y,w)}return E}var Od=ZS(!0),eF=ZS(!1),D0=El(null),O0=null,vd=null,vb=null;function wb(){vb=vd=O0=null}function yb(t){var e=D0.current;En(D0),t._currentValue=e}function A2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ed(t,e){O0=t,vb=vd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ji=!0),t.firstContext=null)}function Ls(t){var e=t._currentValue;if(vb!==t)if(t={context:t,memoizedValue:e,next:null},vd===null){if(O0===null)throw Error(nt(308));vd=t,O0.dependencies={lanes:0,firstContext:t}}else vd=vd.next=t;return e}var Bu=null;function Bb(t){Bu===null?Bu=[t]:Bu.push(t)}function tF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ua(t,r)}function Ua(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var UA=!1;function bb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ZA(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ua(t,n)}return i=r.interleaved,i===null?(e.next=e,Bb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ua(t,n)}function t0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ab(t,n)}}function G5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function M0(t,e,n,r){var i=t.updateQueue;UA=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var A=a,l=A.next;A.next=null,o===null?s=l:o.next=l,o=A;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=A))}if(s!==null){var c=i.baseState;o=0,u=l=A=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(p=e,g=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){c=v.call(g,c,p);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(g,c,p):v,p==null)break e;c=Dn({},c,p);break e;case 2:UA=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=g,A=c):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(A=c),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vu|=o,t.lanes=o,t.memoizedState=c}}function W5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(nt(191,i));i.call(r)}}}var rg={},Mo=El(rg),mp=El(rg),vp=El(rg);function bu(t){if(t===rg)throw Error(nt(174));return t}function xb(t,e){switch(yn(vp,e),yn(mp,t),yn(Mo,rg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hy(e,t)}En(Mo),yn(Mo,e)}function Md(){En(Mo),En(mp),En(vp)}function rF(t){bu(vp.current);var e=bu(Mo.current),n=Hy(e,t.type);e!==n&&(yn(mp,t),yn(Mo,n))}function _b(t){mp.current===t&&(En(Mo),En(mp))}var Qn=El(0);function j0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var E1=[];function Cb(){for(var t=0;t<E1.length;t++)E1[t]._workInProgressVersionPrimary=null;E1.length=0}var n0=Ma.ReactCurrentDispatcher,S1=Ma.ReactCurrentBatchConfig,Hu=0,Ln=null,Br=null,kr=null,H0=!1,Pf=!1,wp=0,wR=0;function Zr(){throw Error(nt(321))}function Ib(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ao(t[n],e[n]))return!1;return!0}function Eb(t,e,n,r,i,s){if(Hu=s,Ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,n0.current=t===null||t.memoizedState===null?xR:_R,t=n(r,i),Pf){s=0;do{if(Pf=!1,wp=0,25<=s)throw Error(nt(301));s+=1,kr=Br=null,e.updateQueue=null,n0.current=CR,t=n(r,i)}while(Pf)}if(n0.current=V0,e=Br!==null&&Br.next!==null,Hu=0,kr=Br=Ln=null,H0=!1,e)throw Error(nt(300));return t}function Sb(){var t=wp!==0;return wp=0,t}function Fo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Ln.memoizedState=kr=t:kr=kr.next=t,kr}function Ps(){if(Br===null){var t=Ln.alternate;t=t!==null?t.memoizedState:null}else t=Br.next;var e=kr===null?Ln.memoizedState:kr.next;if(e!==null)kr=e,Br=t;else{if(t===null)throw Error(nt(310));Br=t,t={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},kr===null?Ln.memoizedState=kr=t:kr=kr.next=t}return kr}function yp(t,e){return typeof e=="function"?e(t):e}function F1(t){var e=Ps(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=Br,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,A=null,l=s;do{var u=l.lane;if((Hu&u)===u)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var c={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(a=A=c,o=r):A=A.next=c,Ln.lanes|=u,Vu|=u}l=l.next}while(l!==null&&l!==s);A===null?o=r:A.next=a,ao(r,e.memoizedState)||(ji=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=A,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ln.lanes|=s,Vu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function T1(t){var e=Ps(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ao(s,e.memoizedState)||(ji=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iF(){}function sF(t,e){var n=Ln,r=Ps(),i=e(),s=!ao(r.memoizedState,i);if(s&&(r.memoizedState=i,ji=!0),r=r.queue,Fb(AF.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kr!==null&&kr.memoizedState.tag&1){if(n.flags|=2048,Bp(9,aF.bind(null,n,r,i,e),void 0,null),Ur===null)throw Error(nt(349));Hu&30||oF(n,e,i)}return i}function oF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ln.updateQueue,e===null?(e={lastEffect:null,stores:null},Ln.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aF(t,e,n,r){e.value=n,e.getSnapshot=r,lF(e)&&uF(t)}function AF(t,e,n){return n(function(){lF(e)&&uF(t)})}function lF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ao(t,n)}catch{return!0}}function uF(t){var e=Ua(t,1);e!==null&&so(e,t,1,-1)}function q5(t){var e=Fo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:t},e.queue=t,t=t.dispatch=bR.bind(null,Ln,t),[e.memoizedState,t]}function Bp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ln.updateQueue,e===null?(e={lastEffect:null,stores:null},Ln.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cF(){return Ps().memoizedState}function r0(t,e,n,r){var i=Fo();Ln.flags|=t,i.memoizedState=Bp(1|e,n,void 0,r===void 0?null:r)}function Pv(t,e,n,r){var i=Ps();r=r===void 0?null:r;var s=void 0;if(Br!==null){var o=Br.memoizedState;if(s=o.destroy,r!==null&&Ib(r,o.deps)){i.memoizedState=Bp(e,n,s,r);return}}Ln.flags|=t,i.memoizedState=Bp(1|e,n,s,r)}function $5(t,e){return r0(8390656,8,t,e)}function Fb(t,e){return Pv(2048,8,t,e)}function dF(t,e){return Pv(4,2,t,e)}function hF(t,e){return Pv(4,4,t,e)}function fF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pF(t,e,n){return n=n!=null?n.concat([t]):null,Pv(4,4,fF.bind(null,e,t),n)}function Tb(){}function gF(t,e){var n=Ps();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ib(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mF(t,e){var n=Ps();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ib(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vF(t,e,n){return Hu&21?(ao(n,e)||(n=xS(),Ln.lanes|=n,Vu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ji=!0),t.memoizedState=n)}function yR(t,e){var n=un;un=n!==0&&4>n?n:4,t(!0);var r=S1.transition;S1.transition={};try{t(!1),e()}finally{un=n,S1.transition=r}}function wF(){return Ps().memoizedState}function BR(t,e,n){var r=tl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yF(t))BF(e,n);else if(n=tF(t,e,n,r),n!==null){var i=xi();so(n,t,r,i),bF(n,e,r)}}function bR(t,e,n){var r=tl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yF(t))BF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ao(a,o)){var A=e.interleaved;A===null?(i.next=i,Bb(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}n=tF(t,e,i,r),n!==null&&(i=xi(),so(n,t,r,i),bF(n,e,r))}}function yF(t){var e=t.alternate;return t===Ln||e!==null&&e===Ln}function BF(t,e){Pf=H0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ab(t,n)}}var V0={readContext:Ls,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},xR={readContext:Ls,useCallback:function(t,e){return Fo().memoizedState=[t,e===void 0?null:e],t},useContext:Ls,useEffect:$5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,r0(4194308,4,fF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return r0(4194308,4,t,e)},useInsertionEffect:function(t,e){return r0(4,2,t,e)},useMemo:function(t,e){var n=Fo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BR.bind(null,Ln,t),[r.memoizedState,t]},useRef:function(t){var e=Fo();return t={current:t},e.memoizedState=t},useState:q5,useDebugValue:Tb,useDeferredValue:function(t){return Fo().memoizedState=t},useTransition:function(){var t=q5(!1),e=t[0];return t=yR.bind(null,t[1]),Fo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ln,i=Fo();if(Tn){if(n===void 0)throw Error(nt(407));n=n()}else{if(n=e(),Ur===null)throw Error(nt(349));Hu&30||oF(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$5(AF.bind(null,r,s,t),[t]),r.flags|=2048,Bp(9,aF.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Fo(),e=Ur.identifierPrefix;if(Tn){var n=ba,r=Ba;n=(r&~(1<<32-io(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_R={readContext:Ls,useCallback:gF,useContext:Ls,useEffect:Fb,useImperativeHandle:pF,useInsertionEffect:dF,useLayoutEffect:hF,useMemo:mF,useReducer:F1,useRef:cF,useState:function(){return F1(yp)},useDebugValue:Tb,useDeferredValue:function(t){var e=Ps();return vF(e,Br.memoizedState,t)},useTransition:function(){var t=F1(yp)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:iF,useSyncExternalStore:sF,useId:wF,unstable_isNewReconciler:!1},CR={readContext:Ls,useCallback:gF,useContext:Ls,useEffect:Fb,useImperativeHandle:pF,useInsertionEffect:dF,useLayoutEffect:hF,useMemo:mF,useReducer:T1,useRef:cF,useState:function(){return T1(yp)},useDebugValue:Tb,useDeferredValue:function(t){var e=Ps();return Br===null?e.memoizedState=t:vF(e,Br.memoizedState,t)},useTransition:function(){var t=T1(yp)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:iF,useSyncExternalStore:sF,useId:wF,unstable_isNewReconciler:!1};function Zs(t,e){if(t&&t.defaultProps){e=Dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function l2(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rv={isMounted:function(t){return(t=t._reactInternals)?sc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xi(),i=tl(t),s=Sa(r,i);s.payload=e,n!=null&&(s.callback=n),e=ZA(t,s,i),e!==null&&(so(e,t,i,r),t0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xi(),i=tl(t),s=Sa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ZA(t,s,i),e!==null&&(so(e,t,i,r),t0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xi(),r=tl(t),i=Sa(n,r);i.tag=2,e!=null&&(i.callback=e),e=ZA(t,i,r),e!==null&&(so(e,t,r,n),t0(e,t,r))}};function J5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hp(n,r)||!hp(i,s):!0}function xF(t,e,n){var r=!1,i=cl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ls(s):(i=Gi(e)?Mu:ui.current,r=e.contextTypes,s=(r=r!=null)?Rd(t,i):cl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Y5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rv.enqueueReplaceState(e,e.state,null)}function u2(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ls(s):(s=Gi(e)?Mu:ui.current,i.context=Rd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(l2(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rv.enqueueReplaceState(i,i.state,null),M0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jd(t,e){try{var n="",r=e;do n+=ZL(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function k1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function c2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IR=typeof WeakMap=="function"?WeakMap:Map;function _F(t,e,n){n=Sa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){z0||(z0=!0,B2=r),c2(t,e)},n}function CF(t,e,n){n=Sa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){c2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){c2(t,e),typeof r!="function"&&(el===null?el=new Set([this]):el.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function X5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MR.bind(null,t,e,n),e.then(t,t))}function Z5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sa(-1,1),e.tag=2,ZA(n,e,1))),n.lanes|=1),t)}var ER=Ma.ReactCurrentOwner,ji=!1;function wi(t,e,n,r){e.child=t===null?eF(e,null,n,r):Od(e,t.child,n,r)}function tC(t,e,n,r,i){n=n.render;var s=e.ref;return Ed(e,i),r=Eb(t,e,n,r,s,i),n=Sb(),t!==null&&!ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qa(t,e,i)):(Tn&&n&&pb(e),e.flags|=1,wi(t,e,r,i),e.child)}function nC(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Db(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,IF(t,e,s,r,i)):(t=a0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hp,n(o,r)&&t.ref===e.ref)return Qa(t,e,i)}return e.flags|=1,t=nl(s,r),t.ref=e.ref,t.return=e,e.child=t}function IF(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hp(s,r)&&t.ref===e.ref)if(ji=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ji=!0);else return e.lanes=t.lanes,Qa(t,e,i)}return d2(t,e,n,r,i)}function EF(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(yd,is),is|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn(yd,is),is|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yn(yd,is),is|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yn(yd,is),is|=r;return wi(t,e,i,n),e.child}function SF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function d2(t,e,n,r,i){var s=Gi(n)?Mu:ui.current;return s=Rd(e,s),Ed(e,i),n=Eb(t,e,n,r,s,i),r=Sb(),t!==null&&!ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qa(t,e,i)):(Tn&&r&&pb(e),e.flags|=1,wi(t,e,n,i),e.child)}function rC(t,e,n,r,i){if(Gi(n)){var s=!0;L0(e)}else s=!1;if(Ed(e,i),e.stateNode===null)i0(t,e),xF(e,n,r),u2(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var A=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Ls(l):(l=Gi(n)?Mu:ui.current,l=Rd(e,l));var u=n.getDerivedStateFromProps,c=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||A!==l)&&Y5(e,o,r,l),UA=!1;var p=e.memoizedState;o.state=p,M0(e,r,o,i),A=e.memoizedState,a!==r||p!==A||zi.current||UA?(typeof u=="function"&&(l2(e,n,u,r),A=e.memoizedState),(a=UA||J5(e,n,a,r,p,A,l))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nF(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Zs(e.type,a),o.props=l,c=e.pendingProps,p=o.context,A=n.contextType,typeof A=="object"&&A!==null?A=Ls(A):(A=Gi(n)?Mu:ui.current,A=Rd(e,A));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||p!==A)&&Y5(e,o,r,A),UA=!1,p=e.memoizedState,o.state=p,M0(e,r,o,i);var v=e.memoizedState;a!==c||p!==v||zi.current||UA?(typeof g=="function"&&(l2(e,n,g,r),v=e.memoizedState),(l=UA||J5(e,n,l,r,p,v,A)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,A),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,A)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=A,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return h2(t,e,n,r,s,i)}function h2(t,e,n,r,i,s){SF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&H5(e,n,!1),Qa(t,e,s);r=e.stateNode,ER.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Od(e,t.child,null,s),e.child=Od(e,null,a,s)):wi(t,e,a,s),e.memoizedState=r.state,i&&H5(e,n,!0),e.child}function FF(t){var e=t.stateNode;e.pendingContext?j5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j5(t,e.context,!1),xb(t,e.containerInfo)}function iC(t,e,n,r,i){return Dd(),mb(i),e.flags|=256,wi(t,e,n,r),e.child}var f2={dehydrated:null,treeContext:null,retryLane:0};function p2(t){return{baseLanes:t,cachePool:null,transitions:null}}function TF(t,e,n){var r=e.pendingProps,i=Qn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yn(Qn,i&1),t===null)return a2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mv(o,r,0,null),t=Fu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=p2(n),e.memoizedState=f2,t):kb(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var A={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=A,e.deletions=null):(r=nl(i,A),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=nl(a,s):(s=Fu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?p2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=f2,r}return s=t.child,t=s.sibling,r=nl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kb(t,e){return e=Mv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cm(t,e,n,r){return r!==null&&mb(r),Od(e,t.child,null,n),t=kb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=k1(Error(nt(422))),cm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Mv({mode:"visible",children:r.children},i,0,null),s=Fu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Od(e,t.child,null,o),e.child.memoizedState=p2(o),e.memoizedState=f2,s);if(!(e.mode&1))return cm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(nt(419)),r=k1(s,r,void 0),cm(t,e,o,r)}if(a=(o&t.childLanes)!==0,ji||a){if(r=Ur,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ua(t,i),so(r,t,i,-1))}return Rb(),r=k1(Error(nt(421))),cm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,as=XA(i.nextSibling),us=e,Tn=!0,no=null,t!==null&&(Is[Es++]=Ba,Is[Es++]=ba,Is[Es++]=ju,Ba=t.id,ba=t.overflow,ju=e),e=kb(e,r.children),e.flags|=4096,e)}function sC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),A2(t.return,e,n)}function N1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kF(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wi(t,e,r.children,n),r=Qn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sC(t,n,e);else if(t.tag===19)sC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(Qn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&j0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),N1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&j0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}N1(e,!0,n,null,s);break;case"together":N1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function i0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(nt(153));if(e.child!==null){for(t=e.child,n=nl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FR(t,e,n){switch(e.tag){case 3:FF(e),Dd();break;case 5:rF(e);break;case 1:Gi(e.type)&&L0(e);break;case 4:xb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yn(D0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(Qn,Qn.current&1),e.flags|=128,null):n&e.child.childLanes?TF(t,e,n):(yn(Qn,Qn.current&1),t=Qa(t,e,n),t!==null?t.sibling:null);yn(Qn,Qn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yn(Qn,Qn.current),r)break;return null;case 22:case 23:return e.lanes=0,EF(t,e,n)}return Qa(t,e,n)}var NF,g2,UF,QF;NF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};g2=function(){};UF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bu(Mo.current);var s=null;switch(n){case"input":i=Dy(t,i),r=Dy(t,r),s=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),s=[];break;case"textarea":i=jy(t,i),r=jy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=U0)}Vy(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(op.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var A=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&A!==a&&(A!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||A&&A.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in A)A.hasOwnProperty(o)&&a[o]!==A[o]&&(n||(n={}),n[o]=A[o])}else n||(s||(s=[]),s.push(l,n)),n=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,a=a?a.__html:void 0,A!=null&&a!==A&&(s=s||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(op.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&_n("scroll",t),s||a===A||(s=[])):(s=s||[]).push(l,A))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};QF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jh(t,e){if(!Tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ei(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TR(t,e,n){var r=e.pendingProps;switch(gb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(e),null;case 1:return Gi(e.type)&&Q0(),ei(e),null;case 3:return r=e.stateNode,Md(),En(zi),En(ui),Cb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,no!==null&&(_2(no),no=null))),g2(t,e),ei(e),null;case 5:_b(e);var i=bu(vp.current);if(n=e.type,t!==null&&e.stateNode!=null)UF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(nt(166));return ei(e),null}if(t=bu(Mo.current),lm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[To]=e,r[gp]=s,t=(e.mode&1)!==0,n){case"dialog":_n("cancel",r),_n("close",r);break;case"iframe":case"object":case"embed":_n("load",r);break;case"video":case"audio":for(i=0;i<gf.length;i++)_n(gf[i],r);break;case"source":_n("error",r);break;case"img":case"image":case"link":_n("error",r),_n("load",r);break;case"details":_n("toggle",r);break;case"input":f5(r,s),_n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_n("invalid",r);break;case"textarea":g5(r,s),_n("invalid",r)}Vy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Am(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Am(r.textContent,a,t),i=["children",""+a]):op.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_n("scroll",r)}switch(n){case"input":em(r),p5(r,s,!0);break;case"textarea":em(r),m5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=U0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[To]=e,t[gp]=r,NF(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ky(n,r),n){case"dialog":_n("cancel",t),_n("close",t),i=r;break;case"iframe":case"object":case"embed":_n("load",t),i=r;break;case"video":case"audio":for(i=0;i<gf.length;i++)_n(gf[i],t);i=r;break;case"source":_n("error",t),i=r;break;case"img":case"image":case"link":_n("error",t),_n("load",t),i=r;break;case"details":_n("toggle",t),i=r;break;case"input":f5(t,r),i=Dy(t,r),_n("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),_n("invalid",t);break;case"textarea":g5(t,r),i=jy(t,r),_n("invalid",t);break;default:i=r}Vy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var A=a[s];s==="style"?cS(t,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&lS(t,A)):s==="children"?typeof A=="string"?(n!=="textarea"||A!=="")&&ap(t,A):typeof A=="number"&&ap(t,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(op.hasOwnProperty(s)?A!=null&&s==="onScroll"&&_n("scroll",t):A!=null&&tb(t,s,A,o))}switch(n){case"input":em(t),p5(t,r,!1);break;case"textarea":em(t),m5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ul(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xd(t,!!r.multiple,s,!1):r.defaultValue!=null&&xd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=U0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ei(e),null;case 6:if(t&&e.stateNode!=null)QF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(nt(166));if(n=bu(vp.current),bu(Mo.current),lm(e)){if(r=e.stateNode,n=e.memoizedProps,r[To]=e,(s=r.nodeValue!==n)&&(t=us,t!==null))switch(t.tag){case 3:Am(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Am(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[To]=e,e.stateNode=r}return ei(e),null;case 13:if(En(Qn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tn&&as!==null&&e.mode&1&&!(e.flags&128))XS(),Dd(),e.flags|=98560,s=!1;else if(s=lm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(nt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(nt(317));s[To]=e}else Dd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ei(e),s=!1}else no!==null&&(_2(no),no=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qn.current&1?_r===0&&(_r=3):Rb())),e.updateQueue!==null&&(e.flags|=4),ei(e),null);case 4:return Md(),g2(t,e),t===null&&fp(e.stateNode.containerInfo),ei(e),null;case 10:return yb(e.type._context),ei(e),null;case 17:return Gi(e.type)&&Q0(),ei(e),null;case 19:if(En(Qn),s=e.memoizedState,s===null)return ei(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jh(s,!1);else{if(_r!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=j0(t),o!==null){for(e.flags|=128,Jh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(Qn,Qn.current&1|2),e.child}t=t.sibling}s.tail!==null&&nr()>Hd&&(e.flags|=128,r=!0,Jh(s,!1),e.lanes=4194304)}else{if(!r)if(t=j0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tn)return ei(e),null}else 2*nr()-s.renderingStartTime>Hd&&n!==1073741824&&(e.flags|=128,r=!0,Jh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nr(),e.sibling=null,n=Qn.current,yn(Qn,r?n&1|2:n&1),e):(ei(e),null);case 22:case 23:return Pb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?is&1073741824&&(ei(e),e.subtreeFlags&6&&(e.flags|=8192)):ei(e),null;case 24:return null;case 25:return null}throw Error(nt(156,e.tag))}function kR(t,e){switch(gb(e),e.tag){case 1:return Gi(e.type)&&Q0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Md(),En(zi),En(ui),Cb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _b(e),null;case 13:if(En(Qn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(nt(340));Dd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return En(Qn),null;case 4:return Md(),null;case 10:return yb(e.type._context),null;case 22:case 23:return Pb(),null;case 24:return null;default:return null}}var dm=!1,Ai=!1,NR=typeof WeakSet=="function"?WeakSet:Set,yt=null;function wd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Kn(t,e,r)}else n.current=null}function m2(t,e,n){try{n()}catch(r){Kn(t,e,r)}}var oC=!1;function UR(t,e){if(e2=T0,t=OS(),fb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,A=-1,l=0,u=0,c=t,p=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(a=o+i),c!==s||r!==0&&c.nodeType!==3||(A=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)p=c,c=g;for(;;){if(c===t)break t;if(p===n&&++l===i&&(a=o),p===s&&++u===r&&(A=o),(g=c.nextSibling)!==null)break;c=p,p=c.parentNode}c=g}n=a===-1||A===-1?null:{start:a,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(t2={focusedElem:t,selectionRange:n},T0=!1,yt=e;yt!==null;)if(e=yt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,yt=t;else for(;yt!==null;){e=yt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,E=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?b:Zs(e.type,b),E);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(U){Kn(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,yt=t;break}yt=e.return}return v=oC,oC=!1,v}function Rf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&m2(e,n,s)}i=i.next}while(i!==r)}}function Dv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function v2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LF(t){var e=t.alternate;e!==null&&(t.alternate=null,LF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[To],delete e[gp],delete e[i2],delete e[pR],delete e[gR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PF(t){return t.tag===5||t.tag===3||t.tag===4}function aC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function w2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=U0));else if(r!==4&&(t=t.child,t!==null))for(w2(t,e,n),t=t.sibling;t!==null;)w2(t,e,n),t=t.sibling}function y2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(y2(t,e,n),t=t.sibling;t!==null;)y2(t,e,n),t=t.sibling}var Or=null,to=!1;function xA(t,e,n){for(n=n.child;n!==null;)RF(t,e,n),n=n.sibling}function RF(t,e,n){if(Oo&&typeof Oo.onCommitFiberUnmount=="function")try{Oo.onCommitFiberUnmount(Tv,n)}catch{}switch(n.tag){case 5:Ai||wd(n,e);case 6:var r=Or,i=to;Or=null,xA(t,e,n),Or=r,to=i,Or!==null&&(to?(t=Or,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Or.removeChild(n.stateNode));break;case 18:Or!==null&&(to?(t=Or,n=n.stateNode,t.nodeType===8?C1(t.parentNode,n):t.nodeType===1&&C1(t,n),cp(t)):C1(Or,n.stateNode));break;case 4:r=Or,i=to,Or=n.stateNode.containerInfo,to=!0,xA(t,e,n),Or=r,to=i;break;case 0:case 11:case 14:case 15:if(!Ai&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&m2(n,e,o),i=i.next}while(i!==r)}xA(t,e,n);break;case 1:if(!Ai&&(wd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Kn(n,e,a)}xA(t,e,n);break;case 21:xA(t,e,n);break;case 22:n.mode&1?(Ai=(r=Ai)||n.memoizedState!==null,xA(t,e,n),Ai=r):xA(t,e,n);break;default:xA(t,e,n)}}function AC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NR),e.forEach(function(r){var i=HR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $s(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Or=a.stateNode,to=!1;break e;case 3:Or=a.stateNode.containerInfo,to=!0;break e;case 4:Or=a.stateNode.containerInfo,to=!0;break e}a=a.return}if(Or===null)throw Error(nt(160));RF(s,o,i),Or=null,to=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){Kn(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DF(e,t),e=e.sibling}function DF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($s(e,t),Io(t),r&4){try{Rf(3,t,t.return),Dv(3,t)}catch(b){Kn(t,t.return,b)}try{Rf(5,t,t.return)}catch(b){Kn(t,t.return,b)}}break;case 1:$s(e,t),Io(t),r&512&&n!==null&&wd(n,n.return);break;case 5:if($s(e,t),Io(t),r&512&&n!==null&&wd(n,n.return),t.flags&32){var i=t.stateNode;try{ap(i,"")}catch(b){Kn(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oS(i,s),Ky(a,o);var l=Ky(a,s);for(o=0;o<A.length;o+=2){var u=A[o],c=A[o+1];u==="style"?cS(i,c):u==="dangerouslySetInnerHTML"?lS(i,c):u==="children"?ap(i,c):tb(i,u,c,l)}switch(a){case"input":Oy(i,s);break;case"textarea":aS(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?xd(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?xd(i,!!s.multiple,s.defaultValue,!0):xd(i,!!s.multiple,s.multiple?[]:"",!1))}i[gp]=s}catch(b){Kn(t,t.return,b)}}break;case 6:if($s(e,t),Io(t),r&4){if(t.stateNode===null)throw Error(nt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Kn(t,t.return,b)}}break;case 3:if($s(e,t),Io(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cp(e.containerInfo)}catch(b){Kn(t,t.return,b)}break;case 4:$s(e,t),Io(t);break;case 13:$s(e,t),Io(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qb=nr())),r&4&&AC(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ai=(l=Ai)||u,$s(e,t),Ai=l):$s(e,t),Io(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(yt=t,u=t.child;u!==null;){for(c=yt=u;yt!==null;){switch(p=yt,g=p.child,p.tag){case 0:case 11:case 14:case 15:Rf(4,p,p.return);break;case 1:wd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Kn(r,n,b)}}break;case 5:wd(p,p.return);break;case 22:if(p.memoizedState!==null){uC(c);continue}}g!==null?(g.return=p,yt=g):uC(c)}u=u.sibling}e:for(u=null,c=t;;){if(c.tag===5){if(u===null){u=c;try{i=c.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,A=c.memoizedProps.style,o=A!=null&&A.hasOwnProperty("display")?A.display:null,a.style.display=uS("display",o))}catch(b){Kn(t,t.return,b)}}}else if(c.tag===6){if(u===null)try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(b){Kn(t,t.return,b)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;u===c&&(u=null),c=c.return}u===c&&(u=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:$s(e,t),Io(t),r&4&&AC(t);break;case 21:break;default:$s(e,t),Io(t)}}function Io(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PF(n)){var r=n;break e}n=n.return}throw Error(nt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ap(i,""),r.flags&=-33);var s=aC(t);y2(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=aC(t);w2(t,a,o);break;default:throw Error(nt(161))}}catch(A){Kn(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QR(t,e,n){yt=t,OF(t)}function OF(t,e,n){for(var r=(t.mode&1)!==0;yt!==null;){var i=yt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dm;if(!o){var a=i.alternate,A=a!==null&&a.memoizedState!==null||Ai;a=dm;var l=Ai;if(dm=o,(Ai=A)&&!l)for(yt=i;yt!==null;)o=yt,A=o.child,o.tag===22&&o.memoizedState!==null?cC(i):A!==null?(A.return=o,yt=A):cC(i);for(;s!==null;)yt=s,OF(s),s=s.sibling;yt=i,dm=a,Ai=l}lC(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,yt=s):lC(t)}}function lC(t){for(;yt!==null;){var e=yt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ai||Dv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ai)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&W5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}W5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&n.focus();break;case"img":A.src&&(n.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var c=u.dehydrated;c!==null&&cp(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}Ai||e.flags&512&&v2(e)}catch(p){Kn(e,e.return,p)}}if(e===t){yt=null;break}if(n=e.sibling,n!==null){n.return=e.return,yt=n;break}yt=e.return}}function uC(t){for(;yt!==null;){var e=yt;if(e===t){yt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,yt=n;break}yt=e.return}}function cC(t){for(;yt!==null;){var e=yt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dv(4,e)}catch(A){Kn(e,n,A)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(A){Kn(e,i,A)}}var s=e.return;try{v2(e)}catch(A){Kn(e,s,A)}break;case 5:var o=e.return;try{v2(e)}catch(A){Kn(e,o,A)}}}catch(A){Kn(e,e.return,A)}if(e===t){yt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,yt=a;break}yt=e.return}}var LR=Math.ceil,K0=Ma.ReactCurrentDispatcher,Nb=Ma.ReactCurrentOwner,Us=Ma.ReactCurrentBatchConfig,Yt=0,Ur=null,mr=null,zr=0,is=0,yd=El(0),_r=0,bp=null,Vu=0,Ov=0,Ub=0,Df=null,Mi=null,Qb=0,Hd=1/0,wa=null,z0=!1,B2=null,el=null,hm=!1,jA=null,G0=0,Of=0,b2=null,s0=-1,o0=0;function xi(){return Yt&6?nr():s0!==-1?s0:s0=nr()}function tl(t){return t.mode&1?Yt&2&&zr!==0?zr&-zr:vR.transition!==null?(o0===0&&(o0=xS()),o0):(t=un,t!==0||(t=window.event,t=t===void 0?16:TS(t.type)),t):1}function so(t,e,n,r){if(50<Of)throw Of=0,b2=null,Error(nt(185));eg(t,n,r),(!(Yt&2)||t!==Ur)&&(t===Ur&&(!(Yt&2)&&(Ov|=n),_r===4&&PA(t,zr)),Wi(t,r),n===1&&Yt===0&&!(e.mode&1)&&(Hd=nr()+500,Lv&&Sl()))}function Wi(t,e){var n=t.callbackNode;vP(t,e);var r=F0(t,t===Ur?zr:0);if(r===0)n!==null&&y5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&y5(n),e===1)t.tag===0?mR(dC.bind(null,t)):$S(dC.bind(null,t)),hR(function(){!(Yt&6)&&Sl()}),n=null;else{switch(_S(r)){case 1:n=ob;break;case 4:n=BS;break;case 16:n=S0;break;case 536870912:n=bS;break;default:n=S0}n=WF(n,MF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function MF(t,e){if(s0=-1,o0=0,Yt&6)throw Error(nt(327));var n=t.callbackNode;if(Sd()&&t.callbackNode!==n)return null;var r=F0(t,t===Ur?zr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=W0(t,r);else{e=r;var i=Yt;Yt|=2;var s=HF();(Ur!==t||zr!==e)&&(wa=null,Hd=nr()+500,Su(t,e));do try{DR();break}catch(a){jF(t,a)}while(!0);wb(),K0.current=s,Yt=i,mr!==null?e=0:(Ur=null,zr=0,e=_r)}if(e!==0){if(e===2&&(i=$y(t),i!==0&&(r=i,e=x2(t,i))),e===1)throw n=bp,Su(t,0),PA(t,r),Wi(t,nr()),n;if(e===6)PA(t,r);else{if(i=t.current.alternate,!(r&30)&&!PR(i)&&(e=W0(t,r),e===2&&(s=$y(t),s!==0&&(r=s,e=x2(t,s))),e===1))throw n=bp,Su(t,0),PA(t,r),Wi(t,nr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(nt(345));case 2:Au(t,Mi,wa);break;case 3:if(PA(t,r),(r&130023424)===r&&(e=Qb+500-nr(),10<e)){if(F0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=r2(Au.bind(null,t,Mi,wa),e);break}Au(t,Mi,wa);break;case 4:if(PA(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-io(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LR(r/1960))-r,10<r){t.timeoutHandle=r2(Au.bind(null,t,Mi,wa),r);break}Au(t,Mi,wa);break;case 5:Au(t,Mi,wa);break;default:throw Error(nt(329))}}}return Wi(t,nr()),t.callbackNode===n?MF.bind(null,t):null}function x2(t,e){var n=Df;return t.current.memoizedState.isDehydrated&&(Su(t,e).flags|=256),t=W0(t,e),t!==2&&(e=Mi,Mi=n,e!==null&&_2(e)),t}function _2(t){Mi===null?Mi=t:Mi.push.apply(Mi,t)}function PR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ao(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function PA(t,e){for(e&=~Ub,e&=~Ov,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-io(e),r=1<<n;t[n]=-1,e&=~r}}function dC(t){if(Yt&6)throw Error(nt(327));Sd();var e=F0(t,0);if(!(e&1))return Wi(t,nr()),null;var n=W0(t,e);if(t.tag!==0&&n===2){var r=$y(t);r!==0&&(e=r,n=x2(t,r))}if(n===1)throw n=bp,Su(t,0),PA(t,e),Wi(t,nr()),n;if(n===6)throw Error(nt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Au(t,Mi,wa),Wi(t,nr()),null}function Lb(t,e){var n=Yt;Yt|=1;try{return t(e)}finally{Yt=n,Yt===0&&(Hd=nr()+500,Lv&&Sl())}}function Ku(t){jA!==null&&jA.tag===0&&!(Yt&6)&&Sd();var e=Yt;Yt|=1;var n=Us.transition,r=un;try{if(Us.transition=null,un=1,t)return t()}finally{un=r,Us.transition=n,Yt=e,!(Yt&6)&&Sl()}}function Pb(){is=yd.current,En(yd)}function Su(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dR(n)),mr!==null)for(n=mr.return;n!==null;){var r=n;switch(gb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Q0();break;case 3:Md(),En(zi),En(ui),Cb();break;case 5:_b(r);break;case 4:Md();break;case 13:En(Qn);break;case 19:En(Qn);break;case 10:yb(r.type._context);break;case 22:case 23:Pb()}n=n.return}if(Ur=t,mr=t=nl(t.current,null),zr=is=e,_r=0,bp=null,Ub=Ov=Vu=0,Mi=Df=null,Bu!==null){for(e=0;e<Bu.length;e++)if(n=Bu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bu=null}return t}function jF(t,e){do{var n=mr;try{if(wb(),n0.current=V0,H0){for(var r=Ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}H0=!1}if(Hu=0,kr=Br=Ln=null,Pf=!1,wp=0,Nb.current=null,n===null||n.return===null){_r=1,bp=e,mr=null;break}e:{var s=t,o=n.return,a=n,A=e;if(e=zr,a.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,u=a,c=u.tag;if(!(u.mode&1)&&(c===0||c===11||c===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Z5(o);if(g!==null){g.flags&=-257,eC(g,o,a,s,e),g.mode&1&&X5(s,l,e),e=g,A=l;var v=e.updateQueue;if(v===null){var b=new Set;b.add(A),e.updateQueue=b}else v.add(A);break e}else{if(!(e&1)){X5(s,l,e),Rb();break e}A=Error(nt(426))}}else if(Tn&&a.mode&1){var E=Z5(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),eC(E,o,a,s,e),mb(jd(A,a));break e}}s=A=jd(A,a),_r!==4&&(_r=2),Df===null?Df=[s]:Df.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=_F(s,A,e);G5(s,y);break e;case 1:a=A;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(el===null||!el.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=CF(s,a,e);G5(s,U);break e}}s=s.return}while(s!==null)}KF(n)}catch(P){e=P,mr===n&&n!==null&&(mr=n=n.return);continue}break}while(!0)}function HF(){var t=K0.current;return K0.current=V0,t===null?V0:t}function Rb(){(_r===0||_r===3||_r===2)&&(_r=4),Ur===null||!(Vu&268435455)&&!(Ov&268435455)||PA(Ur,zr)}function W0(t,e){var n=Yt;Yt|=2;var r=HF();(Ur!==t||zr!==e)&&(wa=null,Su(t,e));do try{RR();break}catch(i){jF(t,i)}while(!0);if(wb(),Yt=n,K0.current=r,mr!==null)throw Error(nt(261));return Ur=null,zr=0,_r}function RR(){for(;mr!==null;)VF(mr)}function DR(){for(;mr!==null&&!lP();)VF(mr)}function VF(t){var e=GF(t.alternate,t,is);t.memoizedProps=t.pendingProps,e===null?KF(t):mr=e,Nb.current=null}function KF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kR(n,e),n!==null){n.flags&=32767,mr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_r=6,mr=null;return}}else if(n=TR(n,e,is),n!==null){mr=n;return}if(e=e.sibling,e!==null){mr=e;return}mr=e=t}while(e!==null);_r===0&&(_r=5)}function Au(t,e,n){var r=un,i=Us.transition;try{Us.transition=null,un=1,OR(t,e,n,r)}finally{Us.transition=i,un=r}return null}function OR(t,e,n,r){do Sd();while(jA!==null);if(Yt&6)throw Error(nt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(nt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wP(t,s),t===Ur&&(mr=Ur=null,zr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hm||(hm=!0,WF(S0,function(){return Sd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Us.transition,Us.transition=null;var o=un;un=1;var a=Yt;Yt|=4,Nb.current=null,UR(t,n),DF(n,t),sR(t2),T0=!!e2,t2=e2=null,t.current=n,QR(n),uP(),Yt=a,un=o,Us.transition=s}else t.current=n;if(hm&&(hm=!1,jA=t,G0=i),s=t.pendingLanes,s===0&&(el=null),hP(n.stateNode),Wi(t,nr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(z0)throw z0=!1,t=B2,B2=null,t;return G0&1&&t.tag!==0&&Sd(),s=t.pendingLanes,s&1?t===b2?Of++:(Of=0,b2=t):Of=0,Sl(),null}function Sd(){if(jA!==null){var t=_S(G0),e=Us.transition,n=un;try{if(Us.transition=null,un=16>t?16:t,jA===null)var r=!1;else{if(t=jA,jA=null,G0=0,Yt&6)throw Error(nt(331));var i=Yt;for(Yt|=4,yt=t.current;yt!==null;){var s=yt,o=s.child;if(yt.flags&16){var a=s.deletions;if(a!==null){for(var A=0;A<a.length;A++){var l=a[A];for(yt=l;yt!==null;){var u=yt;switch(u.tag){case 0:case 11:case 15:Rf(8,u,s)}var c=u.child;if(c!==null)c.return=u,yt=c;else for(;yt!==null;){u=yt;var p=u.sibling,g=u.return;if(LF(u),u===l){yt=null;break}if(p!==null){p.return=g,yt=p;break}yt=g}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}yt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,yt=o;else e:for(;yt!==null;){if(s=yt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,yt=y;break e}yt=s.return}}var w=t.current;for(yt=w;yt!==null;){o=yt;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,yt=x;else e:for(o=w;yt!==null;){if(a=yt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dv(9,a)}}catch(P){Kn(a,a.return,P)}if(a===o){yt=null;break e}var U=a.sibling;if(U!==null){U.return=a.return,yt=U;break e}yt=a.return}}if(Yt=i,Sl(),Oo&&typeof Oo.onPostCommitFiberRoot=="function")try{Oo.onPostCommitFiberRoot(Tv,t)}catch{}r=!0}return r}finally{un=n,Us.transition=e}}return!1}function hC(t,e,n){e=jd(n,e),e=_F(t,e,1),t=ZA(t,e,1),e=xi(),t!==null&&(eg(t,1,e),Wi(t,e))}function Kn(t,e,n){if(t.tag===3)hC(t,t,n);else for(;e!==null;){if(e.tag===3){hC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(el===null||!el.has(r))){t=jd(n,t),t=CF(e,t,1),e=ZA(e,t,1),t=xi(),e!==null&&(eg(e,1,t),Wi(e,t));break}}e=e.return}}function MR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xi(),t.pingedLanes|=t.suspendedLanes&n,Ur===t&&(zr&n)===n&&(_r===4||_r===3&&(zr&130023424)===zr&&500>nr()-Qb?Su(t,0):Ub|=n),Wi(t,e)}function zF(t,e){e===0&&(t.mode&1?(e=rm,rm<<=1,!(rm&130023424)&&(rm=4194304)):e=1);var n=xi();t=Ua(t,e),t!==null&&(eg(t,e,n),Wi(t,n))}function jR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zF(t,n)}function HR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(nt(314))}r!==null&&r.delete(e),zF(t,n)}var GF;GF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zi.current)ji=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ji=!1,FR(t,e,n);ji=!!(t.flags&131072)}else ji=!1,Tn&&e.flags&1048576&&JS(e,R0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;i0(t,e),t=e.pendingProps;var i=Rd(e,ui.current);Ed(e,n),i=Eb(null,e,r,t,i,n);var s=Sb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gi(r)?(s=!0,L0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bb(e),i.updater=Rv,e.stateNode=i,i._reactInternals=e,u2(e,r,t,n),e=h2(null,e,r,!0,s,n)):(e.tag=0,Tn&&s&&pb(e),wi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(i0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KR(r),t=Zs(r,t),i){case 0:e=d2(null,e,r,t,n);break e;case 1:e=rC(null,e,r,t,n);break e;case 11:e=tC(null,e,r,t,n);break e;case 14:e=nC(null,e,r,Zs(r.type,t),n);break e}throw Error(nt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),d2(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),rC(t,e,r,i,n);case 3:e:{if(FF(e),t===null)throw Error(nt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,nF(t,e),M0(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=jd(Error(nt(423)),e),e=iC(t,e,r,n,i);break e}else if(r!==i){i=jd(Error(nt(424)),e),e=iC(t,e,r,n,i);break e}else for(as=XA(e.stateNode.containerInfo.firstChild),us=e,Tn=!0,no=null,n=eF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dd(),r===i){e=Qa(t,e,n);break e}wi(t,e,r,n)}e=e.child}return e;case 5:return rF(e),t===null&&a2(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,n2(r,i)?o=null:s!==null&&n2(r,s)&&(e.flags|=32),SF(t,e),wi(t,e,o,n),e.child;case 6:return t===null&&a2(e),null;case 13:return TF(t,e,n);case 4:return xb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Od(e,null,r,n):wi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),tC(t,e,r,i,n);case 7:return wi(t,e,e.pendingProps,n),e.child;case 8:return wi(t,e,e.pendingProps.children,n),e.child;case 12:return wi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,yn(D0,r._currentValue),r._currentValue=o,s!==null)if(ao(s.value,o)){if(s.children===i.children&&!zi.current){e=Qa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var A=a.firstContext;A!==null;){if(A.context===r){if(s.tag===1){A=Sa(-1,n&-n),A.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?A.next=A:(A.next=u.next,u.next=A),l.pending=A}}s.lanes|=n,A=s.alternate,A!==null&&(A.lanes|=n),A2(s.return,n,e),a.lanes|=n;break}A=A.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(nt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),A2(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ed(e,n),i=Ls(i),r=r(i),e.flags|=1,wi(t,e,r,n),e.child;case 14:return r=e.type,i=Zs(r,e.pendingProps),i=Zs(r.type,i),nC(t,e,r,i,n);case 15:return IF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),i0(t,e),e.tag=1,Gi(r)?(t=!0,L0(e)):t=!1,Ed(e,n),xF(e,r,i),u2(e,r,i,n),h2(null,e,r,!0,t,n);case 19:return kF(t,e,n);case 22:return EF(t,e,n)}throw Error(nt(156,e.tag))};function WF(t,e){return yS(t,e)}function VR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(t,e,n,r){return new VR(t,e,n,r)}function Db(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KR(t){if(typeof t=="function")return Db(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rb)return 11;if(t===ib)return 14}return 2}function nl(t,e){var n=t.alternate;return n===null?(n=Fs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function a0(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Db(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ud:return Fu(n.children,i,s,e);case nb:o=8,i|=8;break;case Qy:return t=Fs(12,n,e,i|2),t.elementType=Qy,t.lanes=s,t;case Ly:return t=Fs(13,n,e,i),t.elementType=Ly,t.lanes=s,t;case Py:return t=Fs(19,n,e,i),t.elementType=Py,t.lanes=s,t;case rS:return Mv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tS:o=10;break e;case nS:o=9;break e;case rb:o=11;break e;case ib:o=14;break e;case NA:o=16,r=null;break e}throw Error(nt(130,t==null?t:typeof t,""))}return e=Fs(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Fu(t,e,n,r){return t=Fs(7,t,r,e),t.lanes=n,t}function Mv(t,e,n,r){return t=Fs(22,t,r,e),t.elementType=rS,t.lanes=n,t.stateNode={isHidden:!1},t}function U1(t,e,n){return t=Fs(6,t,null,e),t.lanes=n,t}function Q1(t,e,n){return e=Fs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=f1(0),this.expirationTimes=f1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ob(t,e,n,r,i,s,o,a,A){return t=new zR(t,e,n,a,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bb(s),t}function GR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ld,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qF(t){if(!t)return cl;t=t._reactInternals;e:{if(sc(t)!==t||t.tag!==1)throw Error(nt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(nt(171))}if(t.tag===1){var n=t.type;if(Gi(n))return qS(t,n,e)}return e}function $F(t,e,n,r,i,s,o,a,A){return t=Ob(n,r,!0,t,i,s,o,a,A),t.context=qF(null),n=t.current,r=xi(),i=tl(n),s=Sa(r,i),s.callback=e??null,ZA(n,s,i),t.current.lanes=i,eg(t,i,r),Wi(t,r),t}function jv(t,e,n,r){var i=e.current,s=xi(),o=tl(i);return n=qF(n),e.context===null?e.context=n:e.pendingContext=n,e=Sa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ZA(i,e,o),t!==null&&(so(t,i,o,s),t0(t,i,o)),o}function q0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mb(t,e){fC(t,e),(t=t.alternate)&&fC(t,e)}function WR(){return null}var JF=typeof reportError=="function"?reportError:function(t){console.error(t)};function jb(t){this._internalRoot=t}Hv.prototype.render=jb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(nt(409));jv(t,e,null,null)};Hv.prototype.unmount=jb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ku(function(){jv(null,t,null,null)}),e[Na]=null}};function Hv(t){this._internalRoot=t}Hv.prototype.unstable_scheduleHydration=function(t){if(t){var e=ES();t={blockedOn:null,target:t,priority:e};for(var n=0;n<LA.length&&e!==0&&e<LA[n].priority;n++);LA.splice(n,0,t),n===0&&FS(t)}};function Hb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pC(){}function qR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=q0(o);s.call(l)}}var o=$F(e,r,t,0,null,!1,!1,"",pC);return t._reactRootContainer=o,t[Na]=o.current,fp(t.nodeType===8?t.parentNode:t),Ku(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=q0(A);a.call(l)}}var A=Ob(t,0,!1,null,null,!1,!1,"",pC);return t._reactRootContainer=A,t[Na]=A.current,fp(t.nodeType===8?t.parentNode:t),Ku(function(){jv(e,A,n,r)}),A}function Kv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var A=q0(o);a.call(A)}}jv(e,o,t,i)}else o=qR(n,e,t,i,r);return q0(o)}CS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pf(e.pendingLanes);n!==0&&(ab(e,n|1),Wi(e,nr()),!(Yt&6)&&(Hd=nr()+500,Sl()))}break;case 13:Ku(function(){var r=Ua(t,1);if(r!==null){var i=xi();so(r,t,1,i)}}),Mb(t,1)}};Ab=function(t){if(t.tag===13){var e=Ua(t,134217728);if(e!==null){var n=xi();so(e,t,134217728,n)}Mb(t,134217728)}};IS=function(t){if(t.tag===13){var e=tl(t),n=Ua(t,e);if(n!==null){var r=xi();so(n,t,e,r)}Mb(t,e)}};ES=function(){return un};SS=function(t,e){var n=un;try{return un=t,e()}finally{un=n}};Gy=function(t,e,n){switch(e){case"input":if(Oy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qv(r);if(!i)throw Error(nt(90));sS(r),Oy(r,i)}}}break;case"textarea":aS(t,n);break;case"select":e=n.value,e!=null&&xd(t,!!n.multiple,e,!1)}};fS=Lb;pS=Ku;var $R={usingClientEntryPoint:!1,Events:[ng,fd,Qv,dS,hS,Lb]},Yh={findFiberByHostInstance:yu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JR={bundleType:Yh.bundleType,version:Yh.version,rendererPackageName:Yh.rendererPackageName,rendererConfig:Yh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vS(t),t===null?null:t.stateNode},findFiberByHostInstance:Yh.findFiberByHostInstance||WR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fm.isDisabled&&fm.supportsFiber)try{Tv=fm.inject(JR),Oo=fm}catch{}}hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$R;hs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hb(e))throw Error(nt(200));return GR(t,e,null,n)};hs.createRoot=function(t,e){if(!Hb(t))throw Error(nt(299));var n=!1,r="",i=JF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ob(t,1,!1,null,null,n,!1,r,i),t[Na]=e.current,fp(t.nodeType===8?t.parentNode:t),new jb(e)};hs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(nt(188)):(t=Object.keys(t).join(","),Error(nt(268,t)));return t=vS(e),t=t===null?null:t.stateNode,t};hs.flushSync=function(t){return Ku(t)};hs.hydrate=function(t,e,n){if(!Vv(e))throw Error(nt(200));return Kv(null,t,e,!0,n)};hs.hydrateRoot=function(t,e,n){if(!Hb(t))throw Error(nt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=JF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$F(e,null,t,1,n??null,i,!1,s,o),t[Na]=e.current,fp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hv(e)};hs.render=function(t,e,n){if(!Vv(e))throw Error(nt(200));return Kv(null,t,e,!1,n)};hs.unmountComponentAtNode=function(t){if(!Vv(t))throw Error(nt(40));return t._reactRootContainer?(Ku(function(){Kv(null,null,t,!1,function(){t._reactRootContainer=null,t[Na]=null})}),!0):!1};hs.unstable_batchedUpdates=Lb;hs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vv(n))throw Error(nt(200));if(t==null||t._reactInternals===void 0)throw Error(nt(38));return Kv(t,e,n,!1,r)};hs.version="18.3.1-next-f1338f8080-20240426";function YF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YF)}catch(t){console.error(t)}}YF(),Y4.exports=hs;var YR=Y4.exports,gC=YR;Ny.createRoot=gC.createRoot,Ny.hydrateRoot=gC.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}var HA;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(HA||(HA={}));const mC="popstate";function XR(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:A=""}=oc(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),C2("",{pathname:o,search:a,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let A=i.location.href,l=A.indexOf("#");a=l===-1?A:A.slice(0,l)}return a+"#"+(typeof s=="string"?s:$0(s))}function r(i,s){zv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return eD(e,n,r,t)}function Pn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZR(){return Math.random().toString(36).substr(2,8)}function vC(t,e){return{usr:t.state,key:t.key,idx:e}}function C2(t,e,n,r){return n===void 0&&(n=null),xp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oc(e):e,{state:n,key:e&&e.key||r||ZR()})}function $0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=HA.Pop,A=null,l=u();l==null&&(l=0,o.replaceState(xp({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function c(){a=HA.Pop;let E=u(),y=E==null?null:E-l;l=E,A&&A({action:a,location:b.location,delta:y})}function p(E,y){a=HA.Push;let w=C2(b.location,E,y);n&&n(w,E),l=u()+1;let x=vC(w,l),U=b.createHref(w);try{o.pushState(x,"",U)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(U)}s&&A&&A({action:a,location:b.location,delta:1})}function g(E,y){a=HA.Replace;let w=C2(b.location,E,y);n&&n(w,E),l=u();let x=vC(w,l),U=b.createHref(w);o.replaceState(x,"",U),s&&A&&A({action:a,location:b.location,delta:0})}function v(E){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof E=="string"?E:$0(E);return w=w.replace(/ $/,"%20"),Pn(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let b={get action(){return a},get location(){return t(i,o)},listen(E){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener(mC,c),A=E,()=>{i.removeEventListener(mC,c),A=null}},createHref(E){return e(i,E)},createURL:v,encodeLocation(E){let y=v(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:g,go(E){return o.go(E)}};return b}var wC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wC||(wC={}));function tD(t,e,n){return n===void 0&&(n="/"),nD(t,e,n)}function nD(t,e,n,r){let i=typeof e=="string"?oc(e):e,s=Vd(i.pathname||"/",n);if(s==null)return null;let o=XF(t);rD(o);let a=null;for(let A=0;a==null&&A<o.length;++A){let l=fD(s);a=dD(o[A],l)}return a}function XF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let A={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};A.relativePath.startsWith("/")&&(Pn(A.relativePath.startsWith(r),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(r.length));let l=rl([r,A.relativePath]),u=n.concat(A);s.children&&s.children.length>0&&(Pn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),XF(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:uD(l,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let A of ZF(s.path))i(s,o,A)}),e}function ZF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ZF(r.join("/")),a=[];return a.push(...o.map(A=>A===""?s:[s,A].join("/"))),i&&a.push(...o),a.map(A=>t.startsWith("/")&&A===""?"/":A)}function rD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iD=/^:[\w-]+$/,sD=3,oD=2,aD=1,AD=10,lD=-2,yC=t=>t==="*";function uD(t,e){let n=t.split("/"),r=n.length;return n.some(yC)&&(r+=lD),e&&(r+=oD),n.filter(i=>!yC(i)).reduce((i,s)=>i+(iD.test(s)?sD:s===""?aD:AD),r)}function cD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dD(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let A=r[a],l=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=I2({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},u),p=A.route;if(!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:rl([s,c.pathname]),pathnameBase:wD(rl([s,c.pathnameBase])),route:p}),c.pathnameBase!=="/"&&(s=rl([s,c.pathnameBase]))}return o}function I2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,u,c)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let b=a[c]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=a[c];return g&&!v?l[p]=void 0:l[p]=(v||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function hD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,A)=>(r.push({paramName:a,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const pD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gD=t=>pD.test(t);function mD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?oc(t):t,s;if(n)if(gD(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),zv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=BC(n.substring(1),"/"):s=BC(n,e)}else s=e;return{pathname:s,search:yD(r),hash:BD(i)}}function BC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function L1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vb(t,e){let n=vD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Kb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=oc(t):(i=xp({},t),Pn(!i.pathname||!i.pathname.includes("?"),L1("?","pathname","search",i)),Pn(!i.pathname||!i.pathname.includes("#"),L1("#","pathname","hash",i)),Pn(!i.search||!i.search.includes("#"),L1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let c=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),c-=1;i.pathname=p.join("/")}a=c>=0?e[c]:"/"}let A=mD(i,a),l=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!A.pathname.endsWith("/")&&(l||u)&&(A.pathname+="/"),A}const rl=t=>t.join("/").replace(/\/\/+/g,"/"),wD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eT=["post","put","patch","delete"];new Set(eT);const xD=["get",...eT];new Set(xD);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}const Gv=le.createContext(null),tT=le.createContext(null),ja=le.createContext(null),Wv=le.createContext(null),Ha=le.createContext({outlet:null,matches:[],isDataRoute:!1}),nT=le.createContext(null);function _D(t,e){let{relative:n}=e===void 0?{}:e;ch()||Pn(!1);let{basename:r,navigator:i}=le.useContext(ja),{hash:s,pathname:o,search:a}=qv(t,{relative:n}),A=o;return r!=="/"&&(A=o==="/"?r:rl([r,o])),i.createHref({pathname:A,search:a,hash:s})}function ch(){return le.useContext(Wv)!=null}function Fl(){return ch()||Pn(!1),le.useContext(Wv).location}function rT(t){le.useContext(ja).static||le.useLayoutEffect(t)}function dh(){let{isDataRoute:t}=le.useContext(Ha);return t?OD():CD()}function CD(){ch()||Pn(!1);let t=le.useContext(Gv),{basename:e,future:n,navigator:r}=le.useContext(ja),{matches:i}=le.useContext(Ha),{pathname:s}=Fl(),o=JSON.stringify(Vb(i,n.v7_relativeSplatPath)),a=le.useRef(!1);return rT(()=>{a.current=!0}),le.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let c=Kb(l,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:rl([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,o,s,t])}const ID=le.createContext(null);function ED(t){let e=le.useContext(Ha).outlet;return e&&le.createElement(ID.Provider,{value:t},e)}function qv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=le.useContext(ja),{matches:i}=le.useContext(Ha),{pathname:s}=Fl(),o=JSON.stringify(Vb(i,r.v7_relativeSplatPath));return le.useMemo(()=>Kb(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function SD(t,e){return FD(t,e)}function FD(t,e,n,r){ch()||Pn(!1);let{navigator:i}=le.useContext(ja),{matches:s}=le.useContext(Ha),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let l=Fl(),u;if(e){var c;let E=typeof e=="string"?oc(e):e;A==="/"||(c=E.pathname)!=null&&c.startsWith(A)||Pn(!1),u=E}else u=l;let p=u.pathname||"/",g=p;if(A!=="/"){let E=A.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let v=tD(t,{pathname:g}),b=QD(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:rl([A,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?A:rl([A,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&b?le.createElement(Wv.Provider,{value:{location:_p({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:HA.Pop}},b):b}function TD(){let t=DD(),e=bD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),n?le.createElement("pre",{style:i},n):null,null)}const kD=le.createElement(TD,null);class ND extends le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?le.createElement(Ha.Provider,{value:this.props.routeContext},le.createElement(nT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UD(t){let{routeContext:e,match:n,children:r}=t,i=le.useContext(Gv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),le.createElement(Ha.Provider,{value:e},r)}function QD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);u>=0||Pn(!1),o=o.slice(0,Math.min(o.length,u+1))}let A=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let c=o[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:p,errors:g}=n,v=c.route.loader&&p[c.route.id]===void 0&&(!g||g[c.route.id]===void 0);if(c.route.lazy||v){A=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,c,p)=>{let g,v=!1,b=null,E=null;n&&(g=a&&c.route.id?a[c.route.id]:void 0,b=c.route.errorElement||kD,A&&(l<0&&p===0?(MD("route-fallback"),v=!0,E=null):l===p&&(v=!0,E=c.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,p+1)),w=()=>{let x;return g?x=b:v?x=E:c.route.Component?x=le.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=u,le.createElement(UD,{match:c,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:x})};return n&&(c.route.ErrorBoundary||c.route.errorElement||p===0)?le.createElement(ND,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var iT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iT||{}),sT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sT||{});function LD(t){let e=le.useContext(Gv);return e||Pn(!1),e}function PD(t){let e=le.useContext(tT);return e||Pn(!1),e}function RD(t){let e=le.useContext(Ha);return e||Pn(!1),e}function oT(t){let e=RD(),n=e.matches[e.matches.length-1];return n.route.id||Pn(!1),n.route.id}function DD(){var t;let e=le.useContext(nT),n=PD(),r=oT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OD(){let{router:t}=LD(iT.UseNavigateStable),e=oT(sT.UseNavigateStable),n=le.useRef(!1);return rT(()=>{n.current=!0}),le.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_p({fromRouteId:e},s)))},[t,e])}const bC={};function MD(t,e,n){bC[t]||(bC[t]=!0)}function jD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function E2(t){let{to:e,replace:n,state:r,relative:i}=t;ch()||Pn(!1);let{future:s,static:o}=le.useContext(ja),{matches:a}=le.useContext(Ha),{pathname:A}=Fl(),l=dh(),u=Kb(e,Vb(a,s.v7_relativeSplatPath),A,i==="path"),c=JSON.stringify(u);return le.useEffect(()=>l(JSON.parse(c),{replace:n,state:r,relative:i}),[l,c,i,n,r]),null}function HD(t){return ED(t.context)}function _s(t){Pn(!1)}function VD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=HA.Pop,navigator:s,static:o=!1,future:a}=t;ch()&&Pn(!1);let A=e.replace(/^\/*/,"/"),l=le.useMemo(()=>({basename:A,navigator:s,static:o,future:_p({v7_relativeSplatPath:!1},a)}),[A,a,s,o]);typeof r=="string"&&(r=oc(r));let{pathname:u="/",search:c="",hash:p="",state:g=null,key:v="default"}=r,b=le.useMemo(()=>{let E=Vd(u,A);return E==null?null:{location:{pathname:E,search:c,hash:p,state:g,key:v},navigationType:i}},[A,u,c,p,g,v,i]);return b==null?null:le.createElement(ja.Provider,{value:l},le.createElement(Wv.Provider,{children:n,value:b}))}function KD(t){let{children:e,location:n}=t;return SD(S2(e),n)}new Promise(()=>{});function S2(t,e){e===void 0&&(e=[]);let n=[];return le.Children.forEach(t,(r,i)=>{if(!le.isValidElement(r))return;let s=[...e,i];if(r.type===le.Fragment){n.push.apply(n,S2(r.props.children,s));return}r.type!==_s&&Pn(!1),!r.props.index||!r.props.children||Pn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=S2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(this,arguments)}function aT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GD(t,e){return t.button===0&&(!e||e==="_self")&&!zD(t)}function F2(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function WD(t,e){let n=F2(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const qD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$D=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],JD="6";try{window.__reactRouterVersion=JD}catch{}const YD=le.createContext({isTransitioning:!1}),XD="startTransition",xC=ML[XD];function ZD(t){let{basename:e,children:n,future:r,window:i}=t,s=le.useRef();s.current==null&&(s.current=XR({window:i,v5Compat:!0}));let o=s.current,[a,A]=le.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=le.useCallback(c=>{l&&xC?xC(()=>A(c)):A(c)},[A,l]);return le.useLayoutEffect(()=>o.listen(u),[o,u]),le.useEffect(()=>jD(r),[r]),le.createElement(VD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const e6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n6=le.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:A,to:l,preventScrollReset:u,viewTransition:c}=e,p=aT(e,qD),{basename:g}=le.useContext(ja),v,b=!1;if(typeof l=="string"&&t6.test(l)&&(v=l,e6))try{let x=new URL(window.location.href),U=l.startsWith("//")?new URL(x.protocol+l):new URL(l),P=Vd(U.pathname,g);U.origin===x.origin&&P!=null?l=P+U.search+U.hash:b=!0}catch{}let E=_D(l,{relative:i}),y=s6(l,{replace:o,state:a,target:A,preventScrollReset:u,relative:i,viewTransition:c});function w(x){r&&r(x),x.defaultPrevented||y(x)}return le.createElement("a",J0({},p,{href:v||E,onClick:b||s?r:w,ref:n,target:A}))}),r6=le.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:A,viewTransition:l,children:u}=e,c=aT(e,$D),p=qv(A,{relative:c.relative}),g=Fl(),v=le.useContext(tT),{navigator:b,basename:E}=le.useContext(ja),y=v!=null&&a6(p)&&l===!0,w=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,x=g.pathname,U=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(x=x.toLowerCase(),U=U?U.toLowerCase():null,w=w.toLowerCase()),U&&E&&(U=Vd(U,E)||U);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let M=x===w||!o&&x.startsWith(w)&&x.charAt(P)==="/",S=U!=null&&(U===w||!o&&U.startsWith(w)&&U.charAt(w.length)==="/"),_={isActive:M,isPending:S,isTransitioning:y},N=M?r:void 0,O;typeof s=="function"?O=s(_):O=[s,M?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(_):a;return le.createElement(n6,J0({},c,{"aria-current":N,className:O,ref:n,style:I,to:A,viewTransition:l}),typeof u=="function"?u(_):u)});var T2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(T2||(T2={}));var _C;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_C||(_C={}));function i6(t){let e=le.useContext(Gv);return e||Pn(!1),e}function s6(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,A=dh(),l=Fl(),u=qv(t,{relative:o});return le.useCallback(c=>{if(GD(c,n)){c.preventDefault();let p=r!==void 0?r:$0(l)===$0(u);A(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[l,A,u,r,i,n,t,s,o,a])}function o6(t){let e=le.useRef(F2(t)),n=le.useRef(!1),r=Fl(),i=le.useMemo(()=>WD(r.search,n.current?null:e.current),[r.search]),s=dh(),o=le.useCallback((a,A)=>{const l=F2(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,A)},[s,i]);return[i,o]}function a6(t,e){e===void 0&&(e={});let n=le.useContext(YD);n==null&&Pn(!1);let{basename:r}=i6(T2.useViewTransitionState),i=qv(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Vd(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Vd(n.nextLocation.pathname,r)||n.nextLocation.pathname;return I2(i.pathname,o)!=null||I2(i.pathname,s)!=null}var CC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],A=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(A>>10)),e[r++]=String.fromCharCode(56320+(A&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,A=i+2<t.length,l=A?t[i+2]:0,u=s>>2,c=(s&3)<<4|a>>4;let p=(a&15)<<2|l>>6,g=l&63;A||(g=64,o||(p=64)),r.push(n[u],n[c],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||c==null)throw new l6;const p=s<<2|a>>4;if(r.push(p),l!==64){const g=a<<4&240|l>>2;if(r.push(g),c!==64){const v=l<<6&192|c;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u6=function(t){const e=AT(t);return lT.encodeByteArray(e,!0)},Y0=function(t){return u6(t).replace(/\./g,"")},uT=function(t){try{return lT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!c6(n)||(t[n]=X0(t[n],e[n]));return t}function c6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=()=>cT().__FIREBASE_DEFAULTS__,h6=()=>{if(typeof process>"u"||typeof CC>"u")return;const t=CC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uT(t[1]);return e&&JSON.parse(e)},zb=()=>{try{return d6()||h6()||f6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dT=()=>{var t;return(t=zb())===null||t===void 0?void 0:t.config},p6=t=>{var e;return(e=zb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Y0(JSON.stringify(n)),Y0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function Gb(){var t;const e=(t=zb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w6(){return typeof window<"u"||hT()}function hT(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function y6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pT(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gT(){return!Gb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cp(){try{return typeof indexedDB=="object"}catch{return!1}}function B6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="FirebaseError";class _i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=b6,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?x6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new _i(i,a,r)}}function x6(t,e){return t.replace(_6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ip(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(EC(s)&&EC(o)){if(!Ip(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function mf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mT(t,e){const n=new I6(t,e);return n.subscribe.bind(n)}class I6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=P1),i.error===void 0&&(i.error=P1),i.complete===void 0&&(i.complete=P1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function P1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class Ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new g6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T6(e))try{this.getOrInitializeService({instanceIdentifier:lu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=lu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lu){return this.instances.has(e)}getOptions(e=lu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lu){return this.component?this.component.multipleInstances?e:lu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F6(t){return t===lu?void 0:t}function T6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=[];var Ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ot||(Ot={}));const wT={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},k6=Ot.INFO,N6={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},U6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=N6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let $v=class{constructor(e){this.name=e,this._logLevel=k6,this._logHandler=U6,this._userLogHandler=null,qb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}};function Q6(t){qb.forEach(e=>{e.setLogLevel(t)})}function L6(t,e){for(const n of qb){let r=null;e&&e.level&&(r=wT[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(A=>{if(A==null)return null;if(typeof A=="string")return A;if(typeof A=="number"||typeof A=="boolean")return A.toString();if(A instanceof Error)return A.message;try{return JSON.stringify(A)}catch{return null}}).filter(A=>A).join(" ");s>=(r??i.logLevel)&&t({level:Ot[s].toLowerCase(),message:a,args:o,type:i.name})}}}const P6=(t,e)=>e.some(n=>t instanceof n);let SC,FC;function R6(){return SC||(SC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D6(){return FC||(FC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,k2=new WeakMap,BT=new WeakMap,R1=new WeakMap,$b=new WeakMap;function O6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(il(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yT.set(n,t)}).catch(()=>{}),$b.set(e,t),e}function M6(t){if(k2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});k2.set(t,e)}let N2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return k2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return il(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j6(t){N2=t(N2)}function H6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(D1(this),e,...n);return BT.set(r,e.sort?e.sort():[e]),il(r)}:D6().includes(t)?function(...e){return t.apply(D1(this),e),il(yT.get(this))}:function(...e){return il(t.apply(D1(this),e))}}function V6(t){return typeof t=="function"?H6(t):(t instanceof IDBTransaction&&M6(t),P6(t,R6())?new Proxy(t,N2):t)}function il(t){if(t instanceof IDBRequest)return O6(t);if(R1.has(t))return R1.get(t);const e=V6(t);return e!==t&&(R1.set(t,e),$b.set(e,t)),e}const D1=t=>$b.get(t);function K6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=il(o);return r&&o.addEventListener("upgradeneeded",A=>{r(il(o.result),A.oldVersion,A.newVersion,il(o.transaction),A)}),n&&o.addEventListener("blocked",A=>n(A.oldVersion,A.newVersion,A)),a.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const z6=["get","getKey","getAll","getAllKeys","count"],G6=["put","add","delete","clear"],O1=new Map;function TC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(O1.get(e))return O1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=G6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||z6.includes(n)))return;const s=async function(o,...a){const A=this.transaction(o,i?"readwrite":"readonly");let l=A.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&A.done]))[0]};return O1.set(e,s),s}j6(t=>({...t,get:(e,n,r)=>TC(e,n)||t.get(e,n,r),has:(e,n)=>!!TC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function q6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Z0="@firebase/app",U2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new $v("@firebase/app"),$6="@firebase/app-compat",J6="@firebase/analytics-compat",Y6="@firebase/analytics",X6="@firebase/app-check-compat",Z6="@firebase/app-check",eO="@firebase/auth",tO="@firebase/auth-compat",nO="@firebase/database",rO="@firebase/data-connect",iO="@firebase/database-compat",sO="@firebase/functions",oO="@firebase/functions-compat",aO="@firebase/installations",AO="@firebase/installations-compat",lO="@firebase/messaging",uO="@firebase/messaging-compat",cO="@firebase/performance",dO="@firebase/performance-compat",hO="@firebase/remote-config",fO="@firebase/remote-config-compat",pO="@firebase/storage",gO="@firebase/storage-compat",mO="@firebase/firestore",vO="@firebase/vertexai-preview",wO="@firebase/firestore-compat",yO="firebase",BO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="[DEFAULT]",bO={[Z0]:"fire-core",[$6]:"fire-core-compat",[Y6]:"fire-analytics",[J6]:"fire-analytics-compat",[Z6]:"fire-app-check",[X6]:"fire-app-check-compat",[eO]:"fire-auth",[tO]:"fire-auth-compat",[nO]:"fire-rtdb",[rO]:"fire-data-connect",[iO]:"fire-rtdb-compat",[sO]:"fire-fn",[oO]:"fire-fn-compat",[aO]:"fire-iid",[AO]:"fire-iid-compat",[lO]:"fire-fcm",[uO]:"fire-fcm-compat",[cO]:"fire-perf",[dO]:"fire-perf-compat",[hO]:"fire-rc",[fO]:"fire-rc-compat",[pO]:"fire-gcs",[gO]:"fire-gcs-compat",[mO]:"fire-fst",[wO]:"fire-fst-compat",[vO]:"fire-vertex","fire-js":"fire-js",[yO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Map,Kd=new Map,zd=new Map;function Ep(t,e){try{t.container.addComponent(e)}catch(n){La.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bT(t,e){t.container.addOrOverwriteComponent(e)}function fl(t){const e=t.name;if(zd.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;zd.set(e,t);for(const n of hl.values())Ep(n,t);for(const n of Kd.values())Ep(n,t);return!0}function xT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xO(t,e,n=dl){xT(t,e).clearInstance(n)}function _T(t){return t.options!==void 0}function zn(t){return t.settings!==void 0}function _O(){zd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new ac("app","Firebase",CO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CT=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO extends CT{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,oo(Z0,U2,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Yb(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Qs.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=BO;function Jb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dl,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qs.create("bad-app-name",{appName:String(i)});if(n||(n=dT()),!n)throw Qs.create("no-options");const s=hl.get(i);if(s){if(Ip(n,s.options)&&Ip(r,s.config))return s;throw Qs.create("duplicate-app",{appName:i})}const o=new vT(i);for(const A of zd.values())o.addComponent(A);const a=new CT(n,r,o);return hl.set(i,a),a}function EO(t,e){if(w6()&&!hT())throw Qs.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;_T(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=l=>[...l].reduce((u,c)=>Math.imul(31,u)+c.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Qs.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=Kd.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new vT(s);for(const l of zd.values())a.addComponent(l);const A=new IO(n,e,s,a);return Kd.set(s,A),A}function SO(t=dl){const e=hl.get(t);if(!e&&t===dl&&dT())return Jb();if(!e)throw Qs.create("no-app",{appName:t});return e}function FO(){return Array.from(hl.values())}async function Yb(t){let e=!1;const n=t.name;hl.has(n)?(e=!0,hl.delete(n)):Kd.has(n)&&t.decRefCount()<=0&&(Kd.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function oo(t,e,n){var r;let i=(r=bO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),La.warn(a.join(" "));return}fl(new Ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function IT(t,e){if(t!==null&&typeof t!="function")throw Qs.create("invalid-log-argument");L6(t,e)}function ET(t){Q6(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="firebase-heartbeat-database",kO=1,Sp="firebase-heartbeat-store";let M1=null;function ST(){return M1||(M1=K6(TO,kO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sp)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),M1}async function NO(t){try{const n=(await ST()).transaction(Sp),r=await n.objectStore(Sp).get(FT(t));return await n.done,r}catch(e){if(e instanceof _i)La.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});La.warn(n.message)}}}async function kC(t,e){try{const r=(await ST()).transaction(Sp,"readwrite");await r.objectStore(Sp).put(e,FT(t)),await r.done}catch(n){if(n instanceof _i)La.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});La.warn(r.message)}}}function FT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=1024,QO=30*24*60*60*1e3;class LO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=QO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){La.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NC(),{heartbeatsToSend:r,unsentEntries:i}=PO(this._heartbeatsCache.heartbeats),s=Y0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return La.warn(n),""}}}function NC(){return new Date().toISOString().substring(0,10)}function PO(t,e=UO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cp()?B6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function UC(t){return Y0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){fl(new Ko("platform-logger",e=>new W6(e),"PRIVATE")),fl(new Ko("heartbeat",e=>new LO(e),"PRIVATE")),oo(Z0,U2,t),oo(Z0,U2,"esm2017"),oo("fire-js","")}DO("");const OO=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:_i,SDK_VERSION:Tl,_DEFAULT_ENTRY_NAME:dl,_addComponent:Ep,_addOrOverwriteComponent:bT,_apps:hl,_clearComponents:_O,_components:zd,_getProvider:xT,_isFirebaseApp:_T,_isFirebaseServerApp:zn,_registerComponent:fl,_removeServiceInstance:xO,_serverApps:Kd,deleteApp:Yb,getApp:SO,getApps:FO,initializeApp:Jb,initializeServerApp:EO,onLog:IT,registerVersion:oo,setLogLevel:ET},Symbol.toStringTag,{value:"Module"}));var QC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tu,TT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,_){function N(){}N.prototype=_.prototype,S.D=_.prototype,S.prototype=new N,S.prototype.constructor=S,S.C=function(O,I,T){for(var k=Array(arguments.length-2),X=2;X<arguments.length;X++)k[X-2]=arguments[X];return _.prototype[I].apply(O,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,_,N){N||(N=0);var O=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)O[I]=_.charCodeAt(N++)|_.charCodeAt(N++)<<8|_.charCodeAt(N++)<<16|_.charCodeAt(N++)<<24;else for(I=0;16>I;++I)O[I]=_[N++]|_[N++]<<8|_[N++]<<16|_[N++]<<24;_=S.g[0],N=S.g[1],I=S.g[2];var T=S.g[3],k=_+(T^N&(I^T))+O[0]+3614090360&4294967295;_=N+(k<<7&4294967295|k>>>25),k=T+(I^_&(N^I))+O[1]+3905402710&4294967295,T=_+(k<<12&4294967295|k>>>20),k=I+(N^T&(_^N))+O[2]+606105819&4294967295,I=T+(k<<17&4294967295|k>>>15),k=N+(_^I&(T^_))+O[3]+3250441966&4294967295,N=I+(k<<22&4294967295|k>>>10),k=_+(T^N&(I^T))+O[4]+4118548399&4294967295,_=N+(k<<7&4294967295|k>>>25),k=T+(I^_&(N^I))+O[5]+1200080426&4294967295,T=_+(k<<12&4294967295|k>>>20),k=I+(N^T&(_^N))+O[6]+2821735955&4294967295,I=T+(k<<17&4294967295|k>>>15),k=N+(_^I&(T^_))+O[7]+4249261313&4294967295,N=I+(k<<22&4294967295|k>>>10),k=_+(T^N&(I^T))+O[8]+1770035416&4294967295,_=N+(k<<7&4294967295|k>>>25),k=T+(I^_&(N^I))+O[9]+2336552879&4294967295,T=_+(k<<12&4294967295|k>>>20),k=I+(N^T&(_^N))+O[10]+4294925233&4294967295,I=T+(k<<17&4294967295|k>>>15),k=N+(_^I&(T^_))+O[11]+2304563134&4294967295,N=I+(k<<22&4294967295|k>>>10),k=_+(T^N&(I^T))+O[12]+1804603682&4294967295,_=N+(k<<7&4294967295|k>>>25),k=T+(I^_&(N^I))+O[13]+4254626195&4294967295,T=_+(k<<12&4294967295|k>>>20),k=I+(N^T&(_^N))+O[14]+2792965006&4294967295,I=T+(k<<17&4294967295|k>>>15),k=N+(_^I&(T^_))+O[15]+1236535329&4294967295,N=I+(k<<22&4294967295|k>>>10),k=_+(I^T&(N^I))+O[1]+4129170786&4294967295,_=N+(k<<5&4294967295|k>>>27),k=T+(N^I&(_^N))+O[6]+3225465664&4294967295,T=_+(k<<9&4294967295|k>>>23),k=I+(_^N&(T^_))+O[11]+643717713&4294967295,I=T+(k<<14&4294967295|k>>>18),k=N+(T^_&(I^T))+O[0]+3921069994&4294967295,N=I+(k<<20&4294967295|k>>>12),k=_+(I^T&(N^I))+O[5]+3593408605&4294967295,_=N+(k<<5&4294967295|k>>>27),k=T+(N^I&(_^N))+O[10]+38016083&4294967295,T=_+(k<<9&4294967295|k>>>23),k=I+(_^N&(T^_))+O[15]+3634488961&4294967295,I=T+(k<<14&4294967295|k>>>18),k=N+(T^_&(I^T))+O[4]+3889429448&4294967295,N=I+(k<<20&4294967295|k>>>12),k=_+(I^T&(N^I))+O[9]+568446438&4294967295,_=N+(k<<5&4294967295|k>>>27),k=T+(N^I&(_^N))+O[14]+3275163606&4294967295,T=_+(k<<9&4294967295|k>>>23),k=I+(_^N&(T^_))+O[3]+4107603335&4294967295,I=T+(k<<14&4294967295|k>>>18),k=N+(T^_&(I^T))+O[8]+1163531501&4294967295,N=I+(k<<20&4294967295|k>>>12),k=_+(I^T&(N^I))+O[13]+2850285829&4294967295,_=N+(k<<5&4294967295|k>>>27),k=T+(N^I&(_^N))+O[2]+4243563512&4294967295,T=_+(k<<9&4294967295|k>>>23),k=I+(_^N&(T^_))+O[7]+1735328473&4294967295,I=T+(k<<14&4294967295|k>>>18),k=N+(T^_&(I^T))+O[12]+2368359562&4294967295,N=I+(k<<20&4294967295|k>>>12),k=_+(N^I^T)+O[5]+4294588738&4294967295,_=N+(k<<4&4294967295|k>>>28),k=T+(_^N^I)+O[8]+2272392833&4294967295,T=_+(k<<11&4294967295|k>>>21),k=I+(T^_^N)+O[11]+1839030562&4294967295,I=T+(k<<16&4294967295|k>>>16),k=N+(I^T^_)+O[14]+4259657740&4294967295,N=I+(k<<23&4294967295|k>>>9),k=_+(N^I^T)+O[1]+2763975236&4294967295,_=N+(k<<4&4294967295|k>>>28),k=T+(_^N^I)+O[4]+1272893353&4294967295,T=_+(k<<11&4294967295|k>>>21),k=I+(T^_^N)+O[7]+4139469664&4294967295,I=T+(k<<16&4294967295|k>>>16),k=N+(I^T^_)+O[10]+3200236656&4294967295,N=I+(k<<23&4294967295|k>>>9),k=_+(N^I^T)+O[13]+681279174&4294967295,_=N+(k<<4&4294967295|k>>>28),k=T+(_^N^I)+O[0]+3936430074&4294967295,T=_+(k<<11&4294967295|k>>>21),k=I+(T^_^N)+O[3]+3572445317&4294967295,I=T+(k<<16&4294967295|k>>>16),k=N+(I^T^_)+O[6]+76029189&4294967295,N=I+(k<<23&4294967295|k>>>9),k=_+(N^I^T)+O[9]+3654602809&4294967295,_=N+(k<<4&4294967295|k>>>28),k=T+(_^N^I)+O[12]+3873151461&4294967295,T=_+(k<<11&4294967295|k>>>21),k=I+(T^_^N)+O[15]+530742520&4294967295,I=T+(k<<16&4294967295|k>>>16),k=N+(I^T^_)+O[2]+3299628645&4294967295,N=I+(k<<23&4294967295|k>>>9),k=_+(I^(N|~T))+O[0]+4096336452&4294967295,_=N+(k<<6&4294967295|k>>>26),k=T+(N^(_|~I))+O[7]+1126891415&4294967295,T=_+(k<<10&4294967295|k>>>22),k=I+(_^(T|~N))+O[14]+2878612391&4294967295,I=T+(k<<15&4294967295|k>>>17),k=N+(T^(I|~_))+O[5]+4237533241&4294967295,N=I+(k<<21&4294967295|k>>>11),k=_+(I^(N|~T))+O[12]+1700485571&4294967295,_=N+(k<<6&4294967295|k>>>26),k=T+(N^(_|~I))+O[3]+2399980690&4294967295,T=_+(k<<10&4294967295|k>>>22),k=I+(_^(T|~N))+O[10]+4293915773&4294967295,I=T+(k<<15&4294967295|k>>>17),k=N+(T^(I|~_))+O[1]+2240044497&4294967295,N=I+(k<<21&4294967295|k>>>11),k=_+(I^(N|~T))+O[8]+1873313359&4294967295,_=N+(k<<6&4294967295|k>>>26),k=T+(N^(_|~I))+O[15]+4264355552&4294967295,T=_+(k<<10&4294967295|k>>>22),k=I+(_^(T|~N))+O[6]+2734768916&4294967295,I=T+(k<<15&4294967295|k>>>17),k=N+(T^(I|~_))+O[13]+1309151649&4294967295,N=I+(k<<21&4294967295|k>>>11),k=_+(I^(N|~T))+O[4]+4149444226&4294967295,_=N+(k<<6&4294967295|k>>>26),k=T+(N^(_|~I))+O[11]+3174756917&4294967295,T=_+(k<<10&4294967295|k>>>22),k=I+(_^(T|~N))+O[2]+718787259&4294967295,I=T+(k<<15&4294967295|k>>>17),k=N+(T^(I|~_))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(I+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+T&4294967295}r.prototype.u=function(S,_){_===void 0&&(_=S.length);for(var N=_-this.blockSize,O=this.B,I=this.h,T=0;T<_;){if(I==0)for(;T<=N;)i(this,S,T),T+=this.blockSize;if(typeof S=="string"){for(;T<_;)if(O[I++]=S.charCodeAt(T++),I==this.blockSize){i(this,O),I=0;break}}else for(;T<_;)if(O[I++]=S[T++],I==this.blockSize){i(this,O),I=0;break}}this.h=I,this.o+=_},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;var N=8*this.o;for(_=S.length-8;_<S.length;++_)S[_]=N&255,N/=256;for(this.u(S),S=Array(16),_=N=0;4>_;++_)for(var O=0;32>O;O+=8)S[N++]=this.g[_]>>>O&255;return S};function s(S,_){var N=a;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=_(S)}function o(S,_){this.h=_;for(var N=[],O=!0,I=S.length-1;0<=I;I--){var T=S[I]|0;O&&T==_||(N[I]=T,O=!1)}this.g=N}var a={};function A(S){return-128<=S&&128>S?s(S,function(_){return new o([_|0],0>_?-1:0)}):new o([S|0],0>S?-1:0)}function l(S){if(isNaN(S)||!isFinite(S))return c;if(0>S)return E(l(-S));for(var _=[],N=1,O=0;S>=N;O++)_[O]=S/N|0,N*=4294967296;return new o(_,0)}function u(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return E(u(S.substring(1),_));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=l(Math.pow(_,8)),O=c,I=0;I<S.length;I+=8){var T=Math.min(8,S.length-I),k=parseInt(S.substring(I,I+T),_);8>T?(T=l(Math.pow(_,T)),O=O.j(T).add(l(k))):(O=O.j(N),O=O.add(l(k)))}return O}var c=A(0),p=A(1),g=A(16777216);t=o.prototype,t.m=function(){if(b(this))return-E(this).m();for(var S=0,_=1,N=0;N<this.g.length;N++){var O=this.i(N);S+=(0<=O?O:4294967296+O)*_,_*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(b(this))return"-"+E(this).toString(S);for(var _=l(Math.pow(S,6)),N=this,O="";;){var I=U(N,_).g;N=y(N,I.j(_));var T=((0<N.g.length?N.g[0]:N.h)>>>0).toString(S);if(N=I,v(N))return T+O;for(;6>T.length;)T="0"+T;O=T+O}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=y(this,S),b(S)?-1:v(S)?0:1};function E(S){for(var _=S.g.length,N=[],O=0;O<_;O++)N[O]=~S.g[O];return new o(N,~S.h).add(p)}t.abs=function(){return b(this)?E(this):this},t.add=function(S){for(var _=Math.max(this.g.length,S.g.length),N=[],O=0,I=0;I<=_;I++){var T=O+(this.i(I)&65535)+(S.i(I)&65535),k=(T>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);O=k>>>16,T&=65535,k&=65535,N[I]=k<<16|T}return new o(N,N[N.length-1]&-2147483648?-1:0)};function y(S,_){return S.add(E(_))}t.j=function(S){if(v(this)||v(S))return c;if(b(this))return b(S)?E(this).j(E(S)):E(E(this).j(S));if(b(S))return E(this.j(E(S)));if(0>this.l(g)&&0>S.l(g))return l(this.m()*S.m());for(var _=this.g.length+S.g.length,N=[],O=0;O<2*_;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(var I=0;I<S.g.length;I++){var T=this.i(O)>>>16,k=this.i(O)&65535,X=S.i(I)>>>16,de=S.i(I)&65535;N[2*O+2*I]+=k*de,w(N,2*O+2*I),N[2*O+2*I+1]+=T*de,w(N,2*O+2*I+1),N[2*O+2*I+1]+=k*X,w(N,2*O+2*I+1),N[2*O+2*I+2]+=T*X,w(N,2*O+2*I+2)}for(O=0;O<_;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=_;O<2*_;O++)N[O]=0;return new o(N,0)};function w(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function x(S,_){this.g=S,this.h=_}function U(S,_){if(v(_))throw Error("division by zero");if(v(S))return new x(c,c);if(b(S))return _=U(E(S),_),new x(E(_.g),E(_.h));if(b(_))return _=U(S,E(_)),new x(E(_.g),_.h);if(30<S.g.length){if(b(S)||b(_))throw Error("slowDivide_ only works with positive integers.");for(var N=p,O=_;0>=O.l(S);)N=P(N),O=P(O);var I=M(N,1),T=M(O,1);for(O=M(O,2),N=M(N,2);!v(O);){var k=T.add(O);0>=k.l(S)&&(I=I.add(N),T=k),O=M(O,1),N=M(N,1)}return _=y(S,I.j(_)),new x(I,_)}for(I=c;0<=S.l(_);){for(N=Math.max(1,Math.floor(S.m()/_.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),T=l(N),k=T.j(_);b(k)||0<k.l(S);)N-=O,T=l(N),k=T.j(_);v(T)&&(T=p),I=I.add(T),S=y(S,k)}return new x(I,S)}t.A=function(S){return U(this,S).h},t.and=function(S){for(var _=Math.max(this.g.length,S.g.length),N=[],O=0;O<_;O++)N[O]=this.i(O)&S.i(O);return new o(N,this.h&S.h)},t.or=function(S){for(var _=Math.max(this.g.length,S.g.length),N=[],O=0;O<_;O++)N[O]=this.i(O)|S.i(O);return new o(N,this.h|S.h)},t.xor=function(S){for(var _=Math.max(this.g.length,S.g.length),N=[],O=0;O<_;O++)N[O]=this.i(O)^S.i(O);return new o(N,this.h^S.h)};function P(S){for(var _=S.g.length+1,N=[],O=0;O<_;O++)N[O]=S.i(O)<<1|S.i(O-1)>>>31;return new o(N,S.h)}function M(S,_){var N=_>>5;_%=32;for(var O=S.g.length-N,I=[],T=0;T<O;T++)I[T]=0<_?S.i(T+N)>>>_|S.i(T+N+1)<<32-_:S.i(T+N);return new o(I,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Tu=o}).apply(typeof QC<"u"?QC:typeof self<"u"?self:typeof window<"u"?window:{});var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kT,vf,NT,A0,Q2,UT,QT,LT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,F,D){return h==Array.prototype||h==Object.prototype||(h[F]=D.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof pm=="object"&&pm];for(var F=0;F<h.length;++F){var D=h[F];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(h,F){if(F)e:{var D=r;h=h.split(".");for(var J=0;J<h.length-1;J++){var ve=h[J];if(!(ve in D))break e;D=D[ve]}h=h[h.length-1],J=D[h],F=F(J),F!=J&&F!=null&&e(D,h,{configurable:!0,writable:!0,value:F})}}function s(h,F){h instanceof String&&(h+="");var D=0,J=!1,ve={next:function(){if(!J&&D<h.length){var Ce=D++;return{value:F(Ce,h[Ce]),done:!1}}return J=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}i("Array.prototype.values",function(h){return h||function(){return s(this,function(F,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function A(h){var F=typeof h;return F=F!="object"?F:h?Array.isArray(h)?"array":F:"null",F=="array"||F=="object"&&typeof h.length=="number"}function l(h){var F=typeof h;return F=="object"&&h!=null||F=="function"}function u(h,F,D){return h.call.apply(h.bind,arguments)}function c(h,F,D){if(!h)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,J),h.apply(F,ve)}}return function(){return h.apply(F,arguments)}}function p(h,F,D){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:c,p.apply(null,arguments)}function g(h,F){var D=Array.prototype.slice.call(arguments,1);return function(){var J=D.slice();return J.push.apply(J,arguments),h.apply(this,J)}}function v(h,F){function D(){}D.prototype=F.prototype,h.aa=F.prototype,h.prototype=new D,h.prototype.constructor=h,h.Qb=function(J,ve,Ce){for(var Ze=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)Ze[Nt-2]=arguments[Nt];return F.prototype[ve].apply(J,Ze)}}function b(h){const F=h.length;if(0<F){const D=Array(F);for(let J=0;J<F;J++)D[J]=h[J];return D}return[]}function E(h,F){for(let D=1;D<arguments.length;D++){const J=arguments[D];if(A(J)){const ve=h.length||0,Ce=J.length||0;h.length=ve+Ce;for(let Ze=0;Ze<Ce;Ze++)h[ve+Ze]=J[Ze]}else h.push(J)}}class y{constructor(F,D){this.i=F,this.j=D,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function w(h){return/^[\s\xa0]*$/.test(h)}function x(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function U(h){return U[" "](h),h}U[" "]=function(){};var P=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(h,F,D){for(const J in h)F.call(D,h[J],J,h)}function S(h,F){for(const D in h)F.call(void 0,h[D],D,h)}function _(h){const F={};for(const D in h)F[D]=h[D];return F}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,F){let D,J;for(let ve=1;ve<arguments.length;ve++){J=arguments[ve];for(D in J)h[D]=J[D];for(let Ce=0;Ce<N.length;Ce++)D=N[Ce],Object.prototype.hasOwnProperty.call(J,D)&&(h[D]=J[D])}}function I(h){var F=1;h=h.split(":");const D=[];for(;0<F&&h.length;)D.push(h.shift()),F--;return h.length&&D.push(h.join(":")),D}function T(h){a.setTimeout(()=>{throw h},0)}function k(){var h=R;let F=null;return h.g&&(F=h.g,h.g=h.g.next,h.g||(h.h=null),F.next=null),F}class X{constructor(){this.h=this.g=null}add(F,D){const J=de.get();J.set(F,D),this.h?this.h.next=J:this.g=J,this.h=J}}var de=new y(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(F,D){this.h=F,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let K,$=!1,R=new X,W=()=>{const h=a.Promise.resolve(void 0);K=()=>{h.then(re)}};var re=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(D){T(D)}var F=de;F.j(h),100>F.h&&(F.h++,h.next=F.g,F.g=h)}$=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,F){this.type=h,this.g=this.target=F,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,F=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const D=()=>{};a.addEventListener("test",D,F),a.removeEventListener("test",D,F)}catch{}return h}();function ee(h,F){if(j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var D=this.type=h.type,J=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=F,F=h.relatedTarget){if(P){e:{try{U(F.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(F=null)}}else D=="mouseover"?F=h.fromElement:D=="mouseout"&&(F=h.toElement);this.relatedTarget=F,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ee.aa.h.call(this)}}v(ee,j);var ne={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Be(h,F,D,J,ve){this.listener=h,this.proxy=null,this.src=F,this.type=D,this.capture=!!J,this.ha=ve,this.key=++ge,this.da=this.fa=!1}function Fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Te(h){this.src=h,this.g={},this.h=0}Te.prototype.add=function(h,F,D,J,ve){var Ce=h.toString();h=this.g[Ce],h||(h=this.g[Ce]=[],this.h++);var Ze=Le(h,F,J,ve);return-1<Ze?(F=h[Ze],D||(F.fa=!1)):(F=new Be(F,this.src,Ce,!!J,ve),F.fa=D,h.push(F)),F};function je(h,F){var D=F.type;if(D in h.g){var J=h.g[D],ve=Array.prototype.indexOf.call(J,F,void 0),Ce;(Ce=0<=ve)&&Array.prototype.splice.call(J,ve,1),Ce&&(Fe(F),h.g[D].length==0&&(delete h.g[D],h.h--))}}function Le(h,F,D,J){for(var ve=0;ve<h.length;++ve){var Ce=h[ve];if(!Ce.da&&Ce.listener==F&&Ce.capture==!!D&&Ce.ha==J)return ve}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),Ee={};function oe(h,F,D,J,ve){if(Array.isArray(F)){for(var Ce=0;Ce<F.length;Ce++)oe(h,F[Ce],D,J,ve);return null}return D=et(D),h&&h[Ae]?h.K(F,D,l(J)?!!J.capture:!1,ve):dt(h,F,D,!1,J,ve)}function dt(h,F,D,J,ve,Ce){if(!F)throw Error("Invalid event type");var Ze=l(ve)?!!ve.capture:!!ve,Nt=Ue(h);if(Nt||(h[Ve]=Nt=new Te(h)),D=Nt.add(F,D,J,Ze,Ce),D.proxy)return D;if(J=it(),D.proxy=J,J.src=h,J.listener=D,h.addEventListener)z||(ve=Ze),ve===void 0&&(ve=!1),h.addEventListener(F.toString(),J,ve);else if(h.attachEvent)h.attachEvent(fe(F.toString()),J);else if(h.addListener&&h.removeListener)h.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return D}function it(){function h(D){return F.call(h.src,h.listener,D)}const F=be;return h}function Ke(h,F,D,J,ve){if(Array.isArray(F))for(var Ce=0;Ce<F.length;Ce++)Ke(h,F[Ce],D,J,ve);else J=l(J)?!!J.capture:!!J,D=et(D),h&&h[Ae]?(h=h.i,F=String(F).toString(),F in h.g&&(Ce=h.g[F],D=Le(Ce,D,J,ve),-1<D&&(Fe(Ce[D]),Array.prototype.splice.call(Ce,D,1),Ce.length==0&&(delete h.g[F],h.h--)))):h&&(h=Ue(h))&&(F=h.g[F.toString()],h=-1,F&&(h=Le(F,D,J,ve)),(D=-1<h?F[h]:null)&&ae(D))}function ae(h){if(typeof h!="number"&&h&&!h.da){var F=h.src;if(F&&F[Ae])je(F.i,h);else{var D=h.type,J=h.proxy;F.removeEventListener?F.removeEventListener(D,J,h.capture):F.detachEvent?F.detachEvent(fe(D),J):F.addListener&&F.removeListener&&F.removeListener(J),(D=Ue(F))?(je(D,h),D.h==0&&(D.src=null,F[Ve]=null)):Fe(h)}}}function fe(h){return h in Ee?Ee[h]:Ee[h]="on"+h}function be(h,F){if(h.da)h=!0;else{F=new ee(F,this);var D=h.listener,J=h.ha||h.src;h.fa&&ae(h),h=D.call(J,F)}return h}function Ue(h){return h=h[Ve],h instanceof Te?h:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(h){return typeof h=="function"?h:(h[$e]||(h[$e]=function(F){return h.handleEvent(F)}),h[$e])}function Pe(){Q.call(this),this.i=new Te(this),this.M=this,this.F=null}v(Pe,Q),Pe.prototype[Ae]=!0,Pe.prototype.removeEventListener=function(h,F,D,J){Ke(this,h,F,D,J)};function ze(h,F){var D,J=h.F;if(J)for(D=[];J;J=J.F)D.push(J);if(h=h.M,J=F.type||F,typeof F=="string")F=new j(F,h);else if(F instanceof j)F.target=F.target||h;else{var ve=F;F=new j(J,h),O(F,ve)}if(ve=!0,D)for(var Ce=D.length-1;0<=Ce;Ce--){var Ze=F.g=D[Ce];ve=Oe(Ze,J,!0,F)&&ve}if(Ze=F.g=h,ve=Oe(Ze,J,!0,F)&&ve,ve=Oe(Ze,J,!1,F)&&ve,D)for(Ce=0;Ce<D.length;Ce++)Ze=F.g=D[Ce],ve=Oe(Ze,J,!1,F)&&ve}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var h=this.i,F;for(F in h.g){for(var D=h.g[F],J=0;J<D.length;J++)Fe(D[J]);delete h.g[F],h.h--}}this.F=null},Pe.prototype.K=function(h,F,D,J){return this.i.add(String(h),F,!1,D,J)},Pe.prototype.L=function(h,F,D,J){return this.i.add(String(h),F,!0,D,J)};function Oe(h,F,D,J){if(F=h.i.g[String(F)],!F)return!0;F=F.concat();for(var ve=!0,Ce=0;Ce<F.length;++Ce){var Ze=F[Ce];if(Ze&&!Ze.da&&Ze.capture==D){var Nt=Ze.listener,jt=Ze.ha||Ze.src;Ze.fa&&je(h.i,Ze),ve=Nt.call(jt,J)!==!1&&ve}}return ve&&!J.defaultPrevented}function We(h,F,D){if(typeof h=="function")D&&(h=p(h,D));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:a.setTimeout(h,F||0)}function mt(h){h.g=We(()=>{h.g=null,h.i&&(h.i=!1,mt(h))},h.l);const F=h.h;h.h=null,h.m.apply(null,F)}class ue extends Q{constructor(F,D){super(),this.m=F,this.l=D,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(h){Q.call(this),this.h=h,this.g={}}v(Qe,Q);var Re=[];function lt(h){M(h.g,function(F,D){this.g.hasOwnProperty(D)&&ae(F)},h),h.g={}}Qe.prototype.N=function(){Qe.aa.N.call(this),lt(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=a.JSON.stringify,vt=a.JSON.parse,Pt=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Ct(){}Ct.prototype.h=null;function Xt(h){return h.h||(h.h=h.i())}function Wt(){}var Gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){j.call(this,"d")}v(vr,j);function xt(){j.call(this,"c")}v(xt,j);var It={},$t=null;function ps(){return $t=$t||new Pe}It.La="serverreachability";function lr(h){j.call(this,It.La,h)}v(lr,j);function $r(h){const F=ps();ze(F,new lr(F))}It.STAT_EVENT="statevent";function $i(h,F){j.call(this,It.STAT_EVENT,h),this.stat=F}v($i,j);function wt(h){const F=ps();ze(F,new $i(F,h))}It.Ma="timingevent";function Ti(h,F){j.call(this,It.Ma,h),this.size=F}v(Ti,j);function Jr(h,F){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},F)}function ur(){this.g=!0}ur.prototype.xa=function(){this.g=!1};function Jn(h,F,D,J,ve,Ce){h.info(function(){if(h.g)if(Ce)for(var Ze="",Nt=Ce.split("&"),jt=0;jt<Nt.length;jt++){var Ut=Nt[jt].split("=");if(1<Ut.length){var nn=Ut[0];Ut=Ut[1];var fn=nn.split("_");Ze=2<=fn.length&&fn[1]=="type"?Ze+(nn+"="+Ut+"&"):Ze+(nn+"=redacted&")}}else Ze=null;else Ze=Ce;return"XMLHTTP REQ ("+J+") [attempt "+ve+"]: "+F+`
`+D+`
`+Ze})}function Mn(h,F,D,J,ve,Ce,Ze){h.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+ve+"]: "+F+`
`+D+`
`+Ce+" "+Ze})}function cr(h,F,D,J){h.info(function(){return"XMLHTTP TEXT ("+F+"): "+Ds(h,D)+(J?" "+J:"")})}function qa(h,F){h.info(function(){return"TIMEOUT: "+F})}ur.prototype.info=function(){};function Ds(h,F){if(!h.g)return F;if(!F)return null;try{var D=JSON.parse(F);if(D){for(h=0;h<D.length;h++)if(Array.isArray(D[h])){var J=D[h];if(!(2>J.length)){var ve=J[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ce=ve[0];if(Ce!="noop"&&Ce!="stop"&&Ce!="close")for(var Ze=1;Ze<ve.length;Ze++)ve[Ze]=""}}}}return tt(D)}catch{return F}}var Yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function hi(){}v(hi,Ct),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},di=new hi;function Yn(h,F,D,J){this.j=h,this.i=F,this.l=D,this.R=J||1,this.U=new Qe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ji}function Ji(){this.i=null,this.g="",this.h=!1}var ho={},fo={};function po(h,F,D){h.L=1,h.v=ra(fi(F)),h.m=D,h.P=!0,Xo(h,null)}function Xo(h,F){h.F=Date.now(),$a(h),h.A=fi(h.v);var D=h.A,J=h.R;Array.isArray(J)||(J=[String(J)]),kt(D.i,"t",J),h.C=0,D=h.j.J,h.h=new Ji,h.g=H(h.j,D?F:null,!h.m),0<h.O&&(h.M=new ue(p(h.Y,h,h.g),h.O)),F=h.U,D=h.g,J=h.ca;var ve="readystatechange";Array.isArray(ve)||(ve&&(Re[0]=ve.toString()),ve=Re);for(var Ce=0;Ce<ve.length;Ce++){var Ze=oe(D,ve[Ce],J||F.handleEvent,!1,F.h||F);if(!Ze)break;F.g[Ze.key]=Ze}F=h.H?_(h.H):{},h.m?(h.u||(h.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,F)):(h.u="GET",h.g.ea(h.A,h.u,null,F)),$r(),Jn(h.i,h.u,h.A,h.l,h.R,h.m)}Yn.prototype.ca=function(h){h=h.target;const F=this.M;F&&wr(h)==3?F.j():this.Y(h)},Yn.prototype.Y=function(h){try{if(h==this.g)e:{const fn=wr(this.g);var F=this.g.Ba();const Gs=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||_c(this.g)))){this.J||fn!=4||F==7||(F==8||0>=Gs?$r(3):$r(2)),go(this);var D=this.g.Z();this.X=D;t:if(Zo(this)){var J=_c(this.g);h="";var ve=J.length,Ce=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),mo(this);var Ze="";break t}this.h.i=new a.TextDecoder}for(F=0;F<ve;F++)this.h.h=!0,h+=this.h.i.decode(J[F],{stream:!(Ce&&F==ve-1)});J.length=0,this.h.g+=h,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=D==200,Mn(this.i,this.u,this.A,this.l,this.R,fn,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Nt,jt=this.g;if((Nt=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Nt)){var Ut=Nt;break t}}Ut=null}if(D=Ut)cr(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,D);else{this.o=!1,this.s=3,wt(12),Os(this),mo(this);break e}}if(this.P){D=!0;let Pr;for(;!this.J&&this.C<Ze.length;)if(Pr=pc(this,Ze),Pr==fo){fn==4&&(this.s=4,wt(14),D=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pr==ho){this.s=4,wt(15),cr(this.i,this.l,Ze,"[Invalid Chunk]"),D=!1;break}else cr(this.i,this.l,Pr,null),ea(this,Pr);if(Zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||Ze.length!=0||this.h.h||(this.s=1,wt(16),D=!1),this.o=this.o&&D,!D)cr(this.i,this.l,Ze,"[Invalid Chunked Response]"),Os(this),mo(this);else if(0<Ze.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),lA(nn),nn.M=!0,wt(11))}}else cr(this.i,this.l,Ze,null),ea(this,Ze);fn==4&&Os(this),this.o&&!this.J&&(fn==4?bo(this.j,this):(this.o=!1,$a(this)))}else yo(this.g),D==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Os(this),mo(this)}}}catch{}finally{}};function Zo(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function pc(h,F){var D=h.C,J=F.indexOf(`
`,D);return J==-1?fo:(D=Number(F.substring(D,J)),isNaN(D)?ho:(J+=1,J+D>F.length?fo:(F=F.slice(J,J+D),h.C=J+D,F)))}Yn.prototype.cancel=function(){this.J=!0,Os(this)};function $a(h){h.S=Date.now()+h.I,gc(h,h.I)}function gc(h,F){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Jr(p(h.ba,h),F)}function go(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Yn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(qa(this.i,this.A),this.L!=2&&($r(),wt(17)),Os(this),this.s=2,mo(this)):gc(this,this.S-h)};function mo(h){h.j.G==0||h.J||bo(h.j,h)}function Os(h){go(h);var F=h.M;F&&typeof F.ma=="function"&&F.ma(),h.M=null,lt(h.U),h.g&&(F=h.g,h.g=null,F.abort(),F.ma())}function ea(h,F){try{var D=h.j;if(D.G!=0&&(D.g==h||Ol(D.h,h))){if(!h.K&&Ol(D.h,h)&&D.G==3){try{var J=D.Da.g.parse(F)}catch{J=null}if(Array.isArray(J)&&J.length==3){var ve=J;if(ve[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<h.F)zs(D),sA(D);else break e;Aa(D),wt(18)}}else D.za=ve[1],0<D.za-D.T&&37500>ve[2]&&D.F&&D.v==0&&!D.C&&(D.C=Jr(p(D.Za,D),6e3));if(1>=ta(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Xr(D,11)}else if((h.K||D.g==h)&&zs(D),!w(F))for(ve=D.Da.g.parse(F),F=0;F<ve.length;F++){let Ut=ve[F];if(D.T=Ut[0],Ut=Ut[1],D.G==2)if(Ut[0]=="c"){D.K=Ut[1],D.ia=Ut[2];const nn=Ut[3];nn!=null&&(D.la=nn,D.j.info("VER="+D.la));const fn=Ut[4];fn!=null&&(D.Aa=fn,D.j.info("SVER="+D.Aa));const Gs=Ut[5];Gs!=null&&typeof Gs=="number"&&0<Gs&&(J=1.5*Gs,D.L=J,D.j.info("backChannelRequestTimeoutMs_="+J)),J=D;const Pr=h.g;if(Pr){const xo=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var Ce=J.h;Ce.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(Ce.j=Ce.l,Ce.g=new Set,Ce.h&&(bn(Ce,Ce.h),Ce.h=null))}if(J.D){const _o=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(J.ya=_o,sn(J.I,J.D,_o))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-h.F,D.j.info("Handshake RTT: "+D.R+"ms")),J=D;var Ze=h;if(J.qa=B(J,J.J?J.ia:null,J.W),Ze.K){Ml(J.h,Ze);var Nt=Ze,jt=J.L;jt&&(Nt.I=jt),Nt.B&&(go(Nt),$a(Nt)),J.g=Ze}else AA(J);0<D.i.length&&oA(D)}else Ut[0]!="stop"&&Ut[0]!="close"||Xr(D,7);else D.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Xr(D,7):Ks(D):Ut[0]!="noop"&&D.l&&D.l.ta(Ut),D.v=0)}}$r(4)}catch{}}var Ih=class{constructor(h,F){this.g=h,this.map=F}};function Dl(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ta(h){return h.h?1:h.g?h.g.size:0}function Ol(h,F){return h.h?h.h==F:h.g?h.g.has(F):!1}function bn(h,F){h.g?h.g.add(F):h.h=F}function Ml(h,F){h.h&&h.h==F?h.h=null:h.g&&h.g.has(F)&&h.g.delete(F)}Dl.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function jl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let F=h.i;for(const D of h.g.values())F=F.concat(D.D);return F}return b(h.i)}function vc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(A(h)){for(var F=[],D=h.length,J=0;J<D;J++)F.push(h[J]);return F}F=[],D=0;for(J in h)F[D++]=h[J];return F}function Hl(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(A(h)||typeof h=="string"){var F=[];h=h.length;for(var D=0;D<h;D++)F.push(D);return F}F=[],D=0;for(const J in h)F[D++]=J;return F}}}function wc(h,F){if(h.forEach&&typeof h.forEach=="function")h.forEach(F,void 0);else if(A(h)||typeof h=="string")Array.prototype.forEach.call(h,F,void 0);else for(var D=Hl(h),J=vc(h),ve=J.length,Ce=0;Ce<ve;Ce++)F.call(void 0,J[Ce],D&&D[Ce],h)}var Ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(h,F){if(h){h=h.split("&");for(var D=0;D<h.length;D++){var J=h[D].indexOf("="),ve=null;if(0<=J){var Ce=h[D].substring(0,J);ve=h[D].substring(J+1)}else Ce=h[D];F(Ce,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function jn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof jn){this.h=h.h,na(this,h.j),this.o=h.o,this.g=h.g,Ya(this,h.s),this.l=h.l;var F=h.i,D=new vo;D.i=F.i,F.g&&(D.g=new Map(F.g),D.h=F.h),Vl(this,D),this.m=h.m}else h&&(F=String(h).match(Ni))?(this.h=!1,na(this,F[1]||"",!0),this.o=ia(F[2]||""),this.g=ia(F[3]||"",!0),Ya(this,F[4]),this.l=ia(F[5]||"",!0),Vl(this,F[6]||"",!0),this.m=ia(F[7]||"")):(this.h=!1,this.i=new vo(null,this.h))}jn.prototype.toString=function(){var h=[],F=this.j;F&&h.push(Ms(F,yc,!0),":");var D=this.g;return(D||F=="file")&&(h.push("//"),(F=this.o)&&h.push(Ms(F,yc,!0),"@"),h.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&h.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&h.push("/"),h.push(Ms(D,D.charAt(0)=="/"?js:Sh,!0))),(D=this.i.toString())&&h.push("?",D),(D=this.m)&&h.push("#",Ms(D,Za)),h.join("")};function fi(h){return new jn(h)}function na(h,F,D){h.j=D?ia(F,!0):F,h.j&&(h.j=h.j.replace(/:$/,""))}function Ya(h,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);h.s=F}else h.s=null}function Vl(h,F,D){F instanceof vo?(h.i=F,Fh(h.i,h.h)):(D||(F=Ms(F,Xa)),h.i=new vo(F,h.h))}function sn(h,F,D){h.i.set(F,D)}function ra(h){return sn(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ia(h,F){return h?F?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ms(h,F,D){return typeof h=="string"?(h=encodeURI(h).replace(F,Eh),D&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Eh(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var yc=/[#\/\?@]/g,Sh=/[#\?:]/g,js=/[#\?]/g,Xa=/[#\?@]/g,Za=/#/g;function vo(h,F){this.h=this.g=null,this.i=h||null,this.j=!!F}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ja(h.i,function(F,D){h.add(decodeURIComponent(F.replace(/\+/g," ")),D)}))}t=vo.prototype,t.add=function(h,F){xn(this),this.i=null,h=wo(this,h);var D=this.g.get(h);return D||this.g.set(h,D=[]),D.push(F),this.h+=1,this};function Bc(h,F){xn(h),F=wo(h,F),h.g.has(F)&&(h.i=null,h.h-=h.g.get(F).length,h.g.delete(F))}function Kl(h,F){return xn(h),F=wo(h,F),h.g.has(F)}t.forEach=function(h,F){xn(this),this.g.forEach(function(D,J){D.forEach(function(ve){h.call(F,ve,J,this)},this)},this)},t.na=function(){xn(this);const h=Array.from(this.g.values()),F=Array.from(this.g.keys()),D=[];for(let J=0;J<F.length;J++){const ve=h[J];for(let Ce=0;Ce<ve.length;Ce++)D.push(F[J])}return D},t.V=function(h){xn(this);let F=[];if(typeof h=="string")Kl(this,h)&&(F=F.concat(this.g.get(wo(this,h))));else{h=Array.from(this.g.values());for(let D=0;D<h.length;D++)F=F.concat(h[D])}return F},t.set=function(h,F){return xn(this),this.i=null,h=wo(this,h),Kl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[F]),this.h+=1,this},t.get=function(h,F){return h?(h=this.V(h),0<h.length?String(h[0]):F):F};function kt(h,F,D){Bc(h,F),0<D.length&&(h.i=null,h.g.set(wo(h,F),b(D)),h.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],F=Array.from(this.g.keys());for(var D=0;D<F.length;D++){var J=F[D];const Ce=encodeURIComponent(String(J)),Ze=this.V(J);for(J=0;J<Ze.length;J++){var ve=Ce;Ze[J]!==""&&(ve+="="+encodeURIComponent(String(Ze[J]))),h.push(ve)}}return this.i=h.join("&")};function wo(h,F){return F=String(F),h.j&&(F=F.toLowerCase()),F}function Fh(h,F){F&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(D,J){var ve=J.toLowerCase();J!=ve&&(Bc(this,J),kt(this,ve,D))},h)),h.j=F}function gs(h,F){const D=new ur;if(a.Image){const J=new Image;J.onload=g(Yi,D,"TestLoadImage: loaded",!0,F,J),J.onerror=g(Yi,D,"TestLoadImage: error",!1,F,J),J.onabort=g(Yi,D,"TestLoadImage: abort",!1,F,J),J.ontimeout=g(Yi,D,"TestLoadImage: timeout",!1,F,J),a.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=h}else F(!1)}function bc(h,F){const D=new ur,J=new AbortController,ve=setTimeout(()=>{J.abort(),Yi(D,"TestPingServer: timeout",!1,F)},1e4);fetch(h,{signal:J.signal}).then(Ce=>{clearTimeout(ve),Ce.ok?Yi(D,"TestPingServer: ok",!0,F):Yi(D,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(ve),Yi(D,"TestPingServer: error",!1,F)})}function Yi(h,F,D,J,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),J(D)}catch{}}function eA(){this.g=new Pt}function zl(h,F,D){const J=D||"";try{wc(h,function(ve,Ce){let Ze=ve;l(ve)&&(Ze=tt(ve)),F.push(J+Ce+"="+encodeURIComponent(Ze))})}catch(ve){throw F.push(J+"type="+encodeURIComponent("_badmap")),ve}}function tA(h){this.l=h.Ub||null,this.j=h.eb||!1}v(tA,Ct),tA.prototype.g=function(){return new nA(this.l,this.j)},tA.prototype.i=function(h){return function(){return h}}({});function nA(h,F){Pe.call(this),this.D=h,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(nA,Pe),t=nA.prototype,t.open=function(h,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=F,this.readyState=1,Xi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(F.body=h),(this.D||a).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var F=h.value?h.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!h.done}))&&(this.response=this.responseText+=F)}h.done?Hs(this):Xi(this),this.readyState==3&&xc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},t.Qa=function(h){this.g&&(this.response=h,Hs(this))},t.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Xi(h)}t.setRequestHeader=function(h,F){this.u.append(h,F)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],F=this.h.entries();for(var D=F.next();!D.done;)D=D.value,h.push(D[0]+": "+D[1]),D=F.next();return h.join(`\r
`)};function Xi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(nA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vs(h){let F="";return M(h,function(D,J){F+=J,F+=":",F+=D,F+=`\r
`}),F}function Gl(h,F,D){e:{for(J in D){var J=!1;break e}J=!0}J||(D=Vs(D),typeof h=="string"?D!=null&&encodeURIComponent(String(D)):sn(h,F,D))}function tn(h){Pe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(tn,Pe);var Wl=/^https?$/i,rA=["POST","PUT"];t=tn.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,F,D,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);F=F?F.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?Xt(this.o):Xt(di),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(F,String(h),!0),this.B=!1}catch(Ce){ql(this,Ce);return}if(h=D||"",D=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var ve in J)D.set(ve,J[ve]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ce of J.keys())D.set(Ce,J.get(Ce));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(D.keys()).find(Ce=>Ce.toLowerCase()=="content-type"),ve=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rA,F,void 0))||J||ve||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ce,Ze]of D)this.g.setRequestHeader(Ce,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zi(this),this.u=!0,this.g.send(h),this.u=!1}catch(Ce){ql(this,Ce)}};function ql(h,F){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=F,h.m=5,$l(h),sa(h)}function $l(h){h.A||(h.A=!0,ze(h,"complete"),ze(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ze(this,"complete"),ze(this,"abort"),sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sa(this,!0)),tn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jl(this):this.bb())},t.bb=function(){Jl(this)};function Jl(h){if(h.h&&typeof o<"u"&&(!h.v[1]||wr(h)!=4||h.Z()!=2)){if(h.u&&wr(h)==4)We(h.Ea,0,h);else if(ze(h,"readystatechange"),wr(h)==4){h.h=!1;try{const Ze=h.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var D;if(!(D=F)){var J;if(J=Ze===0){var ve=String(h.D).match(Ni)[1]||null;!ve&&a.self&&a.self.location&&(ve=a.self.location.protocol.slice(0,-1)),J=!Wl.test(ve?ve.toLowerCase():"")}D=J}if(D)ze(h,"complete"),ze(h,"success");else{h.m=6;try{var Ce=2<wr(h)?h.g.statusText:""}catch{Ce=""}h.l=Ce+" ["+h.Z()+"]",$l(h)}}finally{sa(h)}}}}function sa(h,F){if(h.g){Zi(h);const D=h.g,J=h.v[0]?()=>{}:null;h.g=null,h.v=null,F||ze(h,"ready");try{D.onreadystatechange=J}catch{}}}function Zi(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function wr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var F=this.g.responseText;return h&&F.indexOf(h)==0&&(F=F.substring(h.length)),vt(F)}};function _c(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(h){const F={};h=(h.g&&2<=wr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<h.length;J++){if(w(h[J]))continue;var D=I(h[J]);const ve=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Ce=F[ve]||[];F[ve]=Ce,Ce.push(D)}S(F,function(J){return J.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(h,F,D){return D&&D.internalChannelParams&&D.internalChannelParams[h]||F}function iA(h){this.Aa=0,this.i=[],this.j=new ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,h),this.cb=Lr("retryDelaySeedMs",1e4,h),this.Wa=Lr("forwardChannelMaxRetries",2,h),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Dl(h&&h.concurrentRequestLimit),this.Da=new eA,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iA.prototype,t.la=8,t.G=1,t.connect=function(h,F,D,J){wt(0),this.W=h,this.H=F||{},D&&J!==void 0&&(this.H.OSID=D,this.H.OAID=J),this.F=this.X,this.I=B(this,null,this.W),oA(this)};function Ks(h){if(oa(h),h.G==3){var F=h.U++,D=fi(h.I);if(sn(D,"SID",h.K),sn(D,"RID",F),sn(D,"TYPE","terminate"),Bo(h,D),F=new Yn(h,h.j,F),F.L=2,F.v=ra(fi(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(F.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=F.v,D=!0),D||(F.g=H(F.j,null),F.g.ea(F.v)),F.F=Date.now(),$a(F)}cA(h)}function sA(h){h.g&&(lA(h),h.g.cancel(),h.g=null)}function oa(h){sA(h),h.u&&(a.clearTimeout(h.u),h.u=null),zs(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function oA(h){if(!mc(h.h)&&!h.s){h.s=!0;var F=h.Ga;K||W(),$||(K(),$=!0),R.add(F,h),h.B=0}}function Yl(h,F){return ta(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=F.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Jr(p(h.Ga,h,F),uA(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ve=new Yn(this,this.j,h);let Ce=this.o;if(this.S&&(Ce?(Ce=_(Ce),O(Ce,this.S)):Ce=this.S),this.m!==null||this.O||(ve.H=Ce,Ce=null),this.P)e:{for(var F=0,D=0;D<this.i.length;D++){t:{var J=this.i[D];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(F+=J,4096<F){F=D;break e}if(F===4096||D===this.i.length-1){F=D+1;break e}}F=1e3}else F=1e3;F=aa(this,ve,F),D=fi(this.I),sn(D,"RID",h),sn(D,"CVER",22),this.D&&sn(D,"X-HTTP-Session-Id",this.D),Bo(this,D),Ce&&(this.O?F="headers="+encodeURIComponent(String(Vs(Ce)))+"&"+F:this.m&&Gl(D,this.m,Ce)),bn(this.h,ve),this.Ua&&sn(D,"TYPE","init"),this.P?(sn(D,"$req",F),sn(D,"SID","null"),ve.T=!0,po(ve,D,null)):po(ve,D,F),this.G=2}}else this.G==3&&(h?aA(this,h):this.i.length==0||mc(this.h)||aA(this))};function aA(h,F){var D;F?D=F.l:D=h.U++;const J=fi(h.I);sn(J,"SID",h.K),sn(J,"RID",D),sn(J,"AID",h.T),Bo(h,J),h.m&&h.o&&Gl(J,h.m,h.o),D=new Yn(h,h.j,D,h.B+1),h.m===null&&(D.H=h.o),F&&(h.i=F.D.concat(h.i)),F=aa(h,D,1e3),D.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),bn(h.h,D),po(D,J,F)}function Bo(h,F){h.H&&M(h.H,function(D,J){sn(F,J,D)}),h.l&&wc({},function(D,J){sn(F,J,D)})}function aa(h,F,D){D=Math.min(h.i.length,D);var J=h.l?p(h.l.Na,h.l,h):null;e:{var ve=h.i;let Ce=-1;for(;;){const Ze=["count="+D];Ce==-1?0<D?(Ce=ve[0].g,Ze.push("ofs="+Ce)):Ce=0:Ze.push("ofs="+Ce);let Nt=!0;for(let jt=0;jt<D;jt++){let Ut=ve[jt].g;const nn=ve[jt].map;if(Ut-=Ce,0>Ut)Ce=Math.max(0,ve[jt].g-100),Nt=!1;else try{zl(nn,Ze,"req"+Ut+"_")}catch{J&&J(nn)}}if(Nt){J=Ze.join("&");break e}}}return h=h.i.splice(0,D),F.D=h,J}function AA(h){if(!h.g&&!h.u){h.Y=1;var F=h.Fa;K||W(),$||(K(),$=!0),R.add(F,h),h.v=0}}function Aa(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Jr(p(h.Fa,h),uA(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Jr(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),sA(this),Cc(this))};function lA(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Cc(h){h.g=new Yn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var F=fi(h.qa);sn(F,"RID","rpc"),sn(F,"SID",h.K),sn(F,"AID",h.T),sn(F,"CI",h.F?"0":"1"),!h.F&&h.ja&&sn(F,"TO",h.ja),sn(F,"TYPE","xmlhttp"),Bo(h,F),h.m&&h.o&&Gl(F,h.m,h.o),h.L&&(h.g.I=h.L);var D=h.g;h=h.ia,D.L=1,D.v=ra(fi(F)),D.m=null,D.P=!0,Xo(D,h)}t.Za=function(){this.C!=null&&(this.C=null,sA(this),Aa(this),wt(19))};function zs(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function bo(h,F){var D=null;if(h.g==F){zs(h),lA(h),h.g=null;var J=2}else if(Ol(h.h,F))D=F.D,Ml(h.h,F),J=1;else return;if(h.G!=0){if(F.o)if(J==1){D=F.m?F.m.length:0,F=Date.now()-F.F;var ve=h.B;J=ps(),ze(J,new Ti(J,D)),oA(h)}else AA(h);else if(ve=F.s,ve==3||ve==0&&0<F.X||!(J==1&&Yl(h,F)||J==2&&Aa(h)))switch(D&&0<D.length&&(F=h.h,F.i=F.i.concat(D)),ve){case 1:Xr(h,5);break;case 4:Xr(h,10);break;case 3:Xr(h,6);break;default:Xr(h,2)}}}function uA(h,F){let D=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(D*=2),D*F}function Xr(h,F){if(h.j.info("Error code "+F),F==2){var D=p(h.fb,h),J=h.Xa;const ve=!J;J=new jn(J||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||na(J,"https"),ra(J),ve?gs(J.toString(),D):bc(J.toString(),D)}else wt(2);h.G=0,h.l&&h.l.sa(F),cA(h),oa(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function cA(h){if(h.G=0,h.ka=[],h.l){const F=jl(h.h);(F.length!=0||h.i.length!=0)&&(E(h.ka,F),E(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function B(h,F,D){var J=D instanceof jn?fi(D):new jn(D);if(J.g!="")F&&(J.g=F+"."+J.g),Ya(J,J.s);else{var ve=a.location;J=ve.protocol,F=F?F+"."+ve.hostname:ve.hostname,ve=+ve.port;var Ce=new jn(null);J&&na(Ce,J),F&&(Ce.g=F),ve&&Ya(Ce,ve),D&&(Ce.l=D),J=Ce}return D=h.D,F=h.ya,D&&F&&sn(J,D,F),sn(J,"VER",h.la),Bo(h,J),J}function H(h,F,D){if(F&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=h.Ca&&!h.pa?new tn(new tA({eb:D})):new tn(h.pa),F.Ha(h.J),F}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function se(){}t=se.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ce(){}ce.prototype.g=function(h,F){return new we(h,F)};function we(h,F){Pe.call(this),this.g=new iA(F),this.l=h,this.h=F&&F.messageUrlParams||null,h=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(h?h["X-WebChannel-Content-Type"]=F.messageContentType:h={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(h?h["X-WebChannel-Client-Profile"]=F.va:h={"X-WebChannel-Client-Profile":F.va}),this.g.S=h,(h=F&&F.Sb)&&!w(h)&&(this.g.m=h),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!w(F)&&(this.g.D=F,h=this.h,h!==null&&F in h&&(h=this.h,F in h&&delete h[F])),this.j=new At(this)}v(we,Pe),we.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},we.prototype.close=function(){Ks(this.g)},we.prototype.o=function(h){var F=this.g;if(typeof h=="string"){var D={};D.__data__=h,h=D}else this.u&&(D={},D.__data__=tt(h),h=D);F.i.push(new Ih(F.Ya++,h)),F.G==3&&oA(F)},we.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,we.aa.N.call(this)};function Ne(h){vr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var F=h.__sm__;if(F){e:{for(const D in F){h=D;break e}h=void 0}(this.i=h)&&(h=this.i,F=F!==null&&h in F?F[h]:void 0),this.data=F}else this.data=h}v(Ne,vr);function Je(){xt.call(this),this.status=1}v(Je,xt);function At(h){this.g=h}v(At,se),At.prototype.ua=function(){ze(this.g,"a")},At.prototype.ta=function(h){ze(this.g,new Ne(h))},At.prototype.sa=function(h){ze(this.g,new Je)},At.prototype.ra=function(){ze(this.g,"b")},ce.prototype.createWebChannel=ce.prototype.g,we.prototype.send=we.prototype.o,we.prototype.open=we.prototype.m,we.prototype.close=we.prototype.close,LT=function(){return new ce},QT=function(){return ps()},UT=It,Q2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yr.NO_ERROR=0,Yr.TIMEOUT=8,Yr.HTTP_ERROR=6,A0=Yr,ki.COMPLETE="complete",NT=ki,Wt.EventType=Gt,Gt.OPEN="a",Gt.CLOSE="b",Gt.ERROR="c",Gt.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,vf=Wt,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,kT=tn}).apply(typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{});const LC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new $v("@firebase/firestore");function ed(){return pl.logLevel}function MO(t){pl.setLogLevel(t)}function Xe(t,...e){if(pl.logLevel<=Ot.DEBUG){const n=e.map(Xb);pl.debug(`Firestore (${fh}): ${t}`,...n)}}function or(t,...e){if(pl.logLevel<=Ot.ERROR){const n=e.map(Xb);pl.error(`Firestore (${fh}): ${t}`,...n)}}function zo(t,...e){if(pl.logLevel<=Ot.WARN){const n=e.map(Xb);pl.warn(`Firestore (${fh}): ${t}`,...n)}}function Xb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t="Unexpected state"){const e=`FIRESTORE (${fh}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function bt(t,e){t||gt()}function jO(t,e){t||gt()}function ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nr.UNAUTHENTICATED))}shutdown(){}}class VO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KO{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0);let r=this.i;const i=A=>this.i!==r?(r=this.i,n(A)):Promise.resolve();let s=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const A=s;e.enqueueRetryable(async()=>{await A.promise,await i(this.currentUser)})},a=A=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(A=>a(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?a(A):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string"),new PT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string"),new Nr(e)}}class zO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class GO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){bt(this.o===void 0);const r=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string"),this.R=n.token,new WO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$O(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Lt(t,e){return t<e?-1:t>e?1:0}function Gd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function DT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ye(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ye(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ye(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Un(0,0))}static max(){return new _t(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r){n===void 0?n=0:n>e.length&&gt(),r===void 0?r=e.length-n:r>e.length-n&&gt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Kt extends Fp{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Kt(n)}static emptyPath(){return new Kt([])}}const JO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Fp{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return JO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ye(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ye(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new Ye(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=A,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ye(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(Kt.fromString(e))}static fromName(e){return new at(Kt.fromString(e).popFirst(5))}static empty(){return new at(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function L2(t){return t.fields.find(e=>e.kind===2)}function uu(t){return t.fields.filter(e=>e.kind!==2)}ev.UNKNOWN_ID=-1;class l0{constructor(e,n){this.fieldPath=e,this.kind=n}}class Tp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Tp(0,ds.min())}}function OT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(r===1e9?new Un(n+1,0):new Un(n,r));return new ds(i,at.empty(),e)}function MT(t){return new ds(t.readTime,t.key,-1)}class ds{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ds(_t.min(),at.empty(),-1)}static max(){return new ds(_t.max(),at.empty(),-1)}}function Zb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=at.comparator(t.documentKey,e.documentKey),n!==0?n:Lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==jT)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ie?n:Ie.resolve(n)}catch(n){return Ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.reject(n)}static resolve(e){return new Ie((n,r)=>{n(e)})}static reject(e){return new Ie((n,r)=>{r(e)})}static waitFor(e){return new Ie((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},A=>r(A))}),o=!0,s===i&&n()})}static or(e){let n=Ie.resolve(!1);for(const r of e)n=n.next(i=>i?Ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ie((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let A=0;A<s;A++){const l=A;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new Ie((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Gr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Mf(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=ex(r.target.error);this.V.reject(new Mf(e,i))}}static open(e,n,r,i){try{return new Jv(n,e.transaction(i,r))}catch(s){throw new Mf(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new XO(n)}}class jo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,jo.S(On())===12.2&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xe("SimpleDb","Removing database:",e),hu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Cp())return!1;if(jo.v())return!0;const e=On(),n=jo.S(e),r=0<n&&n<10,i=VT(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(Xe("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Mf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Ye(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Ye(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Mf(e,o))},i.onupgradeneeded=s=>{Xe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{Xe("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=Jv.open(this.db,e,s?"readonly":"readwrite",r),A=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),Ie.reject(l))).toPromise();return A.catch(()=>{}),await a.m,A}catch(a){const A=a,l=A.name!=="FirebaseError"&&o<3;if(Xe("SimpleDb","Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}}close(){this.db&&this.db.close(),this.db=void 0}}function VT(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class YO{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return hu(this.B.delete())}}class Mf extends Ye{constructor(e,n){super(Se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Nl(t){return t.name==="IndexedDbTransactionError"}class XO{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Xe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hu(r)}add(e){return Xe("SimpleDb","ADD",this.store.name,e,e),hu(this.store.add(e))}get(e){return hu(this.store.get(e)).next(n=>(n===void 0&&(n=null),Xe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Xe("SimpleDb","DELETE",this.store.name,e),hu(this.store.delete(e))}count(){return Xe("SimpleDb","COUNT",this.store.name),hu(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Ie((o,a)=>{s.onerror=A=>{a(A.target.error)},s.onsuccess=A=>{o(A.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,A)=>{o.push(A)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Ie((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){Xe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new Ie((r,i)=>{n.onerror=s=>{const o=ex(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new Ie((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const A=new YO(a),l=n(a.primaryKey,a.value,A);if(l instanceof Ie){const u=l.catch(c=>(A.done(),Ie.reject(c)));r.push(u)}A.isDone?i():A.K===null?a.continue():a.continue(A.K)}}).next(()=>Ie.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function hu(t){return new Ie((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=ex(r.target.error);n(i)}})}let PC=!1;function ex(t){const e=jo.S(On());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PC||(PC=!0,setTimeout(()=>{throw r},0)),r}}return t}class ZO{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Xe("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Xe("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Nl(n)?Xe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await kl(n)}await this.X(6e4)})}}class eM{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return Ie.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return Xe("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(Xe("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=MT(s);Zb(o,r)>0&&(r=o)}),new ds(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hi.oe=-1;function ig(t){return t==null}function kp(t){return t===0&&1/t==-1/0}function KT(t){return typeof t=="number"&&Number.isInteger(t)&&!kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RC(e)),e=tM(t.get(n),e);return RC(e)}function tM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function RC(t){return t+""}function Lo(t){const e=t.length;if(bt(e>=2),e===2)return bt(t.charAt(0)===""&&t.charAt(1)===""),Kt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&gt(),t.charAt(o+1)){case"":const a=t.substring(s,o);let A;i.length===0?A=a:(i+=a,A=i,i=""),r.push(A);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:gt()}s=o+2}return new Kt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t,e){return[t,Ci(e)]}function zT(t,e,n){return[t,Ci(e),n]}const nM={},rM=["prefixPath","collectionGroup","readTime","documentId"],iM=["prefixPath","collectionGroup","documentId"],sM=["collectionGroup","readTime","prefixPath","documentId"],oM=["canonicalId","targetId"],aM=["targetId","path"],AM=["path","targetId"],lM=["collectionId","parent"],uM=["indexId","uid"],cM=["uid","sequenceNumber"],dM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hM=["indexId","uid","orderedDocumentKey"],fM=["userId","collectionPath","documentId"],pM=["userId","collectionPath","largestBatchId"],gM=["userId","collectionGroup","largestBatchId"],GT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mM=[...GT,"documentOverlays"],WT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qT=WT,tx=[...qT,"indexConfiguration","indexState","indexEntries"],vM=tx,wM=[...tx,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2 extends HT{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Ir(t,e){const n=ut(t);return jo.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ac(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $T(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.comparator=e,this.root=n||jr.EMPTY}insert(e,n){return new Bn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jr.BLACK,null,null))}remove(e){return new Bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gm(this.root,e,this.comparator,!1)}getReverseIterator(){return new gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gm(this.root,e,this.comparator,!0)}}class gm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jr.RED,this.left=i??jr.EMPTY,this.right=s??jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}jr.EMPTY=null,jr.RED=!0,jr.BLACK=!1;jr.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MC(this.data.getIterator())}getIteratorFrom(e){return new MC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class MC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new Vi([])}unionWith(e){let n=new hn(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JT("Invalid base64 string: "+s):s}}(e);return new Gn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const BM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(t){if(bt(!!t),typeof t=="string"){let e=0;const n=BM.exec(t);if(bt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fn(t.seconds),nanos:Fn(t.nanos)}}function Fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gl(t){return typeof t=="string"?Gn.fromBase64String(t):Gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nx(t){const e=t.mapValue.fields.__previous_value__;return Yv(e)?nx(e):e}function Np(t){const e=Pa(t.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r,i,s,o,a,A,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=A,this.useFetchStreams=l}}class ml{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},c0={nullValue:"NULL_VALUE"};function zu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yv(t)?4:YT(t)?9007199254740991:Xv(t)?10:11:gt()}function Go(t,e){if(t===e)return!0;const n=zu(t);if(n!==zu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Np(t).isEqual(Np(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Pa(i.timestampValue),a=Pa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return gl(i.bytesValue).isEqual(gl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Fn(i.geoPointValue.latitude)===Fn(s.geoPointValue.latitude)&&Fn(i.geoPointValue.longitude)===Fn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fn(i.integerValue)===Fn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fn(i.doubleValue),a=Fn(s.doubleValue);return o===a?kp(o)===kp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Gd(t.arrayValue.values||[],e.arrayValue.values||[],Go);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(OC(o)!==OC(a))return!1;for(const A in o)if(o.hasOwnProperty(A)&&(a[A]===void 0||!Go(o[A],a[A])))return!1;return!0}(t,e);default:return gt()}}function Up(t,e){return(t.values||[]).find(n=>Go(n,e))!==void 0}function vl(t,e){if(t===e)return 0;const n=zu(t),r=zu(e);if(n!==r)return Lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Fn(s.integerValue||s.doubleValue),A=Fn(o.integerValue||o.doubleValue);return a<A?-1:a>A?1:a===A?0:isNaN(a)?isNaN(A)?0:-1:1}(t,e);case 3:return jC(t.timestampValue,e.timestampValue);case 4:return jC(Np(t),Np(e));case 5:return Lt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=gl(s),A=gl(o);return a.compareTo(A)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),A=o.split("/");for(let l=0;l<a.length&&l<A.length;l++){const u=Lt(a[l],A[l]);if(u!==0)return u}return Lt(a.length,A.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Lt(Fn(s.latitude),Fn(o.latitude));return a!==0?a:Lt(Fn(s.longitude),Fn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,A,l,u;const c=s.fields||{},p=o.fields||{},g=(a=c.value)===null||a===void 0?void 0:a.arrayValue,v=(A=p.value)===null||A===void 0?void 0:A.arrayValue,b=Lt(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:HC(g,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===VA.mapValue&&o===VA.mapValue)return 0;if(s===VA.mapValue)return 1;if(o===VA.mapValue)return-1;const a=s.fields||{},A=Object.keys(a),l=o.fields||{},u=Object.keys(l);A.sort(),u.sort();for(let c=0;c<A.length&&c<u.length;++c){const p=Lt(A[c],u[c]);if(p!==0)return p;const g=vl(a[A[c]],l[u[c]]);if(g!==0)return g}return Lt(A.length,u.length)}(t.mapValue,e.mapValue);default:throw gt()}}function jC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Lt(t,e);const n=Pa(t),r=Pa(e),i=Lt(n.seconds,r.seconds);return i!==0?i:Lt(n.nanos,r.nanos)}function HC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=vl(n[i],r[i]);if(s)return s}return Lt(n.length,r.length)}function Wd(t){return R2(t)}function R2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return at.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=R2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${R2(n.fields[o])}`;return i+"}"}(t.mapValue):gt()}function Gu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function D2(t){return!!t&&"integerValue"in t}function Qp(t){return!!t&&"arrayValue"in t}function VC(t){return!!t&&"nullValue"in t}function KC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function d0(t){return!!t&&"mapValue"in t}function Xv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function jf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ac(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const XT={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function xM(t){return"nullValue"in t?c0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Gu(ml.empty(),at.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Xv(t)?XT:{mapValue:{}}:gt()}function _M(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Gu(ml.empty(),at.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?XT:"mapValue"in t?Xv(t)?{mapValue:{}}:VA:gt()}function zC(t,e){const n=vl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function GC(t,e){const n=vl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!d0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jf(n)}setAll(e){let n=kn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const A=this.getFieldsMap(n);this.applyChanges(A,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=jf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());d0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Go(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];d0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ac(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vr(jf(this.value))}}function ZT(t){const e=[];return Ac(t.fields,(n,r)=>{const i=new kn([n]);if(d0(r)){const s=ZT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Cn(e,0,_t.min(),_t.min(),_t.min(),Vr.empty(),0)}static newFoundDocument(e,n,r,i){return new Cn(e,1,n,_t.min(),r,i,0)}static newNoDocument(e,n){return new Cn(e,2,n,_t.min(),_t.min(),Vr.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,_t.min(),_t.min(),Vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.position=e,this.inclusive=n}}function WC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=at.comparator(at.fromName(o.referenceValue),n.key):r=vl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function qC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Go(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n="asc"){this.field=e,this.dir=n}}function CM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{}class zt extends ek{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IM(e,n,r):n==="array-contains"?new FM(e,r):n==="in"?new ok(e,r):n==="not-in"?new TM(e,r):n==="array-contains-any"?new kM(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EM(e,r):new SM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vl(n,this.value)):n!==null&&zu(this.value)===zu(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends ek{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new An(e,n)}matches(e){return qd(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qd(t){return t.op==="and"}function O2(t){return t.op==="or"}function rx(t){return tk(t)&&qd(t)}function tk(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function M2(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+Wd(t.value);if(rx(t))return t.filters.map(e=>M2(e)).join(",");{const e=t.filters.map(n=>M2(n)).join(",");return`${t.op}(${e})`}}function nk(t,e){return t instanceof zt?function(r,i){return i instanceof zt&&r.op===i.op&&r.field.isEqual(i.field)&&Go(r.value,i.value)}(t,e):t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&nk(o,i.filters[a]),!0):!1}(t,e):void gt()}function rk(t,e){const n=t.filters.concat(e);return An.create(n,t.op)}function ik(t){return t instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wd(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(ik).join(" ,")+"}"}(t):"Filter"}class IM extends zt{constructor(e,n,r){super(e,n,r),this.key=at.fromName(r.referenceValue)}matches(e){const n=at.comparator(e.key,this.key);return this.matchesComparison(n)}}class EM extends zt{constructor(e,n){super(e,"in",n),this.keys=sk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SM extends zt{constructor(e,n){super(e,"not-in",n),this.keys=sk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>at.fromName(r.referenceValue))}class FM extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qp(n)&&Up(n.arrayValue,this.value)}}class ok extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Up(this.value.arrayValue,n)}}class TM extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Up(this.value.arrayValue,n)}}class kM extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Up(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function j2(t,e=null,n=[],r=[],i=null,s=null,o=null){return new NM(t,e,n,r,i,s,o)}function Wu(t){const e=ut(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>M2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ig(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wd(r)).join(",")),e.ue=n}return e.ue}function sg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qC(t.startAt,e.startAt)&&qC(t.endAt,e.endAt)}function tv(t){return at.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function nv(t,e){return t.filters.filter(n=>n instanceof zt&&n.field.isEqual(e))}function $C(t,e,n){let r=c0,i=!0;for(const s of nv(t,e)){let o=c0,a=!0;switch(s.op){case"<":case"<=":o=xM(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=c0}zC({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];zC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function JC(t,e,n){let r=VA,i=!0;for(const s of nv(t,e)){let o=VA,a=!0;switch(s.op){case">=":case">":o=_M(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=VA}GC({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];GC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,A=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ak(t,e,n,r,i,s,o,a){return new Va(t,e,n,r,i,s,o,a)}function ph(t){return new Va(t)}function YC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ix(t){return t.collectionGroup!==null}function Fd(t){const e=ut(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new hn(kn.comparator);return o.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Lp(s,r))}),n.has(kn.keyField().canonicalString())||e.ce.push(new Lp(kn.keyField(),r))}return e.ce}function Ii(t){const e=ut(t);return e.le||(e.le=UM(e,Fd(t))),e.le}function UM(t,e){if(t.limitType==="F")return j2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Lp(i.field,s)});const n=t.endAt?new wl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wl(t.startAt.position,t.startAt.inclusive):null;return j2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H2(t,e){const n=t.filters.concat([e]);return new Va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rv(t,e,n){return new Va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function og(t,e){return sg(Ii(t),Ii(e))&&t.limitType===e.limitType}function Ak(t){return`${Wu(Ii(t))}|lt:${t.limitType}`}function td(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ik(i)).join(", ")}]`),ig(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wd(i)).join(",")),`Target(${r})`}(Ii(t))}; limitType=${t.limitType})`}function ag(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):at.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Fd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,A){const l=WC(o,a,A);return o.inclusive?l<=0:l<0}(r.startAt,Fd(r),i)||r.endAt&&!function(o,a,A){const l=WC(o,a,A);return o.inclusive?l>=0:l>0}(r.endAt,Fd(r),i))}(t,e)}function lk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uk(t){return(e,n)=>{let r=!1;for(const i of Fd(t)){const s=QM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QM(t,e,n){const r=t.field.isKeyField()?at.comparator(e.key,n.key):function(s,o,a){const A=o.data.field(s),l=a.data.field(s);return A!==null&&l!==null?vl(A,l):gt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ac(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new Bn(at.comparator);function Ki(){return LM}const ck=new Bn(at.comparator);function wf(...t){let e=ck;for(const n of t)e=e.insert(n.key,n);return e}function dk(t){let e=ck;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Po(){return Hf()}function hk(){return Hf()}function Hf(){return new Ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const PM=new Bn(at.comparator),RM=new hn(at.comparator);function Dt(...t){let e=RM;for(const n of t)e=e.add(n);return e}const DM=new hn(Lt);function sx(){return DM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(e)?"-0":e}}function fk(t){return{integerValue:""+t}}function pk(t,e){return KT(e)?fk(e):ox(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this._=void 0}}function OM(t,e,n){return t instanceof $d?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yv(s)&&(s=nx(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof qu?mk(t,e):t instanceof $u?vk(t,e):function(i,s){const o=gk(i,s),a=XC(o)+XC(i.Pe);return D2(o)&&D2(i.Pe)?fk(a):ox(i.serializer,a)}(t,e)}function MM(t,e,n){return t instanceof qu?mk(t,e):t instanceof $u?vk(t,e):n}function gk(t,e){return t instanceof Jd?function(r){return D2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class $d extends Zv{}class qu extends Zv{constructor(e){super(),this.elements=e}}function mk(t,e){const n=wk(e);for(const r of t.elements)n.some(i=>Go(i,r))||n.push(r);return{arrayValue:{values:n}}}class $u extends Zv{constructor(e){super(),this.elements=e}}function vk(t,e){let n=wk(e);for(const r of t.elements)n=n.filter(i=>!Go(i,r));return{arrayValue:{values:n}}}class Jd extends Zv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function XC(t){return Fn(t.integerValue||t.doubleValue)}function wk(t){return Qp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.field=e,this.transform=n}}function jM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qu&&i instanceof qu||r instanceof $u&&i instanceof $u?Gd(r.elements,i.elements,Go):r instanceof Jd&&i instanceof Jd?Go(r.Pe,i.Pe):r instanceof $d&&i instanceof $d}(t.transform,e.transform)}class HM{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function h0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ew{}function yk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mh(t.key,Nn.none()):new gh(t.key,t.data,Nn.none());{const n=t.data,r=Vr.empty();let i=new hn(kn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ka(t.key,r,new Vi(i.toArray()),Nn.none())}}function VM(t,e,n){t instanceof gh?function(i,s,o){const a=i.value.clone(),A=eI(i.fieldTransforms,s,o.transformResults);a.setAll(A),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ka?function(i,s,o){if(!h0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=eI(i.fieldTransforms,s,o.transformResults),A=s.data;A.setAll(Bk(i)),A.setAll(a),s.convertToFoundDocument(o.version,A).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vf(t,e,n,r){return t instanceof gh?function(s,o,a,A){if(!h0(s.precondition,o))return a;const l=s.value.clone(),u=tI(s.fieldTransforms,A,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ka?function(s,o,a,A){if(!h0(s.precondition,o))return a;const l=tI(s.fieldTransforms,A,o),u=o.data;return u.setAll(Bk(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(s,o,a){return h0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function KM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gk(r.transform,i||null);s!=null&&(n===null&&(n=Vr.empty()),n.set(r.field,s))}return n||null}function ZC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gd(r,i,(s,o)=>jM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gh extends ew{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ka extends ew{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Bk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eI(t,e,n){const r=new Map;bt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,MM(o,a,n[i]))}return r}function tI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,OM(s,o,e))}return r}class mh extends ew{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ax extends ew{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const A=yk(o,a);A!==null&&r.set(i.key,A),o.isValidDocument()||o.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Dt())}isEqual(e){return this.batchId===e.batchId&&Gd(this.mutations,e.mutations,(n,r)=>ZC(n,r))&&Gd(this.baseMutations,e.baseMutations,(n,r)=>ZC(n,r))}}class lx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bt(e.mutations.length===r.length);let i=function(){return PM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr,qt;function bk(t){switch(t){default:return gt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function xk(t){if(t===void 0)return or("GRPC error has no .code"),Se.UNKNOWN;switch(t){case fr.OK:return Se.OK;case fr.CANCELLED:return Se.CANCELLED;case fr.UNKNOWN:return Se.UNKNOWN;case fr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case fr.INTERNAL:return Se.INTERNAL;case fr.UNAVAILABLE:return Se.UNAVAILABLE;case fr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case fr.NOT_FOUND:return Se.NOT_FOUND;case fr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case fr.ABORTED:return Se.ABORTED;case fr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case fr.DATA_LOSS:return Se.DATA_LOSS;default:return gt()}}(qt=fr||(fr={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new Tu([4294967295,4294967295],0);function nI(t){const e=_k().encode(t),n=new TT;return n.update(e),new Uint8Array(n.digest())}function rI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Tu([n,r],0),new Tu([i,s],0)]}class cx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yf(`Invalid padding: ${n}`);if(r<0)throw new yf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Tu.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Tu.fromNumber(r)));return i.compare(GM)===1&&(i=new Tu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=nI(e),[r,i]=rI(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new cx(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=nI(e),[r,i]=rI(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ug.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lg(_t.min(),i,new Bn(Lt),Ki(),Dt())}}class ug{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ug(r,n,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Ck{constructor(e,n){this.targetId=e,this.me=n}}class Ik{constructor(e,n,r=Gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iI{constructor(){this.fe=0,this.ge=oI(),this.pe=Gn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Dt(),n=Dt(),r=Dt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new ug(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=oI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ki(),this.qe=sI(),this.Qe=new Bn(Lt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:gt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(tv(s))if(r===0){const o=new at(s.path);this.Ue(n,o,Cn.newNoDocument(o,_t.min()))}else bt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),A=a?this.Xe(a,e,o):1;if(A!==0){this.je(n);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=gl(r).toUint8Array()}catch(A){if(A instanceof JT)return zo("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{a=new cx(o,i,s)}catch(A){return zo(A instanceof yf?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&tv(a.target)){const A=new at(a.target.path);this.ke.get(A)!==null||this.it(o,A)||this.Ue(o,A,Cn.newNoDocument(A,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Dt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new lg(e,n,this.Qe,this.ke,r);return this.ke=Ki(),this.qe=sI(),this.Qe=new Bn(Lt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new iI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new hn(Lt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new iI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function sI(){return new Bn(at.comparator)}function oI(){return new Bn(at.comparator)}const qM={asc:"ASCENDING",desc:"DESCENDING"},$M={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JM={and:"AND",or:"OR"};class YM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function V2(t,e){return t.useProto3Json||ig(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ek(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XM(t,e){return Yd(t,e.toTimestamp())}function ar(t){return bt(!!t),_t.fromTimestamp(function(n){const r=Pa(n);return new Un(r.seconds,r.nanos)}(t))}function dx(t,e){return K2(t,e).canonicalString()}function K2(t,e){const n=function(i){return new Kt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Sk(t){const e=Kt.fromString(t);return bt(Dk(e)),e}function Pp(t,e){return dx(t.databaseId,e.path)}function Ho(t,e){const n=Sk(e);if(n.get(1)!==t.databaseId.projectId)throw new Ye(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ye(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new at(kk(n))}function Fk(t,e){return dx(t.databaseId,e)}function Tk(t){const e=Sk(t);return e.length===4?Kt.emptyPath():kk(e)}function z2(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kk(t){return bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aI(t,e,n){return{name:Pp(t,e),fields:n.value.mapValue.fields}}function Nk(t,e,n){const r=Ho(t,e.name),i=ar(e.updateTime),s=e.createTime?ar(e.createTime):_t.min(),o=new Vr({mapValue:{fields:e.fields}}),a=Cn.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ZM(t,e){return"found"in e?function(r,i){bt(!!i.found),i.found.name,i.found.updateTime;const s=Ho(r,i.found.name),o=ar(i.found.updateTime),a=i.found.createTime?ar(i.found.createTime):_t.min(),A=new Vr({mapValue:{fields:i.found.fields}});return Cn.newFoundDocument(s,o,a,A)}(t,e):"missing"in e?function(r,i){bt(!!i.missing),bt(!!i.readTime);const s=Ho(r,i.missing),o=ar(i.readTime);return Cn.newNoDocument(s,o)}(t,e):gt()}function ej(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:gt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(bt(u===void 0||typeof u=="string"),Gn.fromBase64String(u||"")):(bt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Gn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?Se.UNKNOWN:xk(l.code);return new Ye(u,l.message||"")}(o);n=new Ik(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ho(t,r.document.name),s=ar(r.document.updateTime),o=r.document.createTime?ar(r.document.createTime):_t.min(),a=new Vr({mapValue:{fields:r.document.fields}}),A=Cn.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new f0(l,u,A.key,A)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ho(t,r.document),s=r.readTime?ar(r.readTime):_t.min(),o=Cn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new f0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ho(t,r.document),s=r.removedTargetIds||[];n=new f0([],s,i,null)}else{if(!("filter"in e))return gt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zM(i,s),a=r.targetId;n=new Ck(a,o)}}return n}function Rp(t,e){let n;if(e instanceof gh)n={update:aI(t,e.key,e.value)};else if(e instanceof mh)n={delete:Pp(t,e.key)};else if(e instanceof Ka)n={update:aI(t,e.key,e.data),updateMask:oj(e.fieldMask)};else{if(!(e instanceof ax))return gt();n={verify:Pp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $d)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $u)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw gt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:XM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:gt()}(t,e.precondition)),n}function G2(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Nn.updateTime(ar(s.updateTime)):s.exists!==void 0?Nn.exists(s.exists):Nn.none()}(e.currentDocument):Nn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let A=null;if("setToServerValue"in a)bt(a.setToServerValue==="REQUEST_TIME"),A=new $d;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];A=new qu(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];A=new $u(u)}else"increment"in a?A=new Jd(o,a.increment):gt();const l=kn.fromServerFormat(a.fieldPath);return new Ag(l,A)}(t,i)):[];if(e.update){e.update.name;const i=Ho(t,e.update.name),s=new Vr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(A){const l=A.fieldPaths||[];return new Vi(l.map(u=>kn.fromServerFormat(u)))}(e.updateMask);return new Ka(i,s,o,n,r)}return new gh(i,s,n,r)}if(e.delete){const i=Ho(t,e.delete);return new mh(i,n)}if(e.verify){const i=Ho(t,e.verify);return new ax(i,n)}return gt()}function tj(t,e){return t&&t.length>0?(bt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ar(i.updateTime):ar(s);return o.isEqual(_t.min())&&(o=ar(s)),new HM(o,i.transformResults||[])}(n,e))):[]}function Uk(t,e){return{documents:[Fk(t,e.path)]}}function Qk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fk(t,i);const s=function(l){if(l.length!==0)return Rk(An.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(u=>function(p){return{field:nd(p.field),direction:rj(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=V2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function Lk(t){let e=Tk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(c){const p=Pk(c);return p instanceof An&&rx(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(c){return c.map(p=>function(v){return new Lp(rd(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(c){let p;return p=typeof c=="object"?c.value:c,ig(p)?null:p}(n.limit));let A=null;n.startAt&&(A=function(c){const p=!!c.before,g=c.values||[];return new wl(g,p)}(n.startAt));let l=null;return n.endAt&&(l=function(c){const p=!c.before,g=c.values||[];return new wl(g,p)}(n.endAt)),ak(e,i,o,s,a,"F",A,l)}function nj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Pk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rd(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rd(n.unaryFilter.field);return zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rd(n.unaryFilter.field);return zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rd(n.unaryFilter.field);return zt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(t):t.fieldFilter!==void 0?function(n){return zt.create(rd(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>Pk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return gt()}}(n.compositeFilter.op))}(t):gt()}function rj(t){return qM[t]}function ij(t){return $M[t]}function sj(t){return JM[t]}function nd(t){return{fieldPath:t.canonicalString()}}function rd(t){return kn.fromServerFormat(t.fieldPath)}function Rk(t){return t instanceof zt?function(n){if(n.op==="=="){if(KC(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NAN"}};if(VC(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KC(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NOT_NAN"}};if(VC(n.value))return{unaryFilter:{field:nd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(n.field),op:ij(n.op),value:n.value}}}(t):t instanceof An?function(n){const r=n.getFilters().map(i=>Rk(i));return r.length===1?r[0]:{compositeFilter:{op:sj(n.op),filters:r}}}(t):gt()}function oj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Dk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,r,i,s=_t.min(),o=_t.min(),a=Gn.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=A}withSequenceNumber(e){return new xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.ct=e}}function aj(t,e){let n;if(e.document)n=Nk(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=at.fromSegments(e.noDocument.path),i=Yu(e.noDocument.readTime);n=Cn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const r=at.fromSegments(e.unknownDocument.path),i=Yu(e.unknownDocument.version);n=Cn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Un(i[0],i[1]);return _t.fromTimestamp(s)}(e.readTime)),n}function AI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:iv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Pp(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Yd(s,o.version.toTimestamp()),createTime:Yd(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ju(e.version)};else{if(!e.isUnknownDocument())return gt();r.unknownDocument={path:n.path.toArray(),version:Ju(e.version)}}return r}function iv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ju(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yu(t){const e=new Un(t.seconds,t.nanoseconds);return _t.fromTimestamp(e)}function fu(t,e){const n=(e.baseMutations||[]).map(s=>G2(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>G2(t.ct,s)),i=Un.fromMillis(e.localWriteTimeMs);return new Ax(e.batchId,i,n,r)}function Bf(t){const e=Yu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Yu(t.lastLimboFreeSnapshotVersion):_t.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return bt(s.documents.length===1),Ii(ph(Tk(s.documents[0])))}(t.query):function(s){return Ii(Lk(s))}(t.query),new xa(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Gn.fromBase64String(t.resumeToken))}function Mk(t,e){const n=Ju(e.snapshotVersion),r=Ju(e.lastLimboFreeSnapshotVersion);let i;i=tv(e.target)?Uk(t.ct,e.target):Qk(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function hx(t){const e=Lk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rv(e,e.limit,"L"):e}function j1(t,e){return new ux(e.largestBatchId,G2(t.ct,e.overlayMutation))}function lI(t,e){const n=e.path.lastSegment();return[t,Ci(e.path.popLast()),n]}function uI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ju(r.readTime),documentKey:Ci(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{getBundleMetadata(e,n){return cI(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Yu(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return cI(e).put(function(i){return{bundleId:i.id,createTime:Ju(ar(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return dI(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:hx(s.bundledQuery),readTime:Yu(s.readTime)}}(r)})}saveNamedQuery(e,n){return dI(e).put(function(i){return{name:i.name,readTime:Ju(ar(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function cI(t){return Ir(t,"bundles")}function dI(t){return Ir(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new tw(e,r)}getOverlay(e,n){return Xh(e).get(lI(this.userId,n)).next(r=>r?j1(this.serializer,r):null)}getOverlays(e,n){const r=Po();return Ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new ux(n,o);i.push(this.ht(e,a))}),Ie.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Ci(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Xh(e).j("collectionPathOverlayIndex",a))}),Ie.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Po(),s=Ci(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Xh(e).U("collectionPathOverlayIndex",o).next(a=>{for(const A of a){const l=j1(this.serializer,A);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Po();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Xh(e).J({index:"collectionGroupOverlayIndex",range:a},(A,l,u)=>{const c=j1(this.serializer,l);s.size()<i||c.largestBatchId===o?(s.set(c.getKey(),c),o=c.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return Xh(e).put(function(i,s,o){const[a,A,l]=lI(s,o.mutation.key);return{userId:s,collectionPath:A,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Rp(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Xh(t){return Ir(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{Pt(e){return Ir(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Gn.fromUint8Array(r):Gn.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Fn(e.integerValue));else if("doubleValue"in e){const r=Fn(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),kp(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Pa(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(gl(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?YT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Xv(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):gt()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Fn(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),at.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}pu.vt=new pu;function uj(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function hI(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=uj(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class cj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=hI(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=hI(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class dj{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class hj{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Zh{constructor(){this.jt=new cj,this.Ht=new dj(this.jt),this.Jt=new hj(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new gu(this.indexId,this.documentKey,this.arrayValue,r)}}function _A(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=fI(t.arrayValue,e.arrayValue),n!==0?n:(n=fI(t.directionalValue,e.directionalValue),n!==0?n:at.comparator(t.documentKey,e.documentKey)))}function fI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.Xt=new hn((n,r)=>kn.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(bt(e.collectionGroup===this.collectionId),this.nn)return!1;const n=L2(e);if(n!==void 0&&!this.sn(n))return!1;const r=uu(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const A=r[s];if(!this.on(a,A)||!this._n(this.en[o++],A))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new hn(kn.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new l0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new l0(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new l0(r.field,r.dir==="asc"?0:1)));return new ev(ev.UNKNOWN_ID,this.collectionId,n,Tp.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){var e,n;if(bt(t instanceof zt||t instanceof An),t instanceof zt){if(t instanceof ok){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>zt.create(t.field,"==",s)))||[];return An.create(i,"or")}return t}const r=t.filters.map(i=>jk(i));return An.create(r,t.op)}function fj(t){if(t.getFilters().length===0)return[];const e=$2(jk(t));return bt(Hk(e)),W2(e)||q2(e)?[e]:e.getFilters()}function W2(t){return t instanceof zt}function q2(t){return t instanceof An&&rx(t)}function Hk(t){return W2(t)||q2(t)||function(n){if(n instanceof An&&O2(n)){for(const r of n.getFilters())if(!W2(r)&&!q2(r))return!1;return!0}return!1}(t)}function $2(t){if(bt(t instanceof zt||t instanceof An),t instanceof zt)return t;if(t.filters.length===1)return $2(t.filters[0]);const e=t.filters.map(r=>$2(r));let n=An.create(e,t.op);return n=sv(n),Hk(n)?n:(bt(n instanceof An),bt(qd(n)),bt(n.filters.length>1),n.filters.reduce((r,i)=>fx(r,i)))}function fx(t,e){let n;return bt(t instanceof zt||t instanceof An),bt(e instanceof zt||e instanceof An),n=t instanceof zt?e instanceof zt?function(i,s){return An.create([i,s],"and")}(t,e):gI(t,e):e instanceof zt?gI(e,t):function(i,s){if(bt(i.filters.length>0&&s.filters.length>0),qd(i)&&qd(s))return rk(i,s.getFilters());const o=O2(i)?i:s,a=O2(i)?s:i,A=o.filters.map(l=>fx(l,a));return An.create(A,"or")}(t,e),sv(n)}function gI(t,e){if(qd(e))return rk(e,t.getFilters());{const n=e.filters.map(r=>fx(t,r));return An.create(n,"or")}}function sv(t){if(bt(t instanceof zt||t instanceof An),t instanceof zt)return t;const e=t.getFilters();if(e.length===1)return sv(e[0]);if(tk(t))return t;const n=e.map(i=>sv(i)),r=[];return n.forEach(i=>{i instanceof zt?r.push(i):i instanceof An&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:An.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.un=new px}addToCollectionParentIndex(e,n){return this.un.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(ds.min())}updateCollectionGroup(e,n,r){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}}class px{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hn(Kt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new Uint8Array(0);class gj{constructor(e,n){this.databaseId=n,this.cn=new px,this.ln=new Ul(r=>Wu(r),(r,i)=>sg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const s={collectionId:r,parent:Ci(i)};return mI(e).put(s)}return Ie.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[DT(n),""],!1,!0);return mI(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Lo(o.parent))}return r})}addFieldIndex(e,n){const r=ef(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Hc(e);return s.next(a=>{o.put(uI(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=ef(e),i=Hc(e),s=jc(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=ef(e),r=jc(e),i=Hc(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return Ie.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new pI(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=jc(e);let i=!0;const s=new Map;return Ie.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Dt();const a=[];return Ie.forEach(s,(A,l)=>{Xe("IndexedDbIndexManager",`Using index ${function(x){return`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(U=>`${U.fieldPath}:${U.kind}`).join(",")}`}(A)} to execute ${Wu(n)}`);const u=function(x,U){const P=L2(U);if(P===void 0)return null;for(const M of nv(x,P.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(l,A),c=function(x,U){const P=new Map;for(const M of uu(U))for(const S of nv(x,M.fieldPath))switch(S.op){case"==":case"in":P.set(M.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return P.set(M.fieldPath.canonicalString(),S.value),Array.from(P.values())}return null}(l,A),p=function(x,U){const P=[];let M=!0;for(const S of uu(U)){const _=S.kind===0?$C(x,S.fieldPath,x.startAt):JC(x,S.fieldPath,x.startAt);P.push(_.value),M&&(M=_.inclusive)}return new wl(P,M)}(l,A),g=function(x,U){const P=[];let M=!0;for(const S of uu(U)){const _=S.kind===0?JC(x,S.fieldPath,x.endAt):$C(x,S.fieldPath,x.endAt);P.push(_.value),M&&(M=_.inclusive)}return new wl(P,M)}(l,A),v=this.In(A,l,p),b=this.In(A,l,g),E=this.Tn(A,l,c),y=this.En(A.indexId,u,v,p.inclusive,b,g.inclusive,E);return Ie.forEach(y,w=>r.G(w,n.limit).next(x=>{x.forEach(U=>{const P=at.fromSegments(U.documentKey);o.has(P)||(o=o.add(P),a.push(P))})}))}).next(()=>a)}return Ie.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=fj(An.create(e.filters,"and")).map(r=>j2(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){const A=(n!=null?n.length:1)*Math.max(r.length,s.length),l=A/(n!=null?n.length:1),u=[];for(let c=0;c<A;++c){const p=n?this.dn(n[c/l]):mm,g=this.An(e,p,r[c%l],i),v=this.Rn(e,p,s[c%l],o),b=a.map(E=>this.An(e,p,E,!0));u.push(...this.createRange(g,v,b))}return u}An(e,n,r,i){const s=new gu(e,at.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new gu(e,at.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new pI(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.hn(n);return Ie.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(A){let l=new hn(kn.comparator),u=!1;for(const c of A.filters)for(const p of c.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?u=!0:l=l.add(p.field));for(const c of A.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Zh;for(const i of uu(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);pu.vt.It(s,o)}return r.zt()}dn(e){const n=new Zh;return pu.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Zh;return pu.vt.It(Gu(this.databaseId,n),r.Yt(function(s){const o=uu(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Zh);let s=0;for(const o of uu(e)){const a=r[s++];for(const A of i)if(this.fn(n,o.fieldPath)&&Qp(a))i=this.gn(i,o,a);else{const l=A.Yt(o.kind);pu.vt.It(a,l)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const A=new Zh;A.seed(a.zt()),pu.vt.It(o,A.Yt(n.kind)),s.push(A)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof zt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=ef(e),i=Hc(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return Ie.forEach(s,a=>i.get([a.indexId,this.uid]).next(A=>{o.push(function(u,c){const p=c?new Tp(c.sequenceNumber,new ds(Yu(c.readTime),new at(Lo(c.documentKey)),c.largestBatchId)):Tp.empty(),g=u.fields.map(([v,b])=>new l0(kn.fromServerFormat(v),b));return new ev(u.indexId,u.collectionGroup,g,p)}(a,A))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Lt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=ef(e),s=Hc(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>Ie.forEach(a,A=>s.put(uI(A.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return Ie.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?Ie.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Ie.forEach(a,A=>this.wn(e,i,A).next(l=>{const u=this.Sn(s,A);return l.isEqual(u)?Ie.resolve():this.bn(e,s,A,l,u)}))))})}Dn(e,n,r,i){return jc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return jc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=jc(e);let s=new hn(_A);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new gu(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new hn(_A);const i=this.Vn(n,e);if(i==null)return r;const s=L2(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Qp(o))for(const a of o.arrayValue.values||[])r=r.add(new gu(n.indexId,e.key,this.dn(a),i))}else r=r.add(new gu(n.indexId,e.key,mm,i));return r}bn(e,n,r,i,s){Xe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(A,l,u,c,p){const g=A.getIterator(),v=l.getIterator();let b=Mc(g),E=Mc(v);for(;b||E;){let y=!1,w=!1;if(b&&E){const x=u(b,E);x<0?w=!0:x>0&&(y=!0)}else b!=null?w=!0:y=!0;y?(c(E),E=Mc(v)):w?(p(b),b=Mc(g)):(b=Mc(g),E=Mc(v))}}(i,s,_A,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),Ie.waitFor(o)}yn(e){let n=1;return Hc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>_A(o,a)).filter((o,a,A)=>!a||_A(o,A[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=_A(o,e),A=_A(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&A<0)i.push(o),i.push(o.Zt());else if(A>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,mm,[]],A=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,mm,[]];s.push(IDBKeyRange.bound(a,A))}return s}Cn(e,n){return _A(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(vI)}getMinOffset(e,n){return Ie.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||gt())).next(vI)}}function mI(t){return Ir(t,"collectionParents")}function jc(t){return Ir(t,"indexEntries")}function ef(t){return Ir(t,"indexConfiguration")}function Hc(t){return Ir(t,"indexState")}function vI(t){bt(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Zb(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ds(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ri{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const A=r.J({range:o},(u,c,p)=>(a++,p.delete()));s.push(A.next(()=>{bt(a===1)}));const l=[];for(const u of n.mutations){const c=zT(e,u.key.path,n.batchId);s.push(i.delete(c)),l.push(u.key)}return Ie.waitFor(s).next(()=>l)}function ov(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw gt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(41943040,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);class nw{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){bt(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new nw(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return CA(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=id(e),o=CA(e);return o.add({}).next(a=>{bt(typeof a=="number");const A=new Ax(a,n,r,i),l=function(g,v,b){const E=b.baseMutations.map(w=>Rp(g.ct,w)),y=b.mutations.map(w=>Rp(g.ct,w));return{userId:v,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:E,mutations:y}}(this.serializer,this.userId,A),u=[];let c=new hn((p,g)=>Lt(p.canonicalString(),g.canonicalString()));for(const p of i){const g=zT(this.userId,p.key.path,a);c=c.add(p.key.path.popLast()),u.push(o.put(l)),u.push(s.put(g,nM))}return c.forEach(p=>{u.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Fn[a]=A.keys()}),Ie.waitFor(u).next(()=>A)})}lookupMutationBatch(e,n){return CA(e).get(n).next(r=>r?(bt(r.userId===this.userId),fu(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?Ie.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return CA(e).J({index:"userMutationsIndex",range:i},(o,a,A)=>{a.userId===this.userId&&(bt(a.batchId>=r),s=fu(this.serializer,a)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return CA(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return CA(e).U("userMutationsIndex",n).next(r=>r.map(i=>fu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=u0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return id(e).J({range:i},(o,a,A)=>{const[l,u,c]=o,p=Lo(u);if(l===this.userId&&n.path.isEqual(p))return CA(e).get(c).next(g=>{if(!g)throw gt();bt(g.userId===this.userId),s.push(fu(this.serializer,g))});A.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(Lt);const i=[];return n.forEach(s=>{const o=u0(this.userId,s.path),a=IDBKeyRange.lowerBound(o),A=id(e).J({range:a},(l,u,c)=>{const[p,g,v]=l,b=Lo(g);p===this.userId&&s.path.isEqual(b)?r=r.add(v):c.done()});i.push(A)}),Ie.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=u0(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new hn(Lt);return id(e).J({range:o},(A,l,u)=>{const[c,p,g]=A,v=Lo(p);c===this.userId&&r.isPrefixOf(v)?v.length===i&&(a=a.add(g)):u.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(CA(e).get(s).next(o=>{if(o===null)throw gt();bt(o.userId===this.userId),r.push(fu(this.serializer,o))}))}),Ie.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Vk(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),Ie.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ie.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return id(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const A=Lo(s[1]);i.push(A)}else a.done()}).next(()=>{bt(i.length===0)})})}containsKey(e,n){return Kk(e,this.userId,n)}Nn(e){return zk(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kk(t,e,n){const r=u0(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return id(t).J({range:s,H:!0},(a,A,l)=>{const[u,c,p]=a;u===e&&c===i&&(o=!0),l.done()}).next(()=>o)}function CA(t){return Ir(t,"mutations")}function id(t){return Ir(t,"documentMutations")}function zk(t){return Ir(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xu(0)}static kn(){return new Xu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Xu(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>_t.fromTimestamp(new Un(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Vc(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(bt(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Vc(e).J((o,a)=>{const A=Bf(a);A.sequenceNumber<=n&&r.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>Ie.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Vc(e).J((r,i)=>{const s=Bf(i);n(s)})}qn(e){return yI(e).get("targetGlobalKey").next(n=>(bt(n!==null),n))}Qn(e,n){return yI(e).put("targetGlobalKey",n)}Kn(e,n){return Vc(e).put(Mk(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Wu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Vc(e).J({range:i,index:"queryTargetsIndex"},(o,a,A)=>{const l=Bf(a);sg(n,l.target)&&(s=l,A.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=RA(e);return n.forEach(o=>{const a=Ci(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),Ie.waitFor(i)}removeMatchingKeys(e,n,r){const i=RA(e);return Ie.forEach(n,s=>{const o=Ci(s.path);return Ie.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=RA(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=RA(e);let s=Dt();return i.J({range:r,H:!0},(o,a,A)=>{const l=Lo(o[1]),u=new at(l);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=Ci(n.path),i=IDBKeyRange.bound([r],[DT(r)],!1,!0);let s=0;return RA(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],A,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,n){return Vc(e).get(n).next(r=>r?Bf(r):null)}}function Vc(t){return Ir(t,"targets")}function yI(t){return Ir(t,"targetGlobal")}function RA(t){return Ir(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI([t,e],[n,r]){const i=Lt(t,n);return i===0?Lt(e,r):i}class vj{constructor(e){this.Un=e,this.buffer=new hn(BI),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();BI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nl(n)?Xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await kl(n)}await this.Hn(3e5)})}}class yj{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ie.resolve(Hi.oe);const r=new vj(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(wI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wI):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,A,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),i=this.params.maximumSequenceNumbersToCollect):i=c,o=Date.now(),this.nthSequenceNumber(e,i))).next(c=>(r=c,a=Date.now(),this.removeTargets(e,r,n))).next(c=>(s=c,A=Date.now(),this.removeOrphanedDocuments(e,r))).next(c=>(l=Date.now(),ed()<=Ot.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(A-a)+`ms
	Removed ${c} documents in `+(l-A)+`ms
Total Duration: ${l-u}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:c})))}}function Bj(t,e){return new yj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n){this.db=e,this.garbageCollector=Bj(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return vm(e,r)}removeReference(e,n,r){return vm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return vm(e,n)}nr(e,n){return function(i,s){let o=!1;return zk(i).Y(a=>Kk(i,a,s).next(A=>(A&&(o=!0),Ie.resolve(!A)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=n){const A=this.nr(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,_t.min()),RA(e).delete(function(c){return[0,Ci(c.path)]}(o))))});i.push(A)}}).next(()=>Ie.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return vm(e,n)}tr(e,n){const r=RA(e);let i,s=Hi.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:A,sequenceNumber:l})=>{o===0?(s!==Hi.oe&&n(new at(Lo(i)),s),s=l,i=A):s=Hi.oe}).next(()=>{s!==Hi.oe&&n(new at(Lo(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vm(t,e){return RA(t).put(function(r,i){return{targetId:0,path:Ci(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.changes=new Ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return iu(e).put(r)}removeEntry(e,n,r){return iu(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],iv(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Cn.newInvalidDocument(n);return iu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tf(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:Cn.newInvalidDocument(n)};return iu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tf(n))},(i,s)=>{r={document:this.ir(n,s),size:ov(s)}}).next(()=>r)}getEntries(e,n){let r=Ki();return this._r(e,n,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Ki(),i=new Bn(at.comparator);return this._r(e,n,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,ov(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return Ie.resolve();let i=new hn(_I);n.forEach(A=>i=i.add(A));const s=IDBKeyRange.bound(tf(i.first()),tf(i.last())),o=i.getIterator();let a=o.getNext();return iu(e).J({index:"documentKeyIndex",range:s},(A,l,u)=>{const c=at.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&_I(a,c)<0;)r(a,null),a=o.getNext();a&&a.isEqual(c)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?u.$(tf(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),iv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],A=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return iu(e).U(IDBKeyRange.bound(a,A,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let u=Ki();for(const c of l){const p=this.ir(at.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);p.isFoundDocument()&&(ag(n,p)||i.has(p.key))&&(u=u.insert(p.key,p))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Ki();const o=xI(n,r),a=xI(n,ds.max());return iu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(A,l,u)=>{const c=this.ir(at.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(c.key,c),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new _j(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return bI(e).get("remoteDocumentGlobalKey").next(n=>(bt(!!n),n))}rr(e,n){return bI(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=aj(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(_t.min())))return r}return Cn.newInvalidDocument(e)}}function Wk(t){return new xj(t)}class _j extends Gk{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Ul(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new hn((s,o)=>Lt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const A=AI(this.cr.serializer,o);i=i.add(s.path.popLast());const l=ov(A);r+=l-a.size,n.push(this.cr.addEntry(e,s,A))}else if(r-=a.size,this.trackRemovals){const A=AI(this.cr.serializer,o.convertToNoDocument(_t.min()));n.push(this.cr.addEntry(e,s,A))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),Ie.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function bI(t){return Ir(t,"remoteDocumentGlobal")}function iu(t){return Ir(t,"remoteDocumentsV14")}function tf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xI(t,e){const n=e.documentKey.path.toArray();return[t,iv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _I(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Lt(n[s],r[s]),i)return i;return i=Lt(n.length,r.length),i||(i=Lt(n[n.length-2],r[r.length-2]),i||Lt(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Vf(r.mutation,i,Vi.empty(),Un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Dt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Dt()){const i=Po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wf();return s.forEach((a,A)=>{o=o.insert(a,A.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Dt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ki();const o=Hf(),a=function(){return Hf()}();return n.forEach((A,l)=>{const u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Ka)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Vf(u.mutation,l,u.mutation.getFieldMask(),Un.now())):o.set(l.key,Vi.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var c;return a.set(l,new Cj(u,(c=o.get(l))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hf();let i=new Bn((o,a)=>o-a),s=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(A=>{const l=n.get(A);if(l===null)return;let u=r.get(A)||Vi.empty();u=a.applyToLocalView(l,u),r.set(A,u);const c=(i.get(a.batchId)||Dt()).add(A);i=i.insert(a.batchId,c)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const A=a.getNext(),l=A.key,u=A.value,c=hk();u.forEach(p=>{if(!s.has(p)){const g=yk(n.get(p),r.get(p));g!==null&&c.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,c))}return Ie.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ix(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ie.resolve(Po());let a=-1,A=s;return o.next(l=>Ie.forEach(l,(u,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),s.get(u)?Ie.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{A=A.insert(u,p)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,Dt())).next(u=>({batchId:a,changes:dk(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new at(n)).next(r=>{let i=wf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wf();return this.indexManager.getCollectionParents(e,s).next(a=>Ie.forEach(a,A=>{const l=function(c,p){return new Va(p,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((c,p)=>{o=o.insert(c,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((A,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Cn.newInvalidDocument(u)))});let a=wf();return o.forEach((A,l)=>{const u=s.get(A);u!==void 0&&Vf(u.mutation,l,Vi.empty(),Un.now()),ag(n,l)&&(a=a.insert(A,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ie.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ar(i.createTime)}}(n)),Ie.resolve()}getNamedQuery(e,n){return Ie.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:hx(i.bundledQuery),readTime:ar(i.readTime)}}(n)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(){this.overlays=new Bn(at.comparator),this.Ir=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Po();return Ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Ie.resolve()}getOverlaysForCollection(e,n,r){const i=Po(),s=n.length+1,o=new at(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const A=a.getNext().value,l=A.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&A.largestBatchId>r&&i.set(A.getKey(),A)}return Ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Bn((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=Po(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Po(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return Ie.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ux(n,r));let s=this.Ir.get(n);s===void 0&&(s=Dt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.Tr=new hn(Tr.Er),this.dr=new hn(Tr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Tr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Tr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new at(new Kt([])),r=new Tr(n,e),i=new Tr(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new at(new Kt([])),r=new Tr(n,e),i=new Tr(n,e+1);let s=Dt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return at.comparator(e.key,n.key)||Lt(e.wr,n.wr)}static Ar(e,n){return Lt(e.wr,n.wr)||at.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new hn(Tr.Er)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ax(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Tr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ie.resolve(o)}lookupMutationBatch(e,n){return Ie.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tr(n,0),i=new Tr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(Lt);return n.forEach(i=>{const s=new Tr(i,0),o=new Tr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Ie.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;at.isDocumentKey(s)||(s=s.child(""));const o=new Tr(new at(s),0);let a=new hn(Lt);return this.br.forEachWhile(A=>{const l=A.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(A.wr)),!0)},o),Ie.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){bt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ie.forEach(n.mutations,i=>{const s=new Tr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Tr(n,0),i=this.br.firstAfterOrEqual(r);return Ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.Mr=e,this.docs=function(){return new Bn(at.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ie.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=Ki();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Cn.newInvalidDocument(i))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ki();const o=n.path,a=new at(o.child("")),A=this.docs.getIteratorFrom(a);for(;A.hasNext();){const{key:l,value:{document:u}}=A.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Zb(MT(u),r)<=0||(i.has(u.key)||ag(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){gt()}Or(e,n){return Ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kj(this)}getSize(e){return Ie.resolve(this.size)}}class kj extends Gk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Ie.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.persistence=e,this.Nr=new Ul(n=>Wu(n),sg),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gx,this.targetCount=0,this.kr=Xu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ie.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.Kn(n),Ie.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ie.waitFor(s).next(()=>i)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ie.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ie.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ie.resolve(r)}containsKey(e,n){return Ie.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Hi(0),this.Kr=!1,this.Kr=!0,this.$r=new Sj,this.referenceDelegate=e(this),this.Ur=new Nj(this),this.indexManager=new pj,this.remoteDocumentCache=function(i){return new Tj(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ok(n),this.Gr=new Ij(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ej,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Fj(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Xe("MemoryPersistence","Starting transaction:",e);const i=new Uj(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Ie.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Uj extends HT{constructor(e){super(),this.currentSequenceNumber=e}}class rw{constructor(e){this.persistence=e,this.Jr=new gx,this.Yr=null}static Zr(e){return new rw(e)}get Xr(){if(this.Yr)return this.Yr;throw gt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ie.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Xr,r=>{const i=at.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,_t.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ie.or([()=>Ie.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.serializer=e}O(e,n,r,i){const s=new Jv("createOrUpgrade",n);r<1&&i>=1&&(function(A){A.createObjectStore("owner")}(e),function(A){A.createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DC,{unique:!0}),A.createObjectStore("documentMutations")}(e),CI(e),function(A){A.createObjectStore("remoteDocuments")}(e));let o=Ie.resolve();return r<3&&i>=3&&(r!==0&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),CI(e)),o=o.next(()=>function(A){const l=A.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(A,l){return l.store("mutations").U().next(u=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DC,{unique:!0});const c=l.store("mutations"),p=u.map(g=>c.put(g));return Ie.waitFor(p)})}(e,s))),o=o.next(()=>{(function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(A){const l=A.createObjectStore("documentOverlays",{keyPath:fM});l.createIndex("collectionPathOverlayIndex",pM,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",gM,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(A){const l=A.createObjectStore("remoteDocumentsV14",{keyPath:rM});l.createIndex("documentKeyIndex",iM),l.createIndex("collectionGroupIndex",sM)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:uM}).createIndex("sequenceNumberIndex",cM,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:dM}).createIndex("documentKeyIndex",hM,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(A){A.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=ov(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>Ie.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>Ie.forEach(a,A=>{bt(A.userId===s.userId);const l=fu(this.serializer,A);return Vk(e,s.userId,l).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const A=new Kt(o),l=function(c){return[0,Ci(c)]}(A);s.push(n.get(l).next(u=>u?Ie.resolve():(c=>n.put({targetId:0,path:Ci(c),sequenceNumber:i.highestListenSequenceNumber}))(A)))}).next(()=>Ie.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:lM});const r=n.store("collectionParents"),i=new px,s=o=>{if(i.add(o)){const a=o.lastSegment(),A=o.popLast();return r.put({collectionId:a,parent:Ci(A)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const A=new Kt(o);return s(A.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,A],l)=>{const u=Lo(a);return s(u.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const s=Bf(i),o=Mk(this.serializer,s);return n.put(o)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),A=function(c){return c.document?new at(Kt.fromString(c.document.name).popFirst(5)):c.noDocument?at.fromSegments(c.noDocument.path):c.unknownDocument?at.fromSegments(c.unknownDocument.path):gt()}(o).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>Ie.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=Wk(this.serializer),s=new $k(rw.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(A=>{var l;let u=(l=a.get(A.userId))!==null&&l!==void 0?l:Dt();fu(this.serializer,A).keys().forEach(c=>u=u.add(c)),a.set(A.userId,u)}),Ie.forEach(a,(A,l)=>{const u=new Nr(l),c=tw.lt(this.serializer,u),p=s.getIndexManager(u),g=nw.lt(u,this.serializer,p,s.referenceDelegate);return new qk(i,g,c,p).recalculateAndSaveOverlaysForDocumentKeys(new P2(n,Hi.oe),A).next()})})}}function CI(t){t.createObjectStore("targetDocuments",{keyPath:aM}).createIndex("documentTargetsIndex",AM,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oM,{unique:!0}),t.createObjectStore("targetGlobal")}const H1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mx{constructor(e,n,r,i,s,o,a,A,l,u,c=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=l,this.li=u,this.hi=c,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=p=>Promise.resolve(),!mx.D())throw new Ye(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bj(this,i),this.Ai=n+"main",this.serializer=new Ok(A),this.Ri=new jo(this.Ai,this.hi,new Qj(this.serializer)),this.$r=new lj,this.Ur=new mj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Wk(this.serializer),this.Gr=new Aj,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ye(Se.FAILED_PRECONDITION,H1);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Hi(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Nl(e))return Xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return nf(e).get("owner").next(n=>Ie.resolve(this.vi(n)))}Ci(e){return wm(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ir(n,"clientMetadata");return r.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return Ie.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Ie.resolve(!0):nf(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new Ye(Se.FAILED_PRECONDITION,H1);return!1}}return!(!this.networkEnabled||!this.inForeground)||wm(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Xe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new P2(e,Hi.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>wm(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return nw.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gj(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return tw.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){Xe("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(A){return A===17?wM:A===16?vM:A===15?tx:A===14?qT:A===13?WT:A===12?mM:A===11?GT:void gt()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,a=>(o=new P2(a,this.Qr?this.Qr.next():Hi.oe),n==="readwrite-primary"?this.wi(o).next(A=>!!A||this.Si(o)).next(A=>{if(!A)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ye(Se.FAILED_PRECONDITION,jT);return r(o)}).next(A=>this.Di(o).next(()=>A)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return nf(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ye(Se.FAILED_PRECONDITION,H1)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nf(e).put("owner",n)}static D(){return jo.D()}bi(e){const n=nf(e);return n.get("owner").next(r=>this.vi(r)?(Xe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ie.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(or(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;gT()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return Xe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nf(t){return Ir(t,"owner")}function wm(t){return Ir(t,"clientMetadata")}function vx(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Dt(),i=Dt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new wx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gT()?8:VT(On())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Lj;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ed()<=Ot.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",td(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ie.resolve()):(ed()<=Ot.DEBUG&&Xe("QueryEngine","Query:",td(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ed()<=Ot.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",td(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):Ie.resolve())}Yi(e,n){if(YC(n))return Ie.resolve(null);let r=Ii(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rv(n,null,"F"),r=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Dt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(A=>{const l=this.ts(n,a);return this.ns(n,l,o,A.readTime)?this.Yi(e,rv(n,null,"F")):this.rs(e,l,n,A)}))})))}Zi(e,n,r,i){return YC(n)||i.isEqual(_t.min())?Ie.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Ie.resolve(null):(ed()<=Ot.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),td(n)),this.rs(e,o,n,OT(i,-1)).next(a=>a))})}ts(e,n){let r=new hn(uk(e));return n.forEach((i,s)=>{ag(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ed()<=Ot.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",td(n)),this.Ji.getDocumentsMatchingQuery(e,n,ds.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Bn(Lt),this._s=new Ul(s=>Wu(s),sg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Yk(t,e,n,r){return new Pj(t,e,n,r)}async function Xk(t,e){const n=ut(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let A=Dt();for(const l of i){o.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}return n.localDocuments.getDocuments(r,A).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})}function Rj(t,e){const n=ut(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,A,l,u){const c=l.batch,p=c.keys();let g=Ie.resolve();return p.forEach(v=>{g=g.next(()=>u.getEntry(A,v)).next(b=>{const E=l.docVersions.get(v);bt(E!==null),b.version.compareTo(E)<0&&(c.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),u.addEntry(b)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(A,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let A=Dt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(A=A.add(a.batch.mutations[l].key));return A}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Zk(t){const e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Dj(t,e){const n=ut(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,c)=>{const p=i.get(c);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,c).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,c)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(c)!==null?g=g.withResumeToken(Gn.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(c,g),function(b,E,y){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(s,g))});let A=Ki(),l=Dt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(eN(s,o,e.documentUpdates).next(u=>{A=u.Ps,l=u.Is})),!r.isEqual(_t.min())){const u=n.Ur.getLastRemoteSnapshotVersion(s).next(c=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Ie.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(n.os=i,s))}function eN(t,e,n){let r=Dt(),i=Dt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ki();return n.forEach((a,A)=>{const l=s.get(a);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),A.isNoDocument()&&A.version.isEqual(_t.min())?(e.removeEntry(a,A.readTime),o=o.insert(a,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),o=o.insert(a,A)):Xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",A.version)}),{Ps:o,Is:i}})}function Oj(t,e){const n=ut(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xd(t,e){const n=ut(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Ie.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new xa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Zd(t,e,n){const r=ut(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Nl(o))throw o;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function av(t,e,n){const r=ut(t);let i=_t.min(),s=Dt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(A,l,u){const c=ut(A),p=c._s.get(u);return p!==void 0?Ie.resolve(c.os.get(p)):c.Ur.getTargetData(l,u)}(r,o,Ii(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(A=>{s=A})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:_t.min(),n?s:Dt())).next(a=>(rN(r,lk(e),a),{documents:a,Ts:s})))}function tN(t,e){const n=ut(t),r=ut(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function nN(t,e){const n=ut(t),r=n.us.get(e)||_t.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,OT(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(rN(n,e,i),i))}function rN(t,e,n){let r=t.us.get(e)||_t.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}async function Mj(t,e,n,r){const i=ut(t);let s=Dt(),o=Ki();for(const l of n){const u=e.Es(l.metadata.name);l.document&&(s=s.add(u));const c=e.ds(l);c.setReadTime(e.As(l.metadata.readTime)),o=o.insert(u,c)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),A=await Xd(i,function(u){return Ii(ph(Kt.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>eN(l,a,o).next(u=>(a.apply(l),u)).next(u=>i.Ur.removeMatchingKeysForTargetId(l,A.targetId).next(()=>i.Ur.addMatchingKeys(l,s,A.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,u.Ps,u.Is)).next(()=>u.Ps)))}async function jj(t,e,n=Dt()){const r=await Xd(t,Ii(hx(e.bundledQuery))),i=ut(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ar(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(s,e);const a=r.withResumeToken(Gn.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(s,a).next(()=>i.Ur.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ur.addMatchingKeys(s,n,r.targetId)).next(()=>i.Gr.saveNamedQuery(s,e))})}function II(t,e){return`firestore_clients_${t}_${e}`}function EI(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function V1(t,e){return`firestore_targets_${t}_${e}`}class Av{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new Ye(i.error.code,i.error.message))),o?new Av(e,n,i.state,s):(or("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Ye(r.error.code,r.error.message))),s?new Kf(e,r.state,i):(or("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lv{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=sx();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=KT(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new lv(e,s):(or("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class yx{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new yx(n.clientId,n.onlineState):(or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class J2{constructor(){this.activeTargetIds=sx()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K1{constructor(e,n,r,i,s){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Bn(Lt),this.started=!1,this.bs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=II(this.persistenceKey,this.ps),this.vs=function(A){return`firestore_sequence_number_${A}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new J2),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(A){return`firestore_online_state_${A}`}(this.persistenceKey),this.Os=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(II(this.persistenceKey,r));if(i){const s=lv.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(V1(this.persistenceKey,e));if(i){const s=Kf.Rs(e,i);s&&(r=s.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(V1(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Xe("SharedClientState","READ",e,n),n}setItem(e,n){Xe("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(Xe("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(s){let o=Hi.oe;if(s!=null)try{const a=JSON.parse(s);bt(typeof a=="number"),o=a}catch(a){or("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Hi.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new Av(this.currentUser,e,n,r),s=EI(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const n=EI(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=V1(this.persistenceKey,e),s=new Kf(e,n,r);this.setItem(i,s.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return lv.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Av.Rs(new Nr(s),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return Kf.Rs(i,n)}Ls(e){return yx.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(A=>{i.has(A)||o.push(A)}),i.forEach(A=>{s.has(A)||a.push(A)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=sx();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class iN{constructor(){this.so=new J2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new J2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym=null;function z1(){return ym===null?ym=function(){return 268435456+Math.round(2147483648*Math.random())}():ym++,"0x"+ym.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="WebChannelConnection";class zj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=z1(),A=this.xo(n,r.toUriEncodedString());Xe("RestConnection",`Sending RPC '${n}' ${a}:`,A,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,A,l,i).then(u=>(Xe("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw zo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",A,"request:",i),u})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Vj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=z1();return new Promise((o,a)=>{const A=new kT;A.setWithCredentials(!0),A.listenOnce(NT.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case A0.NO_ERROR:const u=A.getResponseJson();Xe(ti,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case A0.TIMEOUT:Xe(ti,`RPC '${e}' ${s} timed out`),a(new Ye(Se.DEADLINE_EXCEEDED,"Request time out"));break;case A0.HTTP_ERROR:const c=A.getStatus();if(Xe(ti,`RPC '${e}' ${s} failed with status:`,c,"response text:",A.getResponseText()),c>0){let p=A.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(y)>=0?y:Se.UNKNOWN}(g.status);a(new Ye(v,g.message))}else a(new Ye(Se.UNKNOWN,"Server responded with status "+A.getStatus()))}else a(new Ye(Se.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{Xe(ti,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);Xe(ti,`RPC '${e}' ${s} sending request:`,i),A.send(n,"POST",l,r,15)})}Bo(e,n,r){const i=z1(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LT(),a=QT(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,n,r),A.encodeInitMessageHeaders=!0;const u=s.join("");Xe(ti,`Creating RPC '${e}' stream ${i}: ${u}`,A);const c=o.createWebChannel(u,A);let p=!1,g=!1;const v=new Kj({Io:E=>{g?Xe(ti,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(Xe(ti,`Opening RPC '${e}' stream ${i} transport.`),c.open(),p=!0),Xe(ti,`RPC '${e}' stream ${i} sending:`,E),c.send(E))},To:()=>c.close()}),b=(E,y,w)=>{E.listen(y,x=>{try{w(x)}catch(U){setTimeout(()=>{throw U},0)}})};return b(c,vf.EventType.OPEN,()=>{g||(Xe(ti,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(c,vf.EventType.CLOSE,()=>{g||(g=!0,Xe(ti,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(c,vf.EventType.ERROR,E=>{g||(g=!0,zo(ti,`RPC '${e}' stream ${i} transport errored:`,E),v.So(new Ye(Se.UNAVAILABLE,"The operation could not be completed")))}),b(c,vf.EventType.MESSAGE,E=>{var y;if(!g){const w=E.data[0];bt(!!w);const x=w,U=x.error||((y=x[0])===null||y===void 0?void 0:y.error);if(U){Xe(ti,`RPC '${e}' stream ${i} received error:`,U);const P=U.status;let M=function(N){const O=fr[N];if(O!==void 0)return xk(O)}(P),S=U.message;M===void 0&&(M=Se.INTERNAL,S="Unknown error status: "+P+" with message "+U.message),g=!0,v.So(new Ye(M,S)),c.close()}else Xe(ti,`RPC '${e}' stream ${i} received:`,w),v.bo(w)}}),b(a,UT.STAT_EVENT,E=>{E.stat===Q2.PROXY?Xe(ti,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Q2.NOPROXY&&Xe(ti,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return typeof window<"u"?window:null}function p0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){return new YM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,r,i,s,o,a,A){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bx(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ye(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gj extends oN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ej(this.serializer,e),r=function(s){if(!("targetChange"in s))return _t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_t.min():o.readTime?ar(o.readTime):_t.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=z2(this.serializer),n.addTarget=function(s,o){let a;const A=o.target;if(a=tv(A)?{documents:Uk(s,A)}:{query:Qk(s,A)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ek(s,o.resumeToken);const l=V2(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(_t.min())>0){a.readTime=Yd(s,o.snapshotVersion.toTimestamp());const l=V2(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=nj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=z2(this.serializer),n.removeTarget=e,this.a_(n)}}class Wj extends oN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return bt(!!e.streamToken),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=tj(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=z2(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Rp(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ye(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,K2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ye(Se.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,K2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ye(Se.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $j{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(or(n),this.D_=!1):Xe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ql(this)&&(Xe("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=ut(A);l.L_.add(4),await vh(l),l.q_.set("Unknown"),l.L_.delete(4),await dg(l)}(this))})}),this.q_=new $j(r,i)}}async function dg(t){if(Ql(t))for(const e of t.B_)await e(!0)}async function vh(t){for(const e of t.B_)await e(!1)}function iw(t,e){const n=ut(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),_x(n)?xx(n):yh(n).r_()&&bx(n,e))}function eh(t,e){const n=ut(t),r=yh(n);n.N_.delete(e),r.r_()&&aN(n,e),n.N_.size===0&&(r.r_()?r.o_():Ql(n)&&n.q_.set("Unknown"))}function bx(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yh(t).A_(e)}function aN(t,e){t.Q_.xe(e),yh(t).R_(e)}function xx(t){t.Q_=new WM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yh(t).start(),t.q_.v_()}function _x(t){return Ql(t)&&!yh(t).n_()&&t.N_.size>0}function Ql(t){return ut(t).L_.size===0}function AN(t){t.Q_=void 0}async function Yj(t){t.q_.set("Online")}async function Xj(t){t.N_.forEach((e,n)=>{bx(t,e)})}async function Zj(t,e){AN(t),_x(t)?(t.q_.M_(e),xx(t)):t.q_.set("Unknown")}async function e8(t,e,n){if(t.q_.set("Online"),e instanceof Ik&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uv(t,r)}else if(e instanceof f0?t.Q_.Ke(e):e instanceof Ck?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_t.min()))try{const r=await Zk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(A.resumeToken,o))}}),a.targetMismatches.forEach((A,l)=>{const u=s.N_.get(A);if(!u)return;s.N_.set(A,u.withResumeToken(Gn.EMPTY_BYTE_STRING,u.snapshotVersion)),aN(s,A);const c=new xa(u.target,A,l,u.sequenceNumber);bx(s,c)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),await uv(t,r)}}async function uv(t,e,n){if(!Nl(e))throw e;t.L_.add(1),await vh(t),t.q_.set("Offline"),n||(n=()=>Zk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await dg(t)})}function lN(t,e){return e().catch(n=>uv(t,n,e))}async function wh(t){const e=ut(t),n=yl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;t8(e);)try{const i=await Oj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,n8(e,i)}catch(i){await uv(e,i)}uN(e)&&cN(e)}function t8(t){return Ql(t)&&t.O_.length<10}function n8(t,e){t.O_.push(e);const n=yl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function uN(t){return Ql(t)&&!yl(t).n_()&&t.O_.length>0}function cN(t){yl(t).start()}async function r8(t){yl(t).p_()}async function i8(t){const e=yl(t);for(const n of t.O_)e.m_(n.mutations)}async function s8(t,e,n){const r=t.O_.shift(),i=lx.from(r,e,n);await lN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wh(t)}async function o8(t,e){e&&yl(t).V_&&await async function(r,i){if(function(o){return bk(o)&&o!==Se.ABORTED}(i.code)){const s=r.O_.shift();yl(r).s_(),await lN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await wh(r)}}(t,e),uN(t)&&cN(t)}async function FI(t,e){const n=ut(t);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=Ql(n);n.L_.add(3),await vh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await dg(n)}async function Y2(t,e){const n=ut(t);e?(n.L_.delete(2),await dg(n)):e||(n.L_.add(2),await vh(n),n.q_.set("Unknown"))}function yh(t){return t.K_||(t.K_=function(n,r,i){const s=ut(n);return s.w_(),new Gj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Yj.bind(null,t),Ro:Xj.bind(null,t),mo:Zj.bind(null,t),d_:e8.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),_x(t)?xx(t):t.q_.set("Unknown")):(await t.K_.stop(),AN(t))})),t.K_}function yl(t){return t.U_||(t.U_=function(n,r,i){const s=ut(n);return s.w_(),new Wj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:r8.bind(null,t),mo:o8.bind(null,t),f_:i8.bind(null,t),g_:s8.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await wh(t)):(await t.U_.stop(),t.O_.length>0&&(Xe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Cx(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ye(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bh(t,e){if(or("AsyncQueue",`${e}: ${t}`),Nl(t))return new Ye(Se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.comparator=e?(n,r)=>e(n,r)||at.comparator(n.key,r.key):(n,r)=>at.comparator(n.key,r.key),this.keyedMap=wf(),this.sortedSet=new Bn(this.comparator)}static emptySet(e){return new Td(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Td)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.W_=new Bn(at.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):gt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class th{constructor(e,n,r,i,s,o,a,A,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new th(e,n,Td.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class A8{constructor(){this.queries=kI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ut(n),s=i.queries;i.queries=kI(),s.forEach((o,a)=>{for(const A of a.j_)A.onError(r)})})(this,new Ye(Se.ABORTED,"Firestore shutting down"))}}function kI(){return new Ul(t=>Ak(t),og)}async function Ix(t,e){const n=ut(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new a8,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Bh(o,`Initialization of query '${td(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Sx(n)}async function Ex(t,e){const n=ut(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l8(t,e){const n=ut(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Sx(n)}function u8(t,e,n){const r=ut(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Sx(t){t.Y_.forEach(e=>{e.next()})}var X2,NI;(NI=X2||(X2={})).ea="default",NI.Cache="cache";class Fx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new th(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==X2.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.serializer=e}Es(e){return Ho(this.serializer,e)}ds(e){return e.metadata.exists?Nk(this.serializer,e.document,!1):Cn.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return ar(e)}}class d8{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dN(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=Kt.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new UI(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Es(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Dt()).add(s);n.set(o,a)}}return n}async complete(){const e=await Mj(this.localStore,new UI(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await jj(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function dN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.key=e}}class fN{constructor(e){this.key=e}}class pN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Dt(),this.mutatedKeys=Dt(),this.Aa=uk(e),this.Ra=new Td(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new TI,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,c)=>{const p=i.get(u),g=ag(this.query,c)?c:null,v=!!p&&this.mutatedKeys.has(p.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?v!==b&&(r.track({type:3,doc:g}),E=!0):this.ga(p,g)||(r.track({type:2,doc:g}),E=!0,(A&&this.Aa(g,A)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(A||l)&&(a=!0)),E&&(g?(o=o.add(g),s=b?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,c)=>function(g,v){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return b(g)-b(v)}(u.type,c.type)||this.Aa(u.doc,c.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],A=this.da.size===0&&this.current&&!i?1:0,l=A!==this.Ea;return this.Ea=A,o.length!==0||l?{snapshot:new th(this.query,e.Ra,s,o,e.mutatedKeys,A===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new TI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Dt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new fN(r))}),this.da.forEach(r=>{e.has(r)||n.push(new hN(r))}),n}ba(e){this.Ta=e.Ts,this.da=Dt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return th.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class h8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f8{constructor(e){this.key=e,this.va=!1}}class p8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ul(a=>Ak(a),og),this.Ma=new Map,this.xa=new Set,this.Oa=new Bn(at.comparator),this.Na=new Map,this.La=new gx,this.Ba={},this.ka=new Map,this.qa=Xu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function g8(t,e,n=!0){const r=sw(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await gN(r,e,n,!0),i}async function m8(t,e){const n=sw(t);await gN(n,e,!0,!1)}async function gN(t,e,n,r){const i=await Xd(t.localStore,Ii(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Tx(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&iw(t.remoteStore,i),a}async function Tx(t,e,n,r,i){t.Ka=(c,p,g)=>async function(b,E,y,w){let x=E.view.ma(y);x.ns&&(x=await av(b.localStore,E.query,!1).then(({documents:S})=>E.view.ma(S,x)));const U=w&&w.targetChanges.get(E.targetId),P=w&&w.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(x,b.isPrimaryClient,U,P);return Z2(b,E.targetId,M.wa),M.snapshot}(t,c,p,g);const s=await av(t.localStore,e,!0),o=new pN(e,s.Ts),a=o.ma(s.documents),A=ug.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,A);Z2(t,n,l.wa);const u=new h8(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}async function v8(t,e,n){const r=ut(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!og(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eh(r.remoteStore,i.targetId),nh(r,i.targetId)}).catch(kl)):(nh(r,i.targetId),await Zd(r.localStore,i.targetId,!0))}async function w8(t,e){const n=ut(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eh(n.remoteStore,r.targetId))}async function y8(t,e,n){const r=Qx(t);try{const i=await function(o,a){const A=ut(o),l=Un.now(),u=a.reduce((g,v)=>g.add(v.key),Dt());let c,p;return A.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Ki(),b=Dt();return A.cs.getEntries(g,u).next(E=>{v=E,v.forEach((y,w)=>{w.isValidDocument()||(b=b.add(y))})}).next(()=>A.localDocuments.getOverlayedDocuments(g,v)).next(E=>{c=E;const y=[];for(const w of a){const x=KM(w,c.get(w.key).overlayedDocument);x!=null&&y.push(new Ka(w.key,x,ZT(x.value.mapValue),Nn.exists(!0)))}return A.mutationQueue.addMutationBatch(g,l,y,a)}).next(E=>{p=E;const y=E.applyToLocalDocumentSet(c,b);return A.documentOverlayCache.saveOverlays(g,E.batchId,y)})}).then(()=>({batchId:p.batchId,changes:dk(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,A){let l=o.Ba[o.currentUser.toKey()];l||(l=new Bn(Lt)),l=l.insert(a,A),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),await za(r,i.changes),await wh(r.remoteStore)}catch(i){const s=Bh(i,"Failed to persist write");n.reject(s)}}async function mN(t,e){const n=ut(t);try{const r=await Dj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?bt(o.va):i.removedDocuments.size>0&&(bt(o.va),o.va=!1))}),await za(n,r,e)}catch(r){await kl(r)}}function QI(t,e,n){const r=ut(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const A=ut(o);A.onlineState=a;let l=!1;A.queries.forEach((u,c)=>{for(const p of c.j_)p.Z_(a)&&(l=!0)}),l&&Sx(A)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B8(t,e,n){const r=ut(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Bn(at.comparator);o=o.insert(s,Cn.newNoDocument(s,_t.min()));const a=Dt().add(s),A=new lg(_t.min(),new Map,new Bn(Lt),o,a);await mN(r,A),r.Oa=r.Oa.remove(s),r.Na.delete(e),Ux(r)}else await Zd(r.localStore,e,!1).then(()=>nh(r,e,n)).catch(kl)}async function b8(t,e){const n=ut(t),r=e.batch.batchId;try{const i=await Rj(n.localStore,e);Nx(n,r,null),kx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await za(n,i)}catch(i){await kl(i)}}async function x8(t,e,n){const r=ut(t);try{const i=await function(o,a){const A=ut(o);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return A.mutationQueue.lookupMutationBatch(l,a).next(c=>(bt(c!==null),u=c.keys(),A.mutationQueue.removeMutationBatch(l,c))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>A.localDocuments.getDocuments(l,u))})}(r.localStore,e);Nx(r,e,n),kx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await za(r,i)}catch(i){await kl(i)}}async function _8(t,e){const n=ut(t);Ql(n.remoteStore)||Xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=ut(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>a.mutationQueue.getHighestUnacknowledgedBatchId(A))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=Bh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function kx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Nx(t,e,n){const r=ut(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function nh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vN(t,r)})}function vN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(eh(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ux(t))}function Z2(t,e,n){for(const r of n)r instanceof hN?(t.La.addReference(r.key,e),C8(t,r)):r instanceof fN?(Xe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vN(t,r.key)):gt()}function C8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Xe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ux(t))}function Ux(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new at(Kt.fromString(e)),r=t.qa.next();t.Na.set(r,new f8(n)),t.Oa=t.Oa.insert(n,r),iw(t.remoteStore,new xa(Ii(ph(n.path)),r,"TargetPurposeLimboResolution",Hi.oe))}}async function za(t,e,n){const r=ut(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,A)=>{o.push(r.Ka(A,e,n).then(l=>{var u;if((l||n)&&r.isPrimaryClient){const c=l?!l.fromCache:(u=n==null?void 0:n.targetChanges.get(A.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(A.targetId,c?"current":"not-current")}if(l){i.push(l);const c=wx.Wi(A.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(A,l){const u=ut(A);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Ie.forEach(l,p=>Ie.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(c,p.targetId,g)).next(()=>Ie.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(c,p.targetId,g)))))}catch(c){if(!Nl(c))throw c;Xe("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const p=c.targetId;if(!c.fromCache){const g=u.os.get(p),v=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(p,b)}}}(r.localStore,s))}async function I8(t,e){const n=ut(t);if(!n.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=await Xk(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(A=>{A.reject(new Ye(Se.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await za(n,r.hs)}}function E8(t,e){const n=ut(t),r=n.Na.get(e);if(r&&r.va)return Dt().add(r.key);{let i=Dt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}async function S8(t,e){const n=ut(t),r=await av(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&Z2(n,e.targetId,i.wa),i}async function F8(t,e){const n=ut(t);return nN(n.localStore,e).then(r=>za(n,r))}async function T8(t,e,n,r){const i=ut(t),s=await function(a,A){const l=ut(a),u=ut(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.Mn(c,A).next(p=>p?l.localDocuments.getDocuments(c,p):Ie.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await wh(i.remoteStore):n==="acknowledged"||n==="rejected"?(Nx(i,e,r||null),kx(i,e),function(a,A){ut(ut(a).mutationQueue).On(A)}(i.localStore,e)):gt(),await za(i,s)):Xe("SyncEngine","Cannot apply mutation batch with id: "+e)}async function k8(t,e){const n=ut(t);if(sw(n),Qx(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await LI(n,r.toArray());n.Qa=!0,await Y2(n.remoteStore,!0);for(const s of i)iw(n.remoteStore,s)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(nh(n,o),Zd(n.localStore,o,!0))),eh(n.remoteStore,o)}),await i,await LI(n,r),function(o){const a=ut(o);a.Na.forEach((A,l)=>{eh(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new Bn(at.comparator)}(n),n.Qa=!1,await Y2(n.remoteStore,!1)}}async function LI(t,e,n){const r=ut(t),i=[],s=[];for(const o of e){let a;const A=r.Ma.get(o);if(A&&A.length!==0){a=await Xd(r.localStore,Ii(A[0]));for(const l of A){const u=r.Fa.get(l),c=await S8(r,u);c.snapshot&&s.push(c.snapshot)}}else{const l=await tN(r.localStore,o);a=await Xd(r.localStore,l),await Tx(r,wN(l),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i}function wN(t){return ak(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function N8(t){return function(n){return ut(ut(n).persistence).Qi()}(ut(t).localStore)}async function U8(t,e,n,r){const i=ut(t);if(i.Qa)return void Xe("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await nN(i.localStore,lk(s[0])),a=lg.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Gn.EMPTY_BYTE_STRING);await za(i,o,a);break}case"rejected":await Zd(i.localStore,e,!0),nh(i,e,r);break;default:gt()}}async function Q8(t,e,n){const r=sw(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Xe("SyncEngine","Adding an already active target "+i);continue}const s=await tN(r.localStore,i),o=await Xd(r.localStore,s);await Tx(r,wN(s),o.targetId,!1,o.resumeToken),iw(r.remoteStore,o)}for(const i of n)r.Ma.has(i)&&await Zd(r.localStore,i,!1).then(()=>{eh(r.remoteStore,i),nh(r,i)}).catch(kl)}}function sw(t){const e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B8.bind(null,e),e.Ca.d_=l8.bind(null,e.eventManager),e.Ca.$a=u8.bind(null,e.eventManager),e}function Qx(t){const e=ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x8.bind(null,e),e}function L8(t,e,n){const r=ut(t);(async function(s,o,a){try{const A=await o.getMetadata();if(await function(g,v){const b=ut(g),E=ar(v.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",y=>b.Gr.getBundleMetadata(y,v.id)).then(y=>!!y&&y.createTime.compareTo(E)>=0)}(s.localStore,A))return await o.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(A)),Promise.resolve(new Set);a._updateProgress(dN(A));const l=new d8(A,s.localStore,o.serializer);let u=await o.Ua();for(;u;){const p=await l.la(u);p&&a._updateProgress(p),u=await o.Ua()}const c=await l.complete();return await za(s,c.Ia,void 0),await function(g,v){const b=ut(g);return b.persistence.runTransaction("Save bundle","readwrite",E=>b.Gr.saveBundleMetadata(E,v))}(s.localStore,A),a._completeWith(c.progress),Promise.resolve(c.Pa)}catch(A){return zo("SyncEngine",`Loading bundle failed with ${A}`),a._failWith(A),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Yk(this.persistence,new Jk,e.initialUser,this.serializer)}Ga(e){return new $k(rw.Zr,this.serializer)}Wa(e){return new iN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dp.provider={build:()=>new Dp};class yN extends Dp{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await Qx(this.Ja.syncEngine),await wh(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return Yk(this.persistence,new Jk,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new wj(r,e.asyncQueue,n)}Ha(e,n){const r=new eM(n,this.persistence);return new ZO(e.asyncQueue,r)}Ga(e){const n=vx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new mx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,sN(),p0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new iN}}class P8 extends yN{constructor(e,n){super(e,n,!1),this.Ja=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ja.syncEngine;this.sharedClientState instanceof K1&&(this.sharedClientState.syncEngine={no:T8.bind(null,n),ro:U8.bind(null,n),io:Q8.bind(null,n),Qi:N8.bind(null,n),eo:F8.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await k8(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Wa(e){const n=sN();if(!K1.D(n))throw new Ye(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new K1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I8.bind(null,this.syncEngine),await Y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A8}()}createDatastore(e){const n=cg(e.databaseInfo.databaseId),r=function(s){return new zj(s)}(e.databaseInfo);return function(s,o,a,A){return new qj(s,o,a,A)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Jj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>QI(this.syncEngine,n,0),function(){return SI.D()?new SI:new Hj}())}createSyncEngine(e,n){return function(i,s,o,a,A,l,u){const c=new p8(i,s,o,a,A,l);return u&&(c.Qa=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ut(i);Xe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await vh(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Op.provider={build:()=>new Op};function PI(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n){this.Xa=e,this.serializer=n,this.metadata=new Gr,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const n=this.eu.decode(e),r=Number(n);isNaN(r)&&this.ru(`length string (${n}) is not valid number`);const i=await this.iu(r);return new c8(JSON.parse(i),e.length+r)}su(){return this.buffer.findIndex(e=>e===123)}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const n=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ye(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=ut(i),a={documents:s.map(c=>Pp(o.serializer,c))},A=await o.Lo("BatchGetDocuments",o.serializer.databaseId,Kt.emptyPath(),a,s.length),l=new Map;A.forEach(c=>{const p=ZM(o.serializer,c);l.set(p.key.toString(),p)});const u=[];return s.forEach(c=>{const p=l.get(c.toString());bt(!!p),u.push(p)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=at.fromPath(r);this.mutations.push(new ax(i,this.precondition(i)))}),await async function(r,i){const s=ut(r),o={writes:i.map(a=>Rp(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,Kt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw gt();n=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ye(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(_t.min())?Nn.exists(!1):Nn.updateTime(n):Nn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(_t.min()))throw new Ye(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nn.updateTime(n)}return Nn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new Bx(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new D8(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!ig(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!bk(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nr.UNAUTHENTICATED,this.clientId=RT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Xe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Xe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function G1(t,e){t.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Xk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lx(t);Xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>FI(e.remoteStore,i)),t._onlineComponents=e}async function Lx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await G1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await G1(t,new Dp)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),await G1(t,new Dp);return t._offlineComponents}async function aw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),await RI(t,t._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),await RI(t,new Op))),t._onlineComponents}function BN(t){return Lx(t).then(e=>e.persistence)}function Px(t){return Lx(t).then(e=>e.localStore)}function bN(t){return aw(t).then(e=>e.remoteStore)}function Rx(t){return aw(t).then(e=>e.syncEngine)}function j8(t){return aw(t).then(e=>e.datastore)}async function rh(t){const e=await aw(t),n=e.eventManager;return n.onListen=g8.bind(null,e.syncEngine),n.onUnlisten=v8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w8.bind(null,e.syncEngine),n}function H8(t){return t.asyncQueue.enqueue(async()=>{const e=await BN(t),n=await bN(t);return e.setNetworkEnabled(!0),function(i){const s=ut(i);return s.L_.delete(0),dg(s)}(n)})}function V8(t){return t.asyncQueue.enqueue(async()=>{const e=await BN(t),n=await bN(t);return e.setNetworkEnabled(!1),async function(i){const s=ut(i);s.L_.add(0),await vh(s),s.q_.set("Offline")}(n)})}function K8(t,e){const n=new Gr;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(l,u){const c=ut(l);return c.persistence.runTransaction("read document","readonly",p=>c.localDocuments.getDocument(p,u))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new Ye(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const A=Bh(a,`Failed to get document '${s} from cache`);o.reject(A)}}(await Px(t),e,n)),n.promise}function xN(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,A,l){const u=new ow({next:p=>{u.Za(),o.enqueueAndForget(()=>Ex(s,c));const g=p.docs.has(a);!g&&p.fromCache?l.reject(new Ye(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&A&&A.source==="server"?l.reject(new Ye(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),c=new Fx(ph(a.path),u,{includeMetadataChanges:!0,_a:!0});return Ix(s,c)}(await rh(t),t.asyncQueue,e,n,r)),r.promise}function z8(t,e){const n=new Gr;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await av(i,s,!0),A=new pN(s,a.Ts),l=A.ma(a.documents),u=A.applyChanges(l,!1);o.resolve(u.snapshot)}catch(a){const A=Bh(a,`Failed to execute query '${s} against cache`);o.reject(A)}}(await Px(t),e,n)),n.promise}function _N(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,A,l){const u=new ow({next:p=>{u.Za(),o.enqueueAndForget(()=>Ex(s,c)),p.fromCache&&A.source==="server"?l.reject(new Ye(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),c=new Fx(a,u,{includeMetadataChanges:!0,_a:!0});return Ix(s,c)}(await rh(t),t.asyncQueue,e,n,r)),r.promise}function G8(t,e){const n=new ow(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){ut(i).Y_.add(s),s.next()}(await rh(t),n)),()=>{n.Za(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){ut(i).Y_.delete(s)}(await rh(t),n))}}function W8(t,e,n,r){const i=function(o,a){let A;return A=typeof o=="string"?_k().encode(o):o,function(u,c){return new R8(u,c)}(function(u,c){if(u instanceof Uint8Array)return PI(u,c);if(u instanceof ArrayBuffer)return PI(new Uint8Array(u),c);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),a)}(n,cg(e));t.asyncQueue.enqueueAndForget(async()=>{L8(await Rx(t),i,r)})}function q8(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=ut(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(await Px(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t,e,n){if(!n)throw new Ye(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IN(t,e,n,r){if(e===!0&&r===!0)throw new Ye(Se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OI(t){if(!at.isDocumentKey(t))throw new Ye(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MI(t){if(at.isDocumentKey(t))throw new Ye(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Aw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":gt()}function Zt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ye(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Aw(t);throw new Ye(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function EN(t,e){if(e<=0)throw new Ye(Se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ye(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ye(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ye(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ye(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ye(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ye(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ye(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HO;switch(r.type){case"firstParty":return new GO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ye(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DI.get(n);r&&(Xe("ComponentProvider","Removing Datastore"),DI.delete(n),r.terminate())}(this),Promise.resolve()}}function $8(t,e,n,r={}){var i;const s=(t=Zt(t,hg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,A;if(typeof r.mockUserToken=="string")a=r.mockUserToken,A=Nr.MOCK_USER;else{a=m6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Ye(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Nr(l)}t._authCredentials=new VO(new PT(a,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ei=class SN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new SN(this.firestore,e,this._query)}},Rn=class FN{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new FN(this.firestore,e,this._key)}},sl=class TN extends Ei{constructor(e,n,r){super(e,n,ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new at(e))}withConverter(e){return new TN(this.firestore,e,this._path)}};function kN(t,e,...n){if(t=Ft(t),Dx("collection","path",e),t instanceof hg){const r=Kt.fromString(e,...n);return MI(r),new sl(t,null,r)}{if(!(t instanceof Rn||t instanceof sl))throw new Ye(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return MI(r),new sl(t.firestore,null,r)}}function J8(t,e){if(t=Zt(t,hg),Dx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ye(Se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ei(t,null,function(r){return new Va(Kt.emptyPath(),r)}(e))}function ro(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=RT.newId()),Dx("doc","path",e),t instanceof hg){const r=Kt.fromString(e,...n);return OI(r),new Rn(t,null,new at(r))}{if(!(t instanceof Rn||t instanceof sl))throw new Ye(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return OI(r),new Rn(t.firestore,t instanceof sl?t.converter:null,new at(r))}}function NN(t,e){return t=Ft(t),e=Ft(e),(t instanceof Rn||t instanceof sl)&&(e instanceof Rn||e instanceof sl)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function UN(t,e){return t=Ft(t),e=Ft(e),t instanceof Ei&&e instanceof Ei&&t.firestore===e.firestore&&og(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bx(this,"async_queue_retry"),this.Vu=()=>{const r=p0();r&&Xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=p0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=p0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Gr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nl(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Cx.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&gt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function eB(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Y8{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=-1;let Ar=class extends hg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HI(e),this._firestoreClient=void 0,await e}}};function ci(t){if(t._terminated)throw new Ye(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QN(t),t._firestoreClient}function QN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,A,l,u){return new bM(a,A,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,CN(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new M8(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const A=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(A),_online:A}}(t._componentsProvider))}function Z8(t,e){zo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return LN(t,Op.provider,{build:r=>new yN(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function eH(t){zo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();LN(t,Op.provider,{build:n=>new P8(n,e.cacheSizeBytes)})}function LN(t,e,n){if((t=Zt(t,Ar))._firestoreClient||t._terminated)throw new Ye(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Ye(Se.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},QN(t)}function tH(t){if(t._initialized&&!t._terminated)throw new Ye(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gr;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!jo.D())return Promise.resolve();const i=r+"main";await jo.delete(i)}(vx(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function nH(t){return function(n){const r=new Gr;return n.asyncQueue.enqueueAndForget(async()=>_8(await Rx(n),r)),r.promise}(ci(t=Zt(t,Ar)))}function rH(t){return H8(ci(t=Zt(t,Ar)))}function iH(t){return V8(ci(t=Zt(t,Ar)))}function sH(t,e){const n=ci(t=Zt(t,Ar)),r=new Y8;return W8(n,t._databaseId,e,r),r}function oH(t,e){return q8(ci(t=Zt(t,Ar)),e).then(n=>n?new Ei(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(Gn.fromBase64String(e))}catch(n){throw new Ye(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wo(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ye(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ye(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ye(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=/^__.*__$/;class AH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new gh(e,this.data,n,this.fieldTransforms)}}class PN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class uw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new uw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(RN(this.Cu)&&aH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class lH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cg(e)}Qu(e,n,r,i=!1){return new uw({Cu:e,methodName:n,qu:r,path:kn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uc(t){const e=t._freezeSettings(),n=cg(t._databaseId);return new lH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cw(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Gx("Data must be an object, but it was:",o,r);const a=MN(r,o);let A,l;if(s.merge)A=new Vi(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const c of s.mergeFields){const p=tB(e,c,n);if(!o.contains(p))throw new Ye(Se.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);HN(u,p)||u.push(p)}A=new Vi(u),l=o.fieldTransforms.filter(c=>A.covers(c.field))}else A=null,l=o.fieldTransforms;return new AH(new Vr(a),A,l)}class fg extends lc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fg}}function DN(t,e,n){return new uw({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mx extends lc{_toFieldTransform(e){return new Ag(e.path,new $d)}isEqual(e){return e instanceof Mx}}class jx extends lc{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=DN(this,e,!0),r=this.Ku.map(s=>cc(s,n)),i=new qu(r);return new Ag(e.path,i)}isEqual(e){return e instanceof jx&&Ip(this.Ku,e.Ku)}}class Hx extends lc{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=DN(this,e,!0),r=this.Ku.map(s=>cc(s,n)),i=new $u(r);return new Ag(e.path,i)}isEqual(e){return e instanceof Hx&&Ip(this.Ku,e.Ku)}}class Vx extends lc{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Jd(e.serializer,pk(e.serializer,this.$u));return new Ag(e.path,n)}isEqual(e){return e instanceof Vx&&this.$u===e.$u}}function Kx(t,e,n,r){const i=t.Qu(1,e,n);Gx("Data must be an object, but it was:",i,r);const s=[],o=Vr.empty();Ac(r,(A,l)=>{const u=Wx(e,A,n);l=Ft(l);const c=i.Nu(u);if(l instanceof fg)s.push(u);else{const p=cc(l,c);p!=null&&(s.push(u),o.set(u,p))}});const a=new Vi(s);return new PN(o,a,i.fieldTransforms)}function zx(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[tB(e,r,n)],A=[i];if(s.length%2!=0)throw new Ye(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(tB(e,s[p])),A.push(s[p+1]);const l=[],u=Vr.empty();for(let p=a.length-1;p>=0;--p)if(!HN(l,a[p])){const g=a[p];let v=A[p];v=Ft(v);const b=o.Nu(g);if(v instanceof fg)l.push(g);else{const E=cc(v,b);E!=null&&(l.push(g),u.set(g,E))}}const c=new Vi(l);return new PN(u,c,o.fieldTransforms)}function ON(t,e,n,r=!1){return cc(n,t.Qu(r?4:3,e))}function cc(t,e){if(jN(t=Ft(t)))return Gx("Unsupported field value:",e,t),MN(t,e);if(t instanceof lc)return function(r,i){if(!RN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let A=cc(a,i.Lu(o));A==null&&(A={nullValue:"NULL_VALUE"}),s.push(A),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Un.fromDate(r);return{timestampValue:Yd(i.serializer,s)}}if(r instanceof Un){const s=new Un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(i.serializer,s)}}if(r instanceof lw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:Ek(i.serializer,r._byteString)};if(r instanceof Rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ox)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(A=>{if(typeof A!="number")throw a.Bu("VectorValues must only contain numeric values.");return ox(a.serializer,A)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Aw(r)}`)}(t,e)}function MN(t,e){const n={};return $T(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ac(t,(r,i)=>{const s=cc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Un||t instanceof lw||t instanceof Wo||t instanceof Rn||t instanceof lc||t instanceof Ox)}function Gx(t,e,n){if(!jN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Aw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function tB(t,e,n){if((e=Ft(e))instanceof Bl)return e._internalPath;if(typeof e=="string")return Wx(t,e);throw cv("Field path arguments must be of type string or ",t,!1,void 0,n)}const uH=new RegExp("[~\\*/\\[\\]]");function Wx(t,e,n){if(e.search(uH)>=0)throw cv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bl(...e.split("."))._internalPath}catch{throw cv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cv(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let A="";return(s||o)&&(A+=" (found",s&&(A+=` in field ${r}`),o&&(A+=` in document ${i}`),A+=")"),new Ye(Se.INVALID_ARGUMENT,a+t+A)}function HN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cH extends Mp{data(){return super.data()}}function dw(t,e){return typeof e=="string"?Wx(t,e):e instanceof Bl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ye(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qx{}class pg extends qx{}function IA(t,e,...n){let r=[];e instanceof qx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(A=>A instanceof $x).length,a=s.filter(A=>A instanceof hw).length;if(o>1||o>0&&a>0)throw new Ye(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class hw extends pg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hw(e,n,r)}_apply(e){const n=this._parse(e);return zN(e._query,n),new Ei(e.firestore,e.converter,H2(e._query,n))}_parse(e){const n=uc(e.firestore);return function(s,o,a,A,l,u,c){let p;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ye(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){KI(c,u);const g=[];for(const v of c)g.push(VI(A,s,v));p={arrayValue:{values:g}}}else p=VI(A,s,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||KI(c,u),p=ON(a,o,c,u==="in"||u==="not-in");return zt.create(l,u,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dH(t,e,n){const r=e,i=dw("where",t);return hw._create(i,r,n)}class $x extends qx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $x(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const A of a)zN(o,A),o=H2(o,A)}(e._query,n),new Ei(e.firestore,e.converter,H2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jx extends pg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jx(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ye(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ye(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lp(s,o)}(e._query,this._field,this._direction);return new Ei(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Va(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function hH(t,e="asc"){const n=e,r=dw("orderBy",t);return Jx._create(r,n)}class fw extends pg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new fw(e,n,r)}_apply(e){return new Ei(e.firestore,e.converter,rv(e._query,this._limit,this._limitType))}}function fH(t){return EN("limit",t),fw._create("limit",t,"F")}function pH(t){return EN("limitToLast",t),fw._create("limitToLast",t,"L")}class pw extends pg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new pw(e,n,r)}_apply(e){const n=KN(e,this.type,this._docOrFields,this._inclusive);return new Ei(e.firestore,e.converter,function(i,s){return new Va(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function gH(...t){return pw._create("startAt",t,!0)}function mH(...t){return pw._create("startAfter",t,!1)}class gw extends pg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new gw(e,n,r)}_apply(e){const n=KN(e,this.type,this._docOrFields,this._inclusive);return new Ei(e.firestore,e.converter,function(i,s){return new Va(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function vH(...t){return gw._create("endBefore",t,!1)}function wH(...t){return gw._create("endAt",t,!0)}function KN(t,e,n,r){if(n[0]=Ft(n[0]),n[0]instanceof Mp)return function(s,o,a,A,l){if(!A)throw new Ye(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const c of Fd(s))if(c.field.isKeyField())u.push(Gu(o,A.key));else{const p=A.data.field(c.field);if(Yv(p))throw new Ye(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const g=c.field.canonicalString();throw new Ye(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}u.push(p)}return new wl(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=uc(t.firestore);return function(o,a,A,l,u,c){const p=o.explicitOrderBy;if(u.length>p.length)throw new Ye(Se.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let v=0;v<u.length;v++){const b=u[v];if(p[v].field.isKeyField()){if(typeof b!="string")throw new Ye(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!ix(o)&&b.indexOf("/")!==-1)throw new Ye(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const E=o.path.child(Kt.fromString(b));if(!at.isDocumentKey(E))throw new Ye(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const y=new at(E);g.push(Gu(a,y))}else{const E=ON(A,l,b);g.push(E)}}return new wl(g,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function VI(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new Ye(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ix(e)&&n.indexOf("/")!==-1)throw new Ye(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Kt.fromString(n));if(!at.isDocumentKey(r))throw new Ye(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gu(t,new at(r))}if(n instanceof Rn)return Gu(t,n._key);throw new Ye(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Aw(n)}.`)}function KI(t,e){if(!Array.isArray(t)||t.length===0)throw new Ye(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zN(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ye(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ye(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Yx{convertValue(e,n="none"){switch(zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ac(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Fn(o.doubleValue));return new Ox(s)}convertGeoPoint(e){return new lw(Fn(e.latitude),Fn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Np(e));default:return null}}convertTimestamp(e){const n=Pa(e);return new Un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);bt(Dk(r));const i=new ml(r.get(1),r.get(3)),s=new at(r.popFirst(5));return i.isEqual(n)||or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class yH extends Yx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ra=class extends Mp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},zf=class extends Ra{data(e={}){return super.data(e)}},bl=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zf(this._firestore,this._userDataWriter,r.key,r,new xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ye(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const A=new zf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:A,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const A=new zf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:BH(a.type),doc:A,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function BH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function GN(t,e){return t instanceof Ra&&e instanceof Ra?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof bl&&e instanceof bl&&t._firestore===e._firestore&&UN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){t=Zt(t,Rn);const e=Zt(t.firestore,Ar);return xN(ci(e),t._key).then(n=>Zx(e,t,n))}class dc extends Yx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function bH(t){t=Zt(t,Rn);const e=Zt(t.firestore,Ar),n=ci(e),r=new dc(e);return K8(n,t._key).then(i=>new Ra(e,r,t._key,i,new xu(i!==null&&i.hasLocalMutations,!0),t.converter))}function xH(t){t=Zt(t,Rn);const e=Zt(t.firestore,Ar);return xN(ci(e),t._key,{source:"server"}).then(n=>Zx(e,t,n))}function _H(t){t=Zt(t,Ei);const e=Zt(t.firestore,Ar),n=ci(e),r=new dc(e);return VN(t._query),_N(n,t._query).then(i=>new bl(e,r,t,i))}function CH(t){t=Zt(t,Ei);const e=Zt(t.firestore,Ar),n=ci(e),r=new dc(e);return z8(n,t._query).then(i=>new bl(e,r,t,i))}function IH(t){t=Zt(t,Ei);const e=Zt(t.firestore,Ar),n=ci(e),r=new dc(e);return _N(n,t._query,{source:"server"}).then(i=>new bl(e,r,t,i))}function Gf(t,e,n){t=Zt(t,Rn);const r=Zt(t.firestore,Ar),i=mw(t.converter,e,n);return gg(r,[cw(uc(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Nn.none())])}function zI(t,e,n,...r){t=Zt(t,Rn);const i=Zt(t.firestore,Ar),s=uc(i);let o;return o=typeof(e=Ft(e))=="string"||e instanceof Bl?zx(s,"updateDoc",t._key,e,n,r):Kx(s,"updateDoc",t._key,e),gg(i,[o.toMutation(t._key,Nn.exists(!0))])}function WN(t){return gg(Zt(t.firestore,Ar),[new mh(t._key,Nn.none())])}function EH(t,e){const n=Zt(t.firestore,Ar),r=ro(t),i=mw(t.converter,e);return gg(n,[cw(uc(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function Xx(t,...e){var n,r,i;t=Ft(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||eB(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(eB(e[o])){const c=e[o];e[o]=(n=c.next)===null||n===void 0?void 0:n.bind(c),e[o+1]=(r=c.error)===null||r===void 0?void 0:r.bind(c),e[o+2]=(i=c.complete)===null||i===void 0?void 0:i.bind(c)}let A,l,u;if(t instanceof Rn)l=Zt(t.firestore,Ar),u=ph(t._key.path),A={next:c=>{e[o]&&e[o](Zx(l,t,c))},error:e[o+1],complete:e[o+2]};else{const c=Zt(t,Ei);l=Zt(c.firestore,Ar),u=c._query;const p=new dc(l);A={next:g=>{e[o]&&e[o](new bl(l,p,c,g))},error:e[o+1],complete:e[o+2]},VN(t._query)}return function(p,g,v,b){const E=new ow(b),y=new Fx(g,E,v);return p.asyncQueue.enqueueAndForget(async()=>Ix(await rh(p),y)),()=>{E.Za(),p.asyncQueue.enqueueAndForget(async()=>Ex(await rh(p),y))}}(ci(l),u,a,A)}function SH(t,e){return G8(ci(t=Zt(t,Ar)),eB(e)?e:{next:e})}function gg(t,e){return function(r,i){const s=new Gr;return r.asyncQueue.enqueueAndForget(async()=>y8(await Rx(r),i,s)),s.promise}(ci(t),e)}function Zx(t,e,n){const r=n.docs.get(e._key),i=new dc(t);return new Ra(t,i,e._key,r,new xu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TH=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=uc(e)}set(e,n,r){this._verifyNotCommitted();const i=DA(e,this._firestore),s=mw(i.converter,n,r),o=cw(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Nn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=DA(e,this._firestore);let o;return o=typeof(n=Ft(n))=="string"||n instanceof Bl?zx(this._dataReader,"WriteBatch.update",s._key,n,r,i):Kx(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=DA(e,this._firestore);return this._mutations=this._mutations.concat(new mh(n._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ye(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function DA(t,e){if((t=Ft(t)).firestore!==e)throw new Ye(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kH=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=uc(n)}get(n){const r=DA(n,this._firestore),i=new yH(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return gt();const o=s[0];if(o.isFoundDocument())return new Mp(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Mp(this._firestore,i,r._key,null,r.converter);throw gt()})}set(n,r,i){const s=DA(n,this._firestore),o=mw(s.converter,r,i),a=cw(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=DA(n,this._firestore);let a;return a=typeof(r=Ft(r))=="string"||r instanceof Bl?zx(this._dataReader,"Transaction.update",o._key,r,i,s):Kx(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=DA(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=DA(e,this._firestore),r=new dc(this._firestore);return super.get(e).then(i=>new Ra(this._firestore,r,n._key,i._document,new xu(!1,!1),n.converter))}};function NH(t,e,n){t=Zt(t,Ar);const r=Object.assign(Object.assign({},FH),n);return function(s){if(s.maxAttempts<1)throw new Ye(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const A=new Gr;return s.asyncQueue.enqueueAndForget(async()=>{const l=await j8(s);new O8(s.asyncQueue,l,a,o,A).au()}),A.promise}(ci(t),i=>e(new kH(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(){return new fg("deleteField")}function QH(){return new Mx("serverTimestamp")}function LH(...t){return new jx("arrayUnion",t)}function PH(...t){return new Hx("arrayRemove",t)}function RH(t){return new Vx("increment",t)}(function(e,n=!0){(function(i){fh=i})(Tl),fl(new Ko("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ar(new KO(r.getProvider("auth-internal")),new qO(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ye(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),oo(LC,"4.7.3",e),oo(LC,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e,n){this._delegate=e,this.firebase=n,Ep(e,new Ko("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Yb(this._delegate)))}_getService(e,n=dl){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=dl){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ep(this._delegate,e)}_addOrOverwriteComponent(e){bT(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},GI=new ac("app-compat","Firebase",OH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:oo,setLogLevel:ET,onLog:IT,apps:null,SDK_VERSION:Tl,INTERNAL:{registerComponent:a,removeApp:r,useAsService:A,modularAPIs:OO}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||dl,!IC(e,l))throw GI.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,u={}){const c=Jb(l,u);if(IC(e,c.name))return e[c.name];const p=new t(c,n);return e[c.name]=p,p}function o(){return Object.keys(e).map(l=>e[l])}function a(l){const u=l.name,c=u.replace("-compat","");if(fl(l)&&l.type==="PUBLIC"){const p=(g=i())=>{if(typeof g[c]!="function")throw GI.create("invalid-app-argument",{appName:u});return g[c]()};l.serviceProps!==void 0&&X0(p,l.serviceProps),n[c]=p,t.prototype[c]=function(...g){return this._getService.bind(this,u).apply(this,l.multipleInstances?g:[])}}return l.type==="PUBLIC"?n[c]:null}function A(l,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){const t=MH(DH);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:qN,extendNamespace:e,createSubscribe:mT,ErrorFactory:ac,deepExtend:X0});function e(n){X0(t,n)}return t}const jH=qN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new $v("@firebase/app-compat"),HH="@firebase/app-compat",VH="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(t){oo(HH,VH,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=cT();if(t.firebase!==void 0){WI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&WI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Ll=jH;KH();var zH="firebase",GH="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ll.registerVersion(zH,GH,"app-compat");const WH="@firebase/firestore-compat",qH="0.3.38";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Ye("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){if(typeof Uint8Array>"u")throw new Ye("unimplemented","Uint8Arrays are not available in this environment.")}function $I(){if(!yM())throw new Ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}let $N=class rB{constructor(e){this._delegate=e}static fromBase64String(e){return $I(),new rB(Wo.fromBase64String(e))}static fromUint8Array(e){return qI(),new rB(Wo.fromUint8Array(e))}toBase64(){return $I(),this._delegate.toBase64()}toUint8Array(){return qI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(t){return $H(t,["next","error","complete"])}function $H(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{enableIndexedDbPersistence(e,n){return Z8(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return eH(e._delegate)}clearIndexedDbPersistence(e){return tH(e._delegate)}}class JN{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ml||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&zo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){$8(this._delegate,e,n,r)}enableNetwork(){return rH(this._delegate)}disableNetwork(){return iH(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,IN("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return nH(this._delegate)}onSnapshotsInSync(e){return SH(this._delegate,e)}get app(){if(!this._appCompat)throw new Ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ih(this,kN(this._delegate,e))}catch(n){throw Bi(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ts(this,ro(this._delegate,e))}catch(n){throw Bi(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new yi(this,J8(this._delegate,e))}catch(n){throw Bi(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return NH(this._delegate,n=>e(new YN(this,n)))}batch(){return ci(this._delegate),new XN(new TH(this._delegate,e=>gg(this._delegate,e)))}loadBundle(e){return sH(this._delegate,e)}namedQuery(e){return oH(this._delegate,e).then(n=>n?new yi(this,n):null)}}class vw extends Yx{constructor(e){super(),this.firestore=e}convertBytes(e){return new $N(new Wo(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ts.forKey(n,this.firestore,null)}}function YH(t){MO(t)}class YN{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new vw(e)}get(e){const n=_u(e);return this._delegate.get(n).then(r=>new jp(this._firestore,new Ra(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=_u(e);return r?(e_("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=_u(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=_u(e);return this._delegate.delete(n),this}}class XN{constructor(e){this._delegate=e}set(e,n,r){const i=_u(e);return r?(e_("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=_u(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=_u(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Zu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new zf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hp(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Zu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Zu(e,new vw(e),n),i.set(n,s)),s}}Zu.INSTANCES=new WeakMap;class Ts{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new vw(e)}static forPath(e,n,r){if(e.length%2!==0)throw new Ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ts(n,new Rn(n._delegate,r,new at(e)))}static forKey(e,n,r){return new Ts(n,new Rn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ih(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ih(this.firestore,kN(this._delegate,e))}catch(n){throw Bi(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ft(e),e instanceof Rn?NN(this._delegate,e):!1}set(e,n){n=e_("DocumentReference.set",n);try{return n?Gf(this._delegate,e,n):Gf(this._delegate,e)}catch(r){throw Bi(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?zI(this._delegate,e):zI(this._delegate,e,n,...r)}catch(i){throw Bi(i,"updateDoc()","DocumentReference.update()")}}delete(){return WN(this._delegate)}onSnapshot(...e){const n=ZN(e),r=eU(e,i=>new jp(this.firestore,new Ra(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Xx(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=bH(this._delegate):(e==null?void 0:e.source)==="server"?n=xH(this._delegate):n=nB(this._delegate),n.then(r=>new jp(this.firestore,new Ra(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ts(this.firestore,e?this._delegate.withConverter(Zu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Bi(t,e,n){return t.message=t.message.replace(e,n),t}function ZN(t){for(const e of t)if(typeof e=="object"&&!iB(e))return e;return{}}function eU(t,e){var n,r;let i;return iB(t[0])?i=t[0]:iB(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class jp{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ts(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return GN(this._delegate,e._delegate)}}class Hp extends jp{data(e){const n=this._delegate.data(e);return this._delegate._converter||jO(n!==void 0),n}}class yi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new vw(e)}where(e,n,r){try{return new yi(this.firestore,IA(this._delegate,dH(e,n,r)))}catch(i){throw Bi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new yi(this.firestore,IA(this._delegate,hH(e,n)))}catch(r){throw Bi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new yi(this.firestore,IA(this._delegate,fH(e)))}catch(n){throw Bi(n,"limit()","Query.limit()")}}limitToLast(e){try{return new yi(this.firestore,IA(this._delegate,pH(e)))}catch(n){throw Bi(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new yi(this.firestore,IA(this._delegate,gH(...e)))}catch(n){throw Bi(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new yi(this.firestore,IA(this._delegate,mH(...e)))}catch(n){throw Bi(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new yi(this.firestore,IA(this._delegate,vH(...e)))}catch(n){throw Bi(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new yi(this.firestore,IA(this._delegate,wH(...e)))}catch(n){throw Bi(n,"endAt()","Query.endAt()")}}isEqual(e){return UN(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=CH(this._delegate):(e==null?void 0:e.source)==="server"?n=IH(this._delegate):n=_H(this._delegate),n.then(r=>new sB(this.firestore,new bl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=ZN(e),r=eU(e,i=>new sB(this.firestore,new bl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Xx(this._delegate,n,r)}withConverter(e){return new yi(this.firestore,e?this._delegate.withConverter(Zu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class XH{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Hp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sB{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new yi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new XH(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Hp(this._firestore,r))})}isEqual(e){return GN(this._delegate,e._delegate)}}class ih extends yi{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ts(this.firestore,e):null}doc(e){try{return e===void 0?new Ts(this.firestore,ro(this._delegate)):new Ts(this.firestore,ro(this._delegate,e))}catch(n){throw Bi(n,"doc()","CollectionReference.doc()")}}add(e){return EH(this._delegate,e).then(n=>new Ts(this.firestore,n))}isEqual(e){return NN(this._delegate,e._delegate)}withConverter(e){return new ih(this.firestore,e?this._delegate.withConverter(Zu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function _u(t){return Zt(t,Rn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(...e){this._delegate=new Bl(...e)}static documentId(){return new t_(kn.keyField().canonicalString())}isEqual(e){return e=Ft(e),e instanceof Bl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this._delegate=e}static serverTimestamp(){const e=QH();return e._methodName="FieldValue.serverTimestamp",new mu(e)}static delete(){const e=UH();return e._methodName="FieldValue.delete",new mu(e)}static arrayUnion(...e){const n=LH(...e);return n._methodName="FieldValue.arrayUnion",new mu(n)}static arrayRemove(...e){const n=PH(...e);return n._methodName="FieldValue.arrayRemove",new mu(n)}static increment(e){const n=RH(e);return n._methodName="FieldValue.increment",new mu(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH={Firestore:JN,GeoPoint:lw,Timestamp:Un,Blob:$N,Transaction:YN,WriteBatch:XN,DocumentReference:Ts,DocumentSnapshot:jp,Query:yi,QueryDocumentSnapshot:Hp,QuerySnapshot:sB,CollectionReference:ih,FieldPath:t_,FieldValue:mu,setLogLevel:YH,CACHE_SIZE_UNLIMITED:X8};function e7(t,e){t.INTERNAL.registerComponent(new Ko("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},ZH)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){e7(t,(e,n)=>new JN(e,n,new JH)),t.registerVersion(WH,qH)}t7(Ll);function n_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const rf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Kc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function tU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r7=n7,i7=tU,nU=new ac("auth","Firebase",tU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new $v("@firebase/auth");function s7(t,...e){dv.logLevel<=Ot.WARN&&dv.warn(`Auth (${Tl}): ${t}`,...e)}function g0(t,...e){dv.logLevel<=Ot.ERROR&&dv.error(`Auth (${Tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw i_(t,...e)}function Cr(t,...e){return i_(t,...e)}function r_(t,e,n){const r=Object.assign(Object.assign({},i7()),{[e]:n});return new ac("auth","Firebase",r).create(e,{appName:t.name})}function Qr(t){return r_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bh(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qr(t,"argument-error"),r_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nU.create(t,...e)}function rt(t,e,...n){if(!t)throw i_(e,...n)}function Ro(t){const e="INTERNAL ASSERTION FAILED: "+t;throw g0(e),new Error(e)}function Ao(t,e){t||Ro(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function s_(){return JI()==="http:"||JI()==="https:"}function JI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s_()||fT()||"connection"in navigator)?navigator.onLine:!0}function a7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ao(n>e,"Short delay should be less than long delay!"),this.isMobile=v6()||Wb()}get(){return o7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t,e){Ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=new mg(3e4,6e4);function qn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $n(t,e,n,r,i={}){return iU(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hh(Object.assign({key:t.config.apiKey},o)).slice(1),A=await t._getAdditionalHeaders();A["Content-Type"]="application/json",t.languageCode&&(A["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:A},s);return y6()||(l.referrerPolicy="no-referrer"),rU.fetch()(sU(t,t.config.apiHost,n,a),l)})}async function iU(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},A7),e);try{const i=new c7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[A,l]=a.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(t,"credential-already-in-use",o);if(A==="EMAIL_EXISTS")throw bf(t,"email-already-in-use",o);if(A==="USER_DISABLED")throw bf(t,"user-disabled",o);const u=r[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw r_(t,u,l);qr(t,u)}}catch(i){if(i instanceof _i)throw i;qr(t,"network-request-failed",{message:String(i)})}}async function Ga(t,e,n,r,i={}){const s=await $n(t,e,n,r,i);return"mfaPendingCredential"in s&&qr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sU(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?o_(t.config,i):`${t.config.apiScheme}://${i}`}function u7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),l7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){return t!==void 0&&t.getResponse!==void 0}function XI(t){return t!==void 0&&t.enterprise!==void 0}class d7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return u7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t){return(await $n(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function f7(t,e){return $n(t,"GET","/v2/recaptchaConfig",qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(t,e){return $n(t,"POST","/v1/accounts:delete",e)}async function g7(t,e){return $n(t,"POST","/v1/accounts:update",e)}async function oU(t,e){return $n(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m7(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=ww(r);rt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wf(W1(i.auth_time)),issuedAtTime:Wf(W1(i.iat)),expirationTime:Wf(W1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function W1(t){return Number(t)*1e3}function ww(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return g0("JWT malformed, contained fewer than 3 sections"),null;try{const i=uT(n);return i?JSON.parse(i):(g0("Failed to decode base64 JWT payload"),null)}catch(i){return g0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZI(t){const e=ww(t);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _i&&v7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wf(this.lastLoginAt),this.creationTime=Wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Da(t,oU(n,{idToken:r}));rt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aU(s.providerUserInfo):[],a=B7(t.providerData,o),A=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=A?l:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oB(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function y7(t){const e=Ft(t);await Kp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aU(t){return t.map(e=>{var{providerId:n}=e,r=n_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(t,e){const n=await iU(t,{},async()=>{const r=hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sU(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rU.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x7(t,e){return $n(t,"POST","/v2/accounts:revokeToken",qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const n=ZI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await b7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new kd;return r&&(rt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(rt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(rt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kd,this.toJSON())}_performRefresh(){return Ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t,e){rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _a{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=n_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oB(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Da(this,this.stsTokenManager.getToken(this.auth,e));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m7(this,e)}reload(){return y7(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _a(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Da(this,p7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,A,l,u;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(A=n._redirectEventId)!==null&&A!==void 0?A:void 0,y=(l=n.createdAt)!==null&&l!==void 0?l:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:U,isAnonymous:P,providerData:M,stsTokenManager:S}=n;rt(x&&S,e,"internal-error");const _=kd.fromJSON(this.name,S);rt(typeof x=="string",e,"internal-error"),EA(c,e.name),EA(p,e.name),rt(typeof U=="boolean",e,"internal-error"),rt(typeof P=="boolean",e,"internal-error"),EA(g,e.name),EA(v,e.name),EA(b,e.name),EA(E,e.name),EA(y,e.name),EA(w,e.name);const N=new _a({uid:x,auth:e,email:p,emailVerified:U,displayName:c,isAnonymous:P,photoURL:v,phoneNumber:g,tenantId:b,stsTokenManager:_,createdAt:y,lastLoginAt:w});return M&&Array.isArray(M)&&(N.providerData=M.map(O=>Object.assign({},O))),E&&(N._redirectEventId=E),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new kd;i.updateFromServerResponse(n);const s=new _a({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];rt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?aU(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new kd;a.updateFromIdToken(r);const A=new _a({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new oB(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function As(t){Ao(t instanceof Function,"Expected a class definition");let e=eE.get(t);return e?(Ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AU.type="NONE";const sh=AU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t,e,n){return`firebase:${t}:${e}:${n}`}class Nd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ku(this.userKey,i.apiKey,s),this.fullPersistenceKey=ku("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_a._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nd(As(sh),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||As(sh);const o=ku(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const c=_a._fromJSON(e,u);l!==s&&(a=c),s=l;break}}catch{}const A=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new Nd(s,e,r):(s=A[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Nd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hU(e))return"Blackberry";if(fU(e))return"Webos";if(uU(e))return"Safari";if((e.includes("chrome/")||cU(e))&&!e.includes("edge/"))return"Chrome";if(vg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lU(t=On()){return/firefox\//i.test(t)}function uU(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cU(t=On()){return/crios\//i.test(t)}function dU(t=On()){return/iemobile/i.test(t)}function vg(t=On()){return/android/i.test(t)}function hU(t=On()){return/blackberry/i.test(t)}function fU(t=On()){return/webos/i.test(t)}function wg(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _7(t=On()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function C7(t=On()){var e;return wg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I7(){return pT()&&document.documentMode===10}function pU(t=On()){return wg(t)||vg(t)||fU(t)||hU(t)||/windows phone/i.test(t)||dU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t,e=[]){let n;switch(t){case"Browser":n=tE(On());break;case"Worker":n=`${tE(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const A=e(s);o(A)}catch(A){a(A)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t,e={}){return $n(t,"GET","/v2/passwordPolicy",qn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=6;class T7{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:F7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(n=A.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(r=A.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(o=A.containsNumericCharacter)!==null&&o!==void 0?o:!0),A.isValid&&(A.isValid=(a=A.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),A}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new E7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=As(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oU(this,{idToken:e}),r=await _a._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!o||o===a)&&(A!=null&&A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(Qr(this));const n=e?Ft(e):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S7(this),n=new T7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await x7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&As(e)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await Nd.create(this,[As(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const A=e.addObserver(n,r,i);return()=>{o=!0,A()}}else{const A=e.addObserver(n);return()=>{o=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&s7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wn(t){return Ft(t)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mT(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N7(t){yg=t}function a_(t){return yg.loadJS(t)}function U7(){return yg.recaptchaV2Script}function Q7(){return yg.recaptchaEnterpriseScript}function L7(){return yg.gapiScript}function mU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const P7="recaptcha-enterprise",R7="NO_RECAPTCHA";class D7{constructor(e){this.type=P7,this.auth=Wn(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{f7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(A.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new d7(A);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(A=>{a(A)})})}function i(s,o,a){const A=window.grecaptcha;XI(A)?A.enterprise.ready(()=>{A.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(R7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&XI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let A=Q7();A.length!==0&&(A+=a),a_(A).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function rE(t,e,n,r=!1){const i=new D7(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function zp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await rE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await rE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function O7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(As);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function M7(t,e,n){const r=Wn(t);rt(r._canInitEmulator,r,"emulator-config-failed"),rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=vU(e),{host:o,port:a}=j7(e),A=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${A}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||H7()}function vU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j7(t){const e=vU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:iE(o)}}}function iE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function H7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ro("not implemented")}_getIdTokenResponse(e){return Ro("not implemented")}_linkToIdToken(e,n){return Ro("not implemented")}_getReauthenticationResolver(e){return Ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e){return $n(t,"POST","/v1/accounts:resetPassword",qn(t,e))}async function V7(t,e){return $n(t,"POST","/v1/accounts:update",e)}async function K7(t,e){return $n(t,"POST","/v1/accounts:signUp",e)}async function z7(t,e){return $n(t,"POST","/v1/accounts:update",qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G7(t,e){return Ga(t,"POST","/v1/accounts:signInWithPassword",qn(t,e))}async function yw(t,e){return $n(t,"POST","/v1/accounts:sendOobCode",qn(t,e))}async function W7(t,e){return yw(t,e)}async function q7(t,e){return yw(t,e)}async function $7(t,e){return yw(t,e)}async function J7(t,e){return yw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(t,e){return Ga(t,"POST","/v1/accounts:signInWithEmailLink",qn(t,e))}async function X7(t,e){return Ga(t,"POST","/v1/accounts:signInWithEmailLink",qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends xh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Gp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,n,"signInWithPassword",G7);case"emailLink":return Y7(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,r,"signUpPassword",K7);case"emailLink":return X7(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t,e){return Ga(t,"POST","/v1/accounts:signInWithIdp",qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7="http://localhost";class qo extends xh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=n_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new qo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fa(e,n)}buildRequest(){const e={requestUri:Z7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e){return $n(t,"POST","/v1/accounts:sendVerificationCode",qn(t,e))}async function tV(t,e){return Ga(t,"POST","/v1/accounts:signInWithPhoneNumber",qn(t,e))}async function nV(t,e){const n=await Ga(t,"POST","/v1/accounts:signInWithPhoneNumber",qn(t,e));if(n.temporaryProof)throw bf(t,"account-exists-with-different-credential",n);return n}const rV={USER_NOT_FOUND:"user-not-found"};async function iV(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ga(t,"POST","/v1/accounts:signInWithPhoneNumber",qn(t,n),rV)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends xh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Nu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Nu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return tV(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return nV(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return iV(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Nu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oV(t){const e=Bd(mf(t)).link,n=e?Bd(mf(e)).deep_link_id:null,r=Bd(mf(t)).deep_link_id;return(r?Bd(mf(r)).link:null)||r||n||e||t}class Bw{constructor(e){var n,r,i,s,o,a;const A=Bd(mf(e)),l=(n=A.apiKey)!==null&&n!==void 0?n:null,u=(r=A.oobCode)!==null&&r!==void 0?r:null,c=sV((i=A.mode)!==null&&i!==void 0?i:null);rt(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=(s=A.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=A.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=A.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=oV(e);try{return new Bw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,n){return Gp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bw.parseLink(n);return rt(r,"argument-error"),Gp._fromEmailAndCode(e,r.code,r.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Wa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ud extends _h{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return rt("providerId"in n&&"signInMethod"in n,"argument-error"),qo._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return rt(e.idToken||e.accessToken,"argument-error"),qo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ud.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ud.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Ud(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends _h{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends _h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qo._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return No.credential(n,r)}catch{return null}}}No.GOOGLE_SIGN_IN_METHOD="google.com";No.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends _h{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="http://localhost";class oh extends xh{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Fa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fa(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new oh(r,s)}static _create(e,n){return new oh(e,n)}buildRequest(){return{requestUri:aV,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="saml.";class hv extends Wa{constructor(e){rt(e.startsWith(AV),"argument-error"),super(e)}static credentialFromResult(e){return hv.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return hv.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=oh.fromJSON(e);return rt(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return oh._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends _h{constructor(){super("twitter.com")}static credential(e,n){return qo._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qo.credential(n,r)}catch{return null}}}Qo.TWITTER_SIGN_IN_METHOD="twitter.com";Qo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e){return Ga(t,"POST","/v1/accounts:signUp",qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await _a._fromIdTokenResponse(e,r,i),o=sE(r);return new Rs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sE(r);return new Rs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t){var e;if(zn(t.app))return Promise.reject(Qr(t));const n=Wn(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Rs({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await yU(n,{returnSecureToken:!0}),i=await Rs._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends _i{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fv(e,n,r,i)}}function BU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?fv._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,e){const n=Ft(t);await bw(!0,n,e);const{providerUserInfo:r}=await g7(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=bU(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function A_(t,e,n=!1){const r=await Da(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",r)}async function bw(t,e,n){await Kp(e);const r=bU(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";rt(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e,n=!1){const{auth:r}=t;if(zn(r.app))return Promise.reject(Qr(r));const i="reauthenticate";try{const s=await Da(t,BU(r,i,e,t),n);rt(s.idToken,r,"internal-error");const o=ww(s.idToken);rt(o,r,"internal-error");const{sub:a}=o;return rt(t.uid===a,r,"user-mismatch"),Rs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e,n=!1){if(zn(t.app))return Promise.reject(Qr(t));const r="signIn",i=await BU(t,r,e),s=await Rs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function xw(t,e){return _U(Wn(t),e)}async function CU(t,e){const n=Ft(t);return await bw(!1,n,e.providerId),A_(n,e)}async function IU(t,e){return xU(Ft(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e){return Ga(t,"POST","/v1/accounts:signInWithCustomToken",qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e){if(zn(t.app))return Promise.reject(Qr(t));const n=Wn(t),r=await cV(n,{token:e,returnSecureToken:!0}),i=await Rs._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?l_._fromServerResponse(e,n):"totpInfo"in n?u_._fromServerResponse(e,n):qr(e,"internal-error")}}class l_ extends Bg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new l_(n)}}class u_ extends Bg{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new u_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e,n){var r;rt(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),rt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(rt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(rt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_(t){const e=Wn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hV(t,e,n){const r=Wn(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&_w(r,i,n),await zp(r,i,"getOobCode",q7)}async function fV(t,e,n){await wU(Ft(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&c_(t),r})}async function pV(t,e){await z7(Ft(t),{oobCode:e})}async function EU(t,e){const n=Ft(t),r=await wU(n,{oobCode:e}),i=r.requestType;switch(rt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":rt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":rt(r.mfaInfo,n,"internal-error");default:rt(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Bg._fromServerResponse(Wn(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function gV(t,e){const{data:n}=await EU(Ft(t),e);return n.email}async function mV(t,e,n){if(zn(t.app))return Promise.reject(Qr(t));const r=Wn(t),o=await zp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yU).catch(A=>{throw A.code==="auth/password-does-not-meet-requirements"&&c_(t),A}),a=await Rs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function vV(t,e,n){return zn(t.app)?Promise.reject(Qr(t)):xw(Ft(t),Pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&c_(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e,n){const r=Wn(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){rt(a.handleCodeInApp,r,"argument-error"),a&&_w(r,o,a)}s(i,n),await zp(r,i,"getOobCode",$7)}function yV(t,e){const n=Bw.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function BV(t,e,n){if(zn(t.app))return Promise.reject(Qr(t));const r=Ft(t),i=Pl.credentialWithLink(e,n||Vp());return rt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),xw(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){return $n(t,"POST","/v1/accounts:createAuthUri",qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e){const n=s_()?Vp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await bV(Ft(t),r);return i||[]}async function _V(t,e){const n=Ft(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&_w(n.auth,i,e);const{email:s}=await W7(n.auth,i);s!==t.email&&await t.reload()}async function CV(t,e,n){const r=Ft(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&_w(r.auth,s,n);const{email:o}=await J7(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e){return $n(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Da(r,IV(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:A})=>A==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function SV(t,e){const n=Ft(t);return zn(n.auth.app)?Promise.reject(Qr(n.auth)):SU(n,e,null)}function FV(t,e){return SU(Ft(t),null,e)}async function SU(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Da(t,V7(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=ww(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Qd(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new kV(s,i);case"github.com":return new NV(s,i);case"google.com":return new UV(s,i);case"twitter.com":return new QV(s,i,t.screenName||null);case"custom":case"anonymous":return new Qd(s,null);default:return new Qd(s,r,i)}}class Qd{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class FU extends Qd{constructor(e,n,r,i){super(e,n,r),this.username=i}}class kV extends Qd{constructor(e,n){super(e,"facebook.com",n)}}class NV extends FU{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class UV extends Qd{constructor(e,n){super(e,"google.com",n)}}class QV extends FU{constructor(e,n,r){super(e,"twitter.com",n,r)}}function LV(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:TV(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Cu("enroll",e,n)}static _fromMfaPendingCredential(e){return new Cu("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Cu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Cu._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Wn(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Bg._fromServerResponse(r,a));rt(i.mfaPendingCredential,r,"internal-error");const o=Cu._fromMfaPendingCredential(i.mfaPendingCredential);return new d_(o,s,async a=>{const A=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:A.idToken,refreshToken:A.refreshToken});switch(n.operationType){case"signIn":const u=await Rs._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return rt(n.user,r,"internal-error"),Rs._forOperation(n.user,n.operationType,l);default:qr(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function PV(t,e){var n;const r=Ft(t),i=e;return rt(e.customData.operationType,r,"argument-error"),rt((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),d_._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t,e){return $n(t,"POST","/v2/accounts/mfaEnrollment:start",qn(t,e))}function DV(t,e){return $n(t,"POST","/v2/accounts/mfaEnrollment:finalize",qn(t,e))}function OV(t,e){return $n(t,"POST","/v2/accounts/mfaEnrollment:withdraw",qn(t,e))}class h_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Bg._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new h_(e)}async getSession(){return Cu._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Da(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Da(this.user,OV(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const q1=new WeakMap;function MV(t){const e=Ft(t);return q1.has(e)||q1.set(e,h_._fromUser(e)),q1.get(e)}const pv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pv,"1"),this.storage.removeItem(pv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=1e3,HV=10;class kU extends TU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,A)=>{this.notifyListeners(o,A)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);I7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kU.type="LOCAL";const f_=kU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU extends TU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NU.type="SESSION";const ec=NU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),A=await VV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:A})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,A)=>{const l=bg("",20);i.port1.start();const u=setTimeout(()=>{A(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(c){const p=c;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),A(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function zV(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function GV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qV(){return p_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="firebaseLocalStorageDb",$V=1,gv="firebaseLocalStorage",QU="fbase_key";class xg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iw(t,e){return t.transaction([gv],e?"readwrite":"readonly").objectStore(gv)}function JV(){const t=indexedDB.deleteDatabase(UU);return new xg(t).toPromise()}function aB(){const t=indexedDB.open(UU,$V);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gv,{keyPath:QU})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gv)?e(r):(r.close(),await JV(),e(await aB()))})})}async function oE(t,e,n){const r=Iw(t,!0).put({[QU]:e,value:n});return new xg(r).toPromise()}async function YV(t,e){const n=Iw(t,!1).get(e),r=await new xg(n).toPromise();return r===void 0?null:r.value}function aE(t,e){const n=Iw(t,!0).delete(e);return new xg(n).toPromise()}const XV=800,ZV=3;class LU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aB(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cw._getInstance(qV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await GV(),!this.activeServiceWorker)return;this.sender=new KV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aB();return await oE(e,pv,"1"),await aE(e,pv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Iw(i,!1).getAll();return new xg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LU.type="LOCAL";const Wp=LU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t,e){return $n(t,"POST","/v2/accounts/mfaSignIn:start",qn(t,e))}function t9(t,e){return $n(t,"POST","/v2/accounts/mfaSignIn:finalize",qn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=500,r9=6e4,Bm=1e12;class i9{constructor(e){this.auth=e,this.counter=Bm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new s9(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Bm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Bm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Bm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class s9{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;rt(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=o9(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},r9)},n9))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function o9(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=mU("rcb"),a9=new mg(3e4,6e4);class A9{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=pr().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return rt(l9(n),e,"argument-error"),this.shouldResolveImmediately(n)&&YI(pr().grecaptcha)?Promise.resolve(pr().grecaptcha):new Promise((r,i)=>{const s=pr().setTimeout(()=>{i(Cr(e,"network-request-failed"))},a9.get());pr()[$1]=()=>{pr().clearTimeout(s),delete pr()[$1];const a=pr().grecaptcha;if(!a||!YI(a)){i(Cr(e,"internal-error"));return}const A=a.render;a.render=(l,u)=>{const c=A(l,u);return this.counter++,c},this.hostLanguage=n,r(a)};const o=`${U7()}?${hh({onload:$1,render:"explicit",hl:n})}`;a_(o).catch(()=>{clearTimeout(s),i(Cr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=pr().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function l9(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class u9{async load(e){return new i9(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="recaptcha",c9={theme:"light",type:"image"};let d9=class{constructor(e,n,r=Object.assign({},c9)){this.parameters=r,this.type=PU,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(e),this.isInvisible=this.parameters.size==="invisible",rt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;rt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new u9:new A9,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){rt(!this.parameters.sitekey,this.auth,"argument-error"),rt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),rt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=pr()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){rt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){rt(s_()&&!p_(),this.auth,"internal-error"),await h9(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await h7(this.auth);rt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return rt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function h9(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Nu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function f9(t,e,n){if(zn(t.app))return Promise.reject(Qr(t));const r=Wn(t),i=await Ew(r,e,Ft(n));return new g_(i,s=>xw(r,s))}async function p9(t,e,n){const r=Ft(t);await bw(!1,r,"phone");const i=await Ew(r.auth,e,Ft(n));return new g_(i,s=>CU(r,s))}async function g9(t,e,n){const r=Ft(t);if(zn(r.auth.app))return Promise.reject(Qr(r.auth));const i=await Ew(r.auth,e,Ft(n));return new g_(i,s=>IU(r,s))}async function Ew(t,e,n){var r;const i=await n.verify();try{rt(typeof i=="string",t,"argument-error"),rt(n.type===PU,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return rt(o.type==="enroll",t,"internal-error"),(await RV(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{rt(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return rt(a,t,"missing-multi-factor-info"),(await e9(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await eV(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function m9(t,e){const n=Ft(t);if(zn(n.auth.app))return Promise.reject(Qr(n.auth));await A_(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=class m0{constructor(e){this.providerId=m0.PROVIDER_ID,this.auth=Wn(e)}verifyPhoneNumber(e,n){return Ew(this.auth,e,Ft(n))}static credential(e,n){return Nu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return m0.credentialFromTaggedObject(n)}static credentialFromError(e){return m0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Nu._fromTokenResponse(n,r):null}};tc.PROVIDER_ID="phone";tc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,e){return e?As(e):(rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends xh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v9(t){return _U(t.auth,new m_(t),t.bypassAuthState)}function w9(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),xU(n,new m_(t),t.bypassAuthState)}async function y9(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),A_(n,new m_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const A={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v9;case"linkViaPopup":case"linkViaRedirect":return y9;case"reauthViaPopup":case"reauthViaRedirect":return w9;default:qr(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=new mg(2e3,1e4);async function b9(t,e,n){if(zn(t.app))return Promise.reject(Cr(t,"operation-not-supported-in-this-environment"));const r=Wn(t);bh(t,e,Wa);const i=hc(r,n);return new Ca(r,"signInViaPopup",e,i).executeNotNull()}async function x9(t,e,n){const r=Ft(t);if(zn(r.auth.app))return Promise.reject(Cr(r.auth,"operation-not-supported-in-this-environment"));bh(r.auth,e,Wa);const i=hc(r.auth,n);return new Ca(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function _9(t,e,n){const r=Ft(t);bh(r.auth,e,Wa);const i=hc(r.auth,n);return new Ca(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ca extends RU{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){Ao(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B9.get())};e()}}Ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="pendingRedirect",qf=new Map;class I9 extends RU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qf.get(this.auth._key());if(!e){try{const r=await E9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qf.set(this.auth._key(),e)}return this.bypassAuthState||qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E9(t,e){const n=OU(e),r=DU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function v_(t,e){return DU(t)._set(OU(e),"true")}function S9(){qf.clear()}function w_(t,e){qf.set(t._key(),e)}function DU(t){return As(t._redirectPersistence)}function OU(t){return ku(C9,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t,e,n){return T9(t,e,n)}async function T9(t,e,n){if(zn(t.app))return Promise.reject(Qr(t));const r=Wn(t);bh(t,e,Wa),await r._initializationPromise;const i=hc(r,n);return await v_(i,r),i._openRedirect(r,e,"signInViaRedirect")}function k9(t,e,n){return N9(t,e,n)}async function N9(t,e,n){const r=Ft(t);if(bh(r.auth,e,Wa),zn(r.auth.app))return Promise.reject(Qr(r.auth));await r.auth._initializationPromise;const i=hc(r.auth,n);await v_(i,r.auth);const s=await MU(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function U9(t,e,n){return Q9(t,e,n)}async function Q9(t,e,n){const r=Ft(t);bh(r.auth,e,Wa),await r.auth._initializationPromise;const i=hc(r.auth,n);await bw(!1,r,e.providerId),await v_(i,r.auth);const s=await MU(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function L9(t,e){return await Wn(t)._initializationPromise,Sw(t,e,!1)}async function Sw(t,e,n=!1){if(zn(t.app))return Promise.reject(Qr(t));const r=Wn(t),i=hc(r,e),o=await new I9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function MU(t){const e=bg(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=10*60*1e3;class jU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HU(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P9&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HU({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VU(t,e={}){return $n(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O9=/^https?/;async function M9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VU(t);for(const n of e)try{if(j9(n))return}catch{}qr(t,"unauthorized-domain")}function j9(t){const e=Vp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!O9.test(n))return!1;if(D9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new mg(3e4,6e4);function lE(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function V9(t){return new Promise((e,n)=>{var r,i,s;function o(){lE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lE(),n(Cr(t,"network-request-failed"))},timeout:H9.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{const a=mU("iframefcb");return pr()[a]=()=>{gapi.load?o():n(Cr(t,"network-request-failed"))},a_(`${L7()}?onload=${a}`).catch(A=>n(A))}}).catch(e=>{throw v0=null,e})}let v0=null;function K9(t){return v0=v0||V9(t),v0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=new mg(5e3,15e3),G9="__/auth/iframe",W9="emulator/auth/iframe",q9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J9(t){const e=t.config;rt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o_(e,W9):`https://${t.config.authDomain}/${G9}`,r={apiKey:e.apiKey,appName:t.name,v:Tl},i=$9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hh(r).slice(1)}`}async function Y9(t){const e=await K9(t),n=pr().gapi;return rt(n,t,"internal-error"),e.open({where:document.body,url:J9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Cr(t,"network-request-failed"),a=pr().setTimeout(()=>{s(o)},z9.get());function A(){pr().clearTimeout(a),i(r)}r.ping(A).then(A,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z9=500,eK=600,tK="_blank",nK="http://localhost";class uE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rK(t,e,n,r=Z9,i=eK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const A=Object.assign(Object.assign({},X9),{width:r.toString(),height:i.toString(),top:s,left:o}),l=On().toLowerCase();n&&(a=cU(l)?tK:n),lU(l)&&(e=e||nK,A.scrollbars="yes");const u=Object.entries(A).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(C7(l)&&a!=="_self")return iK(e||"",a),new uE(null);const c=window.open(e||"",a,u);rt(c,t,"popup-blocked");try{c.focus()}catch{}return new uE(c)}function iK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK="__/auth/handler",oK="emulator/auth/handler",aK=encodeURIComponent("fac");async function AB(t,e,n,r,i,s){rt(t.config.authDomain,t,"auth-domain-config-required"),rt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tl,eventId:i};if(e instanceof Wa){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",C6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof _h){const u=e.getScopes().filter(c=>c!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const A=await t._getAppCheckToken(),l=A?`#${aK}=${encodeURIComponent(A)}`:"";return`${AK(t)}?${hh(a).slice(1)}${l}`}function AK({config:t}){return t.emulator?o_(t,oK):`https://${t.authDomain}/${sK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="webStorageSupport";class lK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ec,this._completeRedirectFn=Sw,this._overrideRedirectResult=w_}async _openPopup(e,n,r,i){var s;Ao((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await AB(e,n,r,Vp(),i);return rK(e,o,bg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await AB(e,n,r,Vp(),i);return zV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ao(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Y9(e),r=new jU(e);return n.register("authEvent",i=>(rt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(J1,{type:J1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[J1];o!==void 0&&n(!!o),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pU()||uU()||wg()}}const uK=lK;class cK{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Ro("unexpected MultiFactorSessionType")}}}class y_ extends cK{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new y_(e)}_finalizeEnroll(e,n,r){return DV(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return t9(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class KU{constructor(){}static assertion(e){return y_._fromCredential(e)}}KU.FACTOR_ID="phone";var cE="@firebase/auth",dE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fK(t){fl(new Ko("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;rt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const A={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gU(t)},l=new k7(r,i,s,A);return O7(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fl(new Ko("auth-internal",e=>{const n=Wn(e.getProvider("auth").getImmediate());return(r=>new dK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oo(cE,dE,hK(t)),oo(cE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=5*60;p6("authIdTokenMaxAge");function gK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}N7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fK("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK=2e3;async function vK(t,e,n){var r;const{BuildInfo:i}=nc();Ao(e.sessionId,"AuthEvent did not contain a session ID");const s=await xK(e.sessionId),o={};return wg()?o.ibi=i.packageName:vg()?o.apn=i.packageName:qr(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,AB(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function wK(t){const{BuildInfo:e}=nc(),n={};wg()?n.iosBundleId=e.packageName:vg()?n.androidPackageName=e.packageName:qr(t,"operation-not-supported-in-this-environment"),await VU(t,n)}function yK(t){const{cordova:e}=nc();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,_7()?"_blank":"_system","location=yes"),n(i)})})}async function BK(t,e,n){const{cordova:r}=nc();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function A(){var c;s();const p=(c=r.plugins.browsertab)===null||c===void 0?void 0:c.close;typeof p=="function"&&p(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(Cr(t,"redirect-cancelled-by-user"))},mK))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(A),document.addEventListener("resume",l,!1),vg()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(A),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}function bK(t){var e,n,r,i,s,o,a,A,l,u;const c=nc();rt(typeof((e=c==null?void 0:c.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),rt(typeof((n=c==null?void 0:c.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),rt(typeof((s=(i=(r=c==null?void 0:c.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),rt(typeof((A=(a=(o=c==null?void 0:c.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||A===void 0?void 0:A.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),rt(typeof((u=(l=c==null?void 0:c.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function xK(t){const e=_K(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function _K(t){if(Ao(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK=20;class IK extends jU{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function EK(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:TK(),postBody:null,tenantId:t.tenantId,error:Cr(t,"no-auth-event")}}function SK(t,e){return lB()._set(uB(t),e)}async function hE(t){const e=await lB()._get(uB(t));return e&&await lB()._remove(uB(t)),e}function FK(t,e){var n,r;const i=NK(e);if(i.includes("/__/auth/callback")){const s=w0(i),o=s.firebaseError?kK(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],A=a?Cr(a):null;return A?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:A,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function TK(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<CK;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function lB(){return As(f_)}function uB(t){return ku("authEvent",t.config.apiKey,t.name)}function kK(t){try{return JSON.parse(t)}catch{return null}}function NK(t){const e=w0(t),n=e.link?decodeURIComponent(e.link):void 0,r=w0(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return w0(i).link||i||r||n||t}function w0(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Bd(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK=500;class QK{constructor(){this._redirectPersistence=ec,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sw,this._overrideRedirectResult=w_}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new IK(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){qr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){bK(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),S9(),await this._originValidation(e);const o=EK(e,r,i);await SK(e,o);const a=await vK(e,o,n),A=await yK(a);return BK(e,s,A)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wK(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=nc(),o=setTimeout(async()=>{await hE(e),n.onEvent(fE())},UK),a=async u=>{clearTimeout(o);const c=await hE(e);let p=null;c&&(u!=null&&u.url)&&(p=FK(c,u.url)),n.onEvent(p||fE())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const A=i,l=`${s.packageName.toLowerCase()}://`;nc().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(l)&&a({url:u}),typeof A=="function")try{A(u)}catch(c){console.error(c)}}}}const LK=QK;function fE(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Cr("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t,e){Wn(t)._logFramework(e)}var RK="@firebase/auth-compat",DK="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=1e3;function $f(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function MK(){return $f()==="http:"||$f()==="https:"}function zU(t=On()){return!!(($f()==="file:"||$f()==="ionic:"||$f()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function jK(){return Wb()||Gb()}function HK(){return pT()&&(document==null?void 0:document.documentMode)===11}function VK(t=On()){return/Edge\/\d+/.test(t)}function KK(t=On()){return HK()||VK(t)}function GU(){try{const t=self.localStorage,e=bg();if(t)return t.setItem(e,"1"),t.removeItem(e),KK()?Cp():!0}catch{return B_()&&Cp()}return!1}function B_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Y1(){return(MK()||fT()||zU())&&!jK()&&GU()&&!B_()}function WU(){return zU()&&typeof document<"u"}async function zK(){return WU()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},OK);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function GK(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss={LOCAL:"local",NONE:"none",SESSION:"session"},sf=rt,qU="persistence";function WK(t,e){if(sf(Object.values(ss).includes(e),t,"invalid-persistence-type"),Wb()){sf(e!==ss.SESSION,t,"unsupported-persistence-type");return}if(Gb()){sf(e===ss.NONE,t,"unsupported-persistence-type");return}if(B_()){sf(e===ss.NONE||e===ss.LOCAL&&Cp(),t,"unsupported-persistence-type");return}sf(e===ss.NONE||GU(),t,"unsupported-persistence-type")}async function cB(t){await t._initializationPromise;const e=$U(),n=ku(qU,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function qK(t,e){const n=$U();if(!n)return[];const r=ku(qU,t,e);switch(n.getItem(r)){case ss.NONE:return[sh];case ss.LOCAL:return[Wp,ec];case ss.SESSION:return[ec];default:return[]}}function $U(){var t;try{return((t=GK())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=rt;class KA{constructor(){this.browserResolver=As(uK),this.cordovaResolver=As(LK),this.underlyingResolver=null,this._redirectPersistence=ec,this._completeRedirectFn=Sw,this._overrideRedirectResult=w_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return WU()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $K(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await zK();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){return t.unwrap()}function JK(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(t){return YU(t)}function XK(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new ZK(t,PV(t,e))}else if(r){const i=YU(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function YU(t){const{_tokenResponse:e}=t instanceof _i?t.customData:t;if(!e)return null;if(!(t instanceof _i)&&"temporaryProof"in e&&"phoneNumber"in e)return tc.credentialFromResult(t);const n=e.providerId;if(!n||n===rf.PASSWORD)return null;let r;switch(n){case rf.GOOGLE:r=No;break;case rf.FACEBOOK:r=ko;break;case rf.GITHUB:r=Uo;break;case rf.TWITTER:r=Qo;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:A}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?oh._create(n,a):qo._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Ud(n).credential({idToken:i,accessToken:s,rawNonce:A})}return t instanceof _i?r.credentialFromError(t):r.credentialFromResult(t)}function Di(t,e){return e.catch(n=>{throw n instanceof _i&&XK(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:YK(n),additionalUserInfo:LV(n),user:Ia.getOrCreate(i)}})}async function dB(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Di(t,n.confirm(r))}}class ZK{constructor(e,n){this.resolver=n,this.auth=JK(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Di(JU(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this._delegate=e,this.multiFactor=MV(e)}static getOrCreate(e){return Ia.USER_MAP.has(e)||Ia.USER_MAP.set(e,new Ia(e)),Ia.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Di(this.auth,CU(this._delegate,e))}async linkWithPhoneNumber(e,n){return dB(this.auth,p9(this._delegate,e,n))}async linkWithPopup(e){return Di(this.auth,_9(this._delegate,e,KA))}async linkWithRedirect(e){return await cB(Wn(this.auth)),U9(this._delegate,e,KA)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Di(this.auth,IU(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return dB(this.auth,g9(this._delegate,e,n))}reauthenticateWithPopup(e){return Di(this.auth,x9(this._delegate,e,KA))}async reauthenticateWithRedirect(e){return await cB(Wn(this.auth)),k9(this._delegate,e,KA)}sendEmailVerification(e){return _V(this._delegate,e)}async unlink(e){return await uV(this._delegate,e),this}updateEmail(e){return SV(this._delegate,e)}updatePassword(e){return FV(this._delegate,e)}updatePhoneNumber(e){return m9(this._delegate,e)}updateProfile(e){return EV(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return CV(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ia.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=rt;class hB{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;of(r,"invalid-api-key",{appName:e.name}),of(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?KA:void 0;this._delegate=n.initialize({options:{persistence:ez(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(r7),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ia.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){M7(this._delegate,e,n)}applyActionCode(e){return pV(this._delegate,e)}checkActionCode(e){return EU(this._delegate,e)}confirmPasswordReset(e,n){return fV(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Di(this._delegate,mV(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return xV(this._delegate,e)}isSignInWithEmailLink(e){return yV(this._delegate,e)}async getRedirectResult(){of(Y1(),this._delegate,"operation-not-supported-in-this-environment");const e=await L9(this._delegate,KA);return e?Di(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){PK(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=pE(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=pE(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return wV(this._delegate,e,n)}sendPasswordResetEmail(e,n){return hV(this._delegate,e,n||void 0)}async setPersistence(e){WK(this._delegate,e);let n;switch(e){case ss.SESSION:n=ec;break;case ss.LOCAL:n=await As(Wp)._isAvailable()?Wp:f_;break;case ss.NONE:n=sh;break;default:return qr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Di(this._delegate,lV(this._delegate))}signInWithCredential(e){return Di(this._delegate,xw(this._delegate,e))}signInWithCustomToken(e){return Di(this._delegate,dV(this._delegate,e))}signInWithEmailAndPassword(e,n){return Di(this._delegate,vV(this._delegate,e,n))}signInWithEmailLink(e,n){return Di(this._delegate,BV(this._delegate,e,n))}signInWithPhoneNumber(e,n){return dB(this._delegate,f9(this._delegate,e,n))}async signInWithPopup(e){return of(Y1(),this._delegate,"operation-not-supported-in-this-environment"),Di(this._delegate,b9(this._delegate,e,KA))}async signInWithRedirect(e){return of(Y1(),this._delegate,"operation-not-supported-in-this-environment"),await cB(this._delegate),F9(this._delegate,e,KA)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return gV(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}hB.Persistence=ss;function pE(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Ia.getOrCreate(o)),error:e,complete:n}}function ez(t,e){const n=qK(t,e);if(typeof self<"u"&&!n.includes(Wp)&&n.push(Wp),typeof window<"u")for(const r of[f_,ec])n.includes(r)||n.push(r);return n.includes(sh)||n.push(sh),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.providerId="phone",this._delegate=new tc(JU(Ll.auth()))}static credential(e,n){return tc.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}b_.PHONE_SIGN_IN_METHOD=tc.PHONE_SIGN_IN_METHOD;b_.PROVIDER_ID=tc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=rt;class nz{constructor(e,n,r=Ll.app()){var i;tz((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new d9(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz="auth-compat";function iz(t){t.INTERNAL.registerComponent(new Ko(rz,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new hB(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Kc.EMAIL_SIGNIN,PASSWORD_RESET:Kc.PASSWORD_RESET,RECOVER_EMAIL:Kc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Kc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Kc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Kc.VERIFY_EMAIL}},EmailAuthProvider:Pl,FacebookAuthProvider:ko,GithubAuthProvider:Uo,GoogleAuthProvider:No,OAuthProvider:Ud,SAMLAuthProvider:hv,PhoneAuthProvider:b_,PhoneMultiFactorGenerator:KU,RecaptchaVerifier:nz,TwitterAuthProvider:Qo,Auth:hB,AuthCredential:xh,Error:_i}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(RK,DK)}iz(Ll);const sz={VITE_FIREBASE_API_KEY:"AIzaSyA-lCfZRMFfLjdG4vg3JnPWMAXq_6zgl5I",VITE_FIREBASE_APP_ID:"1:323355347910:web:c81f2813dce5ee9373c0c7",VITE_FIREBASE_AUTH_DOMAIN:"zameny-b6c3f.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"323355347910",VITE_FIREBASE_PROJECT_ID:"zameny-b6c3f",VITE_FIREBASE_STORAGE_BUCKET:"zameny-b6c3f.firebasestorage.app"},zc=sz,XU={apiKey:zc.VITE_FIREBASE_API_KEY,authDomain:zc.VITE_FIREBASE_AUTH_DOMAIN,projectId:zc.VITE_FIREBASE_PROJECT_ID,storageBucket:zc.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:zc.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:zc.VITE_FIREBASE_APP_ID};if(!XU.apiKey)throw alert(" :  Firebase API . ,    .env          VITE_"),new Error("CRITICAL ERROR: Firebase API Key is missing. Check that your .env file exists and is configured correctly with VITE_ variables.");Ll.initializeApp(XU);const cu=Ll.firestore(),y0=Ll.auth();var ot=(t=>(t.First="1 ",t.Second="2 ",t))(ot||{}),os=(t=>(t.Monday="",t.Tuesday="",t.Wednesday="",t.Thursday="",t.Friday="",t))(os||{});const bi=["","","","",""],Ea={"1 ":[1,2,3,4,5,6,7],"2 ":[0,1,2,3,4,5,6]},gE=["","","/","","","",""," "],ZU=[{shift:ot.First,period:1,start:"08:00",end:"08:45",day:"default"},{shift:ot.First,period:2,start:"08:55",end:"09:40",day:"default"},{shift:ot.First,period:3,start:"09:50",end:"10:35",day:"default"},{shift:ot.First,period:4,start:"10:55",end:"11:40",day:"default"},{shift:ot.First,period:5,start:"11:50",end:"12:35",day:"default"},{shift:ot.First,period:6,start:"12:40",end:"13:25",day:"default"},{shift:ot.First,period:7,start:"13:30",end:"14:15",day:"default"},{shift:ot.Second,period:0,start:"13:30",end:"14:15",day:"default"},{shift:ot.Second,period:1,start:"14:20",end:"15:05",day:"default"},{shift:ot.Second,period:2,start:"15:15",end:"16:00",day:"default"},{shift:ot.Second,period:3,start:"16:10",end:"16:55",day:"default"},{shift:ot.Second,period:4,start:"17:05",end:"17:50",day:"default"},{shift:ot.Second,period:5,start:"18:00",end:"18:45",day:"default"},{shift:ot.Second,period:6,start:"18:50",end:"19:35",day:"default"}],Hr={subjects:[{id:"s1",name:"",color:"#e0e7ff",difficulty:11,requiredRoomType:""},{id:"s2",name:" ",color:"#dcfce7",difficulty:10,requiredRoomType:""}],teachers:[],classes:[{id:"c1",name:"5",shift:ot.First,studentsCount:25},{id:"c2",name:"6",shift:ot.Second,studentsCount:28}],rooms:[{id:"r1",name:"101",capacity:30,type:""}],schedule:[],substitutions:[],bellSchedule:ZU,settings:{telegramToken:"",publicScheduleId:null,feedbackChatId:""}},X1="schoolData",Z1="main",ey="publicSchedules",Uu={save:async t=>{try{const e=ro(cu,X1,Z1);await Gf(e,t)}catch(e){throw console.error("Error saving to cloud:",e),e}},load:async()=>{try{const t=ro(cu,X1,Z1),e=await nB(t);if(e.exists()){const n=e.data(),r={...Hr,...n};return n.settings&&(r.settings={...Hr.settings,...n.settings}),r}else{console.log("No data found, initializing cloud DB...");const n=ro(cu,X1,Z1);return await Gf(n,Hr),Hr}}catch(t){return console.error("Error loading from cloud:",t),Hr}},exportJson:t=>{const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=`gymnasium_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r)},setPublicData:async(t,e)=>{try{const n={subjects:e.subjects,teachers:e.teachers.map(i=>({id:i.id,name:i.name,subjectIds:i.subjectIds,shifts:i.shifts,unavailableDates:[],telegramChatId:"",birthDate:void 0,absenceReasons:void 0})),classes:e.classes,rooms:e.rooms,schedule:e.schedule,substitutions:e.substitutions,bellSchedule:e.bellSchedule,settings:{telegramToken:"",feedbackChatId:"",publicScheduleId:e.settings.publicScheduleId}},r=ro(cu,ey,t);await Gf(r,n)}catch(n){throw console.error("Error publishing schedule:",n),n}},getPublicData:async t=>{try{const e=ro(cu,ey,t),n=await nB(e);return n.exists()?n.data():null}catch(e){return console.error("Error loading public schedule:",e),null}},deletePublicData:async t=>{try{const e=ro(cu,ey,t);await WN(e)}catch(e){throw console.error("Error deleting public schedule:",e),e}}},e3=le.createContext(void 0),oz="admin@gymnasium22.com",az="teacher@gymnasium22.com",Az=({children:t})=>{const[e,n]=le.useState(null),[r,i]=le.useState(null),[s,o]=le.useState(!0);le.useEffect(()=>{const l=y0.onAuthStateChanged(u=>{n(u),u?u.email===oz?i("admin"):u.email===az?i("teacher"):(i(null),y0.signOut()):i(null),o(!1)});return()=>l()},[]);const a=async()=>{await y0.signOut(),i(null)},A=()=>{i("guest"),o(!1)};return f.jsx(e3.Provider,{value:{user:e,role:r,loading:s,logout:a,setGuestRole:A},children:t})},Fw=()=>{const t=le.useContext(e3);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},t3=le.createContext(void 0),n3=({children:t,initialData:e})=>{const{role:n}=Fw(),r=n!=="admin",[i,s]=le.useState(Hr),[o,a]=le.useState(!0),[A,l]=le.useState([]),[u,c]=le.useState(-1);le.useEffect(()=>{if(e)s(e),l([e]),c(0),a(!1);else{a(!0);const y=ro(cu,"schoolData","main"),w=Xx(y,x=>{if(x.exists()){const U=x.data(),P={...Hr,...U};P.teachers||(P.teachers=[]),P.teachers=P.teachers.map(M=>({shifts:[ot.First,ot.Second],telegramChatId:"",...M})),P.schedule||(P.schedule=[]),P.substitutions||(P.substitutions=[]),P.bellSchedule||(P.bellSchedule=ZU),P.settings?P.settings={...Hr.settings,...P.settings}:P.settings=Hr.settings,s(P),l(M=>{const S=M[M.length-1];return!S||JSON.stringify(S)!==JSON.stringify(P)?[...M,P].slice(-50):M}),c(M=>M<0?0:M+1)}else s(Hr),l([Hr]),c(0);a(!1)},x=>{console.error("Firebase sync error:",x),a(!1)});return()=>w()}},[e]);const p=le.useCallback(async(y,w=!0)=>{if(r){console.warn("Attempted to save in Read-Only mode");return}const x={...i,...y};await Uu.save(x)},[i,r]),g=le.useCallback(async()=>{if(!r&&u>0){const y=A[u-1];await Uu.save(y)}},[A,u,r]),v=le.useCallback(async()=>{if(!r&&u<A.length-1){const y=A[u+1];await Uu.save(y)}},[A,u,r]),b=le.useCallback(async()=>{await p(Hr)},[p]),E=le.useMemo(()=>({data:i,isLoading:o,saveData:p,resetData:b,undo:g,redo:v,canUndo:!r&&u>0,canRedo:!r&&u<A.length-1,isReadOnly:r}),[i,o,p,b,g,v,u,r]);return f.jsx(t3.Provider,{value:E,children:t})},_g=()=>{const t=le.useContext(t3);if(!t)throw new Error("useFullData must be used within DataProvider");return t},r3=le.createContext(void 0),i3=le.createContext(void 0),s3=({children:t})=>{const{data:e,saveData:n}=_g(),r=le.useMemo(()=>({subjects:e.subjects,teachers:e.teachers,classes:e.classes,rooms:e.rooms,bellSchedule:e.bellSchedule,settings:e.settings}),[e.subjects,e.teachers,e.classes,e.rooms,e.bellSchedule,e.settings]),i=le.useCallback(async(o,a)=>{await n(o,a)},[n]),s=le.useMemo(()=>({...r,saveStaticData:i}),[r,i]);return f.jsx(r3.Provider,{value:s,children:t})},o3=({children:t})=>{const{data:e,saveData:n}=_g(),r=le.useMemo(()=>({schedule:e.schedule,substitutions:e.substitutions}),[e.schedule,e.substitutions]),i=le.useCallback(async(o,a)=>{await n(o,a)},[n]),s=le.useMemo(()=>({...r,saveScheduleData:i}),[r,i]);return f.jsx(i3.Provider,{value:s,children:t})},Rl=()=>{const t=le.useContext(r3);if(!t)throw new Error("useStaticData must be used within StaticDataProvider");const e=_g();return{...t,isLoading:e.isLoading,undo:e.undo,redo:e.redo,canUndo:e.canUndo,canRedo:e.canRedo,resetData:e.resetData,isReadOnly:e.isReadOnly}},Cg=()=>{const t=le.useContext(i3);if(!t)throw new Error("useScheduleData must be used within ScheduleDataProvider");const e=_g();return{...t,isLoading:e.isLoading,undo:e.undo,redo:e.redo,canUndo:e.canUndo,canRedo:e.canRedo,resetData:e.resetData,isReadOnly:e.isReadOnly}},a3=_g,lz={Home:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Calendar:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Repeat:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"17 1 21 5 17 9"}),f.jsx("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),f.jsx("polyline",{points:"7 23 3 19 7 15"}),f.jsx("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]}),BookOpen:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),f.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Settings:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"3"}),f.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),BarChart2:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),f.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),f.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),Download:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"7 10 12 15 17 10"}),f.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Menu:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),f.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),X:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Plus:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Trash2:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"3 6 5 6 21 6"}),f.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Edit2:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),Users:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),GraduationCap:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),f.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]}),Clock:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]}),CheckCircle:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),Sun:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"5"}),f.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),f.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),f.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),f.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),f.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),f.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),f.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),f.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Moon:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Search:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Filter:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),RotateCcw:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"1 4 1 10 7 10"}),f.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),RotateCw:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"23 4 23 10 17 10"}),f.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),Printer:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),Loader:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),Share2:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"18",cy:"5",r:"3"}),f.jsx("circle",{cx:"6",cy:"12",r:"3"}),f.jsx("circle",{cx:"18",cy:"19",r:"3"}),f.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),f.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),AlertTriangle:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),f.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),f.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),Copy:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),Clipboard:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]}),PieChart:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),f.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),List:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),f.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),f.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),f.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),f.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),Gift:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"20 12 20 22 4 22 4 12"}),f.jsx("rect",{x:"2",y:"7",width:"20",height:"5"}),f.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"7"}),f.jsx("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),f.jsx("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"})]}),Save:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),f.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),f.jsx("polyline",{points:"7 3 7 8 15 8"})]}),FileSpreadsheet:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("path",{d:"M8 13h2"}),f.jsx("path",{d:"M8 17h2"}),f.jsx("path",{d:"M14 13h2"}),f.jsx("path",{d:"M14 17h2"})]}),Activity:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),TrendingUp:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),f.jsx("polyline",{points:"17 6 23 6 23 12"})]}),Table:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-7z"}),f.jsx("path",{d:"M3 9h18"}),f.jsx("path",{d:"M12 21V9"})]}),Image:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),f.jsx("circle",{cx:"9",cy:"9",r:"2"}),f.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),Upload:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),History:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 3v5h5"}),f.jsx("path",{d:"M3.05 13A9 9 0 1 0 6 5.3L3 8"}),f.jsx("path",{d:"M12 7v5l4 2"})]}),UserX:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),f.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]}),ArrowRight:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),f.jsx("polyline",{points:"12 5 19 12 12 19"})]}),Star:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),GripVertical:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"9",cy:"12",r:"1"}),f.jsx("circle",{cx:"9",cy:"5",r:"1"}),f.jsx("circle",{cx:"9",cy:"19",r:"1"}),f.jsx("circle",{cx:"15",cy:"12",r:"1"}),f.jsx("circle",{cx:"15",cy:"5",r:"1"}),f.jsx("circle",{cx:"15",cy:"19",r:"1"})]}),DoorOpen:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M13 4h3a2 2 0 0 1 2 2v14"}),f.jsx("path",{d:"M2 20h3"}),f.jsx("path",{d:"M13 20h9"}),f.jsx("path",{d:"M10 20v-6a2 2 0 0 1 2-2h1v1"}),f.jsx("path",{d:"M13 12h1"}),f.jsx("path",{d:"M5 20v-6a2 2 0 0 1 2-2h1v1"}),f.jsx("path",{d:"M8 12h1"}),f.jsx("path",{d:"M4 20v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v8"})]}),Bell:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),f.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),Briefcase:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),f.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),User:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),CheckSquare:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"9 11 12 14 22 4"}),f.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),QrCode:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),f.jsx("path",{d:"M17 17h.01"}),f.jsx("path",{d:"M12 17h.01"}),f.jsx("path",{d:"M14 14h.01"}),f.jsx("path",{d:"M17 14h.01"}),f.jsx("path",{d:"M14 12h.01"}),f.jsx("path",{d:"M19 12h.01"}),f.jsx("path",{d:"M12 19h.01"}),f.jsx("path",{d:"M19 19h.01"})]}),Eraser:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 21h-4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2zm-4-4L6 4m0 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8"})}),Columns:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 3h8a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),f.jsx("path",{d:"M2 3h8a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"})]}),Rows:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 12H3"}),f.jsx("path",{d:"M21 6H3"}),f.jsx("path",{d:"M21 18H3"})]}),Send:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),f.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),Eye:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})},Ge=({name:t,size:e=24,className:n="",...r})=>{const i=lz[t];return i?f.jsx(i,{width:e,height:e,className:n,...r}):(console.warn(`Icon '${t}' not found.`),null)},ol=({isOpen:t,onClose:e,title:n,children:r,maxWidth:i="max-w-lg"})=>t?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4 animate-fade-in no-print",children:f.jsxs("div",{className:`bg-white dark:bg-dark-800 rounded-2xl shadow-2xl w-full ${i} flex flex-col max-h-[90vh] transition-colors duration-300`,children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100 dark:border-slate-700",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white tracking-tight",children:n}),f.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(Ge,{name:"X",size:24})})]}),f.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:r})]})}):null,uz=({x:t,y:e,onClose:n,actions:r})=>{if(le.useEffect(()=>{const s=()=>n();return window.addEventListener("click",s),()=>window.removeEventListener("click",s)},[n]),t===null||e===null)return null;const i={top:e,left:t};return window.innerWidth-t<200&&(i.left=t-200),f.jsx("div",{className:"fixed z-[100] bg-white dark:bg-slate-800 shadow-xl rounded-xl border border-slate-100 dark:border-slate-700 py-2 w-56 context-menu no-print",style:i,children:r.map((s,o)=>f.jsxs("button",{onClick:a=>{a.stopPropagation(),s.onClick(),n()},className:`w-full text-left px-4 py-2.5 text-sm font-bold flex items-center gap-3 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${s.color||"text-slate-700 dark:text-slate-200"}`,children:[s.icon&&f.jsx(Ge,{name:s.icon,size:16}),s.label]},o))})},cz=()=>{const{bellSchedule:t}=Rl(),[e,n]=le.useState("..."),[r,i]=le.useState(""),[s,o]=le.useState(0),[a,A]=le.useState("bg-slate-500"),[l,u]=le.useState("");return le.useEffect(()=>{const c=()=>{const g=new Date,v=g.getDay(),E=[null,os.Monday,os.Tuesday,os.Wednesday,os.Thursday,os.Friday,null][v];if(u(E||""),!E){n(" "),i(" "),A("bg-slate-400"),o(0);return}const y=g.getHours()*60+g.getMinutes();let w=t.filter(P=>P.day===E);w.length===0&&(w=t.filter(P=>P.day==="default"));let x=null;const U=P=>{const[M,S]=P.split(":").map(Number);return M*60+S};for(const P of w){const M=U(P.start),S=U(P.end);if(y>=M&&y<S){x={...P,duration:S-M,passed:y-M};break}}if(x)n(`${x.period} `),i(`${x.shift===ot.First?"1 ":"2 "}  . ${x.duration-x.passed} `),o(x.passed/x.duration*100),A("bg-indigo-600");else{let P=1/0,M=null;for(const S of w){const _=U(S.start);_>y&&_-y<P&&(P=_-y,M=S)}M&&P<30?(n(""),i(` ${P}  ${M.period} `),A("bg-amber-500"),o(100-P/20*100)):(n(" "),i(" "),A("bg-slate-400"),o(0))}};c();const p=setInterval(c,6e4);return()=>clearInterval(p)},[t]),f.jsxs("div",{className:"mx-4 mt-auto mb-4 p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 flex flex-col gap-3 relative overflow-hidden group",children:[f.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${a}`}),f.jsxs("div",{className:"flex justify-between items-start z-10",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider mb-0.5",children:l}),f.jsx("div",{className:"text-lg font-black text-slate-800 dark:text-white leading-none mb-1",children:e}),f.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:r})]}),f.jsx("div",{className:`w-8 h-8 rounded-full ${a} bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center text-${a.replace("bg-","")}`,children:f.jsx(Ge,{name:"Clock",size:16,className:a.replace("bg-","text-")})})]}),s>0&&f.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden mt-1",children:f.jsx("div",{className:`h-full ${a} transition-all duration-1000`,style:{width:`${s}%`}})})]})},mE=({options:t,value:e,onChange:n,placeholder:r,groupBy:i})=>{var v;const[s,o]=le.useState(!1),[a,A]=le.useState(""),l=le.useRef(null);le.useEffect(()=>{const b=E=>{l.current&&!l.current.contains(E.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const u=t||[],p=((v=(i?u.flatMap(b=>b.options||[]):u).find(b=>b.value===e))==null?void 0:v.label)||r,g=i?u.map(b=>({...b,options:(b.options||[]).filter(E=>E.label.toLowerCase().includes(a.toLowerCase()))})).filter(b=>b.options.length>0):u.filter(b=>b.label.toLowerCase().includes(a.toLowerCase()));return f.jsxs("div",{className:"relative w-full",ref:l,children:[f.jsxs("div",{onClick:()=>o(!s),className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white cursor-pointer flex justify-between items-center",children:[f.jsx("span",{className:e?"":"text-slate-400",children:p}),f.jsx(Ge,{name:"Filter",size:14,className:"text-slate-400"})]}),s&&f.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-600 rounded-xl shadow-xl max-h-60 overflow-auto",children:[f.jsx("div",{className:"p-2 sticky top-0 bg-white dark:bg-slate-800",children:f.jsx("input",{autoFocus:!0,value:a,onChange:b=>A(b.target.value),placeholder:"...",className:"w-full bg-slate-100 dark:bg-slate-700 rounded-lg p-2 text-sm outline-none dark:text-white"})}),i?g.map((b,E)=>f.jsxs("div",{children:[f.jsx("div",{className:"px-3 py-1 text-xs font-bold text-slate-400 bg-slate-50 dark:bg-slate-700/50",children:b.label}),b.options.map(y=>f.jsx("div",{onClick:()=>{n(y.value),o(!1),A("")},className:`px-3 py-2 text-sm cursor-pointer hover:bg-indigo-50 dark:hover:bg-indigo-900/30 dark:text-slate-200 ${e===y.value?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600":""}`,children:y.label},y.value))]},E)):g.map(b=>f.jsx("div",{onClick:()=>{n(b.value),o(!1),A("")},className:`px-3 py-2 text-sm cursor-pointer hover:bg-indigo-50 dark:hover:bg-indigo-900/30 dark:text-slate-200 ${e===b.value?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600":""}`,children:b.label},b.value))]})]})},bm=({children:t,className:e=""})=>{const n=wu.Children.toArray(t);return f.jsx("div",{className:e,children:n.map((r,i)=>f.jsx("div",{style:{animation:`fadeIn 0.3s ease-out forwards ${i*.05}s`,opacity:0},children:r},i))})},ty=({items:t,max:e,barClassName:n="bg-indigo-500"})=>f.jsx("div",{className:"space-y-3",children:t.map((r,i)=>f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("div",{className:"w-32 truncate font-medium text-slate-700 dark:text-slate-300",title:r.label,children:r.label}),f.jsx("div",{className:"flex-1 h-4 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${n} transition-all duration-500`,style:{width:`${r.value/e*100}%`}})}),f.jsx("div",{className:"w-12 text-right font-bold text-slate-800 dark:text-slate-200",children:r.value})]},i))}),dz=()=>{const{subjects:t,teachers:e,classes:n,rooms:r,bellSchedule:i,settings:s}=Rl(),{schedule:o,substitutions:a}=Cg(),A=dh(),[l,u]=le.useState(localStorage.getItem("gym_notes")||""),[c]=le.useState(new Date),[p,g]=le.useState(""),[v,b]=le.useState(null),[E,y]=le.useState(!1),[w,x]=le.useState(""),[U,P]=le.useState(!1),[M,S]=le.useState(""),[_,N]=le.useState(!1);le.useEffect(()=>{if(localStorage.setItem("gym_notes",l),l){x("");const R=setTimeout(()=>x(""),2e3);return()=>clearTimeout(R)}},[l]);const O=R=>new Date(R.getTime()-R.getTimezoneOffset()*6e4).toISOString().split("T")[0],I=le.useMemo(()=>O(c),[c]),T=le.useMemo(()=>{const R=c.getDay();return R===0||R===6?null:bi[R-1]},[c]),k=le.useMemo(()=>{const R=new Date;return R.setHours(0,0,0,0),e.filter(W=>W.birthDate).map(W=>{const re=new Date(W.birthDate);let Q=new Date(R.getFullYear(),re.getMonth(),re.getDate());Q<R&&Q.setFullYear(R.getFullYear()+1);const j=Math.ceil((Q.getTime()-R.getTime())/(1e3*60*60*24));return{...W,diff:j,age:R.getFullYear()-re.getFullYear()}}).filter(W=>W.diff<=30).sort((W,re)=>W.diff-re.diff)},[e]),X=le.useMemo(()=>{const R=e.length,W=e.filter(z=>z.unavailableDates.includes(I)),re=W.length,Q=R-re;return{presentPercent:R>0?Math.round(Q/R*100):0,absentCount:re,totalTeachers:R,absentTeachersList:W}},[e,I]),de=le.useMemo(()=>{const R=new Date(c);for(R.setDate(c.getDate()+1);R.getDay()===0||R.getDay()===6;)R.setDate(R.getDate()+1);const re=[null,"","","","","",null][R.getDay()];if(!re)return[];const Q=[];return n.forEach(j=>{const z=o.filter(ee=>ee.classId===j.id&&ee.day===re);z.length===0?Q.push({class:j.name,issue:`   ${re}`}):z.length<4&&Q.push({class:j.name,issue:`  (${z.length})`}),z.forEach(ee=>{if(o.some(Ae=>Ae.id!==ee.id&&Ae.day===re&&Ae.period===ee.period&&Ae.shift===ee.shift&&Ae.teacherId===ee.teacherId)&&Q.push({class:j.name,issue:`  (${ee.period} )`}),ee.roomId){const Ae=r.find(ge=>ge.id===ee.roomId);Ae&&Ae.capacity<j.studentsCount&&Q.push({class:j.name,issue:`: ${Ae.name} (${ee.period} )`})}})}),Q.filter((j,z,ee)=>ee.findIndex(ne=>ne.class===j.class&&ne.issue===j.issue)===z).slice(0,10)},[o,n,e,r,c]),te=le.useMemo(()=>{if(!T)return 0;let R=0;const W=o.filter(re=>re.day===T);for(const re of W){const Q=e.find(j=>j.id===re.teacherId);if(Q&&Q.unavailableDates.includes(I)){const j=a.find(z=>z.scheduleItemId===re.id&&z.date===I);(!j||j.replacementTeacherId==="cancelled"||j.replacementTeacherId==="conducted")&&R++}}return R},[o,e,a,I,T]),K=()=>{var Be;if(!p){b(null);return}const R=new Date,re=[null,os.Monday,os.Tuesday,os.Wednesday,os.Thursday,os.Friday,null][R.getDay()];if(!re){b({status:"",detail:"  ",color:"text-slate-500"});return}const Q=Fe=>{const[Te,je]=Fe.split(":").map(Number);return Te*60+je},j=R.getHours()*60+R.getMinutes();let z=i.filter(Fe=>Fe.day===re);z.length===0&&(z=i.filter(Fe=>Fe.day==="default"));const ee=z.find(Fe=>{const Te=Q(Fe.start),je=Q(Fe.end);return j>=Te&&j<=je}),ne=p.toLowerCase(),Ae=e.find(Fe=>Fe.name.toLowerCase().includes(ne)),ge=n.find(Fe=>Fe.name.toLowerCase().includes(ne));if(!Ae&&!ge){b({status:" ",detail:" ",color:"text-red-500"});return}if(Ae){if(Ae.unavailableDates.includes(I)){const Le=(Be=Ae.absenceReasons)==null?void 0:Be[I],Ve=Le===" "?Le:"";b({status:Ve,detail:Ve,color:"text-red-500",icon:"UserX",items:[]});return}if(!ee){b({status:" /  ",detail:" ",color:"text-amber-500",icon:"Clock",items:[]});return}const Fe=o.filter(Le=>Le.teacherId===Ae.id&&Le.day===re&&Le.period===ee.period),Te=a.filter(Le=>Le.date===I&&Le.replacementTeacherId===Ae.id).map(Le=>o.find(Ve=>Ve.id===Le.scheduleItemId)).filter(Le=>!!Le&&Le.day===re&&Le.period===ee.period);let je=[];Fe.forEach(Le=>{var Ee,oe,dt;const Ve=a.find(it=>it.date===I&&it.scheduleItemId===Le.id);if(!Ve||Ve.replacementTeacherId===Ae.id){const it=((Ee=r.find(fe=>fe.id===((Ve==null?void 0:Ve.replacementRoomId)||Le.roomId)))==null?void 0:Ee.name)||(Ve==null?void 0:Ve.replacementRoomId)||Le.roomId||" .",Ke=(oe=t.find(fe=>fe.id===Le.subjectId))==null?void 0:oe.name,ae=(dt=n.find(fe=>fe.id===Le.classId))==null?void 0:dt.name;je.push({room:it,subject:Ke,entityName:ae,direction:Le.direction,isSubstitution:!!(Ve&&Ve.replacementTeacherId===Ae.id),originalTeacherName:null})}}),Te.forEach(Le=>{var Ke,ae,fe;const Ve=a.find(be=>be.date===I&&be.scheduleItemId===Le.id&&be.replacementTeacherId===Ae.id);if(!Ve)return;const Ee=((Ke=r.find(be=>be.id===(Ve.replacementRoomId||Le.roomId)))==null?void 0:Ke.name)||Ve.replacementRoomId||Le.roomId||" .",oe=(ae=t.find(be=>be.id===Le.subjectId))==null?void 0:ae.name,dt=(fe=n.find(be=>be.id===Le.classId))==null?void 0:fe.name,it=e.find(be=>be.id===Ve.originalTeacherId);je.push({room:Ee,subject:oe,entityName:dt,direction:Le.direction,isSubstitution:!0,originalTeacherName:it==null?void 0:it.name})}),je.length>0?b({status:` ${ee.period}`,detail:"",color:"text-emerald-600",icon:"MapPin",items:je}):b({status:"",detail:` ( ${ee.period}) `,color:"text-blue-500",icon:"User",items:[]})}else if(ge){if(!ee){b({status:"",detail:" ",color:"text-amber-500",icon:"Clock",items:[]});return}const Fe=o.filter(Te=>Te.classId===ge.id&&Te.day===re&&Te.period===ee.period);if(Fe.length>0){const Te=Fe.map(Ve=>{var Ue,$e,et,Pe,ze;const Ee=a.find(Oe=>Oe.scheduleItemId===Ve.id&&Oe.date===I);if(Ee&&Ee.replacementTeacherId==="cancelled")return{cancelled:!0,subject:(Ue=t.find(Oe=>Oe.id===Ve.subjectId))==null?void 0:Ue.name};const oe=!!(Ee&&Ee.replacementTeacherId!=="conducted"&&Ee.replacementTeacherId!=="cancelled"),dt=oe?Ee.replacementTeacherId:Ve.teacherId,it=(Ee==null?void 0:Ee.replacementRoomId)||Ve.roomId,Ke=($e=e.find(Oe=>Oe.id===dt))==null?void 0:$e.name,ae=((et=r.find(Oe=>Oe.id===it))==null?void 0:et.name)||it||" .",fe=(Pe=t.find(Oe=>Oe.id===Ve.subjectId))==null?void 0:Pe.name,be=oe?(ze=e.find(Oe=>Oe.id===Ee.originalTeacherId))==null?void 0:ze.name:null;return{room:ae,subject:fe,entityName:Ke,direction:Ve.direction,isSubstitution:oe,originalTeacherName:be}}),je=Te.filter(Ve=>!Ve.cancelled),Le=Te.filter(Ve=>!!Ve.cancelled);je.length>0?b({status:` ${ee.period}`,detail:"",color:"text-emerald-600",icon:"MapPin",items:je}):Le.length>0?b({status:" ",detail:Le.map(Ve=>Ve.subject).join(", "),color:"text-red-500",icon:"X",items:[]}):b({status:" ",detail:" ",color:"text-blue-500",icon:"BookOpen",items:[]})}else b({status:" ",detail:" ",color:"text-blue-500",icon:"BookOpen",items:[]})}},$=async()=>{if(!M.trim()){alert(",   .");return}if(!(s!=null&&s.telegramToken)||!(s!=null&&s.feedbackChatId)){alert("     .");return}N(!0);const R=` *   :*

${M}`;try{const re=await(await fetch(`https://api.telegram.org/bot${s.telegramToken}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:s.feedbackChatId,text:R,parse_mode:"Markdown"})})).json();if(re.ok)alert("!   ."),P(!1),S("");else throw new Error(re.description)}catch(W){console.error("   Telegram:",W),alert(`   . : ${W}`)}finally{N(!1)}};return f.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[f.jsxs("header",{className:"mb-6 flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-black text-slate-800 dark:text-white",children:"  "}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:c.toLocaleDateString("ru-RU",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),f.jsxs("button",{onClick:()=>P(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition text-sm",children:[f.jsx(Ge,{name:"Send",size:16}),"  "]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full relative overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 p-2 rounded-lg",children:f.jsx(Ge,{name:"Search",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" ?"})]}),f.jsxs("div",{className:"flex gap-2 mb-4",children:[f.jsx("input",{placeholder:"  ...",value:p,onChange:R=>g(R.target.value),onKeyDown:R=>R.key==="Enter"&&K(),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm outline-none dark:text-white"}),f.jsx("button",{onClick:K,className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl transition-colors",children:f.jsx(Ge,{name:"Search",size:20})})]}),v&&f.jsxs("div",{className:"mt-auto p-3 bg-slate-50 dark:bg-slate-700/30 rounded-xl border border-slate-100 dark:border-slate-700 animate-fade-in",children:[f.jsxs("div",{className:`text-xs font-bold uppercase mb-2 flex items-center gap-2 ${v.color}`,children:[f.jsx(Ge,{name:v.icon||"Info",size:14})," ",v.status]}),v.items&&v.items.length>0?f.jsx("div",{className:"space-y-2",children:v.items.map((R,W)=>f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-2 rounded-lg border border-slate-100 dark:border-slate-600 text-xs shadow-sm",children:[R.direction&&f.jsx("div",{className:"text-[10px] font-bold text-indigo-500 mb-0.5",children:R.direction}),f.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200",children:R.subject}),R.isSubstitution&&f.jsx("div",{className:"text-[10px] font-bold text-orange-500",children:R.originalTeacherName?` ( ${R.originalTeacherName})`:" "}),f.jsxs("div",{className:"flex justify-between items-center mt-1 text-slate-500 dark:text-slate-400",children:[f.jsx("span",{children:R.entityName}),f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1.5 rounded font-mono",children:R.room})]})]},W))}):f.jsx("div",{className:"font-bold text-slate-800 dark:text-white text-sm leading-snug",children:v.detail})]})]}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 p-2 rounded-lg",children:f.jsx(Ge,{name:"AlertTriangle",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "})]}),f.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:te>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-5xl font-black text-red-500 mb-2",children:te}),f.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"   "}),f.jsxs("button",{onClick:()=>A("/substitutions"),className:"px-6 py-2 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition shadow-lg shadow-red-200 dark:shadow-none flex items-center gap-2",children:[f.jsx(Ge,{name:"ArrowRight",size:16}),"   "]})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ge,{name:"CheckCircle",size:48,className:"mb-4 text-emerald-400"}),f.jsx("p",{className:"text-sm text-slate-400",children:"  ,  "})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 p-2 rounded-lg",children:f.jsx(Ge,{name:"PieChart",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:""})]}),f.jsx("button",{onClick:()=>y(!E),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:E?" ":" ",children:f.jsx(Ge,{name:E?"PieChart":"List",size:20})})]}),E?f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar animate-fade-in",children:X.absentTeachersList.length>0?f.jsx("div",{className:"space-y-2",children:X.absentTeachersList.map(R=>{var W;return f.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-50 dark:border-slate-700 pb-1 mb-1 last:border-0",children:[f.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:R.name}),f.jsx("span",{className:"text-xs text-red-500 font-bold whitespace-nowrap",children:((W=R.absenceReasons)==null?void 0:W[O(c)])===" "?" ":""})]},R.id)})}):f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400",children:[f.jsx(Ge,{name:"CheckCircle",size:32,className:"text-emerald-400 mb-2"}),f.jsx("p",{className:"text-sm",children:"   "})]})}):f.jsxs("div",{className:"flex items-center justify-between flex-1 animate-fade-in",children:[f.jsxs("div",{className:"relative w-24 h-24",children:[f.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full transform -rotate-90",children:[f.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#f1f5f9",strokeWidth:"4",className:"dark:stroke-slate-700"}),f.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#10b981",strokeWidth:"4",strokeDasharray:`${X.presentPercent}, 100`})]}),f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[f.jsx("span",{className:"text-xs text-slate-400 font-bold",children:"."}),f.jsxs("span",{className:"font-black text-slate-700 dark:text-white",children:[X.presentPercent,"%"]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-3xl font-black text-red-500",children:X.absentCount}),f.jsxs("div",{className:"text-xs text-slate-400 font-bold uppercase leading-tight",children:["",f.jsx("br",{}),""]})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400 p-2 rounded-lg",children:f.jsx(Ge,{name:"Gift",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "})]}),f.jsx("div",{className:"flex-1 overflow-y-auto max-h-40 custom-scrollbar space-y-3",children:k.length?k.map(R=>f.jsxs("div",{className:"flex justify-between text-sm text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:R.name}),f.jsx("span",{className:"font-bold text-slate-400",children:R.diff===0?"!":`${R.diff} .`})]},R.id)):f.jsx("div",{className:"text-slate-400 text-sm text-center",children:" "})})]}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-2 rounded-lg",children:f.jsx(Ge,{name:"AlertTriangle",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:""})]}),f.jsx("div",{className:"flex-1 overflow-y-auto max-h-40 custom-scrollbar space-y-2",children:de.length?de.map((R,W)=>f.jsxs("div",{className:"flex justify-between text-sm text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:R.class}),f.jsx("span",{className:"text-amber-600 text-xs font-bold",children:R.issue})]},W)):f.jsx("div",{className:"text-slate-400 text-sm text-center",children:"  "})})]}),f.jsxs("div",{className:"md:col-span-2 lg:col-span-4 bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col relative group",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 p-2 rounded-lg",children:f.jsx(Ge,{name:"CheckSquare",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "})]}),f.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{navigator.clipboard.writeText(l),alert("")},className:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded font-bold text-slate-500 hover:text-indigo-600",children:""}),f.jsx("button",{onClick:()=>{confirm(" ?")&&u("")},className:"text-xs bg-red-50 dark:bg-red-900/30 px-2 py-1 rounded font-bold text-red-500 hover:text-red-700",children:""})]})]}),f.jsxs("div",{className:"relative flex-1",children:[f.jsx("textarea",{className:"w-full h-48 p-6 rounded-xl bg-yellow-50 dark:bg-slate-700 border border-yellow-200 dark:border-slate-600 outline-none font-medium text-slate-700 dark:text-slate-200 resize-none focus:ring-4 ring-yellow-100 dark:ring-slate-600/50 transition-shadow leading-relaxed shadow-inner",placeholder:"   ...",value:l,onChange:R=>u(R.target.value),style:{backgroundImage:"linear-gradient(transparent, transparent 27px, #e5e7eb 28px)",backgroundSize:"100% 28px",lineHeight:"28px"}}),w&&f.jsxs("div",{className:"absolute bottom-4 right-4 text-[10px] font-bold uppercase tracking-widest text-slate-400 animate-fade-in flex items-center gap-1",children:[f.jsx(Ge,{name:"Save",size:12})," ",w]})]})]})]}),f.jsx(ol,{isOpen:U,onClose:()=>P(!1),title:"   ",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"       ?  !      ."}),f.jsx("textarea",{value:M,onChange:R=>S(R.target.value),rows:6,className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500 resize-y",placeholder:" ..."}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:$,disabled:_,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none flex items-center gap-2 disabled:opacity-50",children:[_?f.jsx(Ge,{name:"Loader",size:16,className:"animate-spin"}):f.jsx(Ge,{name:"Send",size:16}),_?"...":""]})})]})})]})};var A3={},l3={},u3={},Tw={};Object.defineProperty(Tw,"__esModule",{value:!0});function hz(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()}Tw.default=hz;var x_={};Object.defineProperty(x_,"__esModule",{value:!0});var fz=Tw,pz=" and ";function gz(t){return typeof t=="string"?t:Object.entries(t).map(function(e){var n=e[0],r=e[1],i=fz.default(n),s=r;return typeof s=="boolean"?s?i:"not "+i:(typeof s=="number"&&/[height|width]$/.test(i)&&(s=s+"px"),"("+i+": "+s+")")}).join(pz)}x_.default=gz;var __={};Object.defineProperty(__,"__esModule",{value:!0});function mz(){}__.default=mz;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=t.queryObjectToString=t.camelToHyphen=void 0;var e=Tw;Object.defineProperty(t,"camelToHyphen",{enumerable:!0,get:function(){return e.default}});var n=x_;Object.defineProperty(t,"queryObjectToString",{enumerable:!0,get:function(){return n.default}});var r=__;Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return r.default}})})(u3);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.useMediaLayout=t.useMedia=t.mockMediaQueryList=void 0;var e=le,n=u3;t.mockMediaQueryList={media:"",matches:!1,onchange:n.noop,addListener:n.noop,removeListener:n.noop,addEventListener:n.noop,removeEventListener:n.noop,dispatchEvent:function(i){return!0}};var r=function(i){return function(s,o){o===void 0&&(o=!1);var a=e.useState(o),A=a[0],l=a[1],u=n.queryObjectToString(s);return i(function(){var c=!0,p=typeof window>"u"?t.mockMediaQueryList:window.matchMedia(u),g=function(){c&&l(!!p.matches)};return p.addListener(g),l(p.matches),function(){c=!1,p.removeListener(g)}},[u]),A}};t.useMedia=r(e.useEffect),t.useMediaLayout=r(e.useLayoutEffect),t.default=t.useMedia})(l3);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.useMediaLayout=t.useMedia=t.default=void 0;var e=l3;Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"useMedia",{enumerable:!0,get:function(){return e.useMedia}}),Object.defineProperty(t,"useMediaLayout",{enumerable:!0,get:function(){return e.useMediaLayout}})})(A3);const vz=O4(A3),wz=({isOpen:t,onClose:e,item:n,onSave:r,onDelete:i})=>{const{subjects:s,teachers:o,classes:a,rooms:A}=Rl(),[l,u]=le.useState({}),[c,p]=le.useState([]);le.useEffect(()=>{t&&(u(n||{}),p([]))},[t,n]);const g=(w,x,U)=>{const P=[],M=a.find(O=>O.id===w),S=s.find(O=>O.id===x),_=A.find(O=>O.id===U);if(!_&&U&&P.push(`  ID ${U}  .`),!M&&w&&P.push(`  ID ${w}  .`),!S&&x&&P.push(`  ID ${x}  .`),!_||!M||!S)return P;_.capacity<M.studentsCount&&P.push(`  !   ${M.studentsCount} .,     ${_.capacity}.`);const N=S.requiredRoomType==="undefined"?"":S.requiredRoomType;return N&&N!==""&&_.type!==N?P.push(`   !   "${N}",   "${_.type}".`):N===""&&_.type!==""&&P.push(`    .  "",   "${_.type}".`),P},v=(w,x)=>{const U={...l,[w]:x};u(U),U.classId&&U.subjectId&&U.roomId?p(g(U.classId,U.subjectId,U.roomId)):p([])},b=l.subjectId?o.filter(w=>w.subjectIds.includes(l.subjectId)):[],E=l.subjectId?o.filter(w=>!w.subjectIds.includes(l.subjectId)):o,y=(n==null?void 0:n.id)&&(n==null?void 0:n.classId);return t?f.jsxs(ol,{isOpen:t,onClose:e,title:y?" ":" ",children:[f.jsxs("div",{className:"p-3 bg-slate-100 dark:bg-slate-700/50 rounded-xl mb-6 text-sm text-center",children:[f.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300",children:":"})," ",l.day,f.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 ml-4",children:" :"})," ",l.period,f.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300 ml-4",children:" :"})," ",l.shift]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),f.jsxs("select",{value:l.classId||"",onChange:w=>v("classId",w.target.value),className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",children:[f.jsx("option",{value:"",disabled:!0,children:" "}),a.map(w=>f.jsx("option",{value:w.id,children:`${w.name} (${w.shift===ot.First?"1 .":"2 ."})`},w.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),f.jsx(mE,{placeholder:" ",value:l.subjectId,onChange:w=>v("subjectId",w),options:s.map(w=>({value:w.id,label:w.name}))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),f.jsx(mE,{placeholder:" ",value:l.teacherId,onChange:w=>v("teacherId",w),options:[{label:"",options:b.map(w=>({value:w.id,label:w.name}))},{label:"",options:E.map(w=>({value:w.id,label:w.name}))}],groupBy:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:" / "}),f.jsx("input",{placeholder:": 1 .  ",value:l.direction||"",onChange:w=>v("direction",w.target.value),className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),f.jsxs("select",{value:l.roomId||"",onChange:w=>v("roomId",w.target.value),className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",children:[f.jsx("option",{value:"",children:" "}),A.map(w=>f.jsx("option",{value:w.id,children:`${w.name} (${w.type})`},w.id))]})]}),c.length>0&&f.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg space-y-1",children:c.map((w,x)=>f.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 font-medium",children:w},x))}),f.jsxs("div",{className:"flex justify-between items-center pt-4",children:[y?f.jsx("button",{onClick:()=>{window.confirm(" ?")&&i()},className:"px-5 py-2 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-xl font-bold hover:bg-red-100 dark:hover:bg-red-900/50 transition",children:""}):f.jsx("div",{}),f.jsx("button",{onClick:()=>r(l),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none",children:""})]})]})]}):null},c3=({readOnly:t=!1})=>{const{subjects:e,teachers:n,classes:r,rooms:i}=Rl(),{schedule:s,saveScheduleData:o,canUndo:a,canRedo:A,undo:l,redo:u,isReadOnly:c}=Cg(),p=t||c,[g,v]=le.useState(ot.First),[b,E]=le.useState(os.Monday),[y,w]=le.useState(!1),[x,U]=le.useState(null),[P,M]=le.useState("class"),[S,_]=le.useState(""),[N,O]=le.useState(""),[I,T]=le.useState(""),[k,X]=le.useState({visible:!1,x:0,y:0,item:null,cell:null}),[de,te]=le.useState(null),[K,$]=le.useState(null),[R,W]=le.useState(null),re=vz({maxWidth:767}),[Q,j]=le.useState(!0),[z,ee]=le.useState(!1),[ne,Ae]=le.useState(os.Monday),[ge,Be]=le.useState(""),Fe=Ea[g],Te=()=>P==="week"?Ea[g].map(ue=>({id:ue.toString(),name:`${ue} `})):P==="class"?S?r.filter(ue=>ue.id===S&&ue.shift===g):r.filter(ue=>ue.shift===g):P==="teacher"?S?n.filter(ue=>ue.id===S):n:P==="subject"?S?e.filter(ue=>ue.id===S):e:[],je=(ue,Qe)=>{let Re=[];if(P==="week"){const lt=parseInt(ue),tt=Qe;Re=s.filter(vt=>vt.shift===g&&vt.period===lt&&vt.day===tt),S&&(Re=Re.filter(vt=>vt.classId===S))}else{const lt=Qe;P==="class"&&(Re=s.filter(tt=>tt.classId===ue&&tt.period===lt&&tt.day===b&&tt.shift===g)),P==="teacher"&&(Re=s.filter(tt=>tt.teacherId===ue&&tt.period===lt&&tt.day===b&&tt.shift===g)),P==="subject"&&(Re=s.filter(tt=>tt.subjectId===ue&&tt.period===lt&&tt.day===b&&tt.shift===g))}return N&&(Re=Re.filter(lt=>{if(!lt.roomId)return!1;const tt=i.find(Pt=>Pt.id===lt.roomId);return(tt?tt.name:lt.roomId).toLowerCase().includes(N.toLowerCase())})),I&&(Re=Re.filter(lt=>{var tt;return(tt=lt.direction)==null?void 0:tt.toLowerCase().includes(I.toLowerCase())})),Re},Le=ue=>{const Qe=[],Re=s.filter(vt=>vt.id!==ue.id&&vt.day===ue.day&&vt.period===ue.period&&vt.shift===ue.shift);return Re.find(vt=>vt.teacherId===ue.teacherId)&&Qe.push("teacher"),Re.find(vt=>!(vt.classId!==ue.classId||vt.direction&&ue.direction&&vt.direction!==ue.direction))&&Qe.push("class"),ue.roomId&&Re.find(Pt=>Pt.roomId===ue.roomId)&&Qe.push("room"),Qe},Ve=ue=>{p||(U(ue),w(!0))},Ee=(ue,Qe,Re=b)=>{if(p)return;const lt={period:Qe,day:Re,shift:g,id:Math.random().toString(36).substr(2,9)};if(P==="class"&&(lt.classId=ue),P==="teacher"&&(lt.teacherId=ue),P==="subject"&&(lt.subjectId=ue),P==="week"&&(lt.period=parseInt(ue),lt.day=Re,S)){const tt=r.find(vt=>vt.id===S);tt&&(lt.classId=tt.id)}U(lt),w(!0)},oe=async ue=>{if(!ue.subjectId||!ue.teacherId||!ue.classId)return;let Qe=[...s];const Re=Qe.findIndex(lt=>lt.id===ue.id);Re>=0?Qe[Re]=ue:Qe.push(ue),await o({schedule:Qe}),w(!1)},dt=async ue=>{const Qe=ue||(x==null?void 0:x.id);if(!Qe)return;const Re=s.filter(lt=>lt.id!==Qe);await o({schedule:Re}),w(!1)},it=(ue,Qe,Re)=>{p||(ue.preventDefault(),ue.stopPropagation(),X({visible:!0,x:ue.clientX,y:ue.clientY,item:Qe,cell:Re}))},Ke=(ue,Qe)=>{if(p)return;$(Qe),ue.dataTransfer.effectAllowed="move";const Re=ue.target;setTimeout(()=>Re.classList.add("dragging"),0)},ae=ue=>{ue.target.classList.remove("dragging"),$(null),W(null)},fe=(ue,Qe)=>{ue.preventDefault(),!p&&W(`${Qe.rowId}-${Qe.colKey}`)},be=async(ue,Qe)=>{if(ue.preventDefault(),!K||p)return;const Re={...K};P==="week"?(Re.period=parseInt(Qe.rowId),Re.day=Qe.colKey):(Re.period=Qe.colKey,Re.day=b,P==="class"&&(Re.classId=Qe.rowId),P==="teacher"&&(Re.teacherId=Qe.rowId),P==="subject"&&(Re.subjectId=Qe.rowId));let lt=s.map(tt=>tt.id===Re.id?Re:tt);await o({schedule:lt}),$(null),W(null)},Ue=[];k.item?Ue.push({label:"",icon:"Copy",onClick:()=>te(k.item)},{label:"",icon:"Trash2",color:"text-red-600",onClick:()=>dt(k.item.id)}):k.cell&&(de&&Ue.push({label:"",icon:"Clipboard",onClick:async()=>{const ue={...de,id:Math.random().toString(36).substr(2,9),day:b,shift:g,period:k.cell.colKey};P==="week"&&(ue.day=k.cell.colKey,ue.period=parseInt(k.cell.rowId)),P==="class"?ue.classId=k.cell.rowId:P==="teacher"?ue.teacherId=k.cell.rowId:P==="subject"&&(ue.subjectId=k.cell.rowId);let Qe=[...s,ue];await o({schedule:Qe}),te(null)}}),Ue.push({label:" ",icon:"Plus",onClick:()=>Ee(k.cell.rowId,k.cell.colKey,P==="week"?k.cell.colKey:b)})),le.useMemo(()=>{var ue,Qe,Re;if(p&&S){if(P==="teacher")return(ue=n.find(lt=>lt.id===S))==null?void 0:ue.name;if(P==="class")return(Qe=r.find(lt=>lt.id===S))==null?void 0:Qe.name;if(P==="subject")return(Re=e.find(lt=>lt.id===S))==null?void 0:Re.name}return""},[S,P,n,r,e,p]);const $e=Te(),et=P==="week"?bi:Fe,Pe=async()=>{window.confirm(" ,     ?   .")&&(await o({schedule:[]}),ee(!1))},ze=async()=>{if(window.confirm(` ,       ${ne}?`)){const ue=s.filter(Qe=>Qe.day!==ne);await o({schedule:ue}),ee(!1)}},Oe=async()=>{var Qe;if(!ge)return;const ue=(Qe=r.find(Re=>Re.id===ge))==null?void 0:Qe.name;if(window.confirm(` ,        ${ue}?`)){const Re=s.filter(lt=>lt.classId!==ge);await o({schedule:Re}),ee(!1)}},We=(ue,Qe,Re)=>p&&ue.length===0?null:f.jsxs("div",{className:"h-full flex flex-col gap-1",children:[ue.map(lt=>{const tt=e.find(Gt=>Gt.id===lt.subjectId),vt=n.find(Gt=>Gt.id===lt.teacherId),Pt=r.find(Gt=>Gt.id===lt.classId),Ct=Le(lt),Xt=i.find(Gt=>Gt.id===lt.roomId),Wt=Xt?Xt.name:lt.roomId;return f.jsxs("div",{draggable:!p,onDragStart:p?void 0:Gt=>Ke(Gt,lt),onDragEnd:p?void 0:ae,onClick:p?void 0:()=>Ve(lt),onContextMenu:p?void 0:Gt=>it(Gt,lt,null),className:`rounded-lg p-2 text-xs shadow-sm ${p?"":"hover:shadow-md cursor-grab active:cursor-grabbing"} border flex flex-col gap-0.5 flex-1 relative group transition-transform ${Ct.length>0?"border-red-300 bg-red-50 dark:bg-red-900/20 ring-1 ring-red-200":"border-slate-100 dark:border-slate-600"}`,style:Ct.length===0&&(tt!=null&&tt.color)?{backgroundColor:`${tt.color}40`}:{},children:[f.jsxs("div",{className:"flex justify-between items-center gap-1",children:[f.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 line-clamp-1",children:P==="subject"||P==="week"?Pt==null?void 0:Pt.name:tt==null?void 0:tt.name}),lt.direction&&f.jsx("span",{className:"text-[9px] px-1 rounded bg-white/80 dark:bg-black/30 font-bold text-slate-600 dark:text-slate-300",children:lt.direction})]}),P==="week"&&f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200 line-clamp-1",children:tt==null?void 0:tt.name}),f.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[f.jsxs("div",{className:"text-slate-600 dark:text-slate-400 text-[10px] flex items-center gap-1 leading-tight overflow-hidden",title:vt==null?void 0:vt.name,children:[f.jsx(Ge,{name:P==="teacher"?"GraduationCap":"User",size:10,className:"shrink-0"}),f.jsx("span",{className:"truncate",children:P==="teacher"?Pt==null?void 0:Pt.name:vt==null?void 0:vt.name})]}),Wt&&f.jsx("div",{className:"text-[9px] font-mono text-slate-400 bg-white/50 dark:bg-black/20 rounded px-1 flex items-center gap-0.5 shrink-0",title:Xt?`: ${Xt.capacity}, : ${Xt.type}`:"",children:Wt})]}),Ct.length>0&&f.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px] font-bold",title:`: ${Ct.join(", ")}`,children:"!"})]},lt.id)}),!p&&ue.length<3&&f.jsx("button",{onClick:()=>Ee(Re,Qe,P==="week"?Qe:b),className:"w-full rounded-lg border-2 border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-300 dark:text-slate-600 hover:border-indigo-300 hover:text-indigo-400 transition-colors mt-auto h-6",children:f.jsx(Ge,{name:"Plus",size:16})})]}),mt=()=>{if(!S)return f.jsx("div",{className:"p-8 text-center text-slate-400 dark:text-slate-500",children:" ,       ."});const ue=s.filter(Qe=>Qe.day===b&&Qe.shift===g&&(P==="class"&&Qe.classId===S||P==="teacher"&&Qe.teacherId===S||P==="subject"&&Qe.subjectId===S)).sort((Qe,Re)=>Qe.period-Re.period);return ue.length===0?f.jsxs("div",{className:"p-8 text-center text-slate-400 dark:text-slate-500",children:["   ",b,"  ",g,"."]}):f.jsx("div",{className:"p-4 space-y-4",children:ue.map(Qe=>{const Re=e.find(Xt=>Xt.id===Qe.subjectId),lt=n.find(Xt=>Xt.id===Qe.teacherId),tt=r.find(Xt=>Xt.id===Qe.classId),vt=i.find(Xt=>Xt.id===Qe.roomId),Pt=vt?vt.name:Qe.roomId,Ct=Le(Qe);return f.jsxs("div",{onClick:p?void 0:()=>Ve(Qe),className:`rounded-xl p-4 shadow-sm border ${Ct.length>0?"border-red-300 bg-red-50 dark:bg-red-900/20 ring-1 ring-red-200":"border-slate-100 dark:border-slate-600 bg-white dark:bg-dark-800"} transition-colors ${p?"":"cursor-pointer"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("span",{className:"text-sm font-bold text-slate-800 dark:text-slate-100",children:[Qe.period," "]}),Ct.length>0&&f.jsx("span",{className:"bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",title:`: ${Ct.join(", ")}`,children:"!"})]}),f.jsxs("div",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400 mb-1",children:[Re==null?void 0:Re.name," ",Qe.direction&&`(${Qe.direction})`]}),f.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[tt==null?void 0:tt.name,"  ",lt==null?void 0:lt.name]}),Pt&&f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[": ",Pt]})]},Qe.id)})})};return f.jsxs("div",{className:"h-full flex flex-col",children:[k.visible&&f.jsx(uz,{x:k.x,y:k.y,onClose:()=>X({...k,visible:!1}),actions:Ue}),f.jsx(wz,{isOpen:y,onClose:()=>w(!1),item:x,onSave:oe,onDelete:dt}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mb-6 flex flex-col xl:flex-row gap-4 items-start xl:items-center justify-between no-print",children:[f.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>v(ot.First),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${g===ot.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),f.jsx("button",{onClick:()=>v(ot.Second),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${g===ot.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]}),P!=="week"&&f.jsx("div",{className:"flex overflow-x-auto pb-1 gap-1 max-w-[40vw] hide-scrollbar",children:bi.map(ue=>f.jsx("button",{onClick:()=>E(ue),className:`whitespace-nowrap px-4 py-2 rounded-xl text-sm font-bold transition-all ${b===ue?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:ue},ue))}),!p&&f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:l,disabled:!a,className:"p-2 text-slate-500 disabled:opacity-30 hover:bg-white dark:hover:bg-slate-600 rounded-lg transition",children:f.jsx(Ge,{name:"RotateCcw",size:18})}),f.jsx("button",{onClick:u,disabled:!A,className:"p-2 text-slate-500 disabled:opacity-30 hover:bg-white dark:hover:bg-slate-600 rounded-lg transition",children:f.jsx(Ge,{name:"RotateCw",size:18})})]})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full xl:w-auto",children:[f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[f.jsx("button",{onClick:()=>{M("class"),_("")},className:`p-2 rounded-md ${P==="class"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:" ",children:f.jsx(Ge,{name:"GraduationCap",size:18})}),f.jsx("button",{onClick:()=>{M("teacher"),_("")},className:`p-2 rounded-md ${P==="teacher"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:" ",children:f.jsx(Ge,{name:"Users",size:18})}),f.jsx("button",{onClick:()=>{M("subject"),_("")},className:`p-2 rounded-md ${P==="subject"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:" ",children:f.jsx(Ge,{name:"BookOpen",size:18})}),f.jsx("button",{onClick:()=>{var ue;M("week"),_(((ue=r[0])==null?void 0:ue.id)||"")},className:`p-2 rounded-md ${P==="week"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:"",children:f.jsx(Ge,{name:"Calendar",size:18})})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-1.5 pl-3 flex-1",children:[f.jsx(Ge,{name:"Filter",size:16,className:"text-slate-400"}),f.jsxs("select",{value:S,onChange:ue=>_(ue.target.value),className:"bg-transparent text-sm font-bold text-slate-700 dark:text-slate-200 outline-none w-full xl:w-32",children:[f.jsxs("option",{value:"",children:[" ",P==="class"?"":P==="teacher"?"":P==="week"?" ()":""]}),(P==="class"||P==="week")&&r.filter(ue=>ue.shift===g).map(ue=>f.jsx("option",{value:ue.id,children:ue.name},ue.id)),P==="teacher"&&n.map(ue=>f.jsx("option",{value:ue.id,children:ue.name},ue.id)),P==="subject"&&e.map(ue=>f.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),f.jsx("input",{placeholder:"...",value:N,onChange:ue=>O(ue.target.value),className:"w-20 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-2 text-xs font-bold"}),f.jsx("input",{placeholder:"...",value:I,onChange:ue=>T(ue.target.value),className:"w-20 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-2 text-xs font-bold"}),!p&&f.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-red-200 dark:shadow-none transition-all",children:[f.jsx(Ge,{name:"List",size:16})," . ."]}),(S||P==="week")&&f.jsx("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none transition-all",children:f.jsx(Ge,{name:"Printer",size:16})})]})]}),re&&!p&&S&&f.jsx("div",{className:"flex justify-center mb-4 no-print",children:f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>j(!1),className:`flex-1 py-1 px-3 text-xs font-bold rounded-md ${Q?"text-slate-500 dark:text-slate-400":"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white"}`,title:" ",children:f.jsx(Ge,{name:"Columns",size:16})}),f.jsx("button",{onClick:()=>j(!0),className:`flex-1 py-1 px-3 text-xs font-bold rounded-md ${Q?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,title:" ",children:f.jsx(Ge,{name:"Rows",size:16})})]})}),f.jsx("div",{className:"flex-1 bg-white dark:bg-dark-800 rounded-2xl shadow-xl shadow-slate-200/50 dark:shadow-none border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col transition-colors duration-300",children:f.jsx("div",{className:"overflow-auto flex-1 custom-scrollbar",children:re&&Q&&!p&&S?mt():f.jsxs("table",{className:"w-full border-collapse min-w-[1000px]",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0 z-20",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 border-b border-r border-slate-100 dark:border-slate-600 text-left text-xs font-extrabold text-slate-400 uppercase w-40 sticky left-0 bg-slate-50 dark:bg-slate-700 z-30",children:P==="week"?"":P==="class"?"":P==="teacher"?"":""}),et.map(ue=>f.jsx("th",{className:"p-4 border-b border-slate-100 dark:border-slate-600 text-center text-xs font-extrabold text-slate-400 uppercase min-w-[160px]",children:P==="week"?ue:`${ue} `},ue))]})}),f.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-700",children:$e.length>0?$e.map(ue=>f.jsxs("tr",{children:[f.jsx("td",{className:"p-4 border-r border-slate-100 dark:border-slate-600 font-black text-lg text-slate-700 dark:text-slate-200 sticky left-0 bg-white dark:bg-dark-800 z-10 text-left",children:ue.name}),et.map(Qe=>{const Re=je(ue.id,Qe),lt=`${ue.id}-${Qe}`;return f.jsx("td",{className:`p-2 border-r border-slate-50 dark:border-slate-700 h-28 align-top transition-colors ${R===lt?"drag-over":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,onContextMenu:p?void 0:tt=>it(tt,null,{rowId:ue.id,colKey:Qe}),onDragOver:p?void 0:tt=>fe(tt,{rowId:ue.id,colKey:Qe}),onDrop:p?void 0:tt=>be(tt,{rowId:ue.id,colKey:Qe}),children:We(Re,Qe,ue.id)},Qe)})]},ue.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:8,className:"p-8 text-center text-slate-400 dark:text-slate-500",children:"   "})})})]})})}),f.jsx(ol,{isOpen:z,onClose:()=>ee(!1),title:"   ",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 -mt-2",children:':       ""   .'}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"  "}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"     ( ,  ,  )."}),f.jsxs("button",{onClick:Pe,className:"w-full justify-center flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-red-200 dark:shadow-none transition-all",children:[f.jsx(Ge,{name:"Trash2",size:16}),"  "]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"   "}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"      ."}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("select",{value:ne,onChange:ue=>Ae(ue.target.value),className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-2 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",children:bi.map(ue=>f.jsx("option",{value:ue,children:ue},ue))}),f.jsxs("button",{onClick:ze,className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-sm font-bold whitespace-nowrap",children:[" ",ne]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:"   "}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"     ."}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:ge,onChange:ue=>Be(ue.target.value),className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-2 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",children:[f.jsx("option",{value:"",children:" "}),r.map(ue=>f.jsx("option",{value:ue.id,children:ue.name},ue.id))]}),f.jsx("button",{onClick:Oe,disabled:!ge,className:"px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-lg text-sm font-bold whitespace-nowrap disabled:opacity-50",children:"  "})]})]})]})})]})},yz=()=>{var K,$;const{subjects:t,teachers:e,classes:n,rooms:r,bellSchedule:i,saveStaticData:s}=Rl(),[o,a]=le.useState("teachers"),[A,l]=le.useState(!1),[u,c]=le.useState(null),[p,g]=le.useState({}),[v,b]=le.useState({}),[E,y]=le.useState({}),[w,x]=le.useState({}),[U,P]=le.useState("default"),[M,S]=le.useState(null),_=R=>{c(R||null),o==="teachers"?g(R?e.find(W=>W.id===R):{subjectIds:[],unavailableDates:[],shifts:[ot.First,ot.Second],telegramChatId:""}):o==="subjects"?b(R?t.find(W=>W.id===R):{color:"#e0e7ff",difficulty:5,requiredRoomType:""}):o==="classes"?y(R?n.find(W=>W.id===R):{shift:ot.First,studentsCount:25}):o==="rooms"&&x(R?r.find(W=>W.id===R):{capacity:30,type:""}),l(!0)},N=async()=>{const R=()=>Math.random().toString(36).substr(2,9);if(o==="teachers"){if(!p.name)return;let W=[...e];u?W=W.map(re=>re.id===u?{...re,...p}:re):W.push({...p,id:R(),unavailableDates:[]}),await s({teachers:W})}else if(o==="subjects"){if(!v.name)return;let W=[...t];u?W=W.map(re=>re.id===u?{...re,...v}:re):W.push({...v,id:R()}),await s({subjects:W})}else if(o==="classes"){if(!E.name)return;let W=[...n];u?W=W.map(re=>re.id===u?{...re,...E}:re):W.push({...E,id:R()}),await s({classes:W})}else if(o==="rooms"){if(!w.name)return;let W=[...r];u?W=W.map(re=>re.id===u?{...re,...w}:re):W.push({...w,id:R()}),await s({rooms:W})}l(!1)},O=async R=>{window.confirm(" ?")&&(o==="teachers"&&await s({teachers:e.filter(W=>W.id!==R)}),o==="subjects"&&await s({subjects:t.filter(W=>W.id!==R)}),o==="classes"&&await s({classes:n.filter(W=>W.id!==R)}),o==="rooms"&&await s({rooms:r.filter(W=>W.id!==R)}))},I=(R,W)=>{S(W),R.dataTransfer.effectAllowed="move"},T=R=>{R.preventDefault()},k=async(R,W)=>{if(M===null||M===W)return;let re=[];o==="teachers"?re=[...e]:o==="subjects"?re=[...t]:o==="classes"?re=[...n]:re=[...r];const Q=re.splice(M,1)[0];re.splice(W,0,Q),o==="teachers"?await s({teachers:re}):o==="subjects"?await s({subjects:re}):o==="classes"?await s({classes:re}):await s({rooms:re}),S(null)},X=(R,W)=>{const re=U;let Q=i.find(j=>j.shift===R&&j.period===W&&j.day===re);if(!Q&&re!=="default"){const j=i.find(z=>z.shift===R&&z.period===W&&z.day==="default");return j?{...j,start:"",end:"",isInherited:!0}:{start:"",end:"",isInherited:!1}}return Q||{start:"",end:""}},de=async(R,W,re,Q)=>{let j=[...i];const z=U,ee=j.findIndex(ne=>ne.shift===R&&ne.period===W&&ne.day===z);ee>=0?j[ee]={...j[ee],[re]:Q}:j.push({shift:R,period:W,[re]:Q,start:"00:00",end:"00:00",day:z}),await s({bellSchedule:j})},te=R=>{const W=p.shifts||[];W.includes(R)?g({...p,shifts:W.filter(re=>re!==R)}):g({...p,shifts:[...W,R]})};return f.jsxs("div",{className:"max-w-7xl mx-auto w-full h-full flex flex-col",children:[f.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8 shrink-0",children:[f.jsx("div",{className:"flex p-1 bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-x-auto",children:[{id:"teachers",icon:"Users",label:""},{id:"subjects",icon:"BookOpen",label:""},{id:"classes",icon:"GraduationCap",label:""},{id:"rooms",icon:"DoorOpen",label:""},{id:"bells",icon:"Bell",label:""}].map(R=>f.jsxs("button",{onClick:()=>a(R.id),className:`px-5 py-2.5 rounded-lg text-sm font-bold flex items-center gap-2 transition-all ${o===R.id?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[f.jsx(Ge,{name:R.icon,size:18})," ",R.label]},R.id))}),o!=="bells"&&f.jsxs("button",{onClick:()=>_(),className:"flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none font-semibold",children:[f.jsx(Ge,{name:"Plus",size:20})," "]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 custom-scrollbar pr-2",children:[o==="teachers"&&f.jsx(bm,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((R,W)=>{var re,Q;return f.jsxs("div",{draggable:!0,onDragStart:j=>I(j,W),onDragOver:T,onDrop:j=>k(j,W),className:"bg-white dark:bg-dark-800 p-5 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group flex flex-col cursor-grab active:cursor-grabbing",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ge,{name:"GripVertical",className:"text-slate-300 dark:text-slate-600",size:16}),f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:R.name})]}),f.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>_(R.id),className:"p-2 text-slate-600 dark:text-slate-300 hover:text-indigo-600 bg-slate-50 dark:bg-slate-700 rounded-full",children:f.jsx(Ge,{name:"Edit2",size:16})}),f.jsx("button",{onClick:()=>O(R.id),className:"p-2 text-slate-600 dark:text-slate-300 hover:text-red-600 bg-slate-50 dark:bg-slate-700 rounded-full",children:f.jsx(Ge,{name:"Trash2",size:16})})]})]}),f.jsx("div",{className:"text-xs text-slate-500 mb-2",children:R.birthDate?`: ${new Date(R.birthDate).toLocaleDateString("ru-RU")}`:""}),f.jsxs("div",{className:"flex gap-2 mb-3",children:[((re=R.shifts)==null?void 0:re.includes(ot.First))&&f.jsx("span",{className:"text-[10px] bg-indigo-50 text-indigo-700 px-2 py-0.5 rounded font-bold",children:"1 "}),((Q=R.shifts)==null?void 0:Q.includes(ot.Second))&&f.jsx("span",{className:"text-[10px] bg-purple-50 text-purple-700 px-2 py-0.5 rounded font-bold",children:"2 "})]}),f.jsx("div",{className:"flex flex-wrap gap-1 mt-auto pl-7",children:R.subjectIds.map(j=>{const z=t.find(ee=>ee.id===j);return z?f.jsx("span",{className:"text-xs px-2 py-1 rounded-md font-medium",style:{backgroundColor:z.color,color:"#334155"},children:z.name},j):null})})]},R.id)})}),o==="subjects"&&f.jsx(bm,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((R,W)=>f.jsxs("div",{draggable:!0,onDragStart:re=>I(re,W),onDragOver:T,onDrop:re=>k(re,W),className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between group cursor-grab active:cursor-grabbing border-l-4",style:{borderLeftColor:R.color},children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ge,{name:"GripVertical",className:"text-slate-300 dark:text-slate-600",size:16}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200",children:R.name}),f.jsxs("div",{className:"text-xs text-slate-400",children:[": ",R.difficulty,"  ",R.requiredRoomType]})]})]}),f.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>_(R.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-indigo-600",children:f.jsx(Ge,{name:"Edit2",size:16})}),f.jsx("button",{onClick:()=>O(R.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-red-600",children:f.jsx(Ge,{name:"Trash2",size:16})})]})]},R.id))}),o==="classes"&&f.jsx(bm,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:n.map((R,W)=>f.jsxs("div",{draggable:!0,onDragStart:re=>I(re,W),onDragOver:T,onDrop:re=>k(re,W),className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm text-center group hover:shadow-md transition-all relative cursor-grab active:cursor-grabbing",children:[f.jsx("div",{className:"absolute left-2 top-2 text-slate-300 dark:text-slate-600",children:f.jsx(Ge,{name:"GripVertical",size:14})}),f.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-slate-100 mb-1",children:R.name}),f.jsxs("div",{className:"text-xs text-slate-500 mb-1",children:[R.studentsCount||0," "]}),f.jsxs("div",{className:`text-xs font-bold px-2 py-0.5 rounded-full inline-block ${R.shift===ot.First?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:[R.shift===ot.First?"I":"II"," "]}),f.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>_(R.id),className:"p-1 text-slate-600 dark:text-slate-300 hover:text-indigo-600",children:f.jsx(Ge,{name:"Edit2",size:14})}),f.jsx("button",{onClick:()=>O(R.id),className:"p-1 text-slate-600 dark:text-slate-300 hover:text-red-600",children:f.jsx(Ge,{name:"Trash2",size:14})})]})]},R.id))}),o==="rooms"&&f.jsx(bm,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map((R,W)=>f.jsxs("div",{draggable:!0,onDragStart:re=>I(re,W),onDragOver:T,onDrop:re=>k(re,W),className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between group cursor-grab active:cursor-grabbing",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ge,{name:"GripVertical",className:"text-slate-300 dark:text-slate-600",size:16}),f.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-2 rounded-lg text-indigo-600",children:f.jsx(Ge,{name:"DoorOpen",size:20})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200",children:R.name}),f.jsxs("div",{className:"text-xs text-slate-400",children:[": ",R.capacity,"  ",R.type]})]})]}),f.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>_(R.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-indigo-600",children:f.jsx(Ge,{name:"Edit2",size:16})}),f.jsx("button",{onClick:()=>O(R.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-red-600",children:f.jsx(Ge,{name:"Trash2",size:16})})]})]},R.id))}),o==="bells"&&f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-1 rounded-xl flex gap-1",children:["default","",""].map(R=>f.jsx("button",{onClick:()=>P(R),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all ${U===R?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:R==="default"?"":R===""?"":""},R))})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[ot.First,ot.Second].map(R=>f.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:`p-4 font-bold text-lg text-white ${R===ot.First?"bg-indigo-600":"bg-purple-600"}`,children:R}),f.jsx("div",{className:"p-6 space-y-3",children:Ea[R].map(W=>{const re=X(R,W);return f.jsxs("div",{className:`flex items-center gap-4 p-2 rounded-xl transition-colors ${re.isInherited?"bg-slate-50/50 dark:bg-slate-800/50 opacity-60":"bg-slate-50 dark:bg-slate-700/50"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-white dark:bg-slate-600 flex items-center justify-center font-black text-slate-500 dark:text-slate-300 shadow-sm",children:W}),f.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[f.jsx("input",{type:"time",className:"flex-1 border-none bg-transparent font-bold text-slate-800 dark:text-white text-center focus:ring-0",value:re.start,onChange:Q=>de(R,W,"start",Q.target.value)}),f.jsx("span",{className:"text-slate-300",children:""}),f.jsx("input",{type:"time",className:"flex-1 border-none bg-transparent font-bold text-slate-800 dark:text-white text-center focus:ring-0",value:re.end,onChange:Q=>de(R,W,"end",Q.target.value)})]})]},W)})})]},R))})]})]}),f.jsx(ol,{isOpen:A,onClose:()=>l(!1),title:"",children:f.jsxs("div",{className:"space-y-4",children:[o==="teachers"&&f.jsxs(f.Fragment,{children:[f.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:" ",value:p.name||"",onChange:R=>g({...p,name:R.target.value})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" "}),f.jsx("input",{type:"date",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:p.birthDate||"",onChange:R=>g({...p,birthDate:R.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Telegram Chat ID"}),f.jsx("input",{type:"text",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:p.telegramChatId||"",onChange:R=>g({...p,telegramChatId:R.target.value}),placeholder:"12345678"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:""}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"rounded text-indigo-600 focus:ring-indigo-500",checked:(K=p.shifts)==null?void 0:K.includes(ot.First),onChange:()=>te(ot.First)}),f.jsx("span",{className:"text-sm font-medium dark:text-slate-300",children:"1 "})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"rounded text-purple-600 focus:ring-purple-500",checked:($=p.shifts)==null?void 0:$.includes(ot.Second),onChange:()=>te(ot.Second)}),f.jsx("span",{className:"text-sm font-medium dark:text-slate-300",children:"2 "})]})]})]}),f.jsx("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mt-2",children:""}),f.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto custom-scrollbar border border-slate-100 dark:border-slate-700 p-2 rounded-xl",children:t.map(R=>{var W;return f.jsxs("label",{className:"flex items-center gap-2 p-1 rounded hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"rounded text-indigo-600 focus:ring-indigo-500",checked:(W=p.subjectIds)==null?void 0:W.includes(R.id),onChange:re=>{const Q=p.subjectIds||[];g({...p,subjectIds:re.target.checked?[...Q,R.id]:Q.filter(j=>j!==R.id)})}}),f.jsx("span",{className:"text-sm dark:text-slate-300",children:R.name})]},R.id)})})]}),o==="subjects"&&f.jsxs(f.Fragment,{children:[f.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:" ",value:v.name||"",onChange:R=>b({...v,name:R.target.value})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:":"}),f.jsx("input",{type:"color",className:"w-20 h-10 cursor-pointer bg-transparent",value:v.color||"#ffffff",onChange:R=>b({...v,color:R.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" ( 1-12)"}),f.jsx("input",{type:"number",min:"1",max:"12",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:v.difficulty||5,onChange:R=>b({...v,difficulty:parseInt(R.target.value)})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"  "}),f.jsx("select",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:v.requiredRoomType,onChange:R=>b({...v,requiredRoomType:R.target.value}),children:gE.map(R=>f.jsx("option",{value:R,children:R},R))})]})]}),o==="classes"&&f.jsxs(f.Fragment,{children:[f.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:"  (5)",value:E.name||"",onChange:R=>y({...E,name:R.target.value})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" "}),f.jsx("input",{type:"number",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:E.studentsCount||25,onChange:R=>y({...E,studentsCount:parseInt(R.target.value)})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:()=>y({...E,shift:ot.First}),className:`p-3 rounded-xl border text-sm font-bold transition-all ${E.shift===ot.First?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400":"border-slate-200 dark:border-slate-600 text-slate-500 dark:text-slate-400"}`,children:"1 "}),f.jsx("button",{onClick:()=>y({...E,shift:ot.Second}),className:`p-3 rounded-xl border text-sm font-bold transition-all ${E.shift===ot.Second?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400":"border-slate-200 dark:border-slate-600 text-slate-500 dark:text-slate-400"}`,children:"2 "})]})]}),o==="rooms"&&f.jsxs(f.Fragment,{children:[f.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:"/ (. 101)",value:w.name||"",onChange:R=>x({...w,name:R.target.value})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" ()"}),f.jsx("input",{type:"number",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:w.capacity||30,onChange:R=>x({...w,capacity:parseInt(R.target.value)})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" "}),f.jsx("select",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:w.type,onChange:R=>x({...w,type:R.target.value}),children:gE.map(R=>f.jsx("option",{value:R,children:R},R))})]})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx("button",{onClick:N,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none",children:""})})]})})]})},Bz=()=>{const{data:t,saveData:e}=a3(),{subjects:n,teachers:r,classes:i,rooms:s,settings:o,schedule:a,substitutions:A}=t,l=Fl(),[u,c]=le.useState(new Date().toISOString().split("T")[0]),[p,g]=le.useState(!1),[v,b]=le.useState(null),[E,y]=le.useState(!1),[w,x]=le.useState(!1),[U,P]=le.useState(null),[M,S]=le.useState(""),[_,N]=le.useState(!1),[O,I]=le.useState(""),[T,k]=le.useState(""),[X,de]=le.useState("all"),[te,K]=le.useState(""),[$,R]=le.useState(""),[W,re]=le.useState(""),[Q,j]=le.useState("");le.useEffect(()=>{var ae;(ae=l.state)!=null&&ae.subParams&&(b(l.state.subParams),re(""),j(""),g(!0),window.history.replaceState({},document.title))},[l.state]);const z=le.useMemo(()=>{const ae=new Date(u).getDay();return ae===0||ae===6?null:bi[ae-1]},[u]),ee=le.useMemo(()=>r.filter(ae=>{const fe=ae.name.toLowerCase().includes(T.toLowerCase()),be=X==="all"?!0:ae.shifts.includes(X);return fe&&be}),[r,T,X]),ne=le.useMemo(()=>r.filter(ae=>ae.unavailableDates.includes(u)),[r,u]),Ae=le.useMemo(()=>{if(!z)return[];const ae=ne.map(Pe=>Pe.id),fe=a.filter(Pe=>Pe.day===z&&ae.includes(Pe.teacherId)),Ue=A.filter(Pe=>Pe.date===u).map(Pe=>Pe.scheduleItemId),$e=a.filter(Pe=>Ue.includes(Pe.id)),et=[...fe];return $e.forEach(Pe=>{et.find(ze=>ze.id===Pe.id)||et.push(Pe)}),et.sort((Pe,ze)=>Pe.period-ze.period)},[a,z,ne,A,u]),ge=ae=>{var be;const fe=r.find(Ue=>Ue.id===ae);P(ae),S(((be=fe==null?void 0:fe.absenceReasons)==null?void 0:be[u])||""),y(!0)},Be=le.useCallback(async()=>{let ae=[...r];const fe=ae.findIndex(Ue=>Ue.id===U);if(fe===-1)return;const be={...ae[fe]};be.unavailableDates.includes(u)||(be.unavailableDates=[...be.unavailableDates,u]),be.absenceReasons={...be.absenceReasons||{},[u]:M},ae[fe]=be,await e({teachers:ae}),y(!1)},[r,U,u,M,e]),Fe=le.useCallback(async ae=>{let fe=[...r];const be=fe.findIndex($e=>$e.id===ae);if(be===-1)return;const Ue={...fe[be]};if(Ue.unavailableDates=Ue.unavailableDates.filter($e=>$e!==u),Ue.absenceReasons){const $e={...Ue.absenceReasons};delete $e[u],Ue.absenceReasons=$e}fe[be]=Ue,await e({teachers:fe})},[r,u,e]),Te=async ae=>{var Pe,ze;if(!v){alert(":   .    . ,   ."),console.error("assignSubstitution: currentSubParams is null, returning.");return}const fe=[...A],be=a.find(Oe=>Oe.id===v.scheduleItemId);if(!be){alert(":     . ,   ."),console.error("assignSubstitution: Schedule item not found for ID:",v.scheduleItemId);return}const Ue=((ze=(Pe=r.find(Oe=>Oe.id===be.teacherId))==null?void 0:Pe.unavailableDates)==null?void 0:ze.includes(u))||!1,$e=fe.findIndex(Oe=>Oe.scheduleItemId===v.scheduleItemId&&Oe.date===u),et={id:$e>=0?fe[$e].id:Math.random().toString(36).substr(2,9),date:u,scheduleItemId:v.scheduleItemId,originalTeacherId:be.teacherId,replacementTeacherId:ae,replacementRoomId:W||null,lessonAbsenceReason:ae!=="conducted"&&ae!=="cancelled"&&!Ue&&Q?Q:null};$e>=0?fe[$e]=et:fe.push(et),await e({substitutions:fe}),g(!1),K(""),re(""),j(""),b(null)},je=le.useCallback(async ae=>{const fe=A.filter(be=>!(be.scheduleItemId===ae&&be.date===u));await e({substitutions:fe})},[A,u,e]),Le=le.useCallback(()=>{let ae=`*  ${new Date(u).toLocaleDateString("ru-RU")}*
`;const fe=A.some(Ue=>Ue.date===u&&Ue.replacementTeacherId!=="conducted"),be=(Ue,$e)=>{const Pe=Ae.filter(ze=>ze.shift===$e).filter(ze=>{const Oe=A.find(We=>We.scheduleItemId===ze.id&&We.date===u);return Oe&&Oe.replacementTeacherId!=="conducted"});Pe.length>0&&(ae+=`
 *${Ue.toUpperCase()}*
`,Pe.forEach(ze=>{var Wt,Gt,vr;const Oe=A.find(xt=>xt.scheduleItemId===ze.id&&xt.date===u),We=i.find(xt=>xt.id===ze.classId),mt=n.find(xt=>xt.id===ze.subjectId),ue=Oe?r.find(xt=>xt.id===Oe.replacementTeacherId):null,Qe=r.find(xt=>xt.id===ze.teacherId),Re=((Wt=s.find(xt=>xt.id===ze.roomId))==null?void 0:Wt.name)||ze.roomId||"?",lt=(Gt=Qe==null?void 0:Qe.absenceReasons)==null?void 0:Gt[u],tt=Oe==null?void 0:Oe.lessonAbsenceReason,vt=Qe!=null&&Qe.unavailableDates.includes(u)&&lt===" "?" ":null,Pt=tt||vt,Ct=(Qe==null?void 0:Qe.name)+(Pt?` (${Pt})`:""),Xt=Oe!=null&&Oe.replacementRoomId?((vr=s.find(xt=>xt.id===Oe.replacementRoomId))==null?void 0:vr.name)||Oe.replacementRoomId:null;if(Oe)if(Oe.replacementTeacherId==="cancelled")ae+=` ${We==null?void 0:We.name} (${ze.period} ): ${mt==null?void 0:mt.name} (${Ct}) ->  
`;else if(Oe.replacementTeacherId===Oe.originalTeacherId&&Xt)ae+=` ${We==null?void 0:We.name} (${ze.period} ): ${mt==null?void 0:mt.name} (${Qe==null?void 0:Qe.name}) ->  ${Re}  ${Xt}
`;else{let xt=` ${We==null?void 0:We.name} (${ze.period} ): ${mt==null?void 0:mt.name} -> ${ue==null?void 0:ue.name} ( ${Ct})`;Xt&&(xt+=`  . ${Xt}`),ae+=xt+`
`}}))};fe?(be(ot.First,ot.First),be(ot.Second,ot.Second)):ae+=`
 .`,navigator.clipboard.writeText(ae),alert("     !")},[u,A,Ae,i,n,r,s]),Ve=le.useCallback(()=>{let ae=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Gymnasium//Manager//RU
`;A.filter(et=>et.date===u).forEach(et=>{var vt;const Pe=a.find(Pt=>Pt.id===et.scheduleItemId);if(!Pe)return;let ze="Unknown";if(et.replacementTeacherId==="cancelled")ze=" ";else if(et.replacementTeacherId==="conducted")ze=" ";else{const Pt=r.find(Ct=>Ct.id===et.replacementTeacherId);Pt&&(ze=Pt.name)}const Oe=n.find(Pt=>Pt.id===Pe.subjectId),We=i.find(Pt=>Pt.id===Pe.classId),mt=et.date.replace(/-/g,""),ue=r.find(Pt=>Pt.id===et.originalTeacherId),Qe=(vt=ue==null?void 0:ue.absenceReasons)==null?void 0:vt[u],Re=et.lessonAbsenceReason,lt=ue!=null&&ue.unavailableDates.includes(u)&&Qe===" "?" ":null,tt=Re||lt;ae+=`BEGIN:VEVENT
DTSTART;VALUE=DATE:${mt}
SUMMARY:: ${We==null?void 0:We.name} - ${Oe==null?void 0:Oe.name}
DESCRIPTION:: ${ze}${tt?` (: ${tt})`:""}
END:VEVENT
`}),ae+="END:VCALENDAR";const be=new Blob([ae],{type:"text/calendar"}),Ue=URL.createObjectURL(be),$e=document.createElement("a");$e.href=Ue,$e.download="substitutions.ics",document.body.appendChild($e),$e.click(),document.body.removeChild($e)},[u,A,a,r,n,i]),Ee=le.useCallback(async()=>{if(!(o!=null&&o.telegramToken)){alert(" Telegram      ''.");return}let ae=`*  ${new Date(u).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}*

`,fe=!1;const be=new Set,Ue=[ot.First,ot.Second];for(const et of Ue){const ze=Ae.filter(Oe=>Oe.shift===et).filter(Oe=>A.some(We=>We.scheduleItemId===Oe.id&&We.date===u&&We.replacementTeacherId!=="conducted"));ze.length>0&&(fe=!0,ae+=` *${et.toUpperCase()}*
`,ze.forEach(Oe=>{var Xt,Wt,Gt,vr;const We=A.find(xt=>xt.scheduleItemId===Oe.id&&xt.date===u);if(!We)return;const mt=i.find(xt=>xt.id===Oe.classId),ue=n.find(xt=>xt.id===Oe.subjectId),Qe=r.find(xt=>xt.id===We.originalTeacherId),Re=r.find(xt=>xt.id===We.replacementTeacherId),lt=((Xt=s.find(xt=>xt.id===Oe.roomId))==null?void 0:Xt.name)||Oe.roomId||"",tt=We.replacementRoomId?((Wt=s.find(xt=>xt.id===We.replacementRoomId))==null?void 0:Wt.name)||We.replacementRoomId:lt,vt=(Qe==null?void 0:Qe.name)||"/",Pt=(Re==null?void 0:Re.name)||"/";let Ct=`${Oe.period}  (${mt==null?void 0:mt.name} ${ue==null?void 0:ue.name}${Oe.direction?` ${Oe.direction}`:""}): `;We.replacementTeacherId==="cancelled"?Ct+=`* * ( ${vt})`:We.replacementTeacherId===We.originalTeacherId?Ct+=`: ${vt}.  : ${lt}  ${tt}`:(Ct+=`*${Pt}* ( *${vt}*)`,lt!==tt?Ct+=`. : ${lt}  ${tt}`:tt!==""&&(Ct+=`. : ${tt}`)),We.lessonAbsenceReason?Ct+=` (: ${We.lessonAbsenceReason})`:(Gt=Qe==null?void 0:Qe.unavailableDates)!=null&&Gt.includes(u)&&((vr=Qe==null?void 0:Qe.absenceReasons)==null?void 0:vr[u])===" "&&(Ct+=" (:  )"),ae+=`${Ct}
`,Qe!=null&&Qe.telegramChatId&&be.add(Qe.telegramChatId),Re!=null&&Re.telegramChatId&&be.add(Re.telegramChatId)}),ae+=`
`)}if(fe||(ae+=` .
`),ne.forEach(et=>{var ze;const Pe=A.some(Oe=>Oe.date===u&&Oe.originalTeacherId===et.id&&Oe.replacementTeacherId!=="cancelled"&&Oe.replacementTeacherId!=="conducted");if(et.telegramChatId&&!Pe&&et.unavailableDates.includes(u)){be.add(et.telegramChatId);const Oe=(ze=et.absenceReasons)==null?void 0:ze[u],We=Oe===" "?Oe:"";fe?ae+=`_:  ${et.name} ${We},        /._
`:ae+=`_:  ${et.name} ${We},      ._
`}}),be.size===0){alert("    Telegram Chat ID   .");return}const $e=`https://api.telegram.org/bot${o.telegramToken}/sendMessage`;try{const et=Array.from(be).map(Pe=>fetch($e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:Pe,text:ae,parse_mode:"Markdown"})}));await Promise.all(et),alert(`   ${be.size} !`)}catch(et){console.error("    Telegram:",et),alert("     Telegram.     .")}},[u,Ae,A,i,n,r,s,ne,o==null?void 0:o.telegramToken,a]),oe=le.useMemo(()=>{if(!v||!z)return[];const ae=u.substring(0,7);return r.filter(fe=>fe.name.toLowerCase().includes(te.toLowerCase())).map(fe=>{const be=fe.unavailableDates.includes(u),Ue=a.some(ze=>ze.teacherId===fe.id&&ze.day===z&&ze.period===v.period&&ze.shift===v.shift),$e=fe.subjectIds.includes(v.subjectId),et=A.filter(ze=>ze.replacementTeacherId===fe.id&&ze.date.startsWith(ae)).length;let Pe=0;return be&&(Pe-=1e3),Ue&&(Pe-=100),$e&&(Pe+=50),{teacher:fe,isAbsent:be,isBusy:Ue,isSpecialist:$e,score:Pe,subsCount:et}}).sort((fe,be)=>be.score-fe.score)},[r,v,u,te,z,a,A]),dt=le.useMemo(()=>{var et;if(!v)return null;const ae=a.find(Pe=>Pe.id===v.scheduleItemId);if(!ae)return null;const fe=i.find(Pe=>Pe.id===ae.classId),be=n.find(Pe=>Pe.id===ae.subjectId),Ue=r.find(Pe=>Pe.id===ae.teacherId),$e=((et=Ue==null?void 0:Ue.unavailableDates)==null?void 0:et.includes(u))||!1;return{className:fe==null?void 0:fe.name,subjectName:be==null?void 0:be.name,teacherName:Ue==null?void 0:Ue.name,teacherId:Ue==null?void 0:Ue.id,period:ae.period,roomId:ae.roomId,isTeacherAbsent:$e}},[v,a,i,n,r,u]),it=le.useMemo(()=>{if(!z||$.length<2)return[];const ae=$.toLowerCase(),fe=r.filter($e=>$e.name.toLowerCase().includes(ae)),be=i.filter($e=>$e.name.toLowerCase().includes(ae)),Ue=[];return fe.forEach($e=>{a.filter(Pe=>Pe.teacherId===$e.id&&Pe.day===z).forEach(Pe=>{const ze=i.find(We=>We.id===Pe.classId),Oe=n.find(We=>We.id===Pe.subjectId);Ue.push({...Pe,entityName:$e.name,subInfo:ze==null?void 0:ze.name,subjectName:Oe==null?void 0:Oe.name})})}),be.forEach($e=>{a.filter(Pe=>Pe.classId===$e.id&&Pe.day===z).forEach(Pe=>{if(Ue.find(We=>We.id===Pe.id))return;const ze=r.find(We=>We.id===Pe.teacherId),Oe=n.find(We=>We.id===Pe.subjectId);Ue.push({...Pe,entityName:$e.name,subInfo:ze==null?void 0:ze.name,subjectName:Oe==null?void 0:Oe.name})})}),Ue.sort(($e,et)=>$e.period-et.period)},[$,z,r,i,a,n]),Ke=le.useCallback(async(ae,fe,be,Ue,$e,et)=>{const ze=new Date(et).toLocaleDateString("ru-RU",{day:"numeric",month:"long"}),Oe=fe.shift===ot.First?"1 ":"2 ",We=` *  *
${ae.name}

 : ${ze}
 : ${Oe}
 : ${be==null?void 0:be.name}
1 : ${fe.period}
 : ${Ue==null?void 0:Ue.name}
 : ${$e||" "}`;if(o!=null&&o.telegramToken&&ae.telegramChatId)try{const ue=await(await fetch(`https://api.telegram.org/bot${o.telegramToken}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:ae.telegramChatId,text:We,parse_mode:"Markdown"})})).json();ue.ok?alert(`   Telegram  ${ae.name}!`):ue.description.includes("chat not found")?alert(` Telegram:   .

  ${ae.name}       "" (/start).`):alert(` Telegram: ${ue.description}`)}catch(mt){alert("   Telegram (/)."),console.error(mt)}else navigator.share?navigator.share({title:"",text:We}).catch(()=>{}):(navigator.clipboard.writeText(We),alert(" ! (Telegram     Chat ID)"))},[o==null?void 0:o.telegramToken]);return f.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[f.jsxs("div",{className:"w-full md:w-80 flex flex-col gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2 block",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx(Ge,{name:"Calendar",className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),f.jsx("input",{type:"date",value:u,onChange:ae=>c(ae.target.value),className:"w-full pl-10 border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm font-bold outline-none focus:border-indigo-500 bg-transparent dark:text-white"})]}),f.jsxs("button",{onClick:()=>N(!_),className:`mt-3 w-full py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 border transition-all ${_?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white border-indigo-200 dark:border-slate-500"}`,children:[f.jsx(Ge,{name:"History",size:16})," ",_?" ":" "]})]}),_?f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex-1 overflow-hidden flex flex-col",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-2",children:""}),f.jsx("input",{placeholder:"  /...",value:O,onChange:ae=>I(ae.target.value),className:"mb-4 w-full bg-slate-100 dark:bg-slate-700 border-none rounded-lg p-2 text-xs"}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2",children:A.filter(ae=>{var fe;return ae.date.includes(O)||((fe=r.find(be=>be.id===ae.replacementTeacherId))==null?void 0:fe.name.toLowerCase().includes(O.toLowerCase()))}).map(ae=>{const fe=r.find(Ue=>Ue.id===ae.replacementTeacherId),be=s.find(Ue=>Ue.id===ae.replacementRoomId);return f.jsxs("div",{className:"p-2 border border-slate-100 dark:border-slate-700 rounded-lg text-xs",children:[f.jsx("div",{className:"font-bold",children:ae.date}),f.jsx("div",{children:(fe==null?void 0:fe.name)||(ae.replacementTeacherId==="cancelled"?"":"")}),be&&f.jsxs("div",{className:"text-indigo-500",children:[". ",be.name]})]},ae.id)})})]}):f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex-1 overflow-hidden flex flex-col",children:[f.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[f.jsx(Ge,{name:"UserX",size:18,className:"text-red-500"})," "]}),f.jsxs("div",{className:"mb-3 space-y-2",children:[f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[f.jsx("button",{onClick:()=>de("all"),className:`flex-1 py-1 text-xs font-bold rounded-md ${X==="all"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:""}),f.jsx("button",{onClick:()=>de(ot.First),className:`flex-1 py-1 text-xs font-bold rounded-md ${X===ot.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),f.jsx("button",{onClick:()=>de(ot.Second),className:`flex-1 py-1 text-xs font-bold rounded-md ${X===ot.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Ge,{name:"Search",className:"absolute left-3 top-2.5 text-slate-400",size:14}),f.jsx("input",{placeholder:" ...",value:T,onChange:ae=>k(ae.target.value),className:"w-full pl-8 pr-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-100 dark:border-slate-600 rounded-xl text-xs outline-none focus:ring-1 ring-indigo-500 dark:text-white"})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-1 space-y-2",children:[ee.map(ae=>{const fe=ae.unavailableDates.includes(u),be=ae.absenceReasons?ae.absenceReasons[u]:"";return f.jsxs("div",{className:`flex flex-col p-3 rounded-xl border transition-all ${fe?"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900":"bg-slate-50 dark:bg-slate-700/50 border-slate-100 dark:border-slate-600"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("span",{className:`text-sm font-medium ${fe?"text-red-700 dark:text-red-400":"text-slate-600 dark:text-slate-300"}`,children:ae.name}),f.jsx("button",{onClick:()=>fe?Fe(ae.id):ge(ae.id),className:`text-xs px-2 py-1 rounded-lg font-bold transition-colors ${fe?"bg-white dark:bg-dark-800 text-red-600 dark:text-red-400 shadow-sm":"text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:fe?"":""})]}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx("div",{className:"flex gap-1",children:ae.shifts.map(Ue=>f.jsx("span",{className:"text-[9px] bg-white dark:bg-slate-600 px-1 rounded border border-slate-100 dark:border-slate-500 text-slate-400",children:Ue===ot.First?"1":"2"},Ue))}),fe&&f.jsxs("div",{className:"flex items-center gap-1",children:[be&&f.jsx("div",{className:"text-[10px] text-red-500 dark:text-red-400 italic",children:be}),f.jsx("button",{onClick:()=>ge(ae.id),className:"w-6 h-6 flex items-center justify-center bg-white dark:bg-dark-800 text-red-600 dark:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full shadow-sm border border-slate-200 dark:border-slate-600",title:" ",children:f.jsx(Ge,{name:"Edit2",size:14})})]})]})]},ae.id)}),ee.length===0&&f.jsx("div",{className:"text-center text-xs text-slate-400 py-4",children:" "})]})]})]}),f.jsxs("div",{className:"flex-1 bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:["  (",Ae.length,")"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:Ve,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-xl text-sm font-bold hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",children:[f.jsx(Ge,{name:"Calendar",size:16})," iCal"]}),Ae.length>0&&f.jsxs("button",{onClick:Le,className:"flex items-center gap-2 px-3 py-2 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-xl text-sm font-bold hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors",children:[f.jsx(Ge,{name:"Copy",size:16})," "]}),f.jsxs("button",{onClick:Ee,className:"px-4 py-2 bg-blue-500 text-white rounded-xl font-bold hover:bg-blue-600 transition shadow-lg shadow-blue-200 dark:shadow-none flex items-center gap-2",children:[f.jsx(Ge,{name:"Send",size:16})," Telegram"]}),f.jsxs("button",{onClick:()=>{R(""),x(!0)},className:"flex items-center gap-2 px-3 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 rounded-xl text-sm font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:[f.jsx(Ge,{name:"Search",size:16}),"  "]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-4",children:Ae.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[f.jsx(Ge,{name:"CheckCircle",size:48,className:"mb-4 text-slate-200 dark:text-slate-700"}),f.jsx("p",{children:" ,     "})]}):Ae.map(ae=>{var Qe;const fe=A.find(Re=>Re.scheduleItemId===ae.id&&Re.date===u),be=fe&&fe.replacementTeacherId!=="cancelled"&&fe.replacementTeacherId!=="conducted"?r.find(Re=>Re.id===fe.replacementTeacherId):null,Ue=r.find(Re=>Re.id===ae.teacherId),$e=n.find(Re=>Re.id===ae.subjectId),et=i.find(Re=>Re.id===ae.classId),Pe=s.find(Re=>Re.id===ae.roomId),ze=Pe?Pe.name:ae.roomId,Oe=fe==null?void 0:fe.replacementRoomId,We=Oe?((Qe=s.find(Re=>Re.id===Oe))==null?void 0:Qe.name)||Oe:null;let mt=null;if((fe==null?void 0:fe.replacementTeacherId)==="conducted")mt=f.jsxs("div",{className:"flex items-center gap-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-900 pl-4 pr-2 py-2 rounded-xl",children:[f.jsx("div",{className:"text-blue-700 dark:text-blue-400 font-bold text-sm",children:" "}),f.jsx("button",{onClick:()=>je(ae.id),className:"p-2 bg-white dark:bg-dark-800 rounded-lg text-blue-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors shadow-sm",children:f.jsx(Ge,{name:"X",size:16})})]});else if((fe==null?void 0:fe.replacementTeacherId)==="cancelled")mt=f.jsxs("div",{className:"flex items-center gap-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 pl-4 pr-2 py-2 rounded-xl",children:[f.jsx("div",{className:"text-red-700 dark:text-red-400 font-bold text-sm",children:" "}),f.jsx("button",{onClick:()=>je(ae.id),className:"p-2 bg-white dark:bg-dark-800 rounded-lg text-red-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors shadow-sm",children:f.jsx(Ge,{name:"X",size:16})})]});else if(be||Oe){const Re=(fe==null?void 0:fe.replacementTeacherId)===(fe==null?void 0:fe.originalTeacherId)&&Oe;mt=f.jsxs("div",{className:"flex items-center gap-3 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-900 pl-4 pr-2 py-2 rounded-xl",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 tracking-wider",children:Re?" ":" "}),f.jsx("div",{className:"font-bold text-emerald-900 dark:text-emerald-200 text-sm",children:Re?"  ":be==null?void 0:be.name}),fe.lessonAbsenceReason&&f.jsxs("div",{className:"text-[10px] text-red-500 dark:text-red-400 italic mt-0.5",children:[": ",fe.lessonAbsenceReason]})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>Ke(be||Ue,ae,et,$e,We||ze,u),className:"p-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm transition-all",title:" ",children:f.jsx(Ge,{name:"Send",size:18})}),f.jsx("button",{onClick:()=>je(ae.id),className:"p-2 rounded-lg bg-white dark:bg-slate-800 text-red-500 border border-red-100 dark:border-red-900/30 hover:bg-red-50 dark:hover:bg-red-900/20 shadow-sm transition-all",title:" ",children:f.jsx(Ge,{name:"UserX",size:18})})]})]})}else mt=f.jsxs("button",{onClick:()=>{b({scheduleItemId:ae.id,subjectId:ae.subjectId,period:ae.period,shift:ae.shift,classId:ae.classId,teacherId:ae.teacherId,roomId:ae.roomId,day:ae.day}),g(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-3 rounded-xl text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none transition-all flex items-center justify-center gap-2 xl:w-auto w-full",children:["  ",f.jsx(Ge,{name:"ArrowRight",size:16})]});const ue=!ne.find(Re=>Re.id===ae.teacherId);return f.jsxs("div",{className:"p-4 rounded-xl border border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-700/30 flex flex-col xl:flex-row xl:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-600 flex flex-col items-center justify-center text-indigo-600 dark:text-indigo-400",children:[f.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 leading-none",children:""}),f.jsx("span",{className:"text-xl font-black leading-none mt-1 dark:text-slate-200",children:ae.period})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:et==null?void 0:et.name}),f.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[f.jsx("span",{className:"text-xs font-bold text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1 rounded",children:ae.shift===ot.First?"1":"2"}),f.jsx("span",{className:"text-slate-400",children:"|"}),f.jsx("span",{children:$e==null?void 0:$e.name})]})]}),f.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[f.jsx("span",{className:ue?"font-semibold":"line-through decoration-red-400 decoration-2",children:Ue==null?void 0:Ue.name}),ze&&f.jsxs("span",{className:"text-xs bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-slate-200 dark:border-slate-600 flex items-center gap-1",children:[ze," ",We&&f.jsxs("span",{className:"text-indigo-600 font-bold",children:[" ",We]})]}),(fe==null?void 0:fe.lessonAbsenceReason)&&f.jsxs("span",{className:"text-xs bg-red-50 dark:bg-red-900/20 px-1.5 py-0.5 rounded border border-red-100 dark:border-red-900 text-red-500 dark:text-red-400 font-medium",children:["(",fe.lessonAbsenceReason,")"]})]})]})]}),mt]},ae.id)})})]}),f.jsxs(ol,{isOpen:p,onClose:()=>g(!1),title:" ",children:[dt&&f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-3 rounded-xl mb-4 text-sm border border-slate-100 dark:border-slate-600",children:[f.jsxs("div",{className:"font-bold text-slate-700 dark:text-slate-200 mb-1",children:[dt.className,"  ",dt.period," "]}),f.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-slate-400",children:[f.jsx("span",{children:dt.subjectName}),f.jsx("span",{className:dt.isTeacherAbsent?"line-through decoration-red-400":"font-semibold",children:dt.teacherName})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"  ()"}),f.jsxs("select",{value:W,onChange:ae=>re(ae.target.value),className:"w-full border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm outline-none focus:border-indigo-500 dark:bg-slate-700 dark:text-white",children:[f.jsx("option",{value:"",children:"  "}),s.map(ae=>f.jsxs("option",{value:ae.id,children:[ae.name," (",ae.capacity," )"]},ae.id))]})]}),dt&&!dt.isTeacherAbsent&&f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"    ()"}),f.jsxs("select",{value:Q,onChange:ae=>j(ae.target.value),className:"w-full border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm outline-none focus:border-indigo-500 dark:bg-slate-700 dark:text-white",children:[f.jsx("option",{value:"",children:" "}),f.jsx("option",{children:""}),f.jsx("option",{children:""}),f.jsx("option",{children:""}),f.jsx("option",{children:" "}),f.jsx("option",{children:""}),f.jsx("option",{children:" "})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[f.jsx("button",{onClick:()=>Te("conducted"),className:"p-3 rounded-xl bg-blue-50 text-blue-700 font-bold text-sm hover:bg-blue-100 transition",children:" "}),f.jsx("button",{onClick:()=>Te("cancelled"),className:"p-3 rounded-xl bg-red-50 text-red-700 font-bold text-sm hover:bg-red-100 transition",children:" "})]}),(dt==null?void 0:dt.teacherId)&&!dt.isTeacherAbsent&&f.jsx("button",{onClick:()=>Te(dt.teacherId),className:"w-full p-3 mb-4 rounded-xl bg-emerald-50 text-emerald-700 font-bold text-sm hover:bg-emerald-100 transition border border-emerald-200",children:"   (  )"}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx(Ge,{name:"Search",className:"absolute left-3 top-2.5 text-slate-400",size:14}),f.jsx("input",{autoFocus:!0,placeholder:"  ...",value:te,onChange:ae=>K(ae.target.value),className:"w-full pl-8 pr-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm outline-none focus:border-indigo-500 dark:text-white"})]}),f.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:[oe.map(({teacher:ae,isAbsent:fe,isBusy:be,isSpecialist:Ue,subsCount:$e})=>f.jsxs("button",{disabled:fe||be,onClick:()=>Te(ae.id),title:fe?" ":be?" ":"",className:`w-full p-3 rounded-xl border flex items-center justify-between transition-all text-left ${fe?"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900 opacity-60":be?"bg-orange-50 dark:bg-orange-900/20 border-orange-100 dark:border-orange-900 opacity-60":"bg-white dark:bg-dark-800 border-slate-100 dark:border-slate-700 hover:border-indigo-500 hover:shadow-md"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${Ue?"bg-emerald-100 text-emerald-700":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300"}`,children:Ue?f.jsx(Ge,{name:"Star",size:14,fill:"currentColor"}):ae.name[0]}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:ae.name}),f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 flex flex-wrap gap-2",children:[Ue&&f.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 px-1.5 rounded",children:""}),be&&f.jsx("span",{className:"text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20 px-1.5 rounded",children:""}),fe&&f.jsx("span",{className:"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-1.5 rounded",children:""}),f.jsxs("span",{className:`px-1.5 rounded font-medium ${$e>5?"text-amber-600 bg-amber-50 dark:bg-amber-900/20":"text-blue-600 bg-blue-50 dark:bg-blue-900/20"}`,children:["  : ",$e]})]})]})]}),!fe&&!be&&f.jsx("div",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded text-xs font-bold",children:""})]},ae.id)),oe.length===0&&f.jsx("div",{className:"text-center text-slate-400 text-xs py-4",children:"  "})]})]}),f.jsxs(ol,{isOpen:w,onClose:()=>x(!1),title:"  ",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"     ,       (  )."}),f.jsxs("div",{className:"relative",children:[f.jsx(Ge,{name:"Search",className:"absolute left-3 top-2.5 text-slate-400",size:14}),f.jsx("input",{autoFocus:!0,placeholder:": 6  ...",value:$,onChange:ae=>R(ae.target.value),className:"w-full pl-8 pr-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm outline-none focus:border-indigo-500 dark:text-white"})]})]}),f.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:[it.map(ae=>{var fe;return f.jsxs("button",{onClick:()=>{x(!1),b({scheduleItemId:ae.id,subjectId:ae.subjectId,period:ae.period,shift:ae.shift,classId:ae.classId,teacherId:ae.teacherId,roomId:ae.roomId,day:ae.day}),g(!0)},className:"w-full p-3 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors text-left group",children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:[ae.entityName," ",f.jsxs("span",{className:"font-normal text-slate-500",children:["(",ae.subInfo,")"]})]}),f.jsxs("span",{className:"text-xs font-bold bg-slate-100 dark:bg-slate-600 px-2 py-0.5 rounded",children:[ae.period," "]})]}),f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex gap-2",children:[f.jsx("span",{children:ae.subjectName}),ae.roomId&&f.jsxs("span",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 px-1 rounded",children:[". ",((fe=s.find(be=>be.id===ae.roomId))==null?void 0:fe.name)||ae.roomId]})]})]},ae.id)}),$.length>1&&it.length===0&&f.jsxs("div",{className:"text-center text-slate-400 text-xs py-4",children:["      (",u,")"]})]})]}),f.jsx(ol,{isOpen:E,onClose:()=>y(!1),title:" ",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("select",{value:M,onChange:ae=>S(ae.target.value),className:"w-full border p-3 rounded-xl outline-none font-bold text-slate-700 dark:text-white dark:bg-slate-700 dark:border-slate-600",children:[f.jsx("option",{children:""}),f.jsx("option",{children:""}),f.jsx("option",{children:""}),f.jsx("option",{children:" "}),f.jsx("option",{children:""}),f.jsx("option",{children:" "})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{onClick:Be,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold",children:""})})]})})]})},bz=()=>{const{subjects:t,teachers:e,rooms:n,settings:r,saveStaticData:i}=Rl(),{schedule:s}=Cg(),[o,a]=le.useState("teachers"),[A,l]=le.useState(new Date().toISOString().split("T")[0]),[u,c]=le.useState(ot.First),[p,g]=le.useState(1),[v,b]=le.useState(ot.First),[E,y]=le.useState(1),[w,x]=le.useState((r==null?void 0:r.telegramToken)||""),[U,P]=le.useState((r==null?void 0:r.feedbackChatId)||"");le.useEffect(()=>{x((r==null?void 0:r.telegramToken)||""),P((r==null?void 0:r.feedbackChatId)||"")},[r]),le.useEffect(()=>{g(u===ot.First?1:0)},[u]),le.useEffect(()=>{y(v===ot.First?1:0)},[v]);const M=le.useMemo(()=>{const I=new Date(A).getDay();return I===0||I===6?null:bi[I-1]},[A]),S=Ea[u],_=le.useMemo(()=>M?e.filter(I=>I.shifts&&!I.shifts.includes(u)||I.unavailableDates.includes(A)?!1:!s.some(k=>k.teacherId===I.id&&k.day===M&&k.period>p&&k.shift===u)).sort((I,T)=>I.name.localeCompare(T.name)):[],[e,A,M,p,u,s]),N=le.useMemo(()=>{if(!M)return[];const I=new Set;return s.forEach(k=>{k.day===M&&k.period===E&&k.shift===v&&k.roomId&&I.add(k.roomId)}),n.filter(k=>!I.has(k.id)).map(k=>k.name)},[s,n,M,E,v]),O=async()=>{await i({settings:{...r,telegramToken:w,feedbackChatId:U}}),alert(" !")};return f.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mb-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-6",children:[f.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[f.jsx(Ge,{name:"Settings",className:"text-indigo-600 dark:text-indigo-400"}),"  "]}),f.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>a("teachers"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${o==="teachers"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),f.jsx("button",{onClick:()=>a("rooms"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${o==="rooms"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),f.jsx("button",{onClick:()=>a("settings"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${o==="settings"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""})]})]}),o!=="settings"&&f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),f.jsx("input",{type:"date",value:A,onChange:I=>l(I.target.value),className:"border border-slate-200 dark:border-slate-600 p-3 rounded-xl font-bold outline-none focus:border-indigo-500 bg-transparent dark:text-white w-full md:w-auto"})]}),o==="teachers"&&f.jsxs("div",{className:"flex flex-wrap gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),f.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>c(ot.First),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${u===ot.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),f.jsx("button",{onClick:()=>c(ot.Second),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${u===ot.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"   "}),f.jsx("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl w-fit",children:S.map(I=>f.jsx("button",{onClick:()=>g(I),className:`w-10 h-10 rounded-lg font-bold text-sm transition-all ${p===I?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:I},I))})]})]}),o==="rooms"&&f.jsxs("div",{className:"flex flex-wrap gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),f.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>b(ot.First),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${v===ot.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),f.jsx("button",{onClick:()=>b(ot.Second),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${v===ot.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:" "}),f.jsx("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl w-fit",children:Ea[v].map(I=>f.jsx("button",{onClick:()=>y(I),className:`w-10 h-10 rounded-lg font-bold text-sm transition-all ${E===I?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:I},I))})]})]}),o==="settings"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"Telegram Bot Token"}),f.jsx("input",{type:"password",value:w,onChange:I=>x(I.target.value),className:"w-full border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm outline-none dark:bg-slate-700 dark:text-white",placeholder:"123456789:ABCDefGhIjkLmNoPqRsTuVwXyZ"}),f.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["   @BotFather.        ",f.jsx("b",{children:"/start"}),",   ."]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"Telegram Chat ID   "}),f.jsx("input",{type:"text",value:U,onChange:I=>P(I.target.value),className:"w-full border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm outline-none dark:bg-slate-700 dark:text-white",placeholder:"  Chat ID  ID "}),f.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"            ."})]}),f.jsx("button",{onClick:O,className:"bg-indigo-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-indigo-700 transition",children:""})]})]}),o==="teachers"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[_.map(I=>f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center gap-4 hover:shadow-md transition-all",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 flex items-center justify-center",children:f.jsx(Ge,{name:"CheckCircle",size:24})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:I.name}),f.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:I.subjectIds.slice(0,2).map(T=>{const k=t.find(X=>X.id===T);return k?f.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:k.name},T):null})})]})]},I.id)),_.length===0&&f.jsxs("div",{className:"col-span-full py-12 text-center text-slate-400",children:["  ,   ",p,"   ",u]})]}),o==="rooms"&&f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[N.map(I=>f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm text-center flex flex-col items-center justify-center hover:border-indigo-500 transition-all",children:[f.jsx(Ge,{name:"DoorOpen",size:24,className:"text-emerald-500 mb-2"}),f.jsx("div",{className:"text-xl font-black text-slate-800 dark:text-white",children:I}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-bold uppercase",children:""})]},I)),N.length===0&&f.jsxs("div",{className:"col-span-full py-12 text-center text-slate-400",children:[f.jsx(Ge,{name:"AlertTriangle",size:48,className:"mx-auto mb-4 text-slate-300 dark:text-slate-600"}),f.jsx("p",{children:"      (   )."})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fB=function(t,e){return fB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},fB(t,e)};function lo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fB(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var pB=function(){return pB=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pB.apply(this,arguments)};function vi(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(c){o(c)}}function A(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){u.done?s(u.value):i(u.value).then(a,A)}l((r=r.apply(t,[])).next())})}function oi(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return A([l,u])}}function A(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function xm(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var Oa=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),kw=function(t,e){return Oa.fromClientRect(t,e.getBoundingClientRect())},xz=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Oa(0,0,r,i)},Nw=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},tr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},vE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_z=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _m=0;_m<vE.length;_m++)_z[vE.charCodeAt(_m)]=_m;var wE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Cm=0;Cm<wE.length;Cm++)xf[wE.charCodeAt(Cm)]=Cm;var Cz=function(t){var e=t.length*.75,n=t.length,r,i=0,s,o,a,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)s=xf[t.charCodeAt(r)],o=xf[t.charCodeAt(r+1)],a=xf[t.charCodeAt(r+2)],A=xf[t.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|A&63;return l},Iz=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Ez=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Qu=5,C_=11,ny=2,Sz=C_-Qu,d3=65536>>Qu,Fz=1<<Qu,ry=Fz-1,Tz=1024>>Qu,kz=d3+Tz,Nz=kz,Uz=32,Qz=Nz+Uz,Lz=65536>>C_,Pz=1<<Sz,Rz=Pz-1,yE=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Dz=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Oz=function(t,e){var n=Cz(t),r=Array.isArray(n)?Ez(n):new Uint32Array(n),i=Array.isArray(n)?Iz(n):new Uint16Array(n),s=24,o=yE(i,s/2,r[4]/2),a=r[5]===2?yE(i,(s+r[4])/2):Dz(r,Math.ceil((s+r[4])/4));return new Mz(r[0],r[1],r[2],r[3],o,a)},Mz=function(){function t(e,n,r,i,s,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Qu],n=(n<<ny)+(e&ry),this.data[n];if(e<=65535)return n=this.index[d3+(e-55296>>Qu)],n=(n<<ny)+(e&ry),this.data[n];if(e<this.highStart)return n=Qz-Lz+(e>>C_),n=this.index[n],n+=e>>Qu&Rz,n=this.index[n],n=(n<<ny)+(e&ry),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),BE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Im=0;Im<BE.length;Im++)jz[BE.charCodeAt(Im)]=Im;var Hz="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",bE=50,Vz=1,h3=2,f3=3,Kz=4,zz=5,xE=7,p3=8,_E=9,zA=10,gB=11,CE=12,mB=13,Gz=14,_f=15,vB=16,Em=17,af=18,Wz=19,IE=20,wB=21,Af=22,iy=23,Gc=24,rs=25,Cf=26,If=27,Wc=28,qz=29,vu=30,$z=31,Sm=32,Fm=33,yB=34,BB=35,bB=36,qp=37,xB=38,B0=39,b0=40,sy=41,g3=42,Jz=43,Yz=[9001,65288],m3="!",Vt="",Tm="",_B=Oz(Hz),ga=[vu,bB],CB=[Vz,h3,f3,zz],v3=[zA,p3],EE=[If,Cf],Xz=CB.concat(v3),SE=[xB,B0,b0,yB,BB],Zz=[_f,mB],eG=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,o){var a=_B.get(s);if(a>bE?(i.push(!0),a-=bE):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(o),n.push(vB);if(a===Kz||a===gB){if(o===0)return r.push(o),n.push(vu);var A=n[o-1];return Xz.indexOf(A)===-1?(r.push(r[o-1]),n.push(A)):(r.push(o),n.push(vu))}if(r.push(o),a===$z)return n.push(e==="strict"?wB:qp);if(a===g3||a===qz)return n.push(vu);if(a===Jz)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(qp):n.push(vu);n.push(a)}),[r,n,i]},oy=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var o=r[s];if(o===e)return!0;if(o!==zA)break}if(i===zA)for(var s=n;s>0;){s--;var a=r[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var A=n;A<=r.length;){A++;var o=r[A];if(o===e)return!0;if(o!==zA)break}if(a!==zA)break}return!1},FE=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===zA)n--;else return r}return 0},tG=function(t,e,n,r,i){if(n[r]===0)return Vt;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return Vt;var o=s-1,a=s+1,A=e[s],l=o>=0?e[o]:0,u=e[a];if(A===h3&&u===f3)return Vt;if(CB.indexOf(A)!==-1)return m3;if(CB.indexOf(u)!==-1||v3.indexOf(u)!==-1)return Vt;if(FE(s,e)===p3)return Tm;if(_B.get(t[s])===gB||(A===Sm||A===Fm)&&_B.get(t[a])===gB||A===xE||u===xE||A===_E||[zA,mB,_f].indexOf(A)===-1&&u===_E||[Em,af,Wz,Gc,Wc].indexOf(u)!==-1||FE(s,e)===Af||oy(iy,Af,s,e)||oy([Em,af],wB,s,e)||oy(CE,CE,s,e))return Vt;if(A===zA)return Tm;if(A===iy||u===iy)return Vt;if(u===vB||A===vB)return Tm;if([mB,_f,wB].indexOf(u)!==-1||A===Gz||l===bB&&Zz.indexOf(A)!==-1||A===Wc&&u===bB||u===IE||ga.indexOf(u)!==-1&&A===rs||ga.indexOf(A)!==-1&&u===rs||A===If&&[qp,Sm,Fm].indexOf(u)!==-1||[qp,Sm,Fm].indexOf(A)!==-1&&u===Cf||ga.indexOf(A)!==-1&&EE.indexOf(u)!==-1||EE.indexOf(A)!==-1&&ga.indexOf(u)!==-1||[If,Cf].indexOf(A)!==-1&&(u===rs||[Af,_f].indexOf(u)!==-1&&e[a+1]===rs)||[Af,_f].indexOf(A)!==-1&&u===rs||A===rs&&[rs,Wc,Gc].indexOf(u)!==-1)return Vt;if([rs,Wc,Gc,Em,af].indexOf(u)!==-1)for(var c=s;c>=0;){var p=e[c];if(p===rs)return Vt;if([Wc,Gc].indexOf(p)!==-1)c--;else break}if([If,Cf].indexOf(u)!==-1)for(var c=[Em,af].indexOf(A)!==-1?o:s;c>=0;){var p=e[c];if(p===rs)return Vt;if([Wc,Gc].indexOf(p)!==-1)c--;else break}if(xB===A&&[xB,B0,yB,BB].indexOf(u)!==-1||[B0,yB].indexOf(A)!==-1&&[B0,b0].indexOf(u)!==-1||[b0,BB].indexOf(A)!==-1&&u===b0||SE.indexOf(A)!==-1&&[IE,Cf].indexOf(u)!==-1||SE.indexOf(u)!==-1&&A===If||ga.indexOf(A)!==-1&&ga.indexOf(u)!==-1||A===Gc&&ga.indexOf(u)!==-1||ga.concat(rs).indexOf(A)!==-1&&u===Af&&Yz.indexOf(t[a])===-1||ga.concat(rs).indexOf(u)!==-1&&A===af)return Vt;if(A===sy&&u===sy){for(var g=n[s],v=1;g>0&&(g--,e[g]===sy);)v++;if(v%2!==0)return Vt}return A===Sm&&u===Fm?Vt:Tm},nG=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=eG(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[rs,vu,g3].indexOf(a)!==-1?qp:a}));var o=e.wordBreak==="keep-all"?s.map(function(a,A){return a&&t[A]>=19968&&t[A]<=40959}):void 0;return[r,i,o]},rG=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===m3,this.start=r,this.end=i}return t.prototype.slice=function(){return tr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),iG=function(t,e){var n=Nw(t),r=nG(n,e),i=r[0],s=r[1],o=r[2],a=n.length,A=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var u=Vt;l<a&&(u=tG(n,s,i,++l,o))===Vt;);if(u!==Vt||l===a){var c=new rG(n,u,A,l);return A=l,{value:c,done:!1}}return{done:!0,value:null}}}},sG=1,oG=2,Ig=4,TE=8,mv=10,kE=47,Jf=92,aG=9,AG=32,km=34,lf=61,lG=35,uG=36,cG=37,Nm=39,Um=40,uf=41,dG=95,Oi=45,hG=33,fG=60,pG=62,gG=64,mG=91,vG=93,wG=61,yG=123,Qm=63,BG=125,NE=124,bG=126,xG=128,UE=65533,ay=42,Iu=43,_G=44,CG=58,IG=59,$p=46,EG=0,SG=8,FG=11,TG=14,kG=31,NG=127,Eo=-1,w3=48,y3=97,B3=101,UG=102,QG=117,LG=122,b3=65,x3=69,_3=70,PG=85,RG=90,ai=function(t){return t>=w3&&t<=57},DG=function(t){return t>=55296&&t<=57343},qc=function(t){return ai(t)||t>=b3&&t<=_3||t>=y3&&t<=UG},OG=function(t){return t>=y3&&t<=LG},MG=function(t){return t>=b3&&t<=RG},jG=function(t){return OG(t)||MG(t)},HG=function(t){return t>=xG},Lm=function(t){return t===mv||t===aG||t===AG},vv=function(t){return jG(t)||HG(t)||t===dG},QE=function(t){return vv(t)||ai(t)||t===Oi},VG=function(t){return t>=EG&&t<=SG||t===FG||t>=TG&&t<=kG||t===NG},QA=function(t,e){return t!==Jf?!1:e!==mv},Pm=function(t,e,n){return t===Oi?vv(e)||QA(e,n):vv(t)?!0:!!(t===Jf&&QA(t,e))},Ay=function(t,e,n){return t===Iu||t===Oi?ai(e)?!0:e===$p&&ai(n):ai(t===$p?e:t)},KG=function(t){var e=0,n=1;(t[e]===Iu||t[e]===Oi)&&(t[e]===Oi&&(n=-1),e++);for(var r=[];ai(t[e]);)r.push(t[e++]);var i=r.length?parseInt(tr.apply(void 0,r),10):0;t[e]===$p&&e++;for(var s=[];ai(t[e]);)s.push(t[e++]);var o=s.length,a=o?parseInt(tr.apply(void 0,s),10):0;(t[e]===x3||t[e]===B3)&&e++;var A=1;(t[e]===Iu||t[e]===Oi)&&(t[e]===Oi&&(A=-1),e++);for(var l=[];ai(t[e]);)l.push(t[e++]);var u=l.length?parseInt(tr.apply(void 0,l),10):0;return n*(i+a*Math.pow(10,-o))*Math.pow(10,A*u)},zG={type:2},GG={type:3},WG={type:4},qG={type:13},$G={type:8},JG={type:21},YG={type:9},XG={type:10},ZG={type:11},eW={type:12},tW={type:14},Rm={type:23},nW={type:1},rW={type:25},iW={type:24},sW={type:26},oW={type:27},aW={type:28},AW={type:29},lW={type:31},IB={type:32},C3=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Nw(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==IB;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case km:return this.consumeStringToken(km);case lG:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(QE(n)||QA(r,i)){var s=Pm(n,r,i)?oG:sG,o=this.consumeName();return{type:5,value:o,flags:s}}break;case uG:if(this.peekCodePoint(0)===lf)return this.consumeCodePoint(),qG;break;case Nm:return this.consumeStringToken(Nm);case Um:return zG;case uf:return GG;case ay:if(this.peekCodePoint(0)===lf)return this.consumeCodePoint(),tW;break;case Iu:if(Ay(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case _G:return WG;case Oi:var a=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Ay(a,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Pm(a,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===Oi&&l===pG)return this.consumeCodePoint(),this.consumeCodePoint(),iW;break;case $p:if(Ay(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case kE:if(this.peekCodePoint(0)===ay)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===ay&&(u=this.consumeCodePoint(),u===kE))return this.consumeToken();if(u===Eo)return this.consumeToken()}break;case CG:return sW;case IG:return oW;case fG:if(this.peekCodePoint(0)===hG&&this.peekCodePoint(1)===Oi&&this.peekCodePoint(2)===Oi)return this.consumeCodePoint(),this.consumeCodePoint(),rW;break;case gG:var c=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Pm(c,p,g)){var o=this.consumeName();return{type:7,value:o}}break;case mG:return aW;case Jf:if(QA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case vG:return AW;case wG:if(this.peekCodePoint(0)===lf)return this.consumeCodePoint(),$G;break;case yG:return ZG;case BG:return eW;case QG:case PG:var v=this.peekCodePoint(0),b=this.peekCodePoint(1);return v===Iu&&(qc(b)||b===Qm)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case NE:if(this.peekCodePoint(0)===lf)return this.consumeCodePoint(),YG;if(this.peekCodePoint(0)===NE)return this.consumeCodePoint(),JG;break;case bG:if(this.peekCodePoint(0)===lf)return this.consumeCodePoint(),XG;break;case Eo:return IB}return Lm(e)?(this.consumeWhiteSpace(),lW):ai(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):vv(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:tr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();qc(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===Qm&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(tr.apply(void 0,e.map(function(A){return A===Qm?w3:A})),16),s=parseInt(tr.apply(void 0,e.map(function(A){return A===Qm?_3:A})),16);return{type:30,start:i,end:s}}var o=parseInt(tr.apply(void 0,e),16);if(this.peekCodePoint(0)===Oi&&qc(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];qc(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var s=parseInt(tr.apply(void 0,a),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Um?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Um?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Eo)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Nm||n===km){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Eo||this.peekCodePoint(0)===uf)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Rm)}for(;;){var i=this.consumeCodePoint();if(i===Eo||i===uf)return{type:22,value:tr.apply(void 0,e)};if(Lm(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Eo||this.peekCodePoint(0)===uf?(this.consumeCodePoint(),{type:22,value:tr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Rm);if(i===km||i===Nm||i===Um||VG(i))return this.consumeBadUrlRemnants(),Rm;if(i===Jf)if(QA(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Rm;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Lm(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===uf||e===Eo)return;QA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=tr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===Eo||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===mv)return this._value.splice(0,r),nW;if(i===Jf){var s=this._value[r+1];s!==Eo&&s!==void 0&&(s===mv?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):QA(i,s)&&(n+=this.consumeStringSlice(r),n+=tr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Ig,r=this.peekCodePoint(0);for((r===Iu||r===Oi)&&e.push(this.consumeCodePoint());ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===$p&&ai(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=TE;ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===x3||r===B3)&&((i===Iu||i===Oi)&&ai(s)||ai(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=TE;ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[KG(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Pm(i,s,o)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return i===cG?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(qc(e)){for(var n=tr(e);qc(this.peekCodePoint(0))&&n.length<6;)n+=tr(this.consumeCodePoint());Lm(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||DG(r)||r>1114111?UE:r}return e===Eo?UE:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(QE(n))e+=tr(n);else if(QA(n,this.peekCodePoint(0)))e+=tr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),I3=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new C3;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||cW(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?IB:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Eg=function(t){return t.type===15},Ch=function(t){return t.type===17},dn=function(t){return t.type===20},uW=function(t){return t.type===0},EB=function(t,e){return dn(t)&&t.value===e},E3=function(t){return t.type!==31},ah=function(t){return t.type!==31&&t.type!==4},$o=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},cW=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},xl=function(t){return t.type===17||t.type===15},gr=function(t){return t.type===16||xl(t)},S3=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Kr={type:17,number:0,flags:Ig},I_={type:16,number:50,flags:Ig},GA={type:16,number:100,flags:Ig},Ef=function(t,e,n){var r=t[0],i=t[1];return[wn(r,e),wn(typeof i<"u"?i:r,n)]},wn=function(t,e){if(t.type===16)return t.number/100*e;if(Eg(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},F3="deg",T3="grad",k3="rad",N3="turn",Uw={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case F3:return Math.PI*e.number/180;case T3:return Math.PI/200*e.number;case k3:return e.number;case N3:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},U3=function(t){return t.type===15&&(t.unit===F3||t.unit===T3||t.unit===k3||t.unit===N3)},Q3=function(t){var e=t.filter(dn).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kr,Kr];case"to top":case"bottom":return ks(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kr,GA];case"to right":case"left":return ks(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[GA,GA];case"to bottom":case"top":return ks(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[GA,Kr];case"to left":case"right":return ks(270)}return 0},ks=function(t){return Math.PI*t/180},al={name:"color",parse:function(t,e){if(e.type===18){var n=dW[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return WA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return WA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return WA(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return WA(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var a=Ta[e.value.toUpperCase()];if(typeof a<"u")return a}return Ta.TRANSPARENT}},Al=function(t){return(255&t)===0},Fr=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},WA=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},LE=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},PE=function(t,e){var n=e.filter(ah);if(n.length===3){var r=n.map(LE),i=r[0],s=r[1],o=r[2];return WA(i,s,o,1)}if(n.length===4){var a=n.map(LE),i=a[0],s=a[1],o=a[2],A=a[3];return WA(i,s,o,A)}return 0};function ly(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var RE=function(t,e){var n=e.filter(ah),r=n[0],i=n[1],s=n[2],o=n[3],a=(r.type===17?ks(r.number):Uw.parse(t,r))/(Math.PI*2),A=gr(i)?i.number/100:0,l=gr(s)?s.number/100:0,u=typeof o<"u"&&gr(o)?wn(o,1):1;if(A===0)return WA(l*255,l*255,l*255,1);var c=l<=.5?l*(A+1):l+A-l*A,p=l*2-c,g=ly(p,c,a+1/3),v=ly(p,c,a),b=ly(p,c,a-1/3);return WA(g*255,v*255,b*255,u)},dW={hsl:RE,hsla:RE,rgb:PE,rgba:PE},Yf=function(t,e){return al.parse(t,I3.create(e).parseComponentValue())},Ta={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hW={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(dn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fW={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Qw=function(t,e){var n=al.parse(t,e[0]),r=e[1];return r&&gr(r)?{color:n,stop:r}:{color:n,stop:null}},DE=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Kr),r.stop===null&&(r.stop=GA);for(var i=[],s=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var A=wn(a,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var l=null,o=0;o<i.length;o++){var u=i[o];if(u===null)l===null&&(l=o);else if(l!==null){for(var c=o-l,p=i[l-1],g=(u-p)/(c+1),v=1;v<=c;v++)i[l+v-1]=g*v;l=null}}return t.map(function(b,E){var y=b.color;return{color:y,stop:Math.max(Math.min(1,i[E]/e),0)}})},pW=function(t,e,n){var r=e/2,i=n/2,s=wn(t[0],e)-r,o=i-wn(t[1],n);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},gW=function(t,e,n){var r=typeof t=="number"?t:pW(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,o=n/2,a=i/2,A=Math.sin(r-Math.PI/2)*a,l=Math.cos(r-Math.PI/2)*a;return[i,s-l,s+l,o-A,o+A]},Xs=function(t,e){return Math.sqrt(t*t+e*e)},OE=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,a){var A=a[0],l=a[1],u=Xs(n-A,r-l);return(i?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:a,optimumDistance:u}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},mW=function(t,e,n,r,i){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=o=Math.min(Xs(e,n),Xs(e,n-i),Xs(e-r,n),Xs(e-r,n-i));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),A=OE(r,i,e,n,!0),l=A[0],u=A[1];s=Xs(l-e,(u-n)/a),o=a*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=o=Math.max(Xs(e,n),Xs(e,n-i),Xs(e-r,n),Xs(e-r,n-i));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),c=OE(r,i,e,n,!1),l=c[0],u=c[1];s=Xs(l-e,(u-n)/a),o=a*s}break}return Array.isArray(t.size)&&(s=wn(t.size[0],r),o=t.size.length===2?wn(t.size[1],i):s),[s,o]},vW=function(t,e){var n=ks(180),r=[];return $o(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){n=Q3(i);return}else if(U3(o)){n=Uw.parse(t,o);return}}var a=Qw(t,i);r.push(a)}),{angle:n,stops:r,type:1}},Dm=function(t,e){var n=ks(180),r=[];return $o(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=Q3(i);return}else if(U3(o)){n=(Uw.parse(t,o)+ks(270))%ks(360);return}}var a=Qw(t,i);r.push(a)}),{angle:n,stops:r,type:1}},wW=function(t,e){var n=ks(180),r=[],i=1,s=0,o=3,a=[];return $o(e).forEach(function(A,l){var u=A[0];if(l===0){if(dn(u)&&u.value==="linear"){i=1;return}else if(dn(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var c=al.parse(t,u.values[0]);r.push({stop:Kr,color:c})}else if(u.name==="to"){var c=al.parse(t,u.values[0]);r.push({stop:GA,color:c})}else if(u.name==="color-stop"){var p=u.values.filter(ah);if(p.length===2){var c=al.parse(t,p[1]),g=p[0];Ch(g)&&r.push({stop:{type:16,number:g.number*100,flags:g.flags},color:c})}}}}),i===1?{angle:(n+ks(180))%ks(360),stops:r,type:i}:{size:o,shape:s,stops:r,position:a,type:i}},L3="closest-side",P3="farthest-side",R3="closest-corner",D3="farthest-corner",O3="circle",M3="ellipse",j3="cover",H3="contain",yW=function(t,e){var n=0,r=3,i=[],s=[];return $o(e).forEach(function(o,a){var A=!0;if(a===0){var l=!1;A=o.reduce(function(c,p){if(l)if(dn(p))switch(p.value){case"center":return s.push(I_),c;case"top":case"left":return s.push(Kr),c;case"right":case"bottom":return s.push(GA),c}else(gr(p)||xl(p))&&s.push(p);else if(dn(p))switch(p.value){case O3:return n=0,!1;case M3:return n=1,!1;case"at":return l=!0,!1;case L3:return r=0,!1;case j3:case P3:return r=1,!1;case H3:case R3:return r=2,!1;case D3:return r=3,!1}else if(xl(p)||gr(p))return Array.isArray(r)||(r=[]),r.push(p),!1;return c},A)}if(A){var u=Qw(t,o);i.push(u)}}),{size:r,shape:n,stops:i,position:s,type:2}},Om=function(t,e){var n=0,r=3,i=[],s=[];return $o(e).forEach(function(o,a){var A=!0;if(a===0?A=o.reduce(function(u,c){if(dn(c))switch(c.value){case"center":return s.push(I_),!1;case"top":case"left":return s.push(Kr),!1;case"right":case"bottom":return s.push(GA),!1}else if(gr(c)||xl(c))return s.push(c),!1;return u},A):a===1&&(A=o.reduce(function(u,c){if(dn(c))switch(c.value){case O3:return n=0,!1;case M3:return n=1,!1;case H3:case L3:return r=0,!1;case P3:return r=1,!1;case R3:return r=2,!1;case j3:case D3:return r=3,!1}else if(xl(c)||gr(c))return Array.isArray(r)||(r=[]),r.push(c),!1;return u},A)),A){var l=Qw(t,o);i.push(l)}}),{size:r,shape:n,stops:i,position:s,type:2}},BW=function(t){return t.type===1},bW=function(t){return t.type===2},E_={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=V3[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function xW(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!V3[t.name])}var V3={"linear-gradient":vW,"-moz-linear-gradient":Dm,"-ms-linear-gradient":Dm,"-o-linear-gradient":Dm,"-webkit-linear-gradient":Dm,"radial-gradient":yW,"-moz-radial-gradient":Om,"-ms-radial-gradient":Om,"-o-radial-gradient":Om,"-webkit-radial-gradient":Om,"-webkit-gradient":wW},_W={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return ah(r)&&xW(r)}).map(function(r){return E_.parse(t,r)})}},CW={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(dn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},IW={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return $o(e).map(function(n){return n.filter(gr)}).map(S3)}},EW={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return $o(e).map(function(n){return n.filter(dn).map(function(r){return r.value}).join(" ")}).map(SW)}},SW=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ld;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Ld||(Ld={}));var FW={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return $o(e).map(function(n){return n.filter(TW)})}},TW=function(t){return dn(t)||gr(t)},Lw=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},kW=Lw("top"),NW=Lw("right"),UW=Lw("bottom"),QW=Lw("left"),Pw=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return S3(n.filter(gr))}}},LW=Pw("top-left"),PW=Pw("top-right"),RW=Pw("bottom-right"),DW=Pw("bottom-left"),Rw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},OW=Rw("top"),MW=Rw("right"),jW=Rw("bottom"),HW=Rw("left"),Dw=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Eg(n)?n.number:0}}},VW=Dw("top"),KW=Dw("right"),zW=Dw("bottom"),GW=Dw("left"),WW={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qW={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},$W={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(dn).reduce(function(n,r){return n|JW(r.value)},0)}},JW=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},YW={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},XW={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},wv;(function(t){t.NORMAL="normal",t.STRICT="strict"})(wv||(wv={}));var ZW={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return wv.STRICT;case"normal":default:return wv.NORMAL}}},eq={name:"line-height",initialValue:"normal",prefix:!1,type:4},ME=function(t,e){return dn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:gr(t)?wn(t,e):e},tq={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:E_.parse(t,e)}},nq={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},SB={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ow=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},rq=Ow("top"),iq=Ow("right"),sq=Ow("bottom"),oq=Ow("left"),aq={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(dn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Aq={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Mw=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lq=Mw("top"),uq=Mw("right"),cq=Mw("bottom"),dq=Mw("left"),hq={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},fq={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},pq={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&EB(e[0],"none")?[]:$o(e).map(function(n){for(var r={color:Ta.TRANSPARENT,offsetX:Kr,offsetY:Kr,blur:Kr},i=0,s=0;s<n.length;s++){var o=n[s];xl(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=al.parse(t,o)}return r})}},gq={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},mq={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=yq[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},vq=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},wq=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,i,s,o,a]:null},yq={matrix:vq,matrix3d:wq},jE={type:16,number:50,flags:Ig},Bq=[jE,jE],bq={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(gr);return n.length!==2?Bq:[n[0],n[1]]}},xq={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Xf;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Xf||(Xf={}));var _q={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Xf.BREAK_ALL;case"keep-all":return Xf.KEEP_ALL;case"normal":default:return Xf.NORMAL}}},Cq={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Ch(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},K3={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Iq={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Ch(e)?e.number:1}},Eq={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Sq={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(dn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Fq={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Tq={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},kq={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Ch(e))return e.number;if(dn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Nq={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(dn).map(function(n){return n.value})}},Uq={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},xr=function(t,e){return(t&e)!==0},Qq={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},Lq={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(E3),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(o.type===20){var A=a&&Ch(a)?a.number:1;r.push({counter:o.value,increment:A})}}return r}},Pq={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(E3),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(dn(s)&&s.value!=="none"){var a=o&&Ch(o)?o.number:0;n.push({counter:s.value,reset:a})}}return n}},Rq={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Eg).map(function(n){return K3.parse(t,n)})}},Dq={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(uW);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;r.push({open:o,close:a})}return r}},HE=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Oq={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&EB(e[0],"none")?[]:$o(e).map(function(n){for(var r={color:255,offsetX:Kr,offsetY:Kr,blur:Kr,spread:Kr,inset:!1},i=0,s=0;s<n.length;s++){var o=n[s];EB(o,"inset")?r.inset=!0:xl(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=al.parse(t,o)}return r})}},Mq={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(dn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},jq={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Hq={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Eg(e)?e.number:0}},Vq=function(){function t(e,n){var r,i;this.animationDuration=pt(e,Rq,n.animationDuration),this.backgroundClip=pt(e,hW,n.backgroundClip),this.backgroundColor=pt(e,fW,n.backgroundColor),this.backgroundImage=pt(e,_W,n.backgroundImage),this.backgroundOrigin=pt(e,CW,n.backgroundOrigin),this.backgroundPosition=pt(e,IW,n.backgroundPosition),this.backgroundRepeat=pt(e,EW,n.backgroundRepeat),this.backgroundSize=pt(e,FW,n.backgroundSize),this.borderTopColor=pt(e,kW,n.borderTopColor),this.borderRightColor=pt(e,NW,n.borderRightColor),this.borderBottomColor=pt(e,UW,n.borderBottomColor),this.borderLeftColor=pt(e,QW,n.borderLeftColor),this.borderTopLeftRadius=pt(e,LW,n.borderTopLeftRadius),this.borderTopRightRadius=pt(e,PW,n.borderTopRightRadius),this.borderBottomRightRadius=pt(e,RW,n.borderBottomRightRadius),this.borderBottomLeftRadius=pt(e,DW,n.borderBottomLeftRadius),this.borderTopStyle=pt(e,OW,n.borderTopStyle),this.borderRightStyle=pt(e,MW,n.borderRightStyle),this.borderBottomStyle=pt(e,jW,n.borderBottomStyle),this.borderLeftStyle=pt(e,HW,n.borderLeftStyle),this.borderTopWidth=pt(e,VW,n.borderTopWidth),this.borderRightWidth=pt(e,KW,n.borderRightWidth),this.borderBottomWidth=pt(e,zW,n.borderBottomWidth),this.borderLeftWidth=pt(e,GW,n.borderLeftWidth),this.boxShadow=pt(e,Oq,n.boxShadow),this.color=pt(e,WW,n.color),this.direction=pt(e,qW,n.direction),this.display=pt(e,$W,n.display),this.float=pt(e,YW,n.cssFloat),this.fontFamily=pt(e,Fq,n.fontFamily),this.fontSize=pt(e,Tq,n.fontSize),this.fontStyle=pt(e,Uq,n.fontStyle),this.fontVariant=pt(e,Nq,n.fontVariant),this.fontWeight=pt(e,kq,n.fontWeight),this.letterSpacing=pt(e,XW,n.letterSpacing),this.lineBreak=pt(e,ZW,n.lineBreak),this.lineHeight=pt(e,eq,n.lineHeight),this.listStyleImage=pt(e,tq,n.listStyleImage),this.listStylePosition=pt(e,nq,n.listStylePosition),this.listStyleType=pt(e,SB,n.listStyleType),this.marginTop=pt(e,rq,n.marginTop),this.marginRight=pt(e,iq,n.marginRight),this.marginBottom=pt(e,sq,n.marginBottom),this.marginLeft=pt(e,oq,n.marginLeft),this.opacity=pt(e,Iq,n.opacity);var s=pt(e,aq,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=pt(e,Aq,n.overflowWrap),this.paddingTop=pt(e,lq,n.paddingTop),this.paddingRight=pt(e,uq,n.paddingRight),this.paddingBottom=pt(e,cq,n.paddingBottom),this.paddingLeft=pt(e,dq,n.paddingLeft),this.paintOrder=pt(e,Mq,n.paintOrder),this.position=pt(e,fq,n.position),this.textAlign=pt(e,hq,n.textAlign),this.textDecorationColor=pt(e,Eq,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=pt(e,Sq,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=pt(e,pq,n.textShadow),this.textTransform=pt(e,gq,n.textTransform),this.transform=pt(e,mq,n.transform),this.transformOrigin=pt(e,bq,n.transformOrigin),this.visibility=pt(e,xq,n.visibility),this.webkitTextStrokeColor=pt(e,jq,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=pt(e,Hq,n.webkitTextStrokeWidth),this.wordBreak=pt(e,_q,n.wordBreak),this.zIndex=pt(e,Cq,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Al(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return xr(this.display,4)||xr(this.display,33554432)||xr(this.display,268435456)||xr(this.display,536870912)||xr(this.display,67108864)||xr(this.display,134217728)},t}(),Kq=function(){function t(e,n){this.content=pt(e,Qq,n.content),this.quotes=pt(e,Dq,n.quotes)}return t}(),VE=function(){function t(e,n){this.counterIncrement=pt(e,Lq,n.counterIncrement),this.counterReset=pt(e,Pq,n.counterReset)}return t}(),pt=function(t,e,n){var r=new C3,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new I3(r.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,dn(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Uw.parse(t,s.parseComponentValue());case"color":return al.parse(t,s.parseComponentValue());case"image":return E_.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return xl(a)?a:Kr;case"length-percentage":var A=s.parseComponentValue();return gr(A)?A:Kr;case"time":return K3.parse(t,s.parseComponentValue())}break}},zq="data-html2canvas-debug",Gq=function(t){var e=t.getAttribute(zq);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},FB=function(t,e){var n=Gq(t);return n===1||e===n},Jo=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,FB(n,3))debugger;this.styles=new Vq(e,window.getComputedStyle(n,null)),NB(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=kw(this.context,n),FB(n,4)&&(this.flags|=16)}return t}(),Wq="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",KE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mm=0;Mm<KE.length;Mm++)Sf[KE.charCodeAt(Mm)]=Mm;var qq=function(t){var e=t.length*.75,n=t.length,r,i=0,s,o,a,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)s=Sf[t.charCodeAt(r)],o=Sf[t.charCodeAt(r+1)],a=Sf[t.charCodeAt(r+2)],A=Sf[t.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|A&63;return l},$q=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Jq=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Lu=5,S_=11,uy=2,Yq=S_-Lu,z3=65536>>Lu,Xq=1<<Lu,cy=Xq-1,Zq=1024>>Lu,e$=z3+Zq,t$=e$,n$=32,r$=t$+n$,i$=65536>>S_,s$=1<<Yq,o$=s$-1,zE=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},a$=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},A$=function(t,e){var n=qq(t),r=Array.isArray(n)?Jq(n):new Uint32Array(n),i=Array.isArray(n)?$q(n):new Uint16Array(n),s=24,o=zE(i,s/2,r[4]/2),a=r[5]===2?zE(i,(s+r[4])/2):a$(r,Math.ceil((s+r[4])/4));return new l$(r[0],r[1],r[2],r[3],o,a)},l$=function(){function t(e,n,r,i,s,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Lu],n=(n<<uy)+(e&cy),this.data[n];if(e<=65535)return n=this.index[z3+(e-55296>>Lu)],n=(n<<uy)+(e&cy),this.data[n];if(e<this.highStart)return n=r$-i$+(e>>S_),n=this.index[n],n+=e>>Lu&o$,n=this.index[n],n=(n<<uy)+(e&cy),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),GE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u$=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jm=0;jm<GE.length;jm++)u$[GE.charCodeAt(jm)]=jm;var c$=1,dy=2,hy=3,WE=4,qE=5,d$=7,$E=8,fy=9,py=10,JE=11,YE=12,XE=13,ZE=14,gy=15,h$=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},f$=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},p$=A$(Wq),Cs="",my="",g$=function(t){return p$.get(t)},m$=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],o=e[n];if(s===dy&&o===hy)return Cs;if(s===dy||s===hy||s===WE||o===dy||o===hy||o===WE)return my;if(s===$E&&[$E,fy,JE,YE].indexOf(o)!==-1||(s===JE||s===fy)&&(o===fy||o===py)||(s===YE||s===py)&&o===py||o===XE||o===qE||o===d$||s===c$)return Cs;if(s===XE&&o===ZE){for(;i===qE;)i=e[--r];if(i===ZE)return Cs}if(s===gy&&o===gy){for(var a=0;i===gy;)a++,i=e[--r];if(a%2===0)return Cs}return my},v$=function(t){var e=h$(t),n=e.length,r=0,i=0,s=e.map(g$);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=Cs;r<n&&(o=m$(e,s,++r))===Cs;);if(o!==Cs||r===n){var a=f$.apply(null,e.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},w$=function(t){for(var e=v$(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},y$=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},B$=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=Nw(r.data).map(function(A){return tr(A)}),s=0,o={},a=i.every(function(A,l){n.setStart(r,s),n.setEnd(r,s+A.length);var u=n.getBoundingClientRect();s+=A.length;var c=u.x>o.x||u.y>o.y;return o=u,l===0?!0:c});return t.body.removeChild(e),a},b$=function(){return typeof new Image().crossOrigin<"u"},x$=function(){return typeof new XMLHttpRequest().responseType=="string"},_$=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},e4=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},C$=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var o=TB(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),t4(o).then(function(a){r.drawImage(a,0,0);var A=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=n+"px",e4(A)?t4(TB(n,n,0,0,l)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),e4(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},TB=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},t4=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Mr={get SUPPORT_RANGE_BOUNDS(){var t=y$(document);return Object.defineProperty(Mr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Mr.SUPPORT_RANGE_BOUNDS&&B$(document);return Object.defineProperty(Mr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=_$(document);return Object.defineProperty(Mr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?C$(document):Promise.resolve(!1);return Object.defineProperty(Mr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=b$();return Object.defineProperty(Mr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=x$();return Object.defineProperty(Mr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Mr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Mr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Zf=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),I$=function(t,e,n,r){var i=F$(e,n),s=[],o=0;return i.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(Mr.SUPPORT_RANGE_BOUNDS){var A=n4(r,o,a.length).getClientRects();if(A.length>1){var l=F_(a),u=0;l.forEach(function(p){s.push(new Zf(p,Oa.fromDOMRectList(t,n4(r,u+o,p.length).getClientRects()))),u+=p.length})}else s.push(new Zf(a,Oa.fromDOMRectList(t,A)))}else{var c=r.splitText(a.length);s.push(new Zf(a,E$(t,r))),r=c}else Mr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));o+=a.length}),s},E$=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=kw(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Oa.EMPTY},n4=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},F_=function(t){if(Mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return w$(t)},S$=function(t,e){if(Mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return k$(t,e)},F$=function(t,e){return e.letterSpacing!==0?F_(t):S$(t,e)},T$=[32,160,4961,65792,65793,4153,4241],k$=function(t,e){for(var n=iG(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var o=i.value.slice(),a=Nw(o),A="";a.forEach(function(l){T$.indexOf(l)===-1?A+=tr(l):(A.length&&r.push(A),r.push(tr(l)),A="")}),A.length&&r.push(A)}};!(i=n.next()).done;)s();return r},N$=function(){function t(e,n,r){this.text=U$(n.data,r.textTransform),this.textBounds=I$(e,this.text,r,n)}return t}(),U$=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Q$,L$);case 2:return t.toUpperCase();default:return t}},Q$=/(^|\s|:|-|\(|\))([a-z])/g,L$=function(t,e,n){return t.length>0?e+n.toUpperCase():t},G3=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Jo),W3=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(Jo),q3=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,o=kw(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Jo),$3=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Jo),kB=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(Jo),P$=[{type:15,flags:0,unit:"px",number:3}],R$=[{type:16,flags:0,number:50}],D$=function(t){return t.width>t.height?new Oa(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Oa(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},O$=function(t){var e=t.type===M$?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},yv="checkbox",Bv="radio",M$="password",r4=707406591,T_=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=O$(r),(i.type===yv||i.type===Bv)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=D$(i.bounds)),i.type){case yv:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=P$;break;case Bv:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=R$;break}return i}return e}(Jo),J3=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Jo),Y3=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Jo),X3=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=eQ(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?Yf(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Ta.TRANSPARENT,o=r.contentWindow.document.body?Yf(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Ta.TRANSPARENT;i.backgroundColor=Al(s)?Al(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e}(Jo),j$=["OL","UL","MENU"],x0=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,tQ(i)&&i.data.trim().length>0)n.textNodes.push(new N$(t,i,n.styles));else if(bd(i))if(sQ(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return x0(t,a,n,r)});else{var o=Z3(t,i);o.styles.isVisible()&&(H$(i,o,r)?o.flags|=4:V$(o.styles)&&(o.flags|=2),j$.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?x0(t,i.shadowRoot,o,r):!bv(i)&&!nQ(i)&&!xv(i)&&x0(t,i,o,r))}},Z3=function(t,e){return UB(e)?new G3(t,e):rQ(e)?new W3(t,e):nQ(e)?new q3(t,e):K$(e)?new $3(t,e):z$(e)?new kB(t,e):G$(e)?new T_(t,e):xv(e)?new J3(t,e):bv(e)?new Y3(t,e):iQ(e)?new X3(t,e):new Jo(t,e)},eQ=function(t,e){var n=Z3(t,e);return n.flags|=4,x0(t,e,n,n),n},H$=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||k_(t)&&n.styles.isTransparent()},V$=function(t){return t.isPositioned()||t.isFloating()},tQ=function(t){return t.nodeType===Node.TEXT_NODE},bd=function(t){return t.nodeType===Node.ELEMENT_NODE},NB=function(t){return bd(t)&&typeof t.style<"u"&&!_0(t)},_0=function(t){return typeof t.className=="object"},K$=function(t){return t.tagName==="LI"},z$=function(t){return t.tagName==="OL"},G$=function(t){return t.tagName==="INPUT"},W$=function(t){return t.tagName==="HTML"},nQ=function(t){return t.tagName==="svg"},k_=function(t){return t.tagName==="BODY"},rQ=function(t){return t.tagName==="CANVAS"},i4=function(t){return t.tagName==="VIDEO"},UB=function(t){return t.tagName==="IMG"},iQ=function(t){return t.tagName==="IFRAME"},s4=function(t){return t.tagName==="STYLE"},q$=function(t){return t.tagName==="SCRIPT"},bv=function(t){return t.tagName==="TEXTAREA"},xv=function(t){return t.tagName==="SELECT"},sQ=function(t){return t.tagName==="SLOT"},o4=function(t){return t.tagName.indexOf("-")>0},$$=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(a){var A=n.counters[a.counter];A&&a.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=a.increment)});var o=[];return s&&i.forEach(function(a){var A=n.counters[a.counter];o.push(a.counter),A||(A=n.counters[a.counter]=[]),A.push(a.reset)}),o},t}(),a4={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},A4={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},J$={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Y$={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$c=function(t,e,n,r,i,s){return t<e||t>n?Jp(t,i,s.length>0):r.integers.reduce(function(o,a,A){for(;t>=a;)t-=a,o+=r.values[A];return o},"")+s},oQ=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},er=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(oQ(Math.abs(t),s,r,function(o){return tr(Math.floor(o%s)+e)})+i)},su=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return oQ(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},sd=1,TA=2,kA=4,Ff=8,ma=function(t,e,n,r,i,s){if(t<-9999||t>9999)return Jp(t,4,i.length>0);var o=Math.abs(t),a=i;if(o===0)return e[0]+a;for(var A=0;o>0&&A<=4;A++){var l=o%10;l===0&&xr(s,sd)&&a!==""?a=e[l]+a:l>1||l===1&&A===0||l===1&&A===1&&xr(s,TA)||l===1&&A===1&&xr(s,kA)&&t>100||l===1&&A>1&&xr(s,Ff)?a=e[l]+(A>0?n[A-1]:"")+a:l===1&&A>0&&(a=n[A-1]+a),o=Math.floor(o/10)}return(t<0?r:"")+a},l4="",u4="",c4="",vy="",Jp=function(t,e,n){var r=n?". ":"",i=n?"":"",s=n?", ":"",o=n?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var a=er(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return su(t,"",i);case 6:return $c(t,1,3999,a4,3,r).toLowerCase();case 7:return $c(t,1,3999,a4,3,r);case 8:return er(t,945,969,!1,r);case 9:return er(t,97,122,!1,r);case 10:return er(t,65,90,!1,r);case 11:return er(t,1632,1641,!0,r);case 12:case 49:return $c(t,1,9999,A4,3,r);case 35:return $c(t,1,9999,A4,3,r).toLowerCase();case 13:return er(t,2534,2543,!0,r);case 14:case 30:return er(t,6112,6121,!0,r);case 15:return su(t,"",i);case 16:return su(t,"",i);case 17:case 48:return ma(t,"",l4,"",i,TA|kA|Ff);case 47:return ma(t,"",u4,"",i,sd|TA|kA|Ff);case 42:return ma(t,"",l4,"",i,TA|kA|Ff);case 41:return ma(t,"",u4,"",i,sd|TA|kA|Ff);case 26:return ma(t,"","",c4,i,0);case 25:return ma(t,"","",c4,i,sd|TA|kA);case 31:return ma(t,"","",vy,s,sd|TA|kA);case 33:return ma(t,"","",vy,s,0);case 32:return ma(t,"","",vy,s,sd|TA|kA);case 18:return er(t,2406,2415,!0,r);case 20:return $c(t,1,19999,Y$,3,r);case 21:return er(t,2790,2799,!0,r);case 22:return er(t,2662,2671,!0,r);case 22:return $c(t,1,10999,J$,3,r);case 23:return su(t,"");case 24:return su(t,"");case 27:return er(t,3302,3311,!0,r);case 28:return su(t,"",i);case 29:return su(t,"",i);case 34:return er(t,3792,3801,!0,r);case 37:return er(t,6160,6169,!0,r);case 38:return er(t,4160,4169,!0,r);case 39:return er(t,2918,2927,!0,r);case 40:return er(t,1776,1785,!0,r);case 43:return er(t,3046,3055,!0,r);case 44:return er(t,3174,3183,!0,r);case 45:return er(t,3664,3673,!0,r);case 46:return er(t,3872,3881,!0,r);case 3:default:return er(t,48,57,!0,r)}},aQ="data-html2canvas-ignore",d4=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new $$,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=X$(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=i.contentWindow,A=a.document,l=tJ(i).then(function(){return vi(r,void 0,void 0,function(){var u,c;return oi(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(sJ),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),u=this.options.onclone,c=this.clonedReferenceElement,typeof c>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,eJ(A)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(A,c)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(rJ(document.doctype)+"<html></html>"),iJ(this.referenceElement.ownerDocument,s,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(FB(e,2))debugger;if(rQ(e))return this.createCanvasClone(e);if(i4(e))return this.createVideoClone(e);if(s4(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return UB(n)&&(UB(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),o4(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return wy(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var A=a.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!bd(n)||!q$(n)&&!n.hasAttribute(aQ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!bd(n)||!s4(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(bd(s)&&sQ(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(a){return i.appendChildNode(n,a,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(tQ(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&bd(e)&&(NB(e)||_0(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&NB(i)&&(this.clonedReferenceElement=i),k_(i)&&AJ(i);var A=this.counters.parse(new VE(this.context,s)),l=this.resolvePseudoContent(e,i,o,ep.BEFORE);o4(e)&&(n=!0),i4(e)||this.cloneChildNodes(e,i,n),l&&i.insertBefore(l,i.firstChild);var u=this.resolvePseudoContent(e,i,a,ep.AFTER);return u&&i.appendChild(u),this.counters.pop(A),(s&&(this.options.copyStyles||_0(e))&&!iQ(e)||n)&&wy(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(bv(e)||xv(e))&&(bv(i)||xv(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var o=r.content,a=n.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new VE(this.context,r));var A=new Kq(this.context,r),l=a.createElement("html2canvaspseudoelement");wy(r,l),A.content.forEach(function(c){if(c.type===0)l.appendChild(a.createTextNode(c.value));else if(c.type===22){var p=a.createElement("img");p.src=c.value,p.style.opacity="1",l.appendChild(p)}else if(c.type===18){if(c.name==="attr"){var g=c.values.filter(dn);g.length&&l.appendChild(a.createTextNode(e.getAttribute(g[0].value)||""))}else if(c.name==="counter"){var v=c.values.filter(ah),b=v[0],E=v[1];if(b&&dn(b)){var y=s.counters.getCounterValue(b.value),w=E&&dn(E)?SB.parse(s.context,E.value):3;l.appendChild(a.createTextNode(Jp(y,w,!1)))}}else if(c.name==="counters"){var x=c.values.filter(ah),b=x[0],U=x[1],E=x[2];if(b&&dn(b)){var P=s.counters.getCounterValues(b.value),M=E&&dn(E)?SB.parse(s.context,E.value):3,S=U&&U.type===0?U.value:"",_=P.map(function(I){return Jp(I,M,!1)}).join(S);l.appendChild(a.createTextNode(_))}}}else if(c.type===20)switch(c.value){case"open-quote":l.appendChild(a.createTextNode(HE(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(HE(A.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(c.value))}}),l.className=QB+" "+LB;var u=i===ep.BEFORE?" "+QB:" "+LB;return _0(n)?n.className.baseValue+=u:n.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),ep;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(ep||(ep={}));var X$=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(aQ,"true"),t.body.appendChild(n),n},Z$=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},eJ=function(t){return Promise.all([].slice.call(t.images,0).map(Z$))},tJ=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},nJ=["all","d","content"],wy=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);nJ.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},rJ=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},iJ=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},sJ=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},oJ=":before",aJ=":after",QB="___html2canvas___pseudoelement_before",LB="___html2canvas___pseudoelement_after",h4=`{
    content: "" !important;
    display: none !important;
}`,AJ=function(t){lJ(t,"."+QB+oJ+h4+`
         .`+LB+aJ+h4)},lJ=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},AQ=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),uJ=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(By(e)||fJ(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return vi(this,void 0,void 0,function(){var n,r,i,s,o=this;return oi(this,function(a){switch(a.label){case 0:return n=AQ.isSameOrigin(e),r=!yy(e)&&this._options.useCORS===!0&&Mr.SUPPORT_CORS_IMAGES&&!n,i=!yy(e)&&!n&&!By(e)&&typeof this._options.proxy=="string"&&Mr.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!yy(e)&&!By(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var u=new Image;u.onload=function(){return A(u)},u.onerror=l,(pJ(s)||r)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return A(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var a=Mr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(a==="text")s(A.response);else{var c=new FileReader;c.addEventListener("load",function(){return s(c.result)},!1),c.addEventListener("error",function(p){return o(p)},!1),c.readAsDataURL(A.response)}else o("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=o;var l=r.indexOf("?")>-1?"&":"?";if(A.open("GET",""+r+l+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=a),n._options.imageTimeout){var u=n._options.imageTimeout;A.timeout=u,A.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+i)}}A.send()})},t}(),cJ=/^data:image\/svg\+xml/i,dJ=/^data:image\/.*;base64,/i,hJ=/^data:image\/.*/i,fJ=function(t){return Mr.SUPPORT_SVG_DRAWING||!gJ(t)},yy=function(t){return hJ.test(t)},pJ=function(t){return dJ.test(t)},By=function(t){return t.substr(0,4)==="blob"},gJ=function(t){return t.substr(-3).toLowerCase()==="svg"||cJ.test(t)},ht=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Jc=function(t,e,n){return new ht(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Hm=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=Jc(this.start,this.startControl,e),i=Jc(this.startControl,this.endControl,e),s=Jc(this.endControl,this.end,e),o=Jc(r,i,e),a=Jc(i,s,e),A=Jc(o,a,e);return n?new t(this.start,r,o,A):new t(A,a,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ss=function(t){return t.type===1},mJ=function(){function t(e){var n=e.styles,r=e.bounds,i=Ef(n.borderTopLeftRadius,r.width,r.height),s=i[0],o=i[1],a=Ef(n.borderTopRightRadius,r.width,r.height),A=a[0],l=a[1],u=Ef(n.borderBottomRightRadius,r.width,r.height),c=u[0],p=u[1],g=Ef(n.borderBottomLeftRadius,r.width,r.height),v=g[0],b=g[1],E=[];E.push((s+A)/r.width),E.push((v+c)/r.width),E.push((o+b)/r.height),E.push((l+p)/r.height);var y=Math.max.apply(Math,E);y>1&&(s/=y,o/=y,A/=y,l/=y,c/=y,p/=y,v/=y,b/=y);var w=r.width-A,x=r.height-p,U=r.width-c,P=r.height-b,M=n.borderTopWidth,S=n.borderRightWidth,_=n.borderBottomWidth,N=n.borderLeftWidth,O=wn(n.paddingTop,e.bounds.width),I=wn(n.paddingRight,e.bounds.width),T=wn(n.paddingBottom,e.bounds.width),k=wn(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?Sn(r.left+N/3,r.top+M/3,s-N/3,o-M/3,rn.TOP_LEFT):new ht(r.left+N/3,r.top+M/3),this.topRightBorderDoubleOuterBox=s>0||o>0?Sn(r.left+w,r.top+M/3,A-S/3,l-M/3,rn.TOP_RIGHT):new ht(r.left+r.width-S/3,r.top+M/3),this.bottomRightBorderDoubleOuterBox=c>0||p>0?Sn(r.left+U,r.top+x,c-S/3,p-_/3,rn.BOTTOM_RIGHT):new ht(r.left+r.width-S/3,r.top+r.height-_/3),this.bottomLeftBorderDoubleOuterBox=v>0||b>0?Sn(r.left+N/3,r.top+P,v-N/3,b-_/3,rn.BOTTOM_LEFT):new ht(r.left+N/3,r.top+r.height-_/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?Sn(r.left+N*2/3,r.top+M*2/3,s-N*2/3,o-M*2/3,rn.TOP_LEFT):new ht(r.left+N*2/3,r.top+M*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?Sn(r.left+w,r.top+M*2/3,A-S*2/3,l-M*2/3,rn.TOP_RIGHT):new ht(r.left+r.width-S*2/3,r.top+M*2/3),this.bottomRightBorderDoubleInnerBox=c>0||p>0?Sn(r.left+U,r.top+x,c-S*2/3,p-_*2/3,rn.BOTTOM_RIGHT):new ht(r.left+r.width-S*2/3,r.top+r.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||b>0?Sn(r.left+N*2/3,r.top+P,v-N*2/3,b-_*2/3,rn.BOTTOM_LEFT):new ht(r.left+N*2/3,r.top+r.height-_*2/3),this.topLeftBorderStroke=s>0||o>0?Sn(r.left+N/2,r.top+M/2,s-N/2,o-M/2,rn.TOP_LEFT):new ht(r.left+N/2,r.top+M/2),this.topRightBorderStroke=s>0||o>0?Sn(r.left+w,r.top+M/2,A-S/2,l-M/2,rn.TOP_RIGHT):new ht(r.left+r.width-S/2,r.top+M/2),this.bottomRightBorderStroke=c>0||p>0?Sn(r.left+U,r.top+x,c-S/2,p-_/2,rn.BOTTOM_RIGHT):new ht(r.left+r.width-S/2,r.top+r.height-_/2),this.bottomLeftBorderStroke=v>0||b>0?Sn(r.left+N/2,r.top+P,v-N/2,b-_/2,rn.BOTTOM_LEFT):new ht(r.left+N/2,r.top+r.height-_/2),this.topLeftBorderBox=s>0||o>0?Sn(r.left,r.top,s,o,rn.TOP_LEFT):new ht(r.left,r.top),this.topRightBorderBox=A>0||l>0?Sn(r.left+w,r.top,A,l,rn.TOP_RIGHT):new ht(r.left+r.width,r.top),this.bottomRightBorderBox=c>0||p>0?Sn(r.left+U,r.top+x,c,p,rn.BOTTOM_RIGHT):new ht(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=v>0||b>0?Sn(r.left,r.top+P,v,b,rn.BOTTOM_LEFT):new ht(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||o>0?Sn(r.left+N,r.top+M,Math.max(0,s-N),Math.max(0,o-M),rn.TOP_LEFT):new ht(r.left+N,r.top+M),this.topRightPaddingBox=A>0||l>0?Sn(r.left+Math.min(w,r.width-S),r.top+M,w>r.width+S?0:Math.max(0,A-S),Math.max(0,l-M),rn.TOP_RIGHT):new ht(r.left+r.width-S,r.top+M),this.bottomRightPaddingBox=c>0||p>0?Sn(r.left+Math.min(U,r.width-N),r.top+Math.min(x,r.height-_),Math.max(0,c-S),Math.max(0,p-_),rn.BOTTOM_RIGHT):new ht(r.left+r.width-S,r.top+r.height-_),this.bottomLeftPaddingBox=v>0||b>0?Sn(r.left+N,r.top+Math.min(P,r.height-_),Math.max(0,v-N),Math.max(0,b-_),rn.BOTTOM_LEFT):new ht(r.left+N,r.top+r.height-_),this.topLeftContentBox=s>0||o>0?Sn(r.left+N+k,r.top+M+O,Math.max(0,s-(N+k)),Math.max(0,o-(M+O)),rn.TOP_LEFT):new ht(r.left+N+k,r.top+M+O),this.topRightContentBox=A>0||l>0?Sn(r.left+Math.min(w,r.width+N+k),r.top+M+O,w>r.width+N+k?0:A-N+k,l-(M+O),rn.TOP_RIGHT):new ht(r.left+r.width-(S+I),r.top+M+O),this.bottomRightContentBox=c>0||p>0?Sn(r.left+Math.min(U,r.width-(N+k)),r.top+Math.min(x,r.height+M+O),Math.max(0,c-(S+I)),p-(_+T),rn.BOTTOM_RIGHT):new ht(r.left+r.width-(S+I),r.top+r.height-(_+T)),this.bottomLeftContentBox=v>0||b>0?Sn(r.left+N+k,r.top+P,Math.max(0,v-(N+k)),b-(_+T),rn.BOTTOM_LEFT):new ht(r.left+N+k,r.top+r.height-(_+T))}return t}(),rn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(rn||(rn={}));var Sn=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),o=n*s,a=r*s,A=t+n,l=e+r;switch(i){case rn.TOP_LEFT:return new Hm(new ht(t,l),new ht(t,l-a),new ht(A-o,e),new ht(A,e));case rn.TOP_RIGHT:return new Hm(new ht(t,e),new ht(t+o,e),new ht(A,l-a),new ht(A,l));case rn.BOTTOM_RIGHT:return new Hm(new ht(A,e),new ht(A,e+a),new ht(t+o,l),new ht(t,l));case rn.BOTTOM_LEFT:default:return new Hm(new ht(A,l),new ht(A-o,l),new ht(t,e+a),new ht(t,e))}},_v=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},vJ=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Cv=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},wJ=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),Vm=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),yJ=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),BJ=function(t){return t.type===0},lQ=function(t){return t.type===1},bJ=function(t){return t.type===2},f4=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},xJ=function(t,e,n,r,i){return t.map(function(s,o){switch(o){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},uQ=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),cQ=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new mJ(this.container),this.container.styles.opacity<1&&this.effects.push(new yJ(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new wJ(r,i,s))}if(this.container.styles.overflowX!==0){var o=_v(this.curves),a=Cv(this.curves);f4(o,a)?this.effects.push(new Vm(o,6)):(this.effects.push(new Vm(o,2)),this.effects.push(new Vm(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(A){return!lQ(A)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=_v(r.curves),a=Cv(r.curves);f4(o,a)||i.unshift(new Vm(a,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(A){return xr(A.target,e)})},t}(),PB=function(t,e,n,r){t.container.elements.forEach(function(i){var s=xr(i.flags,4),o=xr(i.flags,2),a=new cQ(i,t);xr(i.styles.display,2048)&&r.push(a);var A=xr(i.flags,8)?[]:r;if(s||o){var l=s||i.styles.isPositioned()?n:e,u=new uQ(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var c=i.styles.zIndex.order;if(c<0){var p=0;l.negativeZIndex.some(function(v,b){return c>v.element.container.styles.zIndex.order?(p=b,!1):p>0}),l.negativeZIndex.splice(p,0,u)}else if(c>0){var g=0;l.positiveZIndex.some(function(v,b){return c>=v.element.container.styles.zIndex.order?(g=b+1,!1):g>0}),l.positiveZIndex.splice(g,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);PB(a,u,s?u:n,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),PB(a,e,n,A);xr(i.flags,8)&&dQ(i,A)})},dQ=function(t,e){for(var n=t instanceof kB?t.start:1,r=t instanceof kB?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof $3&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=Jp(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},_J=function(t){var e=new cQ(t,null),n=new uQ(e),r=[];return PB(e,n,n,r),dQ(e.container,r),n},p4=function(t,e){switch(e){case 0:return Ns(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ns(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ns(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ns(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},CJ=function(t,e){switch(e){case 0:return Ns(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ns(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ns(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ns(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},IJ=function(t,e){switch(e){case 0:return Ns(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ns(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ns(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ns(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},EJ=function(t,e){switch(e){case 0:return Km(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Km(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Km(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Km(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Km=function(t,e){var n=[];return Ss(t)?n.push(t.subdivide(.5,!1)):n.push(t),Ss(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Ns=function(t,e,n,r){var i=[];return Ss(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ss(n)?i.push(n.subdivide(.5,!0)):i.push(n),Ss(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Ss(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},hQ=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Iv=function(t){var e=t.styles,n=t.bounds,r=wn(e.paddingLeft,n.width),i=wn(e.paddingRight,n.width),s=wn(e.paddingTop,n.width),o=wn(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},SJ=function(t,e){return t===0?e.bounds:t===2?Iv(e):hQ(e)},FJ=function(t,e){return t===0?e.bounds:t===2?Iv(e):hQ(e)},by=function(t,e,n){var r=SJ(od(t.styles.backgroundOrigin,e),t),i=FJ(od(t.styles.backgroundClip,e),t),s=TJ(od(t.styles.backgroundSize,e),n,r),o=s[0],a=s[1],A=Ef(od(t.styles.backgroundPosition,e),r.width-o,r.height-a),l=kJ(od(t.styles.backgroundRepeat,e),A,s,r,i),u=Math.round(r.left+A[0]),c=Math.round(r.top+A[1]);return[l,u,c,o,a]},Yc=function(t){return dn(t)&&t.value===Ld.AUTO},zm=function(t){return typeof t=="number"},TJ=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(gr(o)&&a&&gr(a))return[wn(o,n.width),wn(a,n.height)];var A=zm(s);if(dn(o)&&(o.value===Ld.CONTAIN||o.value===Ld.COVER)){if(zm(s)){var l=n.width/n.height;return l<s!=(o.value===Ld.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var u=zm(r),c=zm(i),p=u||c;if(Yc(o)&&(!a||Yc(a))){if(u&&c)return[r,i];if(!A&&!p)return[n.width,n.height];if(p&&A){var g=u?r:i*s,v=c?i:r/s;return[g,v]}var b=u?r:n.width,E=c?i:n.height;return[b,E]}if(A){var y=0,w=0;return gr(o)?y=wn(o,n.width):gr(a)&&(w=wn(a,n.height)),Yc(o)?y=w*s:(!a||Yc(a))&&(w=y/s),[y,w]}var x=null,U=null;if(gr(o)?x=wn(o,n.width):a&&gr(a)&&(U=wn(a,n.height)),x!==null&&(!a||Yc(a))&&(U=u&&c?x/r*i:n.height),U!==null&&Yc(o)&&(x=u&&c?U/i*r:n.width),x!==null&&U!==null)return[x,U];throw new Error("Unable to calculate background-size for element")},od=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},kJ=function(t,e,n,r,i){var s=e[0],o=e[1],a=n[0],A=n[1];switch(t){case 2:return[new ht(Math.round(r.left),Math.round(r.top+o)),new ht(Math.round(r.left+r.width),Math.round(r.top+o)),new ht(Math.round(r.left+r.width),Math.round(A+r.top+o)),new ht(Math.round(r.left),Math.round(A+r.top+o))];case 3:return[new ht(Math.round(r.left+s),Math.round(r.top)),new ht(Math.round(r.left+s+a),Math.round(r.top)),new ht(Math.round(r.left+s+a),Math.round(r.height+r.top)),new ht(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new ht(Math.round(r.left+s),Math.round(r.top+o)),new ht(Math.round(r.left+s+a),Math.round(r.top+o)),new ht(Math.round(r.left+s+a),Math.round(r.top+o+A)),new ht(Math.round(r.left+s),Math.round(r.top+o+A))];default:return[new ht(Math.round(i.left),Math.round(i.top)),new ht(Math.round(i.left+i.width),Math.round(i.top)),new ht(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ht(Math.round(i.left),Math.round(i.height+i.top))]}},NJ="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",g4="Hidden Text",UJ=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=NJ,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(g4)),r.appendChild(s),r.appendChild(i);var a=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(g4)),r.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:a,middle:A}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),fQ=function(){function t(e,n){this.context=e,this.options=n}return t}(),QJ=1e4,LJ=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new UJ(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),bJ(n)&&(this.ctx.globalAlpha=n.opacity),BJ(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),lQ(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return vi(this,void 0,void 0,function(){var r;return oi(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return vi(this,void 0,void 0,function(){return oi(this,function(r){switch(r.label){case 0:if(xr(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=F_(n.text);o.reduce(function(a,A){return s.ctx.fillText(A,a,n.bounds.top+i),a+s.ctx.measureText(A).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=MJ(n.fontFamily).join(", "),s=Eg(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return vi(this,void 0,void 0,function(){var i,s,o,a,A,l,u,c,p=this;return oi(this,function(g){return i=this.createFontStyle(r),s=i[0],o=i[1],a=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,a),l=A.baseline,u=A.middle,c=r.paintOrder,n.textBounds.forEach(function(v){c.forEach(function(b){switch(b){case 0:p.ctx.fillStyle=Fr(r.color),p.renderTextWithLetterSpacing(v,r.letterSpacing,l);var E=r.textShadow;E.length&&v.text.trim().length&&(E.slice(0).reverse().forEach(function(y){p.ctx.shadowColor=Fr(y.color),p.ctx.shadowOffsetX=y.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=y.offsetY.number*p.options.scale,p.ctx.shadowBlur=y.blur.number,p.renderTextWithLetterSpacing(v,r.letterSpacing,l)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),r.textDecorationLine.length&&(p.ctx.fillStyle=Fr(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(y){switch(y){case 1:p.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+l),v.bounds.width,1);break;case 2:p.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:p.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+u),v.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&v.text.trim().length&&(p.ctx.strokeStyle=Fr(r.webkitTextStrokeColor),p.ctx.lineWidth=r.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+l)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=Iv(n),o=Cv(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return vi(this,void 0,void 0,function(){var r,i,s,o,a,A,w,w,l,u,c,p,U,g,v,P,b,E,y,w,x,U,P;return oi(this,function(M){switch(M.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,o=0,a=r.textNodes,M.label=1;case 1:return o<a.length?(A=a[o],[4,this.renderTextNode(A,s)]):[3,4];case 2:M.sent(),M.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof G3))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return w=M.sent(),this.renderReplacedElement(r,i,w),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof W3&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof q3))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return w=M.sent(),this.renderReplacedElement(r,i,w),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof X3&&r.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:u=M.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),M.label=14;case 14:if(r instanceof T_&&(c=Math.min(r.bounds.width,r.bounds.height),r.type===yv?r.checked&&(this.ctx.save(),this.path([new ht(r.bounds.left+c*.39363,r.bounds.top+c*.79),new ht(r.bounds.left+c*.16,r.bounds.top+c*.5549),new ht(r.bounds.left+c*.27347,r.bounds.top+c*.44071),new ht(r.bounds.left+c*.39694,r.bounds.top+c*.5649),new ht(r.bounds.left+c*.72983,r.bounds.top+c*.23),new ht(r.bounds.left+c*.84,r.bounds.top+c*.34085),new ht(r.bounds.left+c*.39363,r.bounds.top+c*.79)]),this.ctx.fillStyle=Fr(r4),this.ctx.fill(),this.ctx.restore()):r.type===Bv&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+c/2,r.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=Fr(r4),this.ctx.fill(),this.ctx.restore())),PJ(r)&&r.value.length){switch(p=this.createFontStyle(s),U=p[0],g=p[1],v=this.fontMetrics.getMetrics(U,g).baseline,this.ctx.font=U,this.ctx.fillStyle=Fr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=DJ(r.styles.textAlign),P=Iv(r),b=0,r.styles.textAlign){case 1:b+=P.width/2;break;case 2:b+=P.width;break}E=P.add(b,0,0,-P.height/2+1),this.ctx.save(),this.path([new ht(P.left,P.top),new ht(P.left+P.width,P.top),new ht(P.left+P.width,P.top+P.height),new ht(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Zf(r.value,E),s.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!xr(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(y=r.styles.listStyleImage,y.type!==0)return[3,18];w=void 0,x=y.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return w=M.sent(),this.ctx.drawImage(w,r.bounds.left-(w.width+10),r.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(U=this.createFontStyle(s)[0],this.ctx.font=U,this.ctx.fillStyle=Fr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new Oa(r.bounds.left,r.bounds.top+wn(r.styles.paddingTop,r.bounds.width),r.bounds.width,ME(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Zf(n.listValue,P),s.letterSpacing,ME(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return vi(this,void 0,void 0,function(){var r,i,y,s,o,y,a,A,y,l,u,y,c,p,y,g,v,y,b,E,y;return oi(this,function(w){switch(w.label){case 0:if(xr(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:w.sent(),r=0,i=n.negativeZIndex,w.label=2;case 2:return r<i.length?(y=i[r],[4,this.renderStack(y)]):[3,5];case 3:w.sent(),w.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:w.sent(),s=0,o=n.nonInlineLevel,w.label=7;case 7:return s<o.length?(y=o[s],[4,this.renderNode(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:a=0,A=n.nonPositionedFloats,w.label=11;case 11:return a<A.length?(y=A[a],[4,this.renderStack(y)]):[3,14];case 12:w.sent(),w.label=13;case 13:return a++,[3,11];case 14:l=0,u=n.nonPositionedInlineLevel,w.label=15;case 15:return l<u.length?(y=u[l],[4,this.renderStack(y)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:c=0,p=n.inlineLevel,w.label=19;case 19:return c<p.length?(y=p[c],[4,this.renderNode(y)]):[3,22];case 20:w.sent(),w.label=21;case 21:return c++,[3,19];case 22:g=0,v=n.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return g<v.length?(y=v[g],[4,this.renderStack(y)]):[3,26];case 24:w.sent(),w.label=25;case 25:return g++,[3,23];case 26:b=0,E=n.positiveZIndex,w.label=27;case 27:return b<E.length?(y=E[b],[4,this.renderStack(y)]):[3,30];case 28:w.sent(),w.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var o=Ss(i)?i.start:i;s===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Ss(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=o.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,i);var A=a.getContext("2d");return A.drawImage(n,0,0,n.width,n.height,0,0,r,i),a},e.prototype.renderBackgroundImage=function(n){return vi(this,void 0,void 0,function(){var r,i,s,o,a,A;return oi(this,function(l){switch(l.label){case 0:r=n.styles.backgroundImage.length-1,i=function(u){var c,p,g,O,te,K,k,X,_,v,O,te,K,k,X,b,E,y,w,x,U,P,M,S,_,N,O,I,T,k,X,de,te,K,$,R,W,re,Q,j,z,ee;return oi(this,function(ne){switch(ne.label){case 0:if(u.type!==0)return[3,5];c=void 0,p=u.url,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return c=ne.sent(),[3,4];case 3:return ne.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return c&&(g=by(n,r,[c.width,c.height,c.width/c.height]),O=g[0],te=g[1],K=g[2],k=g[3],X=g[4],_=s.ctx.createPattern(s.resizeImage(c,k,X),"repeat"),s.renderRepeat(O,_,te,K)),[3,6];case 5:BW(u)?(v=by(n,r,[null,null,null]),O=v[0],te=v[1],K=v[2],k=v[3],X=v[4],b=gW(u.angle,k,X),E=b[0],y=b[1],w=b[2],x=b[3],U=b[4],P=document.createElement("canvas"),P.width=k,P.height=X,M=P.getContext("2d"),S=M.createLinearGradient(y,x,w,U),DE(u.stops,E).forEach(function(Ae){return S.addColorStop(Ae.stop,Fr(Ae.color))}),M.fillStyle=S,M.fillRect(0,0,k,X),k>0&&X>0&&(_=s.ctx.createPattern(P,"repeat"),s.renderRepeat(O,_,te,K))):bW(u)&&(N=by(n,r,[null,null,null]),O=N[0],I=N[1],T=N[2],k=N[3],X=N[4],de=u.position.length===0?[I_]:u.position,te=wn(de[0],k),K=wn(de[de.length-1],X),$=mW(u,te,K,k,X),R=$[0],W=$[1],R>0&&W>0&&(re=s.ctx.createRadialGradient(I+te,T+K,0,I+te,T+K,R),DE(u.stops,R*2).forEach(function(Ae){return re.addColorStop(Ae.stop,Fr(Ae.color))}),s.path(O),s.ctx.fillStyle=re,R!==W?(Q=n.bounds.left+.5*n.bounds.width,j=n.bounds.top+.5*n.bounds.height,z=W/R,ee=1/z,s.ctx.save(),s.ctx.translate(Q,j),s.ctx.transform(1,0,0,z,0,0),s.ctx.translate(-Q,-j),s.ctx.fillRect(I,ee*(T-j)+j,k,X*ee),s.ctx.restore()):s.ctx.fill())),ne.label=6;case 6:return r--,[2]}})},s=this,o=0,a=n.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<a.length?(A=a[o],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return vi(this,void 0,void 0,function(){return oi(this,function(s){return this.path(p4(i,r)),this.ctx.fillStyle=Fr(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return vi(this,void 0,void 0,function(){var o,a;return oi(this,function(A){switch(A.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return o=CJ(s,i),this.path(o),this.ctx.fillStyle=Fr(n),this.ctx.fill(),a=IJ(s,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return vi(this,void 0,void 0,function(){var r,i,s,o,a,A,l,u,c=this;return oi(this,function(p){switch(p.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!Al(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=RJ(od(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Al(r.backgroundColor)||(this.ctx.fillStyle=Fr(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(g){c.ctx.save();var v=_v(n.curves),b=g.inset?0:QJ,E=xJ(v,-b+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(c.path(v),c.ctx.clip(),c.mask(E)):(c.mask(v),c.ctx.clip(),c.path(E)),c.ctx.shadowOffsetX=g.offsetX.number+b,c.ctx.shadowOffsetY=g.offsetY.number,c.ctx.shadowColor=Fr(g.color),c.ctx.shadowBlur=g.blur.number,c.ctx.fillStyle=g.inset?Fr(g.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),p.label=2;case 2:a=0,A=0,l=s,p.label=3;case 3:return A<l.length?(u=l[A],u.style!==0&&!Al(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,3)];case 6:return p.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,n.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,n.curves)];case 10:p.sent(),p.label=11;case 11:a++,p.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,o){return vi(this,void 0,void 0,function(){var a,A,l,u,c,p,g,v,b,E,y,w,x,U,P,M,P,M;return oi(this,function(S){return this.ctx.save(),a=EJ(s,i),A=p4(s,i),o===2&&(this.path(A),this.ctx.clip()),Ss(A[0])?(l=A[0].start.x,u=A[0].start.y):(l=A[0].x,u=A[0].y),Ss(A[1])?(c=A[1].end.x,p=A[1].end.y):(c=A[1].x,p=A[1].y),i===0||i===2?g=Math.abs(l-c):g=Math.abs(u-p),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(A.slice(0,2)),v=r<3?r*3:r*2,b=r<3?r*2:r,o===3&&(v=r,b=r),E=!0,g<=v*2?E=!1:g<=v*2+b?(y=g/(2*v+b),v*=y,b*=y):(w=Math.floor((g+b)/(v+b)),x=(g-w*v)/(w-1),U=(g-(w+1)*v)/w,b=U<=0||Math.abs(b-x)<Math.abs(b-U)?x:U),E&&(o===3?this.ctx.setLineDash([0,v+b]):this.ctx.setLineDash([v,b])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Fr(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Ss(A[0])&&(P=A[3],M=A[0],this.ctx.beginPath(),this.formatPath([new ht(P.end.x,P.end.y),new ht(M.start.x,M.start.y)]),this.ctx.stroke()),Ss(A[1])&&(P=A[1],M=A[2],this.ctx.beginPath(),this.formatPath([new ht(P.end.x,P.end.y),new ht(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return vi(this,void 0,void 0,function(){var r;return oi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Fr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=_J(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(fQ),PJ=function(t){return t instanceof Y3||t instanceof J3?!0:t instanceof T_&&t.type!==Bv&&t.type!==yv},RJ=function(t,e){switch(t){case 0:return _v(e);case 2:return vJ(e);case 1:default:return Cv(e)}},DJ=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},OJ=["-apple-system","system-ui"],MJ=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return OJ.indexOf(e)===-1}):t},jJ=function(t){lo(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return vi(this,void 0,void 0,function(){var r,i;return oi(this,function(s){switch(s.label){case 0:return r=TB(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,HJ(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Fr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(fQ),HJ=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},VJ=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,xm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,xm([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,xm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,xm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),KJ=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new VJ({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new uJ(this,e)}return t.instanceCount=1,t}(),pQ=function(t,e){return e===void 0&&(e={}),zJ(t,e)};typeof window<"u"&&AQ.setContext(window);var zJ=function(t,e){return vi(void 0,void 0,void 0,function(){var n,r,i,s,o,a,A,l,u,c,p,g,v,b,E,y,w,x,U,P,S,M,S,_,N,O,I,T,k,X,de,te,K,$,R,W,re,Q,j,z;return oi(this,function(ee){switch(ee.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(N=e.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:e.proxy,useCORS:(O=e.useCORS)!==null&&O!==void 0?O:!1},s=pB({logging:(I=e.logging)!==null&&I!==void 0?I:!0,cache:e.cache},i),o={windowWidth:(T=e.windowWidth)!==null&&T!==void 0?T:r.innerWidth,windowHeight:(k=e.windowHeight)!==null&&k!==void 0?k:r.innerHeight,scrollX:(X=e.scrollX)!==null&&X!==void 0?X:r.pageXOffset,scrollY:(de=e.scrollY)!==null&&de!==void 0?de:r.pageYOffset},a=new Oa(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new KJ(s,a),l=(te=e.foreignObjectRendering)!==null&&te!==void 0?te:!1,u={allowTaint:(K=e.allowTaint)!==null&&K!==void 0?K:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),c=new d4(A,t,u),p=c.clonedReferenceElement,p?[4,c.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=ee.sent(),v=k_(p)||W$(p)?xz(p.ownerDocument):kw(A,p),b=v.width,E=v.height,y=v.left,w=v.top,x=GJ(A,p,e.backgroundColor),U={canvas:e.canvas,backgroundColor:x,scale:(R=($=e.scale)!==null&&$!==void 0?$:r.devicePixelRatio)!==null&&R!==void 0?R:1,x:((W=e.x)!==null&&W!==void 0?W:0)+y,y:((re=e.y)!==null&&re!==void 0?re:0)+w,width:(Q=e.width)!==null&&Q!==void 0?Q:Math.ceil(b),height:(j=e.height)!==null&&j!==void 0?j:Math.ceil(E)},l?(A.logger.debug("Document cloned, using foreign object rendering"),S=new jJ(A,U),[4,S.render(p)]):[3,3];case 2:return P=ee.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+w+" with size "+b+"x"+E+" using computed rendering"),A.logger.debug("Starting DOM parsing"),M=eQ(A,p),x===M.styles.backgroundColor&&(M.styles.backgroundColor=Ta.TRANSPARENT),A.logger.debug("Starting renderer for element at "+U.x+","+U.y+" with size "+U.width+"x"+U.height),S=new LJ(A,U),[4,S.render(M)];case 4:P=ee.sent(),ee.label=5;case 5:return(!((z=e.removeContainer)!==null&&z!==void 0)||z)&&(d4.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,P]}})})},GJ=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?Yf(t,getComputedStyle(r.documentElement).backgroundColor):Ta.TRANSPARENT,s=r.body?Yf(t,getComputedStyle(r.body).backgroundColor):Ta.TRANSPARENT,o=typeof n=="string"?Yf(t,n):n===null?Ta.TRANSPARENT:4294967295;return e===r.documentElement?Al(i)?Al(s)?o:s:i:o};const WJ=Object.freeze(Object.defineProperty({__proto__:null,default:pQ},Symbol.toStringTag,{value:"Module"})),qJ="modulepreload",$J=function(t){return"/zamenyVStest/"+t},m4={},RB=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(A=>{if(A=$J(A),A in m4)return;m4[A]=!0;const l=A.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":qJ,l||(c.as="script"),c.crossOrigin="",c.href=A,a&&c.setAttribute("nonce",a),document.head.appendChild(c),l)return new Promise((p,g)=>{c.addEventListener("load",p),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function ln(t){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(t)}var li=Uint8Array,ls=Uint16Array,N_=Int32Array,jw=new li([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hw=new li([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),DB=new li([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gQ=function(t,e){for(var n=new ls(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new N_(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},mQ=gQ(jw,2),vQ=mQ.b,OB=mQ.r;vQ[28]=258,OB[258]=28;var wQ=gQ(Hw,0),JJ=wQ.b,v4=wQ.r,MB=new ls(32768);for(var In=0;In<32768;++In){var SA=(In&43690)>>1|(In&21845)<<1;SA=(SA&52428)>>2|(SA&13107)<<2,SA=(SA&61680)>>4|(SA&3855)<<4,MB[In]=((SA&65280)>>8|(SA&255)<<8)>>1}var Vo=function(t,e,n){for(var r=t.length,i=0,s=new ls(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new ls(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ls(1<<e);var A=15-e;for(i=0;i<r;++i)if(t[i])for(var l=i<<4|t[i],u=e-t[i],c=o[t[i]-1]++<<u,p=c|(1<<u)-1;c<=p;++c)a[MB[c]>>A]=l}else for(a=new ls(r),i=0;i<r;++i)t[i]&&(a[i]=MB[o[t[i]-1]++]>>15-t[i]);return a},_l=new li(288);for(var In=0;In<144;++In)_l[In]=8;for(var In=144;In<256;++In)_l[In]=9;for(var In=256;In<280;++In)_l[In]=7;for(var In=280;In<288;++In)_l[In]=8;var Yp=new li(32);for(var In=0;In<32;++In)Yp[In]=5;var YJ=Vo(_l,9,0),XJ=Vo(_l,9,1),ZJ=Vo(Yp,5,0),eY=Vo(Yp,5,1),xy=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Js=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},_y=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},U_=function(t){return(t+7)/8|0},yQ=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new li(t.subarray(e,n))},tY=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],eo=function(t,e,n){var r=new Error(e||tY[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,eo),!n)throw r;return r},nY=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new li(0);var o=!n,a=o||e.i!=2,A=e.i;o&&(n=new li(i*3));var l=function(Te){var je=n.length;if(Te>je){var Le=new li(Math.max(je*2,Te));Le.set(n),n=Le}},u=e.f||0,c=e.p||0,p=e.b||0,g=e.l,v=e.d,b=e.m,E=e.n,y=i*8;do{if(!g){u=Js(t,c,1);var w=Js(t,c+1,3);if(c+=3,w)if(w==1)g=XJ,v=eY,b=9,E=5;else if(w==2){var M=Js(t,c,31)+257,S=Js(t,c+10,15)+4,_=M+Js(t,c+5,31)+1;c+=14;for(var N=new li(_),O=new li(19),I=0;I<S;++I)O[DB[I]]=Js(t,c+I*3,7);c+=S*3;for(var T=xy(O),k=(1<<T)-1,X=Vo(O,T,1),I=0;I<_;){var de=X[Js(t,c,k)];c+=de&15;var x=de>>4;if(x<16)N[I++]=x;else{var te=0,K=0;for(x==16?(K=3+Js(t,c,3),c+=2,te=N[I-1]):x==17?(K=3+Js(t,c,7),c+=3):x==18&&(K=11+Js(t,c,127),c+=7);K--;)N[I++]=te}}var $=N.subarray(0,M),R=N.subarray(M);b=xy($),E=xy(R),g=Vo($,b,1),v=Vo(R,E,1)}else eo(1);else{var x=U_(c)+4,U=t[x-4]|t[x-3]<<8,P=x+U;if(P>i){A&&eo(0);break}a&&l(p+U),n.set(t.subarray(x,P),p),e.b=p+=U,e.p=c=P*8,e.f=u;continue}if(c>y){A&&eo(0);break}}a&&l(p+131072);for(var W=(1<<b)-1,re=(1<<E)-1,Q=c;;Q=c){var te=g[_y(t,c)&W],j=te>>4;if(c+=te&15,c>y){A&&eo(0);break}if(te||eo(2),j<256)n[p++]=j;else if(j==256){Q=c,g=null;break}else{var z=j-254;if(j>264){var I=j-257,ee=jw[I];z=Js(t,c,(1<<ee)-1)+vQ[I],c+=ee}var ne=v[_y(t,c)&re],Ae=ne>>4;ne||eo(3),c+=ne&15;var R=JJ[Ae];if(Ae>3){var ee=Hw[Ae];R+=_y(t,c)&(1<<ee)-1,c+=ee}if(c>y){A&&eo(0);break}a&&l(p+131072);var ge=p+z;if(p<R){var Be=s-R,Fe=Math.min(R,ge);for(Be+p<0&&eo(3);p<Fe;++p)n[p]=r[Be+p]}for(;p<ge;++p)n[p]=n[p-R]}}e.l=g,e.p=Q,e.b=p,e.f=u,g&&(u=1,e.m=b,e.d=v,e.n=E)}while(!u);return p!=n.length&&o?yQ(n,0,p):n.subarray(0,p)},va=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},cf=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Cy=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:bQ,l:0};if(i==1){var o=new li(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(P,M){return P.f-M.f}),n.push({s:-1,f:25001});var a=n[0],A=n[1],l=0,u=1,c=2;for(n[0]={s:-1,f:a.f+A.f,l:a,r:A};u!=i-1;)a=n[n[l].f<n[c].f?l++:c++],A=n[l!=u&&n[l].f<n[c].f?l++:c++],n[u++]={s:-1,f:a.f+A.f,l:a,r:A};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var g=new ls(p+1),v=jB(n[u-1],g,0);if(v>e){var r=0,b=0,E=v-e,y=1<<E;for(s.sort(function(M,S){return g[S.s]-g[M.s]||M.f-S.f});r<i;++r){var w=s[r].s;if(g[w]>e)b+=y-(1<<v-g[w]),g[w]=e;else break}for(b>>=E;b>0;){var x=s[r].s;g[x]<e?b-=1<<e-g[x]++-1:++r}for(;r>=0&&b;--r){var U=s[r].s;g[U]==e&&(--g[U],++b)}v=e}return{t:new li(g),l:v}},jB=function(t,e,n){return t.s==-1?Math.max(jB(t.l,e,n+1),jB(t.r,e,n+1)):e[t.s]=n},w4=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ls(++e),r=0,i=t[0],s=1,o=function(A){n[r++]=A},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},df=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},BQ=function(t,e,n){var r=n.length,i=U_(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},y4=function(t,e,n,r,i,s,o,a,A,l,u){va(e,u++,n),++i[256];for(var c=Cy(i,15),p=c.t,g=c.l,v=Cy(s,15),b=v.t,E=v.l,y=w4(p),w=y.c,x=y.n,U=w4(b),P=U.c,M=U.n,S=new ls(19),_=0;_<w.length;++_)++S[w[_]&31];for(var _=0;_<P.length;++_)++S[P[_]&31];for(var N=Cy(S,7),O=N.t,I=N.l,T=19;T>4&&!O[DB[T-1]];--T);var k=l+5<<3,X=df(i,_l)+df(s,Yp)+o,de=df(i,p)+df(s,b)+o+14+3*T+df(S,O)+2*S[16]+3*S[17]+7*S[18];if(A>=0&&k<=X&&k<=de)return BQ(e,u,t.subarray(A,A+l));var te,K,$,R;if(va(e,u,1+(de<X)),u+=2,de<X){te=Vo(p,g,0),K=p,$=Vo(b,E,0),R=b;var W=Vo(O,I,0);va(e,u,x-257),va(e,u+5,M-1),va(e,u+10,T-4),u+=14;for(var _=0;_<T;++_)va(e,u+3*_,O[DB[_]]);u+=3*T;for(var re=[w,P],Q=0;Q<2;++Q)for(var j=re[Q],_=0;_<j.length;++_){var z=j[_]&31;va(e,u,W[z]),u+=O[z],z>15&&(va(e,u,j[_]>>5&127),u+=j[_]>>12)}}else te=YJ,K=_l,$=ZJ,R=Yp;for(var _=0;_<a;++_){var ee=r[_];if(ee>255){var z=ee>>18&31;cf(e,u,te[z+257]),u+=K[z+257],z>7&&(va(e,u,ee>>23&31),u+=jw[z]);var ne=ee&31;cf(e,u,$[ne]),u+=R[ne],ne>3&&(cf(e,u,ee>>5&8191),u+=Hw[ne])}else cf(e,u,te[ee]),u+=K[ee]}return cf(e,u,te[256]),u+K[256]},rY=new N_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bQ=new li(0),iY=function(t,e,n,r,i,s){var o=s.z||t.length,a=new li(r+o+5*(1+Math.ceil(o/7e3))+i),A=a.subarray(r,a.length-i),l=s.l,u=(s.r||0)&7;if(e){u&&(A[0]=s.r>>3);for(var c=rY[e-1],p=c>>13,g=c&8191,v=(1<<n)-1,b=s.p||new ls(32768),E=s.h||new ls(v+1),y=Math.ceil(n/3),w=2*y,x=function(Ve){return(t[Ve]^t[Ve+1]<<y^t[Ve+2]<<w)&v},U=new N_(25e3),P=new ls(288),M=new ls(32),S=0,_=0,N=s.i||0,O=0,I=s.w||0,T=0;N+2<o;++N){var k=x(N),X=N&32767,de=E[k];if(b[X]=de,E[k]=X,I<=N){var te=o-N;if((S>7e3||O>24576)&&(te>423||!l)){u=y4(t,A,0,U,P,M,_,O,T,N-T,u),O=S=_=0,T=N;for(var K=0;K<286;++K)P[K]=0;for(var K=0;K<30;++K)M[K]=0}var $=2,R=0,W=g,re=X-de&32767;if(te>2&&k==x(N-re))for(var Q=Math.min(p,te)-1,j=Math.min(32767,N),z=Math.min(258,te);re<=j&&--W&&X!=de;){if(t[N+$]==t[N+$-re]){for(var ee=0;ee<z&&t[N+ee]==t[N+ee-re];++ee);if(ee>$){if($=ee,R=re,ee>Q)break;for(var ne=Math.min(re,ee-2),Ae=0,K=0;K<ne;++K){var ge=N-re+K&32767,Be=b[ge],Fe=ge-Be&32767;Fe>Ae&&(Ae=Fe,de=ge)}}}X=de,de=b[X],re+=X-de&32767}if(R){U[O++]=268435456|OB[$]<<18|v4[R];var Te=OB[$]&31,je=v4[R]&31;_+=jw[Te]+Hw[je],++P[257+Te],++M[je],I=N+$,++S}else U[O++]=t[N],++P[t[N]]}}for(N=Math.max(N,I);N<o;++N)U[O++]=t[N],++P[t[N]];u=y4(t,A,l,U,P,M,_,O,T,N-T,u),l||(s.r=u&7|A[u/8|0]<<3,u-=7,s.h=E,s.p=b,s.i=N,s.w=I)}else{for(var N=s.w||0;N<o+l;N+=65535){var Le=N+65535;Le>=o&&(A[u/8|0]=l,Le=o),u=BQ(A,u+1,t.subarray(N,Le))}s.i=o}return yQ(a,0,r+U_(u)+i)},xQ=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},sY=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new li(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return iY(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},_Q=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},oY=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=xQ();i.p(e.dictionary),_Q(t,2,i.d())}},aY=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&eo(6,"invalid zlib data"),(t[1]>>5&1)==1&&eo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function HB(t,e){e||(e={});var n=xQ();n.p(t);var r=sY(t,e,e.dictionary?6:2,4);return oY(r,e),_Q(r,r.length-4,n.d()),r}function AY(t,e){return nY(t.subarray(aY(t),-4),{i:2},e,e)}var lY=typeof TextDecoder<"u"&&new TextDecoder,uY=0;try{lY.decode(bQ,{stream:!0}),uY=1}catch{}var Tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Iy(){Tt.console&&typeof Tt.console.log=="function"&&Tt.console.log.apply(Tt.console,arguments)}var gn={log:Iy,warn:function(t){Tt.console&&(typeof Tt.console.warn=="function"?Tt.console.warn.apply(Tt.console,arguments):Iy.call(null,arguments))},error:function(t){Tt.console&&(typeof Tt.console.error=="function"?Tt.console.error.apply(Tt.console,arguments):Iy(t))}};function Ey(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){du(r.response,e,n)},r.onerror=function(){gn.error("could not download file")},r.send()}function B4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Gm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var tp,VB,du=Tt.saveAs||((typeof window>"u"?"undefined":ln(window))!=="object"||window!==Tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Tt.URL||Tt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?B4(i.href)?Ey(t,e,n):Gm(i,i.target="_blank"):Gm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Gm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(B4(t))Ey(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Gm(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ln(s)!=="object"&&(gn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Ey(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Tt.HTMLElement)||Tt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":ln(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var A=Tt.URL||Tt.webkitURL,l=A.createObjectURL(t);r?r.location=l:location.href=l,r=null,setTimeout(function(){A.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function CQ(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),A=this.g.toString(16),l=this.b.toString(16);return a.length==1&&(a="0"+a),A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),"#"+a+A+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sy(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=ni(n,r,i,s,e[0],7,-680876936),s=ni(s,n,r,i,e[1],12,-389564586),i=ni(i,s,n,r,e[2],17,606105819),r=ni(r,i,s,n,e[3],22,-1044525330),n=ni(n,r,i,s,e[4],7,-176418897),s=ni(s,n,r,i,e[5],12,1200080426),i=ni(i,s,n,r,e[6],17,-1473231341),r=ni(r,i,s,n,e[7],22,-45705983),n=ni(n,r,i,s,e[8],7,1770035416),s=ni(s,n,r,i,e[9],12,-1958414417),i=ni(i,s,n,r,e[10],17,-42063),r=ni(r,i,s,n,e[11],22,-1990404162),n=ni(n,r,i,s,e[12],7,1804603682),s=ni(s,n,r,i,e[13],12,-40341101),i=ni(i,s,n,r,e[14],17,-1502002290),n=ri(n,r=ni(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ri(s,n,r,i,e[6],9,-1069501632),i=ri(i,s,n,r,e[11],14,643717713),r=ri(r,i,s,n,e[0],20,-373897302),n=ri(n,r,i,s,e[5],5,-701558691),s=ri(s,n,r,i,e[10],9,38016083),i=ri(i,s,n,r,e[15],14,-660478335),r=ri(r,i,s,n,e[4],20,-405537848),n=ri(n,r,i,s,e[9],5,568446438),s=ri(s,n,r,i,e[14],9,-1019803690),i=ri(i,s,n,r,e[3],14,-187363961),r=ri(r,i,s,n,e[8],20,1163531501),n=ri(n,r,i,s,e[13],5,-1444681467),s=ri(s,n,r,i,e[2],9,-51403784),i=ri(i,s,n,r,e[7],14,1735328473),n=ii(n,r=ri(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ii(s,n,r,i,e[8],11,-2022574463),i=ii(i,s,n,r,e[11],16,1839030562),r=ii(r,i,s,n,e[14],23,-35309556),n=ii(n,r,i,s,e[1],4,-1530992060),s=ii(s,n,r,i,e[4],11,1272893353),i=ii(i,s,n,r,e[7],16,-155497632),r=ii(r,i,s,n,e[10],23,-1094730640),n=ii(n,r,i,s,e[13],4,681279174),s=ii(s,n,r,i,e[0],11,-358537222),i=ii(i,s,n,r,e[3],16,-722521979),r=ii(r,i,s,n,e[6],23,76029189),n=ii(n,r,i,s,e[9],4,-640364487),s=ii(s,n,r,i,e[12],11,-421815835),i=ii(i,s,n,r,e[15],16,530742520),n=si(n,r=ii(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=si(s,n,r,i,e[7],10,1126891415),i=si(i,s,n,r,e[14],15,-1416354905),r=si(r,i,s,n,e[5],21,-57434055),n=si(n,r,i,s,e[12],6,1700485571),s=si(s,n,r,i,e[3],10,-1894986606),i=si(i,s,n,r,e[10],15,-1051523),r=si(r,i,s,n,e[1],21,-2054922799),n=si(n,r,i,s,e[8],6,1873313359),s=si(s,n,r,i,e[15],10,-30611744),i=si(i,s,n,r,e[6],15,-1560198380),r=si(r,i,s,n,e[13],21,1309151649),n=si(n,r,i,s,e[4],6,-145523070),s=si(s,n,r,i,e[11],10,-1120210379),i=si(i,s,n,r,e[2],15,718787259),r=si(r,i,s,n,e[9],21,-343485551),t[0]=qA(n,t[0]),t[1]=qA(r,t[1]),t[2]=qA(i,t[2]),t[3]=qA(s,t[3])}function Vw(t,e,n,r,i,s){return e=qA(qA(e,t),qA(r,s)),qA(e<<i|e>>>32-i,n)}function ni(t,e,n,r,i,s,o){return Vw(e&n|~e&r,t,e,i,s,o)}function ri(t,e,n,r,i,s,o){return Vw(e&r|n&~r,t,e,i,s,o)}function ii(t,e,n,r,i,s,o){return Vw(e^n^r,t,e,i,s,o)}function si(t,e,n,r,i,s,o){return Vw(n^(e|~r),t,e,i,s,o)}function IQ(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Sy(r,cY(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Sy(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Sy(r,i),r}function cY(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}tp=Tt.atob.bind(Tt),VB=Tt.btoa.bind(Tt);var b4="0123456789abcdef".split("");function dY(t){for(var e="",n=0;n<4;n++)e+=b4[t>>8*n+4&15]+b4[t>>8*n&15];return e}function hY(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function KB(t){return IQ(t).map(hY).join("")}var fY=function(t){for(var e=0;e<t.length;e++)t[e]=dY(t[e]);return t.join("")}(IQ("hello"))!="5d41402abc4b2a76b9719d911017c592";function qA(t,e){if(fY){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function zB(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],A=0;A<256;A++)a[A]=A;var l=0;for(A=0;A<256;A++){var u=a[A];l=(l+u+o.charCodeAt(A))%256,a[A]=a[l],a[l]=u}n=t,r=a}else a=r;var c=e.length,p=0,g=0,v="";for(A=0;A<c;A++)g=(g+(u=a[p=(p+1)%256]))%256,a[p]=a[g],a[g]=u,o=a[(a[p]+a[g])%256],v+=String.fromCharCode(e.charCodeAt(A)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var x4={print:4,modify:8,copy:16,"annot-forms":32};function ad(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(x4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=x4[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=KB(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=zB(this.encryptionKey,this.padding)}function Ad(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function _4(t){if(ln(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Tt.console&&gn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Xp(t){if(!(this instanceof Xp))return new Xp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function EQ(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function OA(t,e,n,r,i){if(!(this instanceof OA))return new OA(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,EQ.call(this,r,i)}function Eu(t,e,n,r,i){if(!(this instanceof Eu))return new Eu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,EQ.call(this,r,i)}function St(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,A=16,l="S",u=null;ln(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(A=t.floatPrecision),l=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var c=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=_4;var v="1.3",b=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(B){v=B};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return E};var y=g.__private__.getPageFormat=function(B){return E[B]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},x=w.COMPAT;function U(){this.saveGraphicsState(),oe(new wt(ue,0,0,-ue,0,Xr()*ue).toString()+" cm"),this.setFontSize(this.getFontSize()/ue),l="n",x=w.ADVANCED}function P(){this.restoreGraphicsState(),l="S",x=w.COMPAT}var M=g.__private__.combineFontStyleAndFontWeight=function(B,H){if(B=="bold"&&H=="normal"||B=="bold"&&H==400||B=="normal"&&H=="italic"||B=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(B=H==400||H==="normal"?B==="italic"?"italic":"normal":H!=700&&H!=="bold"||B!=="normal"?(H==700?"bold":H)+""+B:"bold"),B};g.advancedAPI=function(B){var H=x===w.COMPAT;return H&&U.call(this),typeof B!="function"||(B(this),H&&P.call(this)),this},g.compatAPI=function(B){var H=x===w.ADVANCED;return H&&P.call(this),typeof B!="function"||(B(this),H&&U.call(this)),this},g.isAdvancedAPI=function(){return x===w.ADVANCED};var S,_=function(B){if(x!==w.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},N=g.roundToPrecision=g.__private__.roundToPrecision=function(B,H){var se=e||H;if(isNaN(B)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(se).replace(/0+$/,"")};S=g.hpf=g.__private__.hpf=typeof A=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return N(B,A)}:A==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return N(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return N(B,16)};var O=g.f2=g.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return N(B,2)},I=g.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return N(B,3)},T=g.scale=g.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return x===w.COMPAT?B*ue:x===w.ADVANCED?B:void 0},k=function(B){return x===w.COMPAT?Xr()-B:x===w.ADVANCED?B:void 0},X=function(B){return T(k(B))};g.__private__.setPrecision=g.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(e=parseInt(B,10))};var de,te="00000000000000000000000000000000",K=g.__private__.getFileId=function(){return te},$=g.__private__.setFileId=function(B){return te=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(xn=new ad(u.userPermissions,u.userPassword,u.ownerPassword,te)),te};g.setFileId=function(B){return $(B),this},g.getFileId=function(){return K()};var R=g.__private__.convertDateToPDFDate=function(B){var H=B.getTimezoneOffset(),se=H<0?"+":"-",ce=Math.floor(Math.abs(H/60)),we=Math.abs(H%60),Ne=[se,z(ce),"'",z(we),"'"].join("");return["D:",B.getFullYear(),z(B.getMonth()+1),z(B.getDate()),z(B.getHours()),z(B.getMinutes()),z(B.getSeconds()),Ne].join("")},W=g.__private__.convertPDFDateToDate=function(B){var H=parseInt(B.substr(2,4),10),se=parseInt(B.substr(6,2),10)-1,ce=parseInt(B.substr(8,2),10),we=parseInt(B.substr(10,2),10),Ne=parseInt(B.substr(12,2),10),Je=parseInt(B.substr(14,2),10);return new Date(H,se,ce,we,Ne,Je,0)},re=g.__private__.setCreationDate=function(B){var H;if(B===void 0&&(B=new Date),B instanceof Date)H=R(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=B}return de=H},Q=g.__private__.getCreationDate=function(B){var H=de;return B==="jsDate"&&(H=W(de)),H};g.setCreationDate=function(B){return re(B),this},g.getCreationDate=function(B){return Q(B)};var j,z=g.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},ee=g.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},ne=0,Ae=[],ge=[],Be=0,Fe=[],Te=[],je=!1,Le=ge,Ve=function(){ne=0,Be=0,ge=[],Ae=[],Fe=[],Ds=Mn(),Yr=Mn()};g.__private__.setCustomOutputDestination=function(B){je=!0,Le=B};var Ee=function(B){je||(Le=B)};g.__private__.resetCustomOutputDestination=function(){je=!1,Le=ge};var oe=g.__private__.out=function(B){return B=B.toString(),Be+=B.length+1,Le.push(B),Le},dt=g.__private__.write=function(B){return oe(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},it=g.__private__.getArrayBuffer=function(B){for(var H=B.length,se=new ArrayBuffer(H),ce=new Uint8Array(se);H--;)ce[H]=B.charCodeAt(H);return se},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ke};var ae=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(B){return ae=x===w.ADVANCED?B/ue:B,this};var fe,be=g.__private__.getFontSize=g.getFontSize=function(){return x===w.COMPAT?ae:ae*ue},Ue=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(B){return Ue=B,this},g.__private__.getR2L=g.getR2L=function(){return Ue};var $e,et=g.__private__.setZoomMode=function(B){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))fe=B;else if(isNaN(B)){if(H.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');fe=B}else fe=parseInt(B,10)};g.__private__.getZoomMode=function(){return fe};var Pe,ze=g.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');$e=B};g.__private__.getPageMode=function(){return $e};var Oe=g.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');Pe=B};g.__private__.getLayoutMode=function(){return Pe},g.__private__.setDisplayMode=g.setDisplayMode=function(B,H,se){return et(B),Oe(H),ze(se),this};var We={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(B){if(Object.keys(We).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return We[B]},g.__private__.getDocumentProperties=function(){return We},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(B){for(var H in We)We.hasOwnProperty(H)&&B[H]&&(We[H]=B[H]);return this},g.__private__.setDocumentProperty=function(B,H){if(Object.keys(We).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return We[B]=H};var mt,ue,Qe,Re,lt,tt={},vt={},Pt=[],Ct={},Xt={},Wt={},Gt={},vr=null,xt=0,It=[],$t=new _4(g),ps=t.hotfixes||[],lr={},$r={},$i=[],wt=function B(H,se,ce,we,Ne,Je){if(!(this instanceof B))return new B(H,se,ce,we,Ne,Je);isNaN(H)&&(H=1),isNaN(se)&&(se=0),isNaN(ce)&&(ce=0),isNaN(we)&&(we=1),isNaN(Ne)&&(Ne=0),isNaN(Je)&&(Je=0),this._matrix=[H,se,ce,we,Ne,Je]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(B)},wt.prototype.multiply=function(B){var H=B.sx*this.sx+B.shy*this.shx,se=B.sx*this.shy+B.shy*this.sy,ce=B.shx*this.sx+B.sy*this.shx,we=B.shx*this.shy+B.sy*this.sy,Ne=B.tx*this.sx+B.ty*this.shx+this.tx,Je=B.tx*this.shy+B.ty*this.sy+this.ty;return new wt(H,se,ce,we,Ne,Je)},wt.prototype.decompose=function(){var B=this.sx,H=this.shy,se=this.shx,ce=this.sy,we=this.tx,Ne=this.ty,Je=Math.sqrt(B*B+H*H),At=(B/=Je)*se+(H/=Je)*ce;se-=B*At,ce-=H*At;var h=Math.sqrt(se*se+ce*ce);return At/=h,B*(ce/=h)<H*(se/=h)&&(B=-B,H=-H,At=-At,Je=-Je),{scale:new wt(Je,0,0,h,0,0),translate:new wt(1,0,0,1,we,Ne),rotate:new wt(B,H,-H,B,0,0),skew:new wt(1,0,At,1,0,0)}},wt.prototype.toString=function(B){return this.join(" ")},wt.prototype.inversed=function(){var B=this.sx,H=this.shy,se=this.shx,ce=this.sy,we=this.tx,Ne=this.ty,Je=1/(B*ce-H*se),At=ce*Je,h=-H*Je,F=-se*Je,D=B*Je;return new wt(At,h,F,D,-At*we-F*Ne,-h*we-D*Ne)},wt.prototype.applyToPoint=function(B){var H=B.x*this.sx+B.y*this.shx+this.tx,se=B.x*this.shy+B.y*this.sy+this.ty;return new aa(H,se)},wt.prototype.applyToRectangle=function(B){var H=this.applyToPoint(B),se=this.applyToPoint(new aa(B.x+B.w,B.y+B.h));return new AA(H.x,H.y,se.x-H.x,se.y-H.y)},wt.prototype.clone=function(){var B=this.sx,H=this.shy,se=this.shx,ce=this.sy,we=this.tx,Ne=this.ty;return new wt(B,H,se,ce,we,Ne)},g.Matrix=wt;var Ti=g.matrixMult=function(B,H){return H.multiply(B)},Jr=new wt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Jr;var ur=function(B,H){if(!Xt[B]){var se=(H instanceof OA?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);H.id=se,Xt[B]=se,Ct[se]=H,$t.publish("addPattern",H)}};g.ShadingPattern=OA,g.TilingPattern=Eu,g.addShadingPattern=function(B,H){return _("addShadingPattern()"),ur(B,H),this},g.beginTilingPattern=function(B){_("beginTilingPattern()"),lA(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},g.endTilingPattern=function(B,H){_("endTilingPattern()"),H.stream=Te[j].join(`
`),ur(B,H),$t.publish("endTilingPattern",H),$i.pop().restore()};var Jn=g.__private__.newObject=function(){var B=Mn();return cr(B,!0),B},Mn=g.__private__.newObjectDeferred=function(){return ne++,Ae[ne]=function(){return Be},ne},cr=function(B,H){return H=typeof H=="boolean"&&H,Ae[B]=Be,H&&oe(B+" 0 obj"),B},qa=g.__private__.newAdditionalObject=function(){var B={objId:Mn(),content:""};return Fe.push(B),B},Ds=Mn(),Yr=Mn(),ki=g.__private__.decodeColorString=function(B){var H=B.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var se=parseFloat(H[0]);H=[se,se,se,"r"]}for(var ce="#",we=0;we<3;we++)ce+=("0"+Math.floor(255*parseFloat(H[we])).toString(16)).slice(-2);return ce},di=g.__private__.encodeColorString=function(B){var H;typeof B=="string"&&(B={ch1:B});var se=B.ch1,ce=B.ch2,we=B.ch3,Ne=B.ch4,Je=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var At=new CQ(se);if(At.ok)se=At.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var h=parseInt(se.substr(1),16);se=h>>16&255,ce=h>>8&255,we=255&h}if(ce===void 0||Ne===void 0&&se===ce&&ce===we)if(typeof se=="string")H=se+" "+Je[0];else switch(B.precision){case 2:H=O(se/255)+" "+Je[0];break;case 3:default:H=I(se/255)+" "+Je[0]}else if(Ne===void 0||ln(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return H=["1.","1.","1.",Je[1]].join(" ");if(typeof se=="string")H=[se,ce,we,Je[1]].join(" ");else switch(B.precision){case 2:H=[O(se/255),O(ce/255),O(we/255),Je[1]].join(" ");break;default:case 3:H=[I(se/255),I(ce/255),I(we/255),Je[1]].join(" ")}}else if(typeof se=="string")H=[se,ce,we,Ne,Je[2]].join(" ");else switch(B.precision){case 2:H=[O(se),O(ce),O(we),O(Ne),Je[2]].join(" ");break;case 3:default:H=[I(se),I(ce),I(we),I(Ne),Je[2]].join(" ")}return H},hi=g.__private__.getFilters=function(){return o},Yn=g.__private__.putStream=function(B){var H=(B=B||{}).data||"",se=B.filters||hi(),ce=B.alreadyAppliedFilters||[],we=B.addLength1||!1,Ne=H.length,Je=B.objectId,At=function(Nt){return Nt};if(u!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(At=xn.encryptor(Je,0));var h={};se===!0&&(se=["FlateEncode"]);var F=B.additionalKeyValues||[],D=(h=St.API.processDataByFilters!==void 0?St.API.processDataByFilters(H,se):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(h.data.length!==0&&(F.push({key:"Length",value:h.data.length}),we===!0&&F.push({key:"Length1",value:Ne})),D.length!=0)if(D.split("/").length-1==1)F.push({key:"Filter",value:D});else{F.push({key:"Filter",value:"["+D+"]"});for(var J=0;J<F.length;J+=1)if(F[J].key==="DecodeParms"){for(var ve=[],Ce=0;Ce<h.reverseChain.split("/").length-1;Ce+=1)ve.push("null");ve.push(F[J].value),F[J].value="["+ve.join(" ")+"]"}}oe("<<");for(var Ze=0;Ze<F.length;Ze++)oe("/"+F[Ze].key+" "+F[Ze].value);oe(">>"),h.data.length!==0&&(oe("stream"),oe(At(h.data)),oe("endstream"))},Ji=g.__private__.putPage=function(B){var H=B.number,se=B.data,ce=B.objId,we=B.contentsObjId;cr(ce,!0),oe("<</Type /Page"),oe("/Parent "+B.rootDictionaryObjId+" 0 R"),oe("/Resources "+B.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(S(B.mediaBox.bottomLeftX))+" "+parseFloat(S(B.mediaBox.bottomLeftY))+" "+S(B.mediaBox.topRightX)+" "+S(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&oe("/CropBox ["+S(B.cropBox.bottomLeftX)+" "+S(B.cropBox.bottomLeftY)+" "+S(B.cropBox.topRightX)+" "+S(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&oe("/BleedBox ["+S(B.bleedBox.bottomLeftX)+" "+S(B.bleedBox.bottomLeftY)+" "+S(B.bleedBox.topRightX)+" "+S(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&oe("/TrimBox ["+S(B.trimBox.bottomLeftX)+" "+S(B.trimBox.bottomLeftY)+" "+S(B.trimBox.topRightX)+" "+S(B.trimBox.topRightY)+"]"),B.artBox!==null&&oe("/ArtBox ["+S(B.artBox.bottomLeftX)+" "+S(B.artBox.bottomLeftY)+" "+S(B.artBox.topRightX)+" "+S(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&oe("/UserUnit "+B.userUnit),$t.publish("putPage",{objId:ce,pageContext:It[H],pageNumber:H,page:se}),oe("/Contents "+we+" 0 R"),oe(">>"),oe("endobj");var Ne=se.join(`
`);return x===w.ADVANCED&&(Ne+=`
Q`),cr(we,!0),Yn({data:Ne,filters:hi(),objectId:we}),oe("endobj"),ce},ho=g.__private__.putPages=function(){var B,H,se=[];for(B=1;B<=xt;B++)It[B].objId=Mn(),It[B].contentsObjId=Mn();for(B=1;B<=xt;B++)se.push(Ji({number:B,data:Te[B],objId:It[B].objId,contentsObjId:It[B].contentsObjId,mediaBox:It[B].mediaBox,cropBox:It[B].cropBox,bleedBox:It[B].bleedBox,trimBox:It[B].trimBox,artBox:It[B].artBox,userUnit:It[B].userUnit,rootDictionaryObjId:Ds,resourceDictionaryObjId:Yr}));cr(Ds,!0),oe("<</Type /Pages");var ce="/Kids [";for(H=0;H<xt;H++)ce+=se[H]+" 0 R ";oe(ce+"]"),oe("/Count "+xt),oe(">>"),oe("endobj"),$t.publish("postPutPages")},fo=function(B){$t.publish("putFont",{font:B,out:oe,newObject:Jn,putStream:Yn}),B.isAlreadyPutted!==!0&&(B.objectNumber=Jn(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Ad(B.postScriptName)),oe("/Subtype /Type1"),typeof B.encoding=="string"&&oe("/Encoding /"+B.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},po=function(){for(var B in tt)tt.hasOwnProperty(B)&&(c===!1||c===!0&&p.hasOwnProperty(B))&&fo(tt[B])},Xo=function(B){B.objectNumber=Jn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[S(B.x),S(B.y),S(B.x+B.width),S(B.y+B.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var se=B.pages[1].join(`
`);Yn({data:se,additionalKeyValues:H,objectId:B.objectNumber}),oe("endobj")},Zo=function(){for(var B in lr)lr.hasOwnProperty(B)&&Xo(lr[B])},pc=function(B,H){var se,ce=[],we=1/(H-1);for(se=0;se<1;se+=we)ce.push(se);if(ce.push(1),B[0].offset!=0){var Ne={offset:0,color:B[0].color};B.unshift(Ne)}if(B[B.length-1].offset!=1){var Je={offset:1,color:B[B.length-1].color};B.push(Je)}for(var At="",h=0,F=0;F<ce.length;F++){for(se=ce[F];se>B[h+1].offset;)h++;var D=B[h].offset,J=(se-D)/(B[h+1].offset-D),ve=B[h].color,Ce=B[h+1].color;At+=ee(Math.round((1-J)*ve[0]+J*Ce[0]).toString(16))+ee(Math.round((1-J)*ve[1]+J*Ce[1]).toString(16))+ee(Math.round((1-J)*ve[2]+J*Ce[2]).toString(16))}return At.trim()},$a=function(B,H){H||(H=21);var se=Jn(),ce=pc(B.colors,H),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+H+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yn({data:ce,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),oe("endobj"),B.objectNumber=Jn(),oe("<< /ShadingType "+B.type),oe("/ColorSpace /DeviceRGB");var Ne="/Coords ["+S(parseFloat(B.coords[0]))+" "+S(parseFloat(B.coords[1]))+" ";B.type===2?Ne+=S(parseFloat(B.coords[2]))+" "+S(parseFloat(B.coords[3])):Ne+=S(parseFloat(B.coords[2]))+" "+S(parseFloat(B.coords[3]))+" "+S(parseFloat(B.coords[4]))+" "+S(parseFloat(B.coords[5])),oe(Ne+="]"),B.matrix&&oe("/Matrix ["+B.matrix.toString()+"]"),oe("/Function "+se+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},gc=function(B,H){var se=Mn(),ce=Jn();H.push({resourcesOid:se,objectOid:ce}),B.objectNumber=ce;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+B.boundingBox.map(S).join(" ")+"]"}),we.push({key:"XStep",value:S(B.xStep)}),we.push({key:"YStep",value:S(B.yStep)}),we.push({key:"Resources",value:se+" 0 R"}),B.matrix&&we.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),Yn({data:B.stream,additionalKeyValues:we,objectId:B.objectNumber}),oe("endobj")},go=function(B){var H;for(H in Ct)Ct.hasOwnProperty(H)&&(Ct[H]instanceof OA?$a(Ct[H]):Ct[H]instanceof Eu&&gc(Ct[H],B))},mo=function(B){for(var H in B.objectNumber=Jn(),oe("<<"),B)switch(H){case"opacity":oe("/ca "+O(B[H]));break;case"stroke-opacity":oe("/CA "+O(B[H]))}oe(">>"),oe("endobj")},Os=function(){var B;for(B in Wt)Wt.hasOwnProperty(B)&&mo(Wt[B])},ea=function(){for(var B in oe("/XObject <<"),lr)lr.hasOwnProperty(B)&&lr[B].objectNumber>=0&&oe("/"+B+" "+lr[B].objectNumber+" 0 R");$t.publish("putXobjectDict"),oe(">>")},Ih=function(){xn.oid=Jn(),oe("<<"),oe("/Filter /Standard"),oe("/V "+xn.v),oe("/R "+xn.r),oe("/U <"+xn.toHexString(xn.U)+">"),oe("/O <"+xn.toHexString(xn.O)+">"),oe("/P "+xn.P),oe(">>"),oe("endobj")},Dl=function(){for(var B in oe("/Font <<"),tt)tt.hasOwnProperty(B)&&(c===!1||c===!0&&p.hasOwnProperty(B))&&oe("/"+B+" "+tt[B].objectNumber+" 0 R");oe(">>")},mc=function(){if(Object.keys(Ct).length>0){for(var B in oe("/Shading <<"),Ct)Ct.hasOwnProperty(B)&&Ct[B]instanceof OA&&Ct[B].objectNumber>=0&&oe("/"+B+" "+Ct[B].objectNumber+" 0 R");$t.publish("putShadingPatternDict"),oe(">>")}},ta=function(B){if(Object.keys(Ct).length>0){for(var H in oe("/Pattern <<"),Ct)Ct.hasOwnProperty(H)&&Ct[H]instanceof g.TilingPattern&&Ct[H].objectNumber>=0&&Ct[H].objectNumber<B&&oe("/"+H+" "+Ct[H].objectNumber+" 0 R");$t.publish("putTilingPatternDict"),oe(">>")}},Ol=function(){if(Object.keys(Wt).length>0){var B;for(B in oe("/ExtGState <<"),Wt)Wt.hasOwnProperty(B)&&Wt[B].objectNumber>=0&&oe("/"+B+" "+Wt[B].objectNumber+" 0 R");$t.publish("putGStateDict"),oe(">>")}},bn=function(B){cr(B.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Dl(),mc(),ta(B.objectOid),Ol(),ea(),oe(">>"),oe("endobj")},Ml=function(){var B=[];po(),Os(),Zo(),go(B),$t.publish("putResources"),B.forEach(bn),bn({resourcesOid:Yr,objectOid:Number.MAX_SAFE_INTEGER}),$t.publish("postPutResources")},jl=function(){$t.publish("putAdditionalObjects");for(var B=0;B<Fe.length;B++){var H=Fe[B];cr(H.objId,!0),oe(H.content),oe("endobj")}$t.publish("postPutAdditionalObjects")},vc=function(B){vt[B.fontName]=vt[B.fontName]||{},vt[B.fontName][B.fontStyle]=B.id},Hl=function(B,H,se,ce,we){var Ne={id:"F"+(Object.keys(tt).length+1).toString(10),postScriptName:B,fontName:H,fontStyle:se,encoding:ce,isStandardFont:we||!1,metadata:{}};return $t.publish("addFont",{font:Ne,instance:this}),tt[Ne.id]=Ne,vc(Ne),Ne.id},wc=function(B){for(var H=0,se=Ke.length;H<se;H++){var ce=Hl.call(this,B[H][0],B[H][1],B[H][2],Ke[H][3],!0);c===!1&&(p[ce]=!0);var we=B[H][0].split("-");vc({id:ce,fontName:we[0],fontStyle:we[1]||""})}$t.publish("addFonts",{fonts:tt,dictionary:vt})},Ni=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch(ce){var H=ce.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var se="Error in function "+H.split(`
`)[0].split("<")[0]+": "+ce.message;if(!Tt.console)throw new Error(se);Tt.console.error(se,ce),Tt.alert&&alert(se)}},B.foo.bar=B,B.foo},Ja=function(B,H){var se,ce,we,Ne,Je,At,h,F,D;if(we=(H=H||{}).sourceEncoding||"Unicode",Je=H.outputEncoding,(H.autoencode||Je)&&tt[mt].metadata&&tt[mt].metadata[we]&&tt[mt].metadata[we].encoding&&(Ne=tt[mt].metadata[we].encoding,!Je&&tt[mt].encoding&&(Je=tt[mt].encoding),!Je&&Ne.codePages&&(Je=Ne.codePages[0]),typeof Je=="string"&&(Je=Ne[Je]),Je)){for(h=!1,At=[],se=0,ce=B.length;se<ce;se++)(F=Je[B.charCodeAt(se)])?At.push(String.fromCharCode(F)):At.push(B[se]),At[se].charCodeAt(0)>>8&&(h=!0);B=At.join("")}for(se=B.length;h===void 0&&se!==0;)B.charCodeAt(se-1)>>8&&(h=!0),se--;if(!h)return B;for(At=H.noBOM?[]:[254,255],se=0,ce=B.length;se<ce;se++){if((D=(F=B.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");At.push(D),At.push(F-(D<<8))}return String.fromCharCode.apply(void 0,At)},jn=g.__private__.pdfEscape=g.pdfEscape=function(B,H){return Ja(B,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fi=g.__private__.beginPage=function(B){Te[++xt]=[],It[xt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},Vl(xt),Ee(Te[j])},na=function(B,H){var se,ce,we;switch(n=H||n,typeof B=="string"&&(se=y(B.toLowerCase()),Array.isArray(se)&&(ce=se[0],we=se[1])),Array.isArray(B)&&(ce=B[0]*ue,we=B[1]*ue),isNaN(ce)&&(ce=i[0],we=i[1]),(ce>14400||we>14400)&&(gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),we=Math.min(14400,we)),i=[ce,we],n.substr(0,1)){case"l":we>ce&&(i=[we,ce]);break;case"p":ce>we&&(i=[we,ce])}fi(i),ql(Wl),oe(Lr),Yl!==0&&oe(Yl+" J"),aA!==0&&oe(aA+" j"),$t.publish("addPage",{pageNumber:xt})},Ya=function(B){B>0&&B<=xt&&(Te.splice(B,1),It.splice(B,1),xt--,j>xt&&(j=xt),this.setPage(j))},Vl=function(B){B>0&&B<=xt&&(j=B)},sn=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Te.length-1},ra=function(B,H,se){var ce,we=void 0;return se=se||{},B=B!==void 0?B:tt[mt].fontName,H=H!==void 0?H:tt[mt].fontStyle,ce=B.toLowerCase(),vt[ce]!==void 0&&vt[ce][H]!==void 0?we=vt[ce][H]:vt[B]!==void 0&&vt[B][H]!==void 0?we=vt[B][H]:se.disableWarning===!1&&gn.warn("Unable to look up font label for font '"+B+"', '"+H+"'. Refer to getFontList() for available fonts."),we||se.noFallback||(we=vt.times[H])==null&&(we=vt.times.normal),we},ia=g.__private__.putInfo=function(){var B=Jn(),H=function(ce){return ce};for(var se in u!==null&&(H=xn.encryptor(B,0)),oe("<<"),oe("/Producer ("+jn(H("jsPDF "+St.version))+")"),We)We.hasOwnProperty(se)&&We[se]&&oe("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+jn(H(We[se]))+")");oe("/CreationDate ("+jn(H(de))+")"),oe(">>"),oe("endobj")},Ms=g.__private__.putCatalog=function(B){var H=(B=B||{}).rootDictionaryObjId||Ds;switch(Jn(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+H+" 0 R"),fe||(fe="fullwidth"),fe){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+fe;se.substr(se.length-1)==="%"&&(fe=parseInt(fe)/100),typeof fe=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+O(fe)+"]")}switch(Pe||(Pe="continuous"),Pe){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}$e&&oe("/PageMode /"+$e),$t.publish("putCatalog"),oe(">>"),oe("endobj")},Eh=g.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(ne+1)),oe("/Root "+ne+" 0 R"),oe("/Info "+(ne-1)+" 0 R"),u!==null&&oe("/Encrypt "+xn.oid+" 0 R"),oe("/ID [ <"+te+"> <"+te+"> ]"),oe(">>")},yc=g.__private__.putHeader=function(){oe("%PDF-"+v),oe("%")},Sh=g.__private__.putXRef=function(){var B="0000000000";oe("xref"),oe("0 "+(ne+1)),oe("0000000000 65535 f ");for(var H=1;H<=ne;H++)typeof Ae[H]=="function"?oe((B+Ae[H]()).slice(-10)+" 00000 n "):Ae[H]!==void 0?oe((B+Ae[H]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},js=g.__private__.buildDocument=function(){Ve(),Ee(ge),$t.publish("buildDocument"),yc(),ho(),jl(),Ml(),u!==null&&Ih(),ia(),Ms();var B=Be;return Sh(),Eh(),oe("startxref"),oe(""+B),oe("%%EOF"),Ee(Te[j]),ge.join(`
`)},Xa=g.__private__.getBlob=function(B){return new Blob([it(B)],{type:"application/pdf"})},Za=g.output=g.__private__.output=Ni(function(B,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",B){case void 0:return js();case"save":g.save(H.filename);break;case"arraybuffer":return it(js());case"blob":return Xa(js());case"bloburi":case"bloburl":if(Tt.URL!==void 0&&typeof Tt.URL.createObjectURL=="function")return Tt.URL&&Tt.URL.createObjectURL(Xa(js()))||void 0;gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",ce=js();try{se=VB(ce)}catch{se=VB(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+H.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(we=H.pdfObjectUrl,Ne="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",At=Tt.open();return At!==null&&At.document.write(Je),At}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',F=Tt.open();if(F!==null){F.document.write(h);var D=this;F.document.documentElement.querySelector("#pdfViewer").onload=function(){F.document.title=H.filename,F.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(D.output("bloburl"))}}return F}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var J='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',ve=Tt.open();if(ve!==null&&(ve.document.write(J),ve.document.title=H.filename),ve||typeof safari>"u")return ve;break;case"datauri":case"dataurl":return Tt.document.location.href=this.output("datauristring",H);default:return null}}),vo=function(B){return Array.isArray(ps)===!0&&ps.indexOf(B)>-1};switch(r){case"pt":ue=1;break;case"mm":ue=72/25.4;break;case"cm":ue=72/2.54;break;case"in":ue=72;break;case"px":ue=vo("px_scaling")==1?.75:96/72;break;case"pc":case"em":ue=12;break;case"ex":ue=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ue=r}var xn=null;re(),$();var Bc=function(B){return u!==null?xn.encryptor(B,0):function(H){return H}},Kl=g.__private__.getPageInfo=g.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[B].objId,pageNumber:B,pageContext:It[B]}},kt=g.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in It)if(It[H].objId===B)break;return Kl(H)},wo=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:It[j].objId,pageNumber:j,pageContext:It[j]}};g.addPage=function(){return na.apply(this,arguments),this},g.setPage=function(){return Vl.apply(this,arguments),Ee.call(this,Te[j]),this},g.insertPage=function(B){return this.addPage(),this.movePage(j,B),this},g.movePage=function(B,H){var se,ce;if(B>H){se=Te[B],ce=It[B];for(var we=B;we>H;we--)Te[we]=Te[we-1],It[we]=It[we-1];Te[H]=se,It[H]=ce,this.setPage(H)}else if(B<H){se=Te[B],ce=It[B];for(var Ne=B;Ne<H;Ne++)Te[Ne]=Te[Ne+1],It[Ne]=It[Ne+1];Te[H]=se,It[H]=ce,this.setPage(H)}return this},g.deletePage=function(){return Ya.apply(this,arguments),this},g.__private__.text=g.text=function(B,H,se,ce,we){var Ne,Je,At,h,F,D,J,ve,Ce,Ze=(ce=ce||{}).scope||this;if(typeof B=="number"&&typeof H=="number"&&(typeof se=="string"||Array.isArray(se))){var Nt=se;se=H,H=B,B=Nt}if(arguments[3]instanceof wt?(_("The transform parameter of text() with a Matrix value"),Ce=we):(At=arguments[4],h=arguments[5],ln(J=arguments[3])==="object"&&J!==null||(typeof At=="string"&&(h=At,At=null),typeof J=="string"&&(h=J,J=null),typeof J=="number"&&(At=J,J=null),ce={flags:J,angle:At,align:h})),isNaN(H)||isNaN(se)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Ze;var jt="",Ut=!1,nn=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:tn,fn=Ze.internal.scaleFactor;function Gs(mn){return mn=mn.split("	").join(Array(ce.TabLen||9).join(" ")),jn(mn,J)}function Pr(mn){for(var vn,Zn=mn.concat(),yr=[],da=Zn.length;da--;)typeof(vn=Zn.shift())=="string"?yr.push(vn):Array.isArray(mn)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?yr.push(vn[0]):yr.push([vn[0],vn[1],vn[2]]);return yr}function xo(mn,vn){var Zn;if(typeof mn=="string")Zn=vn(mn)[0];else if(Array.isArray(mn)){for(var yr,da,Rh=mn.concat(),Qc=[],Ng=Rh.length;Ng--;)typeof(yr=Rh.shift())=="string"?Qc.push(vn(yr)[0]):Array.isArray(yr)&&typeof yr[0]=="string"&&(da=vn(yr[0],yr[1],yr[2]),Qc.push([da[0],da[1],da[2]]));Zn=Qc}return Zn}var _o=!1,Th=!0;if(typeof B=="string")_o=!0;else if(Array.isArray(B)){var kh=B.concat();Je=[];for(var Ic,Rr=kh.length;Rr--;)(typeof(Ic=kh.shift())!="string"||Array.isArray(Ic)&&typeof Ic[0]!="string")&&(Th=!1);_o=Th}if(_o===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var Ec=ae/Ze.internal.scaleFactor,Sc=Ec*(nn-1);switch(ce.baseline){case"bottom":se-=Sc;break;case"top":se+=Ec-Sc;break;case"hanging":se+=Ec-2*Sc;break;case"middle":se+=Ec/2-Sc}if((D=ce.maxWidth||0)>0&&(typeof B=="string"?B=Ze.splitTextToSize(B,D):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(mn,vn){return mn.concat(Ze.splitTextToSize(vn,D))},[]))),Ne={text:B,x:H,y:se,options:ce,mutex:{pdfEscape:jn,activeFontKey:mt,fonts:tt,activeFontSize:ae}},$t.publish("preProcessText",Ne),B=Ne.text,At=(ce=Ne.options).angle,!(Ce instanceof wt)&&At&&typeof At=="number"){At*=Math.PI/180,ce.rotationDirection===0&&(At=-At),x===w.ADVANCED&&(At=-At);var Fc=Math.cos(At),Nh=Math.sin(At);Ce=new wt(Fc,Nh,-Nh,Fc,0,0)}else At&&At instanceof wt&&(Ce=At);x!==w.ADVANCED||Ce||(Ce=Jr),(F=ce.charSpace||oa)!==void 0&&(jt+=S(T(F))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ve=ce.horizontalScale)!==void 0&&(jt+=S(100*ve)+` Tz
`),ce.lang;var Ui=-1,Kw=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Uh=Ze.internal.getCurrentPageInfo().pageContext;switch(Kw){case 0:case!1:case"fill":Ui=0;break;case 1:case!0:case"stroke":Ui=1;break;case 2:case"fillThenStroke":Ui=2;break;case 3:case"invisible":Ui=3;break;case 4:case"fillAndAddForClipping":Ui=4;break;case 5:case"strokeAndAddPathForClipping":Ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ui=6;break;case 7:case"addToPathForClipping":Ui=7}var Sg=Uh.usedRenderingMode!==void 0?Uh.usedRenderingMode:-1;Ui!==-1?jt+=Ui+` Tr
`:Sg!==-1&&(jt+=`0 Tr
`),Ui!==-1&&(Uh.usedRenderingMode=Ui),h=ce.align||"left";var ms,Tc=ae*nn,Fg=Ze.internal.pageSize.getWidth(),Tg=tt[mt];F=ce.charSpace||oa,D=ce.maxWidth||0,J=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var dA=[],Xl=function(mn){return Ze.getStringUnitWidth(mn,{font:Tg,charSpace:F,fontSize:ae,doKerning:!1})*ae/fn};if(Object.prototype.toString.call(B)==="[object Array]"){var Qi;Je=Pr(B),h!=="left"&&(ms=Je.map(Xl));var pi,hA=0;if(h==="right"){H-=ms[0],B=[],Rr=Je.length;for(var la=0;la<Rr;la++)la===0?(pi=Zi(H),Qi=wr(se)):(pi=T(hA-ms[la]),Qi=-Tc),B.push([Je[la],pi,Qi]),hA=ms[la]}else if(h==="center"){H-=ms[0]/2,B=[],Rr=Je.length;for(var ua=0;ua<Rr;ua++)ua===0?(pi=Zi(H),Qi=wr(se)):(pi=T((hA-ms[ua])/2),Qi=-Tc),B.push([Je[ua],pi,Qi]),hA=ms[ua]}else if(h==="left"){B=[],Rr=Je.length;for(var kc=0;kc<Rr;kc++)B.push(Je[kc])}else if(h==="justify"&&Tg.encoding==="Identity-H"){B=[],Rr=Je.length,D=D!==0?D:Fg;for(var ca=0,Xn=0;Xn<Rr;Xn++)if(Qi=Xn===0?wr(se):-Tc,pi=Xn===0?Zi(H):ca,Xn<Rr-1){var Qh=T((D-ms[Xn])/(Je[Xn].split(" ").length-1)),gi=Je[Xn].split(" ");B.push([gi[0]+" ",pi,Qi]),ca=0;for(var vs=1;vs<gi.length;vs++){var Nc=(Xl(gi[vs-1]+" "+gi[vs])-Xl(gi[vs]))*fn+Qh;vs==gi.length-1?B.push([gi[vs],Nc,0]):B.push([gi[vs]+" ",Nc,0]),ca-=Nc}}else B.push([Je[Xn],pi,Qi]);B.push(["",ca,0])}else{if(h!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],Rr=Je.length,D=D!==0?D:Fg,Xn=0;Xn<Rr;Xn++)Qi=Xn===0?wr(se):-Tc,pi=Xn===0?Zi(H):0,Xn<Rr-1?dA.push(S(T((D-ms[Xn])/(Je[Xn].split(" ").length-1)))):dA.push(0),B.push([Je[Xn],pi,Qi])}}var kg=typeof ce.R2L=="boolean"?ce.R2L:Ue;kg===!0&&(B=xo(B,function(mn,vn,Zn){return[mn.split("").reverse().join(""),vn,Zn]})),Ne={text:B,x:H,y:se,options:ce,mutex:{pdfEscape:jn,activeFontKey:mt,fonts:tt,activeFontSize:ae}},$t.publish("postProcessText",Ne),B=Ne.text,Ut=Ne.mutex.isHex||!1;var Lh=tt[mt].encoding;Lh!=="WinAnsiEncoding"&&Lh!=="StandardEncoding"||(B=xo(B,function(mn,vn,Zn){return[Gs(mn),vn,Zn]})),Je=Pr(B),B=[];for(var Zl,eu,fA,tu=0,Uc=1,nu=Array.isArray(Je[0])?Uc:tu,pA="",Ph=function(mn,vn,Zn){var yr="";return Zn instanceof wt?(Zn=typeof ce.angle=="number"?Ti(Zn,new wt(1,0,0,1,mn,vn)):Ti(new wt(1,0,0,1,mn,vn),Zn),x===w.ADVANCED&&(Zn=Ti(new wt(1,0,0,-1,0,0),Zn)),yr=Zn.join(" ")+` Tm
`):yr=S(mn)+" "+S(vn)+` Td
`,yr},ws=0;ws<Je.length;ws++){switch(pA="",nu){case Uc:fA=(Ut?"<":"(")+Je[ws][0]+(Ut?">":")"),Zl=parseFloat(Je[ws][1]),eu=parseFloat(Je[ws][2]);break;case tu:fA=(Ut?"<":"(")+Je[ws]+(Ut?">":")"),Zl=Zi(H),eu=wr(se)}dA!==void 0&&dA[ws]!==void 0&&(pA=dA[ws]+` Tw
`),ws===0?B.push(pA+Ph(Zl,eu,Ce)+fA):nu===tu?B.push(pA+fA):nu===Uc&&B.push(pA+Ph(Zl,eu,Ce)+fA)}B=nu===tu?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var ys=`BT
/`;return ys+=mt+" "+ae+` Tf
`,ys+=S(ae*nn)+` TL
`,ys+=Ks+`
`,ys+=jt,ys+=B,oe(ys+="ET"),p[mt]=!0,Ze};var Fh=g.__private__.clip=g.clip=function(B){return oe(B==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Fh("evenodd")},g.__private__.discardPath=g.discardPath=function(){return oe("n"),this};var gs=g.__private__.isValidStyle=function(B){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(H=!0),H};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(B){return gs(B)&&(l=B),this};var bc=g.__private__.getStyle=g.getStyle=function(B){var H=l;switch(B){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=B}return H},Yi=g.close=function(){return oe("h"),this};g.stroke=function(){return oe("S"),this},g.fill=function(B){return eA("f",B),this},g.fillEvenOdd=function(B){return eA("f*",B),this},g.fillStroke=function(B){return eA("B",B),this},g.fillStrokeEvenOdd=function(B){return eA("B*",B),this};var eA=function(B,H){ln(H)==="object"?nA(H,B):oe(B)},zl=function(B){B===null||x===w.ADVANCED&&B===void 0||(B=bc(B),oe(B))};function tA(B,H,se,ce,we){var Ne=new Eu(H||this.boundingBox,se||this.xStep,ce||this.yStep,this.gState,we||this.matrix);Ne.stream=this.stream;var Je=B+"$$"+this.cloneIndex+++"$$";return ur(Je,Ne),Ne}var nA=function(B,H){var se=Xt[B.key],ce=Ct[se];if(ce instanceof OA)oe("q"),oe(xc(H)),ce.gState&&g.setGState(ce.gState),oe(B.matrix.toString()+" cm"),oe("/"+se+" sh"),oe("Q");else if(ce instanceof Eu){var we=new wt(1,0,0,-1,0,Xr());B.matrix&&(we=we.multiply(B.matrix||Jr),se=tA.call(ce,B.key,B.boundingBox,B.xStep,B.yStep,we).id),oe("q"),oe("/Pattern cs"),oe("/"+se+" scn"),ce.gState&&g.setGState(ce.gState),oe(H),oe("Q")}},xc=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Hs=g.moveTo=function(B,H){return oe(S(T(B))+" "+S(X(H))+" m"),this},Xi=g.lineTo=function(B,H){return oe(S(T(B))+" "+S(X(H))+" l"),this},Vs=g.curveTo=function(B,H,se,ce,we,Ne){return oe([S(T(B)),S(X(H)),S(T(se)),S(X(ce)),S(T(we)),S(X(Ne)),"c"].join(" ")),this};g.__private__.line=g.line=function(B,H,se,ce,we){if(isNaN(B)||isNaN(H)||isNaN(se)||isNaN(ce)||!gs(we))throw new Error("Invalid arguments passed to jsPDF.line");return x===w.COMPAT?this.lines([[se-B,ce-H]],B,H,[1,1],we||"S"):this.lines([[se-B,ce-H]],B,H,[1,1]).stroke()},g.__private__.lines=g.lines=function(B,H,se,ce,we,Ne){var Je,At,h,F,D,J,ve,Ce,Ze,Nt,jt,Ut;if(typeof B=="number"&&(Ut=se,se=H,H=B,B=Ut),ce=ce||[1,1],Ne=Ne||!1,isNaN(H)||isNaN(se)||!Array.isArray(B)||!Array.isArray(ce)||!gs(we)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Hs(H,se),Je=ce[0],At=ce[1],F=B.length,Nt=H,jt=se,h=0;h<F;h++)(D=B[h]).length===2?(Nt=D[0]*Je+Nt,jt=D[1]*At+jt,Xi(Nt,jt)):(J=D[0]*Je+Nt,ve=D[1]*At+jt,Ce=D[2]*Je+Nt,Ze=D[3]*At+jt,Nt=D[4]*Je+Nt,jt=D[5]*At+jt,Vs(J,ve,Ce,Ze,Nt,jt));return Ne&&Yi(),zl(we),this},g.path=function(B){for(var H=0;H<B.length;H++){var se=B[H],ce=se.c;switch(se.op){case"m":Hs(ce[0],ce[1]);break;case"l":Xi(ce[0],ce[1]);break;case"c":Vs.apply(this,ce);break;case"h":Yi()}}return this},g.__private__.rect=g.rect=function(B,H,se,ce,we){if(isNaN(B)||isNaN(H)||isNaN(se)||isNaN(ce)||!gs(we))throw new Error("Invalid arguments passed to jsPDF.rect");return x===w.COMPAT&&(ce=-ce),oe([S(T(B)),S(X(H)),S(T(se)),S(T(ce)),"re"].join(" ")),zl(we),this},g.__private__.triangle=g.triangle=function(B,H,se,ce,we,Ne,Je){if(isNaN(B)||isNaN(H)||isNaN(se)||isNaN(ce)||isNaN(we)||isNaN(Ne)||!gs(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-B,ce-H],[we-se,Ne-ce],[B-we,H-Ne]],B,H,[1,1],Je,!0),this},g.__private__.roundedRect=g.roundedRect=function(B,H,se,ce,we,Ne,Je){if(isNaN(B)||isNaN(H)||isNaN(se)||isNaN(ce)||isNaN(we)||isNaN(Ne)||!gs(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var At=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*se),Ne=Math.min(Ne,.5*ce),this.lines([[se-2*we,0],[we*At,0,we,Ne-Ne*At,we,Ne],[0,ce-2*Ne],[0,Ne*At,-we*At,Ne,-we,Ne],[2*we-se,0],[-we*At,0,-we,-Ne*At,-we,-Ne],[0,2*Ne-ce],[0,-Ne*At,we*At,-Ne,we,-Ne]],B+we,H,[1,1],Je,!0),this},g.__private__.ellipse=g.ellipse=function(B,H,se,ce,we){if(isNaN(B)||isNaN(H)||isNaN(se)||isNaN(ce)||!gs(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*se,Je=4/3*(Math.SQRT2-1)*ce;return Hs(B+se,H),Vs(B+se,H-Je,B+Ne,H-ce,B,H-ce),Vs(B-Ne,H-ce,B-se,H-Je,B-se,H),Vs(B-se,H+Je,B-Ne,H+ce,B,H+ce),Vs(B+Ne,H+ce,B+se,H+Je,B+se,H),zl(we),this},g.__private__.circle=g.circle=function(B,H,se,ce){if(isNaN(B)||isNaN(H)||isNaN(se)||!gs(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,H,se,se,ce)},g.setFont=function(B,H,se){return se&&(H=M(H,se)),mt=ra(B,H,{disableWarning:!1}),this};var Gl=g.__private__.getFont=g.getFont=function(){return tt[ra.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var B,H,se={};for(B in vt)if(vt.hasOwnProperty(B))for(H in se[B]=[],vt[B])vt[B].hasOwnProperty(H)&&se[B].push(H);return se},g.addFont=function(B,H,se,ce,we){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(se=M(se,ce)),we=we||"Identity-H",Hl.call(this,B,H,se,we)};var tn,Wl=t.lineWidth||.200025,rA=g.__private__.getLineWidth=g.getLineWidth=function(){return Wl},ql=g.__private__.setLineWidth=g.setLineWidth=function(B){return Wl=B,oe(S(T(B))+" w"),this};g.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(B,H){if(B=B||[],H=H||0,isNaN(H)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(se){return S(T(se))}).join(" "),H=S(T(H)),oe("["+B+"] "+H+" d"),this};var $l=g.__private__.getLineHeight=g.getLineHeight=function(){return ae*tn};g.__private__.getLineHeight=g.getLineHeight=function(){return ae*tn};var Jl=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(tn=B),this},sa=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return tn};Jl(t.lineHeight);var Zi=g.__private__.getHorizontalCoordinate=function(B){return T(B)},wr=g.__private__.getVerticalCoordinate=function(B){return x===w.ADVANCED?B:It[j].mediaBox.topRightY-It[j].mediaBox.bottomLeftY-T(B)},_c=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(B){return S(Zi(B))},yo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(B){return S(wr(B))},Lr=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ki(Lr)},g.__private__.setStrokeColor=g.setDrawColor=function(B,H,se,ce){return Lr=di({ch1:B,ch2:H,ch3:se,ch4:ce,pdfColorType:"draw",precision:2}),oe(Lr),this};var iA=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ki(iA)},g.__private__.setFillColor=g.setFillColor=function(B,H,se,ce){return iA=di({ch1:B,ch2:H,ch3:se,ch4:ce,pdfColorType:"fill",precision:2}),oe(iA),this};var Ks=t.textColor||"0 g",sA=g.__private__.getTextColor=g.getTextColor=function(){return ki(Ks)};g.__private__.setTextColor=g.setTextColor=function(B,H,se,ce){return Ks=di({ch1:B,ch2:H,ch3:se,ch4:ce,pdfColorType:"text",precision:3}),this};var oa=t.charSpace,oA=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(oa||0)};g.__private__.setCharSpace=g.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return oa=B,this};var Yl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(B){var H=g.CapJoinStyles[B];if(H===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yl=H,oe(H+" J"),this};var aA=0;g.__private__.setLineJoin=g.setLineJoin=function(B){var H=g.CapJoinStyles[B];if(H===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return aA=H,oe(H+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(S(T(B))+" M"),this},g.GState=Xp,g.setGState=function(B){(B=typeof B=="string"?Wt[Gt[B]]:Bo(null,B)).equals(vr)||(oe("/"+B.id+" gs"),vr=B)};var Bo=function(B,H){if(!B||!Gt[B]){var se=!1;for(var ce in Wt)if(Wt.hasOwnProperty(ce)&&Wt[ce].equals(H)){se=!0;break}if(se)H=Wt[ce];else{var we="GS"+(Object.keys(Wt).length+1).toString(10);Wt[we]=H,H.id=we}return B&&(Gt[B]=H.id),$t.publish("addGState",H),H}};g.addGState=function(B,H){return Bo(B,H),this},g.saveGraphicsState=function(){return oe("q"),Pt.push({key:mt,size:ae,color:Ks}),this},g.restoreGraphicsState=function(){oe("Q");var B=Pt.pop();return mt=B.key,ae=B.size,Ks=B.color,vr=null,this},g.setCurrentTransformationMatrix=function(B){return oe(B.toString()+" cm"),this},g.comment=function(B){return oe("#"+B),this};var aa=function(B,H){var se=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Ne){isNaN(Ne)||(se=parseFloat(Ne))}});var ce=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ne){isNaN(Ne)||(ce=parseFloat(Ne))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Ne){we=Ne.toString()}}),this},AA=function(B,H,se,ce){aa.call(this,B,H),this.type="rect";var we=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Je){isNaN(Je)||(we=parseFloat(Je))}});var Ne=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Je){isNaN(Je)||(Ne=parseFloat(Je))}}),this},Aa=function(){this.page=xt,this.currentPage=j,this.pages=Te.slice(0),this.pagesContext=It.slice(0),this.x=Qe,this.y=Re,this.matrix=lt,this.width=bo(j),this.height=Xr(j),this.outputDestination=Le,this.id="",this.objectNumber=-1};Aa.prototype.restore=function(){xt=this.page,j=this.currentPage,It=this.pagesContext,Te=this.pages,Qe=this.x,Re=this.y,lt=this.matrix,uA(j,this.width),cA(j,this.height),Le=this.outputDestination};var lA=function(B,H,se,ce,we){$i.push(new Aa),xt=j=0,Te=[],Qe=B,Re=H,lt=we,fi([se,ce])},Cc=function(B){if($r[B])$i.pop().restore();else{var H=new Aa,se="Xo"+(Object.keys(lr).length+1).toString(10);H.id=se,$r[B]=se,lr[se]=H,$t.publish("addFormObject",H),$i.pop().restore()}};for(var zs in g.beginFormObject=function(B,H,se,ce,we){return lA(B,H,se,ce,we),this},g.endFormObject=function(B){return Cc(B),this},g.doFormObject=function(B,H){var se=lr[$r[B]];return oe("q"),oe(H.toString()+" cm"),oe("/"+se.id+" Do"),oe("Q"),this},g.getFormObject=function(B){var H=lr[$r[B]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},g.save=function(B,H){return B=B||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(du(Xa(js()),B),typeof du.unload=="function"&&Tt.setTimeout&&setTimeout(du.unload,911),this):new Promise(function(se,ce){try{var we=du(Xa(js()),B);typeof du.unload=="function"&&Tt.setTimeout&&setTimeout(du.unload,911),se(we)}catch(Ne){ce(Ne.message)}})},St.API)St.API.hasOwnProperty(zs)&&(zs==="events"&&St.API.events.length?function(B,H){var se,ce,we;for(we=H.length-1;we!==-1;we--)se=H[we][0],ce=H[we][1],B.subscribe.apply(B,[se].concat(typeof ce=="function"?[ce]:ce))}($t,St.API.events):g[zs]=St.API[zs]);var bo=g.getPageWidth=function(B){return(It[B=B||j].mediaBox.topRightX-It[B].mediaBox.bottomLeftX)/ue},uA=g.setPageWidth=function(B,H){It[B].mediaBox.topRightX=H*ue+It[B].mediaBox.bottomLeftX},Xr=g.getPageHeight=function(B){return(It[B=B||j].mediaBox.topRightY-It[B].mediaBox.bottomLeftY)/ue},cA=g.setPageHeight=function(B,H){It[B].mediaBox.topRightY=H*ue+It[B].mediaBox.bottomLeftY};return g.internal={pdfEscape:jn,getStyle:bc,getFont:Gl,getFontSize:be,getCharSpace:oA,getTextColor:sA,getLineHeight:$l,getLineHeightFactor:sa,getLineWidth:rA,write:dt,getHorizontalCoordinate:Zi,getVerticalCoordinate:wr,getCoordinateString:_c,getVerticalCoordinateString:yo,collections:{},newObject:Jn,newAdditionalObject:qa,newObjectDeferred:Mn,newObjectDeferredBegin:cr,getFilters:hi,putStream:Yn,events:$t,scaleFactor:ue,pageSize:{getWidth:function(){return bo(j)},setWidth:function(B){uA(j,B)},getHeight:function(){return Xr(j)},setHeight:function(B){cA(j,B)}},encryptionOptions:u,encryption:xn,getEncryptor:Bc,output:Za,getNumberOfPages:sn,pages:Te,out:oe,f2:O,f3:I,getPageInfo:Kl,getPageInfoByObjId:kt,getCurrentPageInfo:wo,getPDFVersion:b,Point:aa,Rectangle:AA,Matrix:wt,hasHotfix:vo},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return bo(j)},set:function(B){uA(j,B)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Xr(j)},set:function(B){cA(j,B)},enumerable:!0,configurable:!0}),wc.call(g,Ke),mt="F1",na(i,n),$t.publish("initialized"),g}ad.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},ad.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ad.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},ad.prototype.processOwnerPassword=function(t,e){return zB(KB(e).substr(0,5),t)},ad.prototype.encryptor=function(t,e){var n=KB(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return zB(n,r)}},Xp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||ln(t)!==ln(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},St.API={events:[]},St.version="2.5.2";var Vn=St.API,Q_=1,fc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(t){return t.toFixed(2)},FA=function(t){return t.toFixed(5)};Vn.__acroform__={};var qi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},C4=function(t){return t*Q_},So=function(t){var e=new FQ,n=Bt.internal.getHeight(t)||0,r=Bt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Qt(r)),Number(Qt(n))],e},pY=Vn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},gY=Vn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},mY=Vn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},rr=Vn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return mY(t,e-1)},ir=Vn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pY(t,e-1)},sr=Vn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gY(t,e-1)},vY=Vn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],A={};return A.lowerLeft_X=n(i)||0,A.lowerLeft_Y=r(s+a)||0,A.upperRight_X=n(i+o)||0,A.upperRight_Y=r(s)||0,[Number(Qt(A.lowerLeft_X)),Number(Qt(A.lowerLeft_Y)),Number(Qt(A.upperRight_X)),Number(Qt(A.upperRight_Y))]},wY=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=GB(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Qt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=So(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},GB=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=n,o=Bt.internal.getHeight(t)||0;o=o<0?-o:o;var a=Bt.internal.getWidth(t)||0;a=a<0?-a:a;var A=function(I,T,k){if(I+1<i.length){var X=T+" "+i[I+1][0];return Wm(X,t,k).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var l,u,c=Wm("3",t,s).height,p=t.multiline?o-s:(o-c)/2,g=p+=2,v=0,b=0,E=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Wm(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",w=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var U=!1;if(i[x].length!==1&&E!==i[x].length-1){if((c+2)*(w+2)+2>o)continue e;y+=i[x][E],U=!0,b=x,x--}else{y=(y+=i[x][E]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(x),M=A(P,y,s),S=x>=i.length-1;if(M&&!S){y+=" ",E=0;continue}if(M||S){if(S)b=P;else if(t.multiline&&(c+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(c+2)*(w+2)+2>o)continue e;b=P}}for(var _="",N=v;N<=b;N++){var O=i[N];if(t.multiline){if(N===b){_+=O[E]+" ",E=(E+1)%O.length;continue}if(N===v){_+=O[O.length-1]+" ";continue}}_+=O[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=Wm(_,t,s).width,t.textAlign){case"right":l=a-u-2;break;case"center":l=(a-u)/2;break;case"left":default:l=2}e+=Qt(l)+" "+Qt(g)+` Td
`,e+="("+fc(_)+`) Tj
`,e+=-Qt(l)+` 0 Td
`,g=-(s+2),u=0,v=U?b:b+1,w++,y=""}break}return r.text=e,r.fontSize=s,r},Wm=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},yY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},BY=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},bY=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),ln(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},xY=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(uo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(yY)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Q_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new TQ,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&BY(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],A=[],l=a.Rect;if(a.Rect&&(a.Rect=vY(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Bt.createDefaultAppearanceStream(a),ln(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(A=a.getKeyValueListForStream()),a.Rect=l,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=wY(a);A.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var c="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var g=a.appearanceStreamContent[p];if(c+="/"+p+" ",c+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var v=g[o];typeof v=="function"&&(v=v.call(i,a)),c+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(i,a)),c+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);c+=">>"}A.push({key:"AP",value:`<<
`+c+">>"})}i.internal.putStream({additionalKeyValues:A,objectId:a.objId}),i.internal.out("endobj")}s&&bY(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},SQ=Vn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ln(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+fc(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fy=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+fc(r(t))+")"},Do=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Do.prototype.toString=function(){return this.objId+" 0 R"},Do.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Do.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:SQ(i,this.objId,this.scope)}):i instanceof Do?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var FQ=function(){Do.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};qi(FQ,Do);var TQ=function(){Do.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+fc(n(t))+")"}},set:function(n){t=n}})};qi(TQ,Do);var uo=function t(){Do.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rr(e,3)},set:function(y){y?this.F=ir(e,3):this.F=sr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ev)return;s="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+fc(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(y){A=y}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/Q_:l},set:function(y){l=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var c="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!c||this instanceof Ev||this instanceof ll))return Fy(c,this.objId,this.scope)},set:function(y){y=y.toString(),c=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof br?p:Fy(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof br?y:y.substr(0,1)==="("?Xc(y.substr(1,y.length-2)):Xc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof br?Xc(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof br?"/"+y:y}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof br?g:Fy(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof br?y:y.substr(0,1)==="("?Xc(y.substr(1,y.length-2)):Xc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof br?Xc(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof br?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,1)},set:function(y){y?this.Ff=ir(this.Ff,1):this.Ff=sr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,2)},set:function(y){y?this.Ff=ir(this.Ff,2):this.Ff=sr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,3)},set:function(y){y?this.Ff=ir(this.Ff,3):this.Ff=sr(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');E=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(E){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};qi(uo,Do);var Pu=function(){uo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return SQ(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var A,l=[];A=o.exec(s);)l.push(A[a]);return l}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,18)},set:function(n){n?this.Ff=ir(this.Ff,18):this.Ff=sr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ir(this.Ff,19):this.Ff=sr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,20)},set:function(n){n?(this.Ff=ir(this.Ff,20),e.sort()):this.Ff=sr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,22)},set:function(n){n?this.Ff=ir(this.Ff,22):this.Ff=sr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,23)},set:function(n){n?this.Ff=ir(this.Ff,23):this.Ff=sr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,27)},set:function(n){n?this.Ff=ir(this.Ff,27):this.Ff=sr(this.Ff,27)}}),this.hasAppearanceStream=!1};qi(Pu,uo);var Ru=function(){Pu.call(this),this.fontName="helvetica",this.combo=!1};qi(Ru,Pu);var Du=function(){Ru.call(this),this.combo=!0};qi(Du,Ru);var np=function(){Du.call(this),this.edit=!0};qi(np,Du);var br=function(){uo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,15)},set:function(n){n?this.Ff=ir(this.Ff,15):this.Ff=sr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,16)},set:function(n){n?this.Ff=ir(this.Ff,16):this.Ff=sr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,17)},set:function(n){n?this.Ff=ir(this.Ff,17):this.Ff=sr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,26)},set:function(n){n?this.Ff=ir(this.Ff,26):this.Ff=sr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+fc(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){ln(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};qi(br,uo);var rp=function(){br.call(this),this.pushButton=!0};qi(rp,br);var Ou=function(){br.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};qi(Ou,br);var Ev=function(){var t,e;uo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+fc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){ln(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qi(Ev,uo),Ou.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ou.prototype.createOption=function(t){var e=new Ev;return e.Parent=this,e.optionName=t,this.Kids.push(e),_Y.call(this.scope,e),e};var ip=function(){br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Bt.CheckBox.createAppearanceStream()};qi(ip,br);var ll=function(){uo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,13)},set:function(e){e?this.Ff=ir(this.Ff,13):this.Ff=sr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,21)},set:function(e){e?this.Ff=ir(this.Ff,21):this.Ff=sr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,23)},set:function(e){e?this.Ff=ir(this.Ff,23):this.Ff=sr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,24)},set:function(e){e?this.Ff=ir(this.Ff,24):this.Ff=sr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,25)},set:function(e){e?this.Ff=ir(this.Ff,25):this.Ff=sr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,26)},set:function(e){e?this.Ff=ir(this.Ff,26):this.Ff=sr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qi(ll,uo);var sp=function(){ll.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,14)},set:function(t){t?this.Ff=ir(this.Ff,14):this.Ff=sr(this.Ff,14)}}),this.password=!0};qi(sp,ll);var Bt={CheckBox:{createAppearanceStream:function(){return{N:{On:Bt.CheckBox.YesNormal},D:{On:Bt.CheckBox.YesPushDown,Off:Bt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=So(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=GB(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Qt(Bt.internal.getWidth(t))+" "+Qt(Bt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Qt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=So(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Bt.internal.getHeight(t),o=Bt.internal.getWidth(t),a=GB(t,t.caption);return i.push("1 g"),i.push("0 0 "+Qt(o)+" "+Qt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qt(o-1)+" "+Qt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Qt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=So(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(Bt.internal.getWidth(t))+" "+Qt(Bt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Bt.RadioButton.Circle.YesNormal,e.D[t]=Bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=So(t);e.scope=t.scope;var n=[],r=Bt.internal.getWidth(t)<=Bt.internal.getHeight(t)?Bt.internal.getWidth(t)/4:Bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Bt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+FA(Bt.internal.getWidth(t)/2)+" "+FA(Bt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=So(t);e.scope=t.scope;var n=[],r=Bt.internal.getWidth(t)<=Bt.internal.getHeight(t)?Bt.internal.getWidth(t)/4:Bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Bt.internal.Bezier_C).toFixed(5)),o=Number((r*Bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+FA(Bt.internal.getWidth(t)/2)+" "+FA(Bt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+FA(Bt.internal.getWidth(t)/2)+" "+FA(Bt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=So(t);e.scope=t.scope;var n=[],r=Bt.internal.getWidth(t)<=Bt.internal.getHeight(t)?Bt.internal.getWidth(t)/4:Bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+FA(Bt.internal.getWidth(t)/2)+" "+FA(Bt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Bt.RadioButton.Cross.YesNormal,e.D[t]=Bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=So(t);e.scope=t.scope;var n=[],r=Bt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Qt(Bt.internal.getWidth(t)-2)+" "+Qt(Bt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Qt(r.x1.x)+" "+Qt(r.x1.y)+" m"),n.push(Qt(r.x2.x)+" "+Qt(r.x2.y)+" l"),n.push(Qt(r.x4.x)+" "+Qt(r.x4.y)+" m"),n.push(Qt(r.x3.x)+" "+Qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=So(t);e.scope=t.scope;var n=Bt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(Bt.internal.getWidth(t))+" "+Qt(Bt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Qt(Bt.internal.getWidth(t)-2)+" "+Qt(Bt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Qt(n.x1.x)+" "+Qt(n.x1.y)+" m"),r.push(Qt(n.x2.x)+" "+Qt(n.x2.y)+" l"),r.push(Qt(n.x4.x)+" "+Qt(n.x4.y)+" m"),r.push(Qt(n.x3.x)+" "+Qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=So(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(Bt.internal.getWidth(t))+" "+Qt(Bt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Bt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Bt.internal.getWidth(t),n=Bt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Bt.internal.getWidth=function(t){var e=0;return ln(t)==="object"&&(e=C4(t.Rect[2])),e},Bt.internal.getHeight=function(t){var e=0;return ln(t)==="object"&&(e=C4(t.Rect[3])),e};var _Y=Vn.addField=function(t){if(xY(this,t),!(t instanceof uo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Vn.AcroFormChoiceField=Pu,Vn.AcroFormListBox=Ru,Vn.AcroFormComboBox=Du,Vn.AcroFormEditBox=np,Vn.AcroFormButton=br,Vn.AcroFormPushButton=rp,Vn.AcroFormRadioButton=Ou,Vn.AcroFormCheckBox=ip,Vn.AcroFormTextField=ll,Vn.AcroFormPasswordField=sp,Vn.AcroFormAppearance=Bt,Vn.AcroForm={ChoiceField:Pu,ListBox:Ru,ComboBox:Du,EditBox:np,Button:br,PushButton:rp,RadioButton:Ou,CheckBox:ip,TextField:ll,PasswordField:sp,Appearance:Bt},St.AcroForm={ChoiceField:Pu,ListBox:Ru,ComboBox:Du,EditBox:np,Button:br,PushButton:rp,RadioButton:Ou,CheckBox:ip,TextField:ll,PasswordField:sp,Appearance:Bt};var CY=St.AcroForm;function kQ(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(I,T){var k,X,de,te,K,$=e;if((T=T||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(M(I))for(K in n)for(de=n[K],k=0;k<de.length;k+=1){for(te=!0,X=0;X<de[k].length;X+=1)if(de[k][X]!==void 0&&de[k][X]!==I[X]){te=!1;break}if(te===!0){$=K;break}}else for(K in n)for(de=n[K],k=0;k<de.length;k+=1){for(te=!0,X=0;X<de[k].length;X+=1)if(de[k][X]!==void 0&&de[k][X]!==I.charCodeAt(X)){te=!1;break}if(te===!0){$=K;break}}return $===e&&T!==e&&($=T),$},i=function I(T){for(var k=this.internal.write,X=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:T.width}),te.push({key:"Height",value:T.height}),T.colorSpace===E.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===E.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var K="",$=0,R=T.transparency.length;$<R;$++)K+=T.transparency[$]+" "+T.transparency[$]+" ";te.push({key:"Mask",value:"["+K+"]"})}T.sMask!==void 0&&te.push({key:"SMask",value:T.objectId+1+" 0 R"});var W=T.filter!==void 0?["/"+T.filter]:void 0;if(X({data:T.data,additionalKeyValues:te,alreadyAppliedFilters:W,objectId:T.objectId}),k("endobj"),"sMask"in T&&T.sMask!==void 0){var re="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,Q={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:re,data:T.sMask};"filter"in T&&(Q.filter=T.filter),I.call(this,Q)}if(T.colorSpace===E.INDEXED){var j=this.internal.newObject();X({data:_(new Uint8Array(T.palette)),objectId:j}),k("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var T in I)i.call(this,I[T])},o=function(){var I,T=this.internal.collections.addImage_images,k=this.internal.write;for(var X in T)k("/I"+(I=T[X]).index,I.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var I=this.internal.collections.addImage_images;return a.call(this),I},l=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(I){return typeof t["process"+I.toUpperCase()]=="function"},c=function(I){return ln(I)==="object"&&I.nodeType===1},p=function(I,T){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var k=""+I.getAttribute("src");if(k.indexOf("data:image/")===0)return tp(unescape(k).split("base64,").pop());var X=t.loadFile(k,!0);if(X!==void 0)return X}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var de;switch(T){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return tp(I.toDataURL(de,1).split("base64,").pop())}},g=function(I){var T=this.internal.collections.addImage_images;if(T){for(var k in T)if(I===T[k].alias)return T[k]}},v=function(I,T,k){return I||T||(I=-96,T=-96),I<0&&(I=-1*k.width*72/I/this.internal.scaleFactor),T<0&&(T=-1*k.height*72/T/this.internal.scaleFactor),I===0&&(I=T*k.width/k.height),T===0&&(T=I*k.height/k.width),[I,T]},b=function(I,T,k,X,de,te){var K=v.call(this,k,X,de),$=this.internal.getCoordinateString,R=this.internal.getVerticalCoordinateString,W=A.call(this);if(k=K[0],X=K[1],W[de.index]=de,te){te*=Math.PI/180;var re=Math.cos(te),Q=Math.sin(te),j=function(ee){return ee.toFixed(4)},z=[j(re),j(Q),j(-1*Q),j(re),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,$(I),R(T+X),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([$(k),"0","0",$(X),"0","0","cm"].join(" "))):this.internal.write([$(k),"0","0",$(X),$(I),R(T+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(I){var T,k,X=0;if(typeof I=="string")for(k=I.length,T=0;T<k;T++)X=(X<<5)-X+I.charCodeAt(T),X|=0;else if(M(I))for(k=I.byteLength/2,T=0;T<k;T++)X=(X<<5)-X+I[T],X|=0;return X},x=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var T=!0;return I.length===0&&(T=!1),I.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(T=!1),T},U=t.__addimage__.extractImageFromDataUrl=function(I){var T=(I=I||"").split("base64,"),k=null;if(T.length===2){var X=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(X)&&(k={mimeType:X[1],charset:X[2],data:T[1]})}return k},P=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return P()&&I instanceof ArrayBuffer};var M=t.__addimage__.isArrayBufferView=function(I){return P()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},S=t.__addimage__.binaryStringToUint8Array=function(I){for(var T=I.length,k=new Uint8Array(T),X=0;X<T;X++)k[X]=I.charCodeAt(X);return k},_=t.__addimage__.arrayBufferToBinaryString=function(I){for(var T="",k=M(I)?I:new Uint8Array(I),X=0;X<k.length;X+=8192)T+=String.fromCharCode.apply(null,k.subarray(X,X+8192));return T};t.addImage=function(){var I,T,k,X,de,te,K,$,R;if(typeof arguments[1]=="number"?(T=e,k=arguments[1],X=arguments[2],de=arguments[3],te=arguments[4],K=arguments[5],$=arguments[6],R=arguments[7]):(T=arguments[1],k=arguments[2],X=arguments[3],de=arguments[4],te=arguments[5],K=arguments[6],$=arguments[7],R=arguments[8]),ln(I=arguments[0])==="object"&&!c(I)&&"imageData"in I){var W=I;I=W.imageData,T=W.format||T||e,k=W.x||k||0,X=W.y||X||0,de=W.w||W.width||de,te=W.h||W.height||te,K=W.alias||K,$=W.compression||$,R=W.rotation||W.angle||R}var re=this.internal.getFilters();if($===void 0&&re.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(k)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var Q=N.call(this,I,T,K,$);return b.call(this,k,X,de,te,Q,R),this};var N=function(I,T,k,X){var de,te,K;if(typeof I=="string"&&r(I)===e){I=unescape(I);var $=O(I,!1);($!==""||($=t.loadFile(I,!0))!==void 0)&&(I=$)}if(c(I)&&(I=p(I,T)),T=r(I,T),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((K=k)==null||K.length===0)&&(k=function(R){return typeof R=="string"||M(R)?w(R):M(R.data)?w(R.data):null}(I)),(de=g.call(this,k))||(P()&&(I instanceof Uint8Array||T==="RGBA"||(te=I,I=S(I))),de=this["process"+T.toUpperCase()](I,l.call(this),k,function(R){return R&&typeof R=="string"&&(R=R.toUpperCase()),R in t.image_compression?R:y.NONE}(X),te)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},O=t.__addimage__.convertBase64ToBinaryString=function(I,T){var k;T=typeof T!="boolean"||T;var X,de="";if(typeof I=="string"){X=(k=U(I))!==null?k.data:I;try{de=tp(X)}catch(te){if(T)throw x(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return de};t.getImageProperties=function(I){var T,k,X="";if(c(I)&&(I=p(I)),typeof I=="string"&&r(I)===e&&((X=O(I,!1))===""&&(X=t.loadFile(I)||""),I=X),k=r(I),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(!P()||I instanceof Uint8Array||(I=S(I)),!(T=this["process"+k.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=k,T}})(St.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};St.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(n.objId),l=n.pageContext.annotations,u=!1,c=0;c<l.length&&!u;c++)switch((r=l[c]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<l.length;p++){r=l[p];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(y(r.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+A.objId+" 0 R",s+=" /T ("+g(y(w))+") >>",b.content=s;var x=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(b.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(v(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var P=this.annotations._nameMap[r.options.name];r.options.pageNumber=P.page,r.options.top=P.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var M=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+M+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:A(n),y:l(r),w:A(n+i),h:l(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,A=this.getTextWidth(n),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(l*u)}else a=A,o=l;return this.text(n,r,i,s),i+=.2*l,s.align==="center"&&(r-=A/2),s.align==="right"&&(r-=A),this.link(r,i-l,a,o,s),A},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(St.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},A=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length==4},c=t.__arabicParser__.resolveLigatures=function(b){var E=0,y=n,w="",x=0;for(E=0;E<b.length;E+=1)y[b.charCodeAt(E)]!==void 0?(x++,typeof(y=y[b.charCodeAt(E)])=="number"&&(w+=String.fromCharCode(y),y=n,x=0),E===b.length-1&&(y=n,w+=b.charAt(E-(x-1)),E-=x-1,x=0)):(y=n,w+=b.charAt(E-x),E-=x,x=0);return w};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(b,E,y){return o(b)?s(b)===!1?-1:!l(b)||!o(E)&&!o(y)||!o(y)&&a(E)||a(b)&&!o(E)||a(b)&&A(E)||a(b)&&a(E)?0:u(b)&&o(E)&&!a(E)&&o(y)&&l(y)?3:a(b)||!o(y)?1:2:-1},g=function(b){var E=0,y=0,w=0,x="",U="",P="",M=(b=b||"").split("\\s+"),S=[];for(E=0;E<M.length;E+=1){for(S.push(""),y=0;y<M[E].length;y+=1)x=M[E][y],U=M[E][y-1],P=M[E][y+1],o(x)?(w=p(x,U,P),S[E]+=w!==-1?String.fromCharCode(e[x.charCodeAt(0)][w]):x):S[E]+=x;S[E]=c(S[E])}return S.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var b,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(E)){var w=0;for(y=[],w=0;w<E.length;w+=1)Array.isArray(E[w])?y.push([g(E[w][0]),E[w][1],E[w][2]]):y.push([g(E[w])]);b=y}else b=g(E);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",v])}(St.API),St.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(St.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(b){A=b}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(A){return r.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},t.getTextDimensions=function(A,l){r.call(this);var u=(l=l||{}).fontSize||this.getFontSize(),c=l.font||this.getFont(),p=l.scaleFactor||this.internal.scaleFactor,g=0,v=0,b=0,E=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var y=l.maxWidth;y>0?typeof A=="string"?A=this.splitTextToSize(A,y):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(x,U){return x.concat(E.splitTextToSize(U,y))},[])):A=Array.isArray(A)?A:[A];for(var w=0;w<A.length;w++)g<(b=this.getStringUnitWidth(A[w],{font:c})*u)&&(g=b);return g!==0&&(v=A.length),{w:g/=p,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var A=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var A;A=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var l=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,c=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===A.lineNumber?(A.x=(l.x||0)+(l.width||0),A.y=l.y||0):l.y+l.height+A.height+c.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=c.top,g&&p&&(this.printHeaderRow(A.lineNumber,!0),A.y+=p[0].height)):A.y=l.y+l.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,n===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-u,A.y+u,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+u,{align:"center",baseline:"top",maxWidth:A.width-u-u}):this.text(A.text,A.x+u,A.y+u,{align:"left",baseline:"top",maxWidth:A.width-u-u})),this.internal.__cell__.lastCell=A,this};t.table=function(A,l,u,c,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var g,v,b,E,y=[],w=[],x=[],U={},P={},M=[],S=[],_=(p=p||{}).autoSize||!1,N=p.printHeaders!==!1,O=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,I=p.margins||Object.assign({width:this.getPageWidth()},e),T=typeof p.padding=="number"?p.padding:3,k=p.headerBackgroundColor||"#c8c8c8",X=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=X,this.setFontSize(O),c==null)w=y=Object.keys(u[0]),x=y.map(function(){return"left"});else if(Array.isArray(c)&&ln(c[0])==="object")for(y=c.map(function(W){return W.name}),w=c.map(function(W){return W.prompt||W.name||""}),x=c.map(function(W){return W.align||"left"}),g=0;g<c.length;g+=1)P[c[g].name]=c[g].width*(19.049976/25.4);else Array.isArray(c)&&typeof c[0]=="string"&&(w=y=c,x=y.map(function(){return"left"}));if(_||Array.isArray(c)&&typeof c[0]=="string")for(g=0;g<y.length;g+=1){for(U[E=y[g]]=u.map(function(W){return W[E]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(w[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=U[E],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)M.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[E]=Math.max.apply(null,M)+T+T,M=[]}if(N){var de={};for(g=0;g<y.length;g+=1)de[y[g]]={},de[y[g]].text=w[g],de[y[g]].align=x[g];var te=a.call(this,de,P);S=y.map(function(W){return new s(A,l,P[W],te,de[W].text,void 0,de[W].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var K=c.reduce(function(W,re){return W[re.name]=re.align,W},{});for(g=0;g<u.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:u[g]},this);var $=a.call(this,u[g],P);for(b=0;b<y.length;b+=1){var R=u[g][y[b]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:b,data:R},this),o.call(this,new s(A,l,P[y[b]],$,R,g+2,K[y[b]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=l,this};var a=function(A,l){var u=this.internal.__cell__.padding,c=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(A).map(function(g){var v=A[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,l[g]-u-u)},this).map(function(g){return this.getLineHeightFactor()*g.length*c/p+u+u},this).reduce(function(g,v){return Math.max(g,v)},0)};t.setTableHeaderRow=function(A){r.call(this),this.internal.__cell__.tableHeaderRow=A},t.printHeaderRow=function(A,l){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var c=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(c[0],c[1],c[2],c[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),l&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=A;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(St.API);var NQ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},UQ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],WB=kQ(UQ),QQ=[100,200,300,400,500,600,700,800,900],IY=kQ(QQ);function qB(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return NQ[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof WB[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function I4(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var EY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},E4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function S4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function SY(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},EY,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=qB(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+S4(s)+"' and default family '"+r+"'.");if(o=function(A,l){if(l[A])return l[A];var u=WB[A],c=u<=WB.normal?-1:1,p=I4(l,UQ,u,c);if(!p)throw new Error("Could not find a matching font-stretch value for "+A);return p}(s.stretch,o),o=function(A,l){if(l[A])return l[A];for(var u=NQ[A],c=0;c<u.length;++c)if(l[u[c]])return l[u[c]];throw new Error("Could not find a matching font-style for "+A)}(s.style,o),!(o=function(A,l){if(l[A])return l[A];if(A===400&&l[500])return l[500];if(A===500&&l[400])return l[400];var u=IY[A],c=I4(l,QQ,u,A<400?-1:1);if(!c)throw new Error("Could not find a matching font-weight for value "+A);return c}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+S4(s)+"'.");return o}function F4(t){return t.trimLeft()}function FY(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function TY(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var qm,T4,k4,Ty=["times"];(function(t){var e,n,r,i,s,o,a,A,l,u=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new A,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new c(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,A=this.internal.Matrix,l=new u}]);var c=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=Q;Object.defineProperty(this,"pdf",{get:function(){return j}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Ee){z=!!Ee}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Ee){ee=!!Ee}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Ee){isNaN(Ee)||(ne=Ee)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(Ee){isNaN(Ee)||(Ae=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(Ee){var oe;typeof Ee=="number"?oe=[Ee,Ee,Ee,Ee]:((oe=new Array(4))[0]=Ee[0],oe[1]=Ee.length>=2?Ee[1]:oe[0],oe[2]=Ee.length>=3?Ee[2]:oe[0],oe[3]=Ee.length>=4?Ee[3]:oe[1]),l.margin=oe}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(Ee){ge=Ee}});var Be=0;Object.defineProperty(this,"lastBreak",{get:function(){return Be},set:function(Ee){Be=Ee}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(Ee){Fe=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(Ee){Ee instanceof u&&(l=Ee)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(Ee){l.path=Ee}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(Ee){Te=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var oe;oe=p(Ee),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var oe=p(Ee);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var je=null;function Le(Ee,oe){if(je===null){var dt=function(it){var Ke=[];return Object.keys(it).forEach(function(ae){it[ae].forEach(function(fe){var be=null;switch(fe){case"bold":be={family:ae,weight:"bold"};break;case"italic":be={family:ae,style:"italic"};break;case"bolditalic":be={family:ae,weight:"bold",style:"italic"};break;case"":case"normal":be={family:ae}}be!==null&&(be.ref={name:ae,style:fe},Ke.push(be))})}),Ke}(Ee.getFontList());je=function(it){for(var Ke={},ae=0;ae<it.length;++ae){var fe=qB(it[ae]),be=fe.family,Ue=fe.stretch,$e=fe.style,et=fe.weight;Ke[be]=Ke[be]||{},Ke[be][Ue]=Ke[be][Ue]||{},Ke[be][Ue][$e]=Ke[be][Ue][$e]||{},Ke[be][Ue][$e][et]=fe}return Ke}(dt.concat(oe))}return je}var Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(Ee){je=null,Ve=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var oe;if(this.ctx.font=Ee,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var dt=oe[1],it=(oe[2],oe[3]),Ke=oe[4],ae=(oe[5],oe[6]),fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(fe==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:fe==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var be=function(We){var mt,ue,Qe=[],Re=We.trim();if(Re==="")return Ty;if(Re in E4)return[E4[Re]];for(;Re!=="";){switch(ue=null,mt=(Re=F4(Re)).charAt(0)){case'"':case"'":ue=FY(Re.substring(1),mt);break;default:ue=TY(Re)}if(ue===null||(Qe.push(ue[0]),(Re=F4(ue[1]))!==""&&Re.charAt(0)!==","))return Ty;Re=Re.replace(/^,/,"")}return Qe}(ae);if(this.fontFaces){var Ue=SY(Le(this.pdf,this.fontFaces),be.map(function(We){return{family:We,stretch:"normal",weight:it,style:dt}}));this.pdf.setFont(Ue.ref.name,Ue.ref.style)}else{var $e="";(it==="bold"||parseInt(it,10)>=700||dt==="bold")&&($e="bold"),dt==="italic"&&($e+="italic"),$e.length===0&&($e="normal");for(var et="",Pe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<be.length;ze++){if(this.pdf.internal.getFont(be[ze],$e,{noFallback:!0,disableWarning:!0})!==void 0){et=be[ze];break}if($e==="bolditalic"&&this.pdf.internal.getFont(be[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)et=be[ze],$e="bold";else if(this.pdf.internal.getFont(be[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){et=be[ze],$e="normal";break}}if(et===""){for(var Oe=0;Oe<be.length;Oe++)if(Pe[be[Oe]]){et=Pe[be[Oe]];break}}et=et===""?"Times":et,this.pdf.setFont(et,$e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};c.prototype.setLineDash=function(Q){this.lineDash=Q},c.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},c.prototype.fill=function(){U.call(this,"fill",!1)},c.prototype.stroke=function(){U.call(this,"stroke",!1)},c.prototype.beginPath=function(){this.path=[{type:"begin"}]},c.prototype.moveTo=function(Q,j){if(isNaN(Q)||isNaN(j))throw gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(Q,j)},c.prototype.closePath=function(){var Q=new o(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&ln(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){Q=new o(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},c.prototype.lineTo=function(Q,j){if(isNaN(Q)||isNaN(j))throw gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},c.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},c.prototype.quadraticCurveTo=function(Q,j,z,ee){if(isNaN(z)||isNaN(ee)||isNaN(Q)||isNaN(j))throw gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(z,ee)),Ae=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},c.prototype.bezierCurveTo=function(Q,j,z,ee,ne,Ae){if(isNaN(ne)||isNaN(Ae)||isNaN(Q)||isNaN(j)||isNaN(z)||isNaN(ee))throw gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(ne,Ae)),Be=this.ctx.transform.applyToPoint(new o(Q,j)),Fe=this.ctx.transform.applyToPoint(new o(z,ee));this.path.push({type:"bct",x1:Be.x,y1:Be.y,x2:Fe.x,y2:Fe.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},c.prototype.arc=function(Q,j,z,ee,ne,Ae){if(isNaN(Q)||isNaN(j)||isNaN(z)||isNaN(ee)||isNaN(ne))throw gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(Q,j));Q=ge.x,j=ge.y;var Be=this.ctx.transform.applyToPoint(new o(0,z)),Fe=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(Be.x-Fe.x,2)+Math.pow(Be.y-Fe.y,2))}Math.abs(ne-ee)>=2*Math.PI&&(ee=0,ne=2*Math.PI),this.path.push({type:"arc",x:Q,y:j,radius:z,startAngle:ee,endAngle:ne,counterclockwise:Ae})},c.prototype.arcTo=function(Q,j,z,ee,ne){throw new Error("arcTo not implemented.")},c.prototype.rect=function(Q,j,z,ee){if(isNaN(Q)||isNaN(j)||isNaN(z)||isNaN(ee))throw gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,j),this.lineTo(Q+z,j),this.lineTo(Q+z,j+ee),this.lineTo(Q,j+ee),this.lineTo(Q,j),this.lineTo(Q+z,j),this.lineTo(Q,j)},c.prototype.fillRect=function(Q,j,z,ee){if(isNaN(Q)||isNaN(j)||isNaN(z)||isNaN(ee))throw gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,j,z,ee),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},c.prototype.strokeRect=function(Q,j,z,ee){if(isNaN(Q)||isNaN(j)||isNaN(z)||isNaN(ee))throw gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(Q,j,z,ee),this.stroke())},c.prototype.clearRect=function(Q,j,z,ee){if(isNaN(Q)||isNaN(j)||isNaN(z)||isNaN(ee))throw gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,j,z,ee))},c.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},c.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(j),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},c.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(Q){var j,z,ee,ne;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))j=0,z=0,ee=0,ne=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(Ae!==null)j=parseInt(Ae[1]),z=parseInt(Ae[2]),ee=parseInt(Ae[3]),ne=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)j=parseInt(Ae[1]),z=parseInt(Ae[2]),ee=parseInt(Ae[3]),ne=parseFloat(Ae[4]);else{if(ne=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var ge=new CQ(Q);Q=ge.ok?ge.toHex():"#000000"}Q.length===4?(j=Q.substring(1,2),j+=j,z=Q.substring(2,3),z+=z,ee=Q.substring(3,4),ee+=ee):(j=Q.substring(1,3),z=Q.substring(3,5),ee=Q.substring(5,7)),j=parseInt(j,16),z=parseInt(z,16),ee=parseInt(ee,16)}}return{r:j,g:z,b:ee,a:ne,style:Q}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};c.prototype.fillText=function(Q,j,z,ee){if(isNaN(j)||isNaN(z)||typeof Q!="string")throw gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!g.call(this)){var ne=$(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;T.call(this,{text:Q,x:j,y:z,scale:Ae,angle:ne,align:this.textAlign,maxWidth:ee})}},c.prototype.strokeText=function(Q,j,z,ee){if(isNaN(j)||isNaN(z)||typeof Q!="string")throw gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ee=isNaN(ee)?void 0:ee;var ne=$(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;T.call(this,{text:Q,x:j,y:z,scale:Ae,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:ee})}},c.prototype.measureText=function(Q){if(typeof Q!="string")throw gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,z=this.pdf.internal.scaleFactor,ee=j.internal.getFontSize(),ne=j.getStringUnitWidth(Q)*ee/j.internal.scaleFactor,Ae=function(ge){var Be=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Be}}),this};return new Ae({width:ne*=Math.round(96*z/72*1e4)/1e4})},c.prototype.scale=function(Q,j){if(isNaN(Q)||isNaN(j))throw gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new A(Q,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},c.prototype.rotate=function(Q){if(isNaN(Q))throw gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new A(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},c.prototype.translate=function(Q,j){if(isNaN(Q)||isNaN(j))throw gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new A(1,0,0,1,Q,j);this.ctx.transform=this.ctx.transform.multiply(z)},c.prototype.transform=function(Q,j,z,ee,ne,Ae){if(isNaN(Q)||isNaN(j)||isNaN(z)||isNaN(ee)||isNaN(ne)||isNaN(Ae))throw gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new A(Q,j,z,ee,ne,Ae);this.ctx.transform=this.ctx.transform.multiply(ge)},c.prototype.setTransform=function(Q,j,z,ee,ne,Ae){Q=isNaN(Q)?1:Q,j=isNaN(j)?0:j,z=isNaN(z)?0:z,ee=isNaN(ee)?1:ee,ne=isNaN(ne)?0:ne,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new A(Q,j,z,ee,ne,Ae)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};c.prototype.drawImage=function(Q,j,z,ee,ne,Ae,ge,Be,Fe){var Te=this.pdf.getImageProperties(Q),je=1,Le=1,Ve=1,Ee=1;ee!==void 0&&Be!==void 0&&(Ve=Be/ee,Ee=Fe/ne,je=Te.width/ee*Be/ee,Le=Te.height/ne*Fe/ne),Ae===void 0&&(Ae=j,ge=z,j=0,z=0),ee!==void 0&&Be===void 0&&(Be=ee,Fe=ne),ee===void 0&&Be===void 0&&(Be=Te.width,Fe=Te.height);for(var oe,dt=this.ctx.transform.decompose(),it=$(dt.rotate.shx),Ke=new A,ae=(Ke=(Ke=(Ke=Ke.multiply(dt.translate)).multiply(dt.skew)).multiply(dt.scale)).applyToRectangle(new a(Ae-j*Ve,ge-z*Ee,ee*je,ne*Le)),fe=E.call(this,ae),be=[],Ue=0;Ue<fe.length;Ue+=1)be.indexOf(fe[Ue])===-1&&be.push(fe[Ue]);if(x(be),this.autoPaging)for(var $e=be[0],et=be[be.length-1],Pe=$e;Pe<et+1;Pe++){this.pdf.setPage(Pe);var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=Pe===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ue=Pe===1?0:We+(Pe-2)*mt;if(this.ctx.clip_path.length!==0){var Qe=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(oe,this.posX+this.margin[3],-ue+Oe+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Qe}var Re=JSON.parse(JSON.stringify(ae));Re=w([Re],this.posX+this.margin[3],-ue+Oe+this.ctx.prevPageLastElemOffset)[0];var lt=(Pe>$e||Pe<et)&&b.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,mt,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,it),lt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",ae.x,ae.y,ae.w,ae.h,null,null,it)};var E=function(Q,j,z){var ee=[];j=j||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":ee.push(Math.floor((Q.y+ne)/z)+1);break;case"arc":ee.push(Math.floor((Q.y+ne-Q.radius)/z)+1),ee.push(Math.floor((Q.y+ne+Q.radius)/z)+1);break;case"qct":var Ae=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);ee.push(Math.floor((Ae.y+ne)/z)+1),ee.push(Math.floor((Ae.y+Ae.h+ne)/z)+1);break;case"bct":var ge=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);ee.push(Math.floor((ge.y+ne)/z)+1),ee.push(Math.floor((ge.y+ge.h+ne)/z)+1);break;case"rect":ee.push(Math.floor((Q.y+ne)/z)+1),ee.push(Math.floor((Q.y+Q.h+ne)/z)+1)}for(var Be=0;Be<ee.length;Be+=1)for(;this.pdf.internal.getNumberOfPages()<ee[Be];)y.call(this);return ee},y=function(){var Q=this.fillStyle,j=this.strokeStyle,z=this.font,ee=this.lineCap,ne=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=j,this.font=z,this.lineCap=ee,this.lineWidth=ne,this.lineJoin=Ae},w=function(Q,j,z){for(var ee=0;ee<Q.length;ee++)switch(Q[ee].type){case"bct":Q[ee].x2+=j,Q[ee].y2+=z;case"qct":Q[ee].x1+=j,Q[ee].y1+=z;case"mt":case"lt":case"arc":default:Q[ee].x+=j,Q[ee].y+=z}return Q},x=function(Q){return Q.sort(function(j,z){return j-z})},U=function(Q,j){for(var z,ee,ne=this.fillStyle,Ae=this.strokeStyle,ge=this.lineCap,Be=this.lineWidth,Fe=Math.abs(Be*this.ctx.transform.scaleX),Te=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),Ve=[],Ee=0;Ee<Le.length;Ee++)if(Le[Ee].x!==void 0)for(var oe=E.call(this,Le[Ee]),dt=0;dt<oe.length;dt+=1)Ve.indexOf(oe[dt])===-1&&Ve.push(oe[dt]);for(var it=0;it<Ve.length;it++)for(;this.pdf.internal.getNumberOfPages()<Ve[it];)y.call(this);if(x(Ve),this.autoPaging)for(var Ke=Ve[0],ae=Ve[Ve.length-1],fe=Ke;fe<ae+1;fe++){this.pdf.setPage(fe),this.fillStyle=ne,this.strokeStyle=Ae,this.lineCap=ge,this.lineWidth=Fe,this.lineJoin=Te;var be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=fe===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pe=fe===1?0:$e+(fe-2)*et;if(this.ctx.clip_path.length!==0){var ze=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(z,this.posX+this.margin[3],-Pe+Ue+this.ctx.prevPageLastElemOffset),P.call(this,Q,!0),this.path=ze}if(ee=JSON.parse(JSON.stringify(je)),this.path=w(ee,this.posX+this.margin[3],-Pe+Ue+this.ctx.prevPageLastElemOffset),j===!1||fe===0){var Oe=(fe>Ke||fe<ae)&&b.call(this);Oe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,et,null).clip().discardPath()),P.call(this,Q,j),Oe&&this.pdf.restoreGraphicsState()}this.lineWidth=Be}else this.lineWidth=Fe,P.call(this,Q,j),this.lineWidth=Be;this.path=je},P=function(Q,j){if((Q!=="stroke"||j||!v.call(this))&&(Q==="stroke"||j||!g.call(this))){for(var z,ee,ne=[],Ae=this.path,ge=0;ge<Ae.length;ge++){var Be=Ae[ge];switch(Be.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Be,deltas:[],abs:[]});break;case"lt":var Fe=ne.length;if(Ae[ge-1]&&!isNaN(Ae[ge-1].x)&&(z=[Be.x-Ae[ge-1].x,Be.y-Ae[ge-1].y],Fe>0)){for(;Fe>=0;Fe--)if(ne[Fe-1].close!==!0&&ne[Fe-1].begin!==!0){ne[Fe-1].deltas.push(z),ne[Fe-1].abs.push(Be);break}}break;case"bct":z=[Be.x1-Ae[ge-1].x,Be.y1-Ae[ge-1].y,Be.x2-Ae[ge-1].x,Be.y2-Ae[ge-1].y,Be.x-Ae[ge-1].x,Be.y-Ae[ge-1].y],ne[ne.length-1].deltas.push(z);break;case"qct":var Te=Ae[ge-1].x+2/3*(Be.x1-Ae[ge-1].x),je=Ae[ge-1].y+2/3*(Be.y1-Ae[ge-1].y),Le=Be.x+2/3*(Be.x1-Be.x),Ve=Be.y+2/3*(Be.y1-Be.y),Ee=Be.x,oe=Be.y;z=[Te-Ae[ge-1].x,je-Ae[ge-1].y,Le-Ae[ge-1].x,Ve-Ae[ge-1].y,Ee-Ae[ge-1].x,oe-Ae[ge-1].y],ne[ne.length-1].deltas.push(z);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Be)}}ee=j?null:Q==="stroke"?"stroke":"fill";for(var dt=!1,it=0;it<ne.length;it++)if(ne[it].arc)for(var Ke=ne[it].abs,ae=0;ae<Ke.length;ae++){var fe=Ke[ae];fe.type==="arc"?_.call(this,fe.x,fe.y,fe.radius,fe.startAngle,fe.endAngle,fe.counterclockwise,void 0,j,!dt):k.call(this,fe.x,fe.y),dt=!0}else if(ne[it].close===!0)this.pdf.internal.out("h"),dt=!1;else if(ne[it].begin!==!0){var be=ne[it].start.x,Ue=ne[it].start.y;X.call(this,ne[it].deltas,be,Ue),dt=!0}ee&&N.call(this,ee),j&&O.call(this)}},M=function(Q){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-z;case"top":return Q+j-z;case"hanging":return Q+j-2*z;case"middle":return Q+j/2-z;case"ideographic":return Q;case"alphabetic":default:return Q}},S=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};c.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(j,z){this.colorStops.push([j,z])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},c.prototype.createPattern=function(){return this.createLinearGradient()},c.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(Q,j,z,ee,ne,Ae,ge,Be,Fe){for(var Te=te.call(this,z,ee,ne,Ae),je=0;je<Te.length;je++){var Le=Te[je];je===0&&(Fe?I.call(this,Le.x1+Q,Le.y1+j):k.call(this,Le.x1+Q,Le.y1+j)),de.call(this,Q,j,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}Be?O.call(this):N.call(this,ge)},N=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(Q,j){this.pdf.internal.out(n(Q)+" "+r(j)+" m")},T=function(Q){var j;switch(Q.align){case"right":case"end":j="right";break;case"center":j="center";break;case"left":case"start":default:j="left"}var z=this.pdf.getTextDimensions(Q.text),ee=M.call(this,Q.y),ne=S.call(this,ee)-z.h,Ae=this.ctx.transform.applyToPoint(new o(Q.x,ee)),ge=this.ctx.transform.decompose(),Be=new A;Be=(Be=(Be=Be.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Fe,Te,je,Le=this.ctx.transform.applyToRectangle(new a(Q.x,ee,z.w,z.h)),Ve=Be.applyToRectangle(new a(Q.x,ne,z.w,z.h)),Ee=E.call(this,Ve),oe=[],dt=0;dt<Ee.length;dt+=1)oe.indexOf(Ee[dt])===-1&&oe.push(Ee[dt]);if(x(oe),this.autoPaging)for(var it=oe[0],Ke=oe[oe.length-1],ae=it;ae<Ke+1;ae++){this.pdf.setPage(ae);var fe=ae===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[2],$e=Ue-this.margin[0],et=this.pdf.internal.pageSize.width-this.margin[1],Pe=et-this.margin[3],ze=ae===1?0:be+(ae-2)*$e;if(this.ctx.clip_path.length!==0){var Oe=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Fe,this.posX+this.margin[3],-1*ze+fe),P.call(this,"fill",!0),this.path=Oe}var We=w([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-ze+fe+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*Q.scale),je=this.lineWidth,this.lineWidth=je*Q.scale);var mt=this.autoPaging!=="text";if(mt||We.y+We.h<=Ue){if(mt||We.y>=fe&&We.x<=et){var ue=mt?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||et-We.x)[0],Qe=w([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-ze+fe+this.ctx.prevPageLastElemOffset)[0],Re=mt&&(ae>it||ae<Ke)&&b.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,$e,null).clip().discardPath()),this.pdf.text(ue,Qe.x,Qe.y,{angle:Q.angle,align:j,renderingMode:Q.renderingMode}),Re&&this.pdf.restoreGraphicsState()}}else We.y<Ue&&(this.ctx.prevPageLastElemOffset+=Ue-We.y);Q.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=je)}else Q.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*Q.scale),je=this.lineWidth,this.lineWidth=je*Q.scale),this.pdf.text(Q.text,Ae.x+this.posX,Ae.y+this.posY,{angle:Q.angle,align:j,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=je)},k=function(Q,j,z,ee){z=z||0,ee=ee||0,this.pdf.internal.out(n(Q+z)+" "+r(j+ee)+" l")},X=function(Q,j,z){return this.pdf.lines(Q,j,z,null,null)},de=function(Q,j,z,ee,ne,Ae,ge,Be){this.pdf.internal.out([e(i(z+Q)),e(s(ee+j)),e(i(ne+Q)),e(s(Ae+j)),e(i(ge+Q)),e(s(Be+j)),"c"].join(" "))},te=function(Q,j,z,ee){for(var ne=2*Math.PI,Ae=Math.PI/2;j>z;)j-=ne;var ge=Math.abs(z-j);ge<ne&&ee&&(ge=ne-ge);for(var Be=[],Fe=ee?-1:1,Te=j;ge>1e-5;){var je=Te+Fe*Math.min(ge,Ae);Be.push(K.call(this,Q,Te,je)),ge-=Math.abs(je-Te),Te=je}return Be},K=function(Q,j,z){var ee=(z-j)/2,ne=Q*Math.cos(ee),Ae=Q*Math.sin(ee),ge=ne,Be=-Ae,Fe=ge*ge+Be*Be,Te=Fe+ge*ne+Be*Ae,je=4/3*(Math.sqrt(2*Fe*Te)-Te)/(ge*Ae-Be*ne),Le=ge-je*Be,Ve=Be+je*ge,Ee=Le,oe=-Ve,dt=ee+j,it=Math.cos(dt),Ke=Math.sin(dt);return{x1:Q*Math.cos(j),y1:Q*Math.sin(j),x2:Le*it-Ve*Ke,y2:Le*Ke+Ve*it,x3:Ee*it-oe*Ke,y3:Ee*Ke+oe*it,x4:Q*Math.cos(z),y4:Q*Math.sin(z)}},$=function(Q){return 180*Q/Math.PI},R=function(Q,j,z,ee,ne,Ae){var ge=Q+.5*(z-Q),Be=j+.5*(ee-j),Fe=ne+.5*(z-ne),Te=Ae+.5*(ee-Ae),je=Math.min(Q,ne,ge,Fe),Le=Math.max(Q,ne,ge,Fe),Ve=Math.min(j,Ae,Be,Te),Ee=Math.max(j,Ae,Be,Te);return new a(je,Ve,Le-je,Ee-Ve)},W=function(Q,j,z,ee,ne,Ae,ge,Be){var Fe,Te,je,Le,Ve,Ee,oe,dt,it,Ke,ae,fe,be,Ue,$e=z-Q,et=ee-j,Pe=ne-z,ze=Ae-ee,Oe=ge-ne,We=Be-Ae;for(Te=0;Te<41;Te++)it=(oe=(je=Q+(Fe=Te/40)*$e)+Fe*((Ve=z+Fe*Pe)-je))+Fe*(Ve+Fe*(ne+Fe*Oe-Ve)-oe),Ke=(dt=(Le=j+Fe*et)+Fe*((Ee=ee+Fe*ze)-Le))+Fe*(Ee+Fe*(Ae+Fe*We-Ee)-dt),Te==0?(ae=it,fe=Ke,be=it,Ue=Ke):(ae=Math.min(ae,it),fe=Math.min(fe,Ke),be=Math.max(be,it),Ue=Math.max(Ue,Ke));return new a(Math.round(ae),Math.round(fe),Math.round(be-ae),Math.round(Ue-fe))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,j,z=(Q=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:j}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(St.API),function(t){var e=function(s){var o,a,A,l,u,c,p,g,v,b;for(a=[],A=0,l=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;l>A;A+=4)(u=(s.charCodeAt(A)<<24)+(s.charCodeAt(A+1)<<16)+(s.charCodeAt(A+2)<<8)+s.charCodeAt(A+3))!==0?(c=(u=((u=((u=((u=(u-(b=u%85))/85)-(v=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)%85,a.push(c+33,p+33,g+33,v+33,b+33)):a.push(122);return function(E,y){for(var w=y;w>0;w--)E.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,A,l,u,c=String,p="length",g=255,v="charCodeAt",b="slice",E="replace";for(s[b](-2),s=s[b](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),A=[],l=0,u=(s+=o="uuuuu"[b](s[p]%5||5))[p];u>l;l+=5)a=52200625*(s[v](l)-33)+614125*(s[v](l+1)-33)+7225*(s[v](l+2)-33)+85*(s[v](l+3)-33)+(s[v](l+4)-33),A.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(y,w){for(var x=w;x>0;x--)y.pop()}(A,o[p]),c.fromCharCode.apply(c,A)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",A=0;A<s.length;A+=2)a+=String.fromCharCode("0x"+(s[A]+s[A+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=HB(o)).reduce(function(A,l){return A+String.fromCharCode(l)},"")};t.processDataByFilters=function(s,o){var a=0,A=s||"",l=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":A=n(A),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=e(A),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=r(A),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=A.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=i(A),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:A,reverseChain:l.reverse().join(" ")}}}(St.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(A,l,u){var c=new XMLHttpRequest,p=0,g=function(v){var b=v.length,E=[],y=String.fromCharCode;for(p=0;p<b;p+=1)E.push(y(255&v.charCodeAt(p)));return E.join("")};if(c.open("GET",A,!l),c.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(c.onload=function(){c.status===200?u(g(this.responseText)):u(void 0)}),c.send(null),l&&c.status===200)return g(c.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(St.API),function(t){function e(){return(Tt.html2canvas?Promise.resolve(Tt.html2canvas):RB(()=>Promise.resolve().then(()=>WJ),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Tt.DOMPurify?Promise.resolve(Tt.DOMPurify):RB(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=ln(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var A=document.createElement(o);for(var l in a.className&&(A.className=a.className),a.innerHTML&&a.dompurify&&(A.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)A.style[l]=a.style[l];return A},s=function o(a){var A=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),l=o.convert(Promise.resolve(),A);return l=(l=l.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(A){switch(r(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(A){return this.set({src:i("div",{innerHTML:o,dompurify:A})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function A(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||c.appendChild(A(p,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,a(this.prop.container,A)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var A=this.opt.jsPDF,l=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,c=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete c.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=l,l)for(var p=0;p<l.length;++p){var g=l[p],v=g.src.find(function(b){return b.format==="truetype"});v&&A.addFont(v.url,g.ref.name,g.ref.style)}return c.windowHeight=c.windowHeight||0,c.windowHeight=c.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):c.windowHeight,A.context2d.save(!0),a(this.prop.container,c)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(A){if(A in s.template.prop)return function(){this.prop[A]=o[A]};switch(A){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[A]=o[A]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var A=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(A):A})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(A,l){return Math.floor(A*l/72*96)}return this.then(function(){(o=o||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,A,l){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),A!=null&&(this.progress.n=A),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,A,l){return this.setProgress(o?this.progress.val+o:null,a||null,A?this.progress.n+A:null,l?this.progress.stack.concat(l):null)},s.prototype.then=function(o,a){var A=this;return this.thenCore(o,a,function(l,u){return A.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(c){return A.updateProgress(null,l),c}).then(l,u).then(function(c){return A.updateProgress(1),c})})},s.prototype.thenCore=function(o,a,A){A=A||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=A.call(l,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(A){a=a.thenCore(A)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,St.getPageSize=function(o,a,A){if(ln(o)==="object"){var l=o;o=l.orientation,a=l.unit||a,A=l.format||A}a=a||"mm",A=A||"a4",o=(""+(o||"P")).toLowerCase();var u,c=(""+A).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var g,v=0,b=0;if(p.hasOwnProperty(c))v=p[c][1]/u,b=p[c][0]/u;else try{v=A[1],b=A[0]}catch{throw new Error("Invalid format: "+A)}if(o==="p"||o==="portrait")o="p",b>v&&(g=b,b=v,v=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(g=b,b=v,v=g)}return{width:b,height:v,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(qB):null;var A=new s(a);return a.worker?A:A.from(o).doCallback()}}(St.API),St.API.addJS=function(t){return k4=t,this.internal.events.subscribe("postPutResources",function(){qm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),T4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+k4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qm!==void 0&&T4!==void 0&&this.internal.out("/Names <</JavaScript "+qm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var A=a[1];n.internal.newObjectDeferredBegin(A,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,u=[];for(s=0;s<l;s++){var c=n.internal.newObject();u.push(c);var p=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var A=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<r.children.length;l++)this.renderItems(r.children[l])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(St.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var A,l=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(A=function(c){for(var p,g=256*c.charCodeAt(4)+c.charCodeAt(5),v=c.length,b={width:0,height:0,numcomponents:1},E=4;E<v;E+=2){if(E+=g,e.indexOf(c.charCodeAt(E+1))!==-1){p=256*c.charCodeAt(E+5)+c.charCodeAt(E+6),b={width:256*c.charCodeAt(E+7)+c.charCodeAt(E+8),height:p,numcomponents:c.charCodeAt(E+9)};break}g=256*c.charCodeAt(E+2)+c.charCodeAt(E+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:A.width,height:A.height,colorSpace:a,bitsPerComponent:8,filter:l,index:r,alias:i}}return u}}(St.API);var Zc,$m,N4,U4,Q4,kY=function(){var t,e,n;function r(s){var o,a,A,l,u,c,p,g,v,b,E,y,w,x;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},c=null;;){switch(o=this.readUInt32(),v=(function(){var U,P;for(P=[],U=0;U<4;++U)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":c&&this.animation.frames.push(c),this.pos+=4,c={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),l=this.readUInt16()||100,c.delay=1e3*u/l,c.disposeOp=this.data[this.pos++],c.blendOp=this.data[this.pos++],c.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),s=(c!=null?c.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(A=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>A)throw new Error("More transparent colors than palette size");if((b=A-this.transparency.indexed.length)>0)for(w=0;0<=b?w<b:w>b;0<=b?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(E=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,E.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,E.slice(p+1));break;case"IEND":return c&&this.animation.frames.push(c),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),A=0,l=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(c,p,g,v){var b,E,y,w,x,U,P,M,S,_,N,O,I,T,k,X,de,te,K,$,R,W=Math.ceil((l.width-c)/g),re=Math.ceil((l.height-p)/v),Q=l.width==W&&l.height==re;for(T=o*W,O=Q?a:new Uint8Array(T*re),U=s.length,I=0,E=0;I<re&&A<U;){switch(s[A++]){case 0:for(w=de=0;de<T;w=de+=1)O[E++]=s[A++];break;case 1:for(w=te=0;te<T;w=te+=1)b=s[A++],x=w<o?0:O[E-o],O[E++]=(b+x)%256;break;case 2:for(w=K=0;K<T;w=K+=1)b=s[A++],y=(w-w%o)/o,k=I&&O[(I-1)*T+y*o+w%o],O[E++]=(k+b)%256;break;case 3:for(w=$=0;$<T;w=$+=1)b=s[A++],y=(w-w%o)/o,x=w<o?0:O[E-o],k=I&&O[(I-1)*T+y*o+w%o],O[E++]=(b+Math.floor((x+k)/2))%256;break;case 4:for(w=R=0;R<T;w=R+=1)b=s[A++],y=(w-w%o)/o,x=w<o?0:O[E-o],I===0?k=X=0:(k=O[(I-1)*T+y*o+w%o],X=y&&O[(I-1)*T+(y-1)*o+w%o]),P=x+k-X,M=Math.abs(P-x),_=Math.abs(P-k),N=Math.abs(P-X),S=M<=_&&M<=N?x:_<=N?k:X,O[E++]=(b+S)%256;break;default:throw new Error("Invalid filter algorithm: "+s[A-1])}if(!Q){var j=((p+I*v)*l.width+c)*o,z=I*T;for(w=0;w<W;w+=1){for(var ee=0;ee<o;ee+=1)a[j++]=O[z++];j+=(g-1)*o}}I++}}return s=AY(s),l.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,A,l,u,c,p,g;for(a=this.palette,u=this.transparency.indexed||[],l=new Uint8Array((u.length||0)+a.length),A=0,s=0,o=c=0,p=a.length;c<p;o=c+=3)l[A++]=a[o],l[A++]=a[o+1],l[A++]=a[o+2],l[A++]=(g=u[s++])!=null?g:255;return l},r.prototype.copyToImageData=function(s,o){var a,A,l,u,c,p,g,v,b,E,y;if(A=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),A=4,a=!0),v=(l=s.data||s).length,c=b||o,u=p=0,A===1)for(;u<v;)g=b?4*o[u/4]:p,E=c[g++],l[u++]=E,l[u++]=E,l[u++]=E,l[u++]=a?c[g++]:255,p=g;else for(;u<v;)g=b?4*o[u/4]:p,l[u++]=c[g++],l[u++]=c[g++],l[u++]=c[g++],l[u++]=a?c[g++]:255,p=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Tt)==="[object Window]"){try{e=Tt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,A,l,u,c,p,g;if(this.animation){for(g=[],a=u=0,c=(p=this.animation.frames).length;u<c;a=++u)o=p[a],A=s.createImageData(o.width,o.height),l=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(A,l),o.imageData=A,g.push(o.image=t(A));return g}},r.prototype.renderFrame=function(s,o){var a,A,l;return a=(A=this.animation.frames)[o],l=A[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?s.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&s.putImageData(l.imageData,l.xOffset,l.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,A,l,u,c,p=this;return a=0,c=this.animation,l=c.numFrames,A=c.frames,u=c.numPlays,(o=function(){var g,v;if(g=a++%l,v=A[g],p.renderFrame(s,g),l>1&&a/l<u)return p.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function NY(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,A=null;s&&(a=e,A=o,e+=3*o);var l=!0,u=[],c=0,p=null,g=0,v=null;for(this.width=n,this.height=r;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];c=t[e++]|t[e++]<<8,p=t[e++],!(1&b)&&(p=null),g=b>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,U=t[e++],P=U>>6&1,M=1<<(7&U)+1,S=a,_=A,N=!1;U>>7&&(N=!0,S=e,_=M,e+=3*M);var O=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}u.push({x:E,y,width:w,height:x,has_local_palette:N,palette_offset:S,palette_size:_,data_offset:O,data_length:e-O,transparent_index:p,interlaced:!!P,delay:c,disposal:g});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,k){var X=this.frameInfo(T),de=X.width*X.height,te=new Uint8Array(de);L4(t,X.data_offset,te,de);var K=X.palette_offset,$=X.transparent_index;$===null&&($=256);var R=X.width,W=n-R,re=R,Q=4*(X.y*n+X.x),j=4*((X.y+X.height)*n+X.x),z=Q,ee=4*W;X.interlaced===!0&&(ee+=4*n*7);for(var ne=8,Ae=0,ge=te.length;Ae<ge;++Ae){var Be=te[Ae];if(re===0&&(re=R,(z+=ee)>=j&&(ee=4*W+4*n*(ne-1),z=Q+(R+W)*(ne<<1),ne>>=1)),Be===$)z+=4;else{var Fe=t[K+3*Be],Te=t[K+3*Be+1],je=t[K+3*Be+2];k[z++]=je,k[z++]=Te,k[z++]=Fe,k[z++]=255}--re}},this.decodeAndBlitFrameRGBA=function(T,k){var X=this.frameInfo(T),de=X.width*X.height,te=new Uint8Array(de);L4(t,X.data_offset,te,de);var K=X.palette_offset,$=X.transparent_index;$===null&&($=256);var R=X.width,W=n-R,re=R,Q=4*(X.y*n+X.x),j=4*((X.y+X.height)*n+X.x),z=Q,ee=4*W;X.interlaced===!0&&(ee+=4*n*7);for(var ne=8,Ae=0,ge=te.length;Ae<ge;++Ae){var Be=te[Ae];if(re===0&&(re=R,(z+=ee)>=j&&(ee=4*W+4*n*(ne-1),z=Q+(R+W)*(ne<<1),ne>>=1)),Be===$)z+=4;else{var Fe=t[K+3*Be],Te=t[K+3*Be+1],je=t[K+3*Be+2];k[z++]=Fe,k[z++]=Te,k[z++]=je,k[z++]=255}--re}}}function L4(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,A=i+1,l=(1<<A)-1,u=0,c=0,p=0,g=t[e++],v=new Int32Array(4096),b=null;;){for(;u<16&&g!==0;)c|=t[e++]<<u,u+=8,g===1?g=t[e++]:--g;if(u<A)break;var E=c&l;if(c>>=A,u-=A,E!==s){if(E===o)break;for(var y=E<a?E:b,w=0,x=y;x>s;)x=v[x]>>8,++w;var U=x;if(p+w+(y!==E?1:0)>r)return void gn.log("Warning, gif stream longer than expected.");n[p++]=U;var P=p+=w;for(y!==E&&(n[p++]=U),x=y;w--;)x=v[x],n[--P]=255&x,x>>=8;b!==null&&a<4096&&(v[a++]=b<<8|U,a>=l+1&&A<12&&(++A,l=l<<1|1)),b=E}else a=o+1,l=(1<<(A=i+1))-1,b=null}return p!==r&&gn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ky(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),A=new Array(64),l=new Array(64),u=new Array(64),c=new Array(65535),p=new Array(65535),g=new Array(64),v=new Array(64),b=[],E=0,y=7,w=new Array(64),x=new Array(64),U=new Array(64),P=new Array(256),M=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(Q,j){for(var z=0,ee=0,ne=new Array,Ae=1;Ae<=16;Ae++){for(var ge=1;ge<=Q[Ae];ge++)ne[j[ee]]=[],ne[j[ee]][0]=z,ne[j[ee]][1]=Ae,ee++,z++;z*=2}return ne}function K(Q){for(var j=Q[0],z=Q[1]-1;z>=0;)j&1<<z&&(E|=1<<y),z--,--y<0&&(E==255?($(255),$(0)):$(E),y=7,E=0)}function $(Q){b.push(Q)}function R(Q){$(Q>>8&255),$(255&Q)}function W(Q,j,z,ee,ne){for(var Ae,ge=ne[0],Be=ne[240],Fe=function(Ke,ae){var fe,be,Ue,$e,et,Pe,ze,Oe,We,mt,ue=0;for(We=0;We<8;++We){fe=Ke[ue],be=Ke[ue+1],Ue=Ke[ue+2],$e=Ke[ue+3],et=Ke[ue+4],Pe=Ke[ue+5],ze=Ke[ue+6];var Qe=fe+(Oe=Ke[ue+7]),Re=fe-Oe,lt=be+ze,tt=be-ze,vt=Ue+Pe,Pt=Ue-Pe,Ct=$e+et,Xt=$e-et,Wt=Qe+Ct,Gt=Qe-Ct,vr=lt+vt,xt=lt-vt;Ke[ue]=Wt+vr,Ke[ue+4]=Wt-vr;var It=.707106781*(xt+Gt);Ke[ue+2]=Gt+It,Ke[ue+6]=Gt-It;var $t=.382683433*((Wt=Xt+Pt)-(xt=tt+Re)),ps=.5411961*Wt+$t,lr=1.306562965*xt+$t,$r=.707106781*(vr=Pt+tt),$i=Re+$r,wt=Re-$r;Ke[ue+5]=wt+ps,Ke[ue+3]=wt-ps,Ke[ue+1]=$i+lr,Ke[ue+7]=$i-lr,ue+=8}for(ue=0,We=0;We<8;++We){fe=Ke[ue],be=Ke[ue+8],Ue=Ke[ue+16],$e=Ke[ue+24],et=Ke[ue+32],Pe=Ke[ue+40],ze=Ke[ue+48];var Ti=fe+(Oe=Ke[ue+56]),Jr=fe-Oe,ur=be+ze,Jn=be-ze,Mn=Ue+Pe,cr=Ue-Pe,qa=$e+et,Ds=$e-et,Yr=Ti+qa,ki=Ti-qa,di=ur+Mn,hi=ur-Mn;Ke[ue]=Yr+di,Ke[ue+32]=Yr-di;var Yn=.707106781*(hi+ki);Ke[ue+16]=ki+Yn,Ke[ue+48]=ki-Yn;var Ji=.382683433*((Yr=Ds+cr)-(hi=Jn+Jr)),ho=.5411961*Yr+Ji,fo=1.306562965*hi+Ji,po=.707106781*(di=cr+Jn),Xo=Jr+po,Zo=Jr-po;Ke[ue+40]=Zo+ho,Ke[ue+24]=Zo-ho,Ke[ue+8]=Xo+fo,Ke[ue+56]=Xo-fo,ue++}for(We=0;We<64;++We)mt=Ke[We]*ae[We],g[We]=mt>0?mt+.5|0:mt-.5|0;return g}(Q,j),Te=0;Te<64;++Te)v[S[Te]]=Fe[Te];var je=v[0]-z;z=v[0],je==0?K(ee[0]):(K(ee[p[Ae=32767+je]]),K(c[Ae]));for(var Le=63;Le>0&&v[Le]==0;)Le--;if(Le==0)return K(ge),z;for(var Ve,Ee=1;Ee<=Le;){for(var oe=Ee;v[Ee]==0&&Ee<=Le;)++Ee;var dt=Ee-oe;if(dt>=16){Ve=dt>>4;for(var it=1;it<=Ve;++it)K(Be);dt&=15}Ae=32767+v[Ee],K(ne[(dt<<4)+p[Ae]]),K(c[Ae]),Ee++}return Le!=63&&K(ge),z}function re(Q){Q=Math.min(Math.max(Q,1),100),s!=Q&&(function(j){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ne=o((z[ee]*j+50)/100);ne=Math.min(Math.max(ne,1),255),a[S[ee]]=ne}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var Be=o((Ae[ge]*j+50)/100);Be=Math.min(Math.max(Be,1),255),A[S[ge]]=Be}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,je=0;je<8;je++)for(var Le=0;Le<8;Le++)l[Te]=1/(a[S[Te]]*Fe[je]*Fe[Le]*8),u[Te]=1/(A[S[Te]]*Fe[je]*Fe[Le]*8),Te++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),s=Q)}this.encode=function(Q,j){j&&re(j),b=new Array,E=0,y=7,R(65496),R(65504),R(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),R(1),R(1),$(0),$(0),function(){R(65499),R(132),$(0);for(var be=0;be<64;be++)$(a[be]);$(1);for(var Ue=0;Ue<64;Ue++)$(A[Ue])}(),function(be,Ue){R(65472),R(17),$(8),R(Ue),R(be),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(Q.width,Q.height),function(){R(65476),R(418),$(0);for(var be=0;be<16;be++)$(_[be+1]);for(var Ue=0;Ue<=11;Ue++)$(N[Ue]);$(16);for(var $e=0;$e<16;$e++)$(O[$e+1]);for(var et=0;et<=161;et++)$(I[et]);$(1);for(var Pe=0;Pe<16;Pe++)$(T[Pe+1]);for(var ze=0;ze<=11;ze++)$(k[ze]);$(17);for(var Oe=0;Oe<16;Oe++)$(X[Oe+1]);for(var We=0;We<=161;We++)$(de[We])}(),R(65498),R(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var z=0,ee=0,ne=0;E=0,y=7,this.encode.displayName="_encode_";for(var Ae,ge,Be,Fe,Te,je,Le,Ve,Ee,oe=Q.data,dt=Q.width,it=Q.height,Ke=4*dt,ae=0;ae<it;){for(Ae=0;Ae<Ke;){for(Te=Ke*ae+Ae,Le=-1,Ve=0,Ee=0;Ee<64;Ee++)je=Te+(Ve=Ee>>3)*Ke+(Le=4*(7&Ee)),ae+Ve>=it&&(je-=Ke*(ae+1+Ve-it)),Ae+Le>=Ke&&(je-=Ae+Le-Ke+4),ge=oe[je++],Be=oe[je++],Fe=oe[je++],w[Ee]=(M[ge]+M[Be+256>>0]+M[Fe+512>>0]>>16)-128,x[Ee]=(M[ge+768>>0]+M[Be+1024>>0]+M[Fe+1280>>0]>>16)-128,U[Ee]=(M[ge+1280>>0]+M[Be+1536>>0]+M[Fe+1792>>0]>>16)-128;z=W(w,l,z,e,r),ee=W(x,u,ee,n,i),ne=W(U,u,ne,n,i),Ae+=32}ae+=8}if(y>=0){var fe=[];fe[1]=y+1,fe[0]=(1<<y+1)-1,K(fe)}return R(65497),new Uint8Array(b)},t=t||50,function(){for(var Q=String.fromCharCode,j=0;j<256;j++)P[j]=Q(j)}(),e=te(_,N),n=te(T,k),r=te(O,I),i=te(X,de),function(){for(var Q=1,j=2,z=1;z<=15;z++){for(var ee=Q;ee<j;ee++)p[32767+ee]=z,c[32767+ee]=[],c[32767+ee][1]=z,c[32767+ee][0]=ee;for(var ne=-(j-1);ne<=-Q;ne++)p[32767+ne]=z,c[32767+ne]=[],c[32767+ne][1]=z,c[32767+ne][0]=j-1+ne;Q<<=1,j<<=1}}(),function(){for(var Q=0;Q<256;Q++)M[Q]=19595*Q,M[Q+256>>0]=38470*Q,M[Q+512>>0]=7471*Q+32768,M[Q+768>>0]=-11059*Q,M[Q+1024>>0]=-21709*Q,M[Q+1280>>0]=32768*Q+8421375,M[Q+1536>>0]=-27439*Q,M[Q+1792>>0]=-5329*Q}(),re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ys(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function P4(t){function e(_){if(!_)throw Error("assert :P")}function n(_,N,O){for(var I=0;4>I;I++)if(_[N+I]!=O.charCodeAt(I))return!0;return!1}function r(_,N,O,I,T){for(var k=0;k<T;k++)_[N+k]=O[I+k]}function i(_,N,O,I){for(var T=0;T<I;T++)_[N+T]=O}function s(_){return new Int32Array(_)}function o(_,N){for(var O=[],I=0;I<_;I++)O.push(new N);return O}function a(_,N){var O=[];return function I(T,k,X){for(var de=X[k],te=0;te<de&&(T.push(X.length>k+1?[]:new N),!(X.length<k+1));te++)I(T[te],k+1,X)}(O,0,_),O}var A=function(){var _=this;function N(d,m){for(var C=1<<m-1>>>0;d&C;)C>>>=1;return C?(d&C-1)+C:d}function O(d,m,C,L,V){e(!(L%C));do d[m+(L-=C)]=V;while(0<L)}function I(d,m,C,L,V){if(e(2328>=V),512>=V)var G=s(512);else if((G=s(V))==null)return 0;return function(q,Y,Z,ie,he,xe){var _e,ye,He=Y,ke=1<<Z,pe=s(16),me=s(16);for(e(he!=0),e(ie!=null),e(q!=null),e(0<Z),ye=0;ye<he;++ye){if(15<ie[ye])return 0;++pe[ie[ye]]}if(pe[0]==he)return 0;for(me[1]=0,_e=1;15>_e;++_e){if(pe[_e]>1<<_e)return 0;me[_e+1]=me[_e]+pe[_e]}for(ye=0;ye<he;++ye)_e=ie[ye],0<ie[ye]&&(xe[me[_e]++]=ye);if(me[15]==1)return(ie=new T).g=0,ie.value=xe[0],O(q,He,1,ke,ie),ke;var De,qe=-1,Me=ke-1,ft=0,st=1,Et=1,ct=1<<Z;for(ye=0,_e=1,he=2;_e<=Z;++_e,he<<=1){if(st+=Et<<=1,0>(Et-=pe[_e]))return 0;for(;0<pe[_e];--pe[_e])(ie=new T).g=_e,ie.value=xe[ye++],O(q,He+ft,he,ct,ie),ft=N(ft,_e)}for(_e=Z+1,he=2;15>=_e;++_e,he<<=1){if(st+=Et<<=1,0>(Et-=pe[_e]))return 0;for(;0<pe[_e];--pe[_e]){if(ie=new T,(ft&Me)!=qe){for(He+=ct,De=1<<(qe=_e)-Z;15>qe&&!(0>=(De-=pe[qe]));)++qe,De<<=1;ke+=ct=1<<(De=qe-Z),q[Y+(qe=ft&Me)].g=De+Z,q[Y+qe].value=He-Y-qe}ie.g=_e-Z,ie.value=xe[ye++],O(q,He+(ft>>Z),he,ct,ie),ft=N(ft,_e)}}return st!=2*me[15]-1?0:ke}(d,m,C,L,V,G)}function T(){this.value=this.g=0}function k(){this.value=this.g=0}function X(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Rr,k)}function de(d,m,C,L){e(d!=null),e(m!=null),e(2147483648>L),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=m,d.pa=C,d.Jd=m,d.Yc=C+L,d.Zc=4<=L?C+L-4+1:C,Ae(d)}function te(d,m){for(var C=0;0<m--;)C|=Be(d,128)<<m;return C}function K(d,m){var C=te(d,m);return ge(d)?-C:C}function $(d,m,C,L){var V,G=0;for(e(d!=null),e(m!=null),e(4294967288>L),d.Sb=L,d.Ra=0,d.u=0,d.h=0,4<L&&(L=4),V=0;V<L;++V)G+=m[C+V]<<8*V;d.Ra=G,d.bb=L,d.oa=m,d.pa=C}function R(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Fc-8>>>0,++d.bb,d.u-=8;z(d)&&(d.h=1,d.u=0)}function W(d,m){if(e(0<=m),!d.h&&m<=Sc){var C=j(d)&Ec[m];return d.u+=m,R(d),C}return d.h=1,d.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(d){return d.Ra>>>(d.u&Fc-1)>>>0}function z(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Fc}function ee(d,m){d.u=m,d.h=z(d)}function ne(d){d.u>=Nh&&(e(d.u>=Nh),R(d))}function Ae(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function ge(d){return te(d,1)}function Be(d,m){var C=d.Ca;0>d.b&&Ae(d);var L=d.b,V=C*m>>>8,G=(d.I>>>L>V)+0;for(G?(C-=V,d.I-=V+1<<L>>>0):C=V+1,L=C,V=0;256<=L;)V+=8,L>>=8;return L=7^V+Ui[L],d.b-=L,d.Ca=(C<<L)-1,G}function Fe(d,m,C){d[m+0]=C>>24&255,d[m+1]=C>>16&255,d[m+2]=C>>8&255,d[m+3]=C>>0&255}function Te(d,m){return d[m+0]<<0|d[m+1]<<8}function je(d,m){return Te(d,m)|d[m+2]<<16}function Le(d,m){return Te(d,m)|Te(d,m+2)<<16}function Ve(d,m){var C=1<<m;return e(d!=null),e(0<m),d.X=s(C),d.X==null?0:(d.Mb=32-m,d.Xa=m,1)}function Ee(d,m){e(d!=null),e(m!=null),e(d.Xa==m.Xa),r(m.X,0,d.X,0,1<<m.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function dt(d,m,C,L){e(C!=null),e(L!=null);var V=C[0],G=L[0];return V==0&&(V=(d*G+m/2)/m),G==0&&(G=(m*V+d/2)/d),0>=V||0>=G?0:(C[0]=V,L[0]=G,1)}function it(d,m){return d+(1<<m)-1>>>m}function Ke(d,m){return((4278255360&d)+(4278255360&m)>>>0&4278255360)+((16711935&d)+(16711935&m)>>>0&16711935)>>>0}function ae(d,m){_[m]=function(C,L,V,G,q,Y,Z){var ie;for(ie=0;ie<q;++ie){var he=_[d](Y[Z+ie-1],V,G+ie);Y[Z+ie]=Ke(C[L+ie],he)}}}function fe(){this.ud=this.hd=this.jd=0}function be(d,m){return((4278124286&(d^m))>>>1)+(d&m)>>>0}function Ue(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function $e(d,m){return Ue(d+(d-m+.5>>1))}function et(d,m,C){return Math.abs(m-C)-Math.abs(d-C)}function Pe(d,m,C,L,V,G,q){for(L=G[q-1],C=0;C<V;++C)G[q+C]=L=Ke(d[m+C],L)}function ze(d,m,C,L,V){var G;for(G=0;G<C;++G){var q=d[m+G],Y=q>>8&255,Z=16711935&(Z=(Z=16711935&q)+((Y<<16)+Y));L[V+G]=(4278255360&q)+Z>>>0}}function Oe(d,m){m.jd=d>>0&255,m.hd=d>>8&255,m.ud=d>>16&255}function We(d,m,C,L,V,G){var q;for(q=0;q<L;++q){var Y=m[C+q],Z=Y>>>8,ie=Y,he=255&(he=(he=Y>>>16)+((d.jd<<24>>24)*(Z<<24>>24)>>>5));ie=255&(ie=(ie=ie+((d.hd<<24>>24)*(Z<<24>>24)>>>5))+((d.ud<<24>>24)*(he<<24>>24)>>>5)),V[G+q]=(4278255360&Y)+(he<<16)+ie}}function mt(d,m,C,L,V){_[m]=function(G,q,Y,Z,ie,he,xe,_e,ye){for(Z=xe;Z<_e;++Z)for(xe=0;xe<ye;++xe)ie[he++]=V(Y[L(G[q++])])},_[d]=function(G,q,Y,Z,ie,he,xe){var _e=8>>G.b,ye=G.Ea,He=G.K[0],ke=G.w;if(8>_e)for(G=(1<<G.b)-1,ke=(1<<_e)-1;q<Y;++q){var pe,me=0;for(pe=0;pe<ye;++pe)pe&G||(me=L(Z[ie++])),he[xe++]=V(He[me&ke]),me>>=_e}else _["VP8LMapColor"+C](Z,ie,He,ke,he,xe,q,Y,ye)}}function ue(d,m,C,L,V){for(C=m+C;m<C;){var G=d[m++];L[V++]=G>>16&255,L[V++]=G>>8&255,L[V++]=G>>0&255}}function Qe(d,m,C,L,V){for(C=m+C;m<C;){var G=d[m++];L[V++]=G>>16&255,L[V++]=G>>8&255,L[V++]=G>>0&255,L[V++]=G>>24&255}}function Re(d,m,C,L,V){for(C=m+C;m<C;){var G=(q=d[m++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;L[V++]=G,L[V++]=q}}function lt(d,m,C,L,V){for(C=m+C;m<C;){var G=(q=d[m++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;L[V++]=G,L[V++]=q}}function tt(d,m,C,L,V){for(C=m+C;m<C;){var G=d[m++];L[V++]=G>>0&255,L[V++]=G>>8&255,L[V++]=G>>16&255}}function vt(d,m,C,L,V,G){if(G==0)for(C=m+C;m<C;)Fe(L,((G=d[m++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),V+=32;else r(L,V,d,m,C)}function Pt(d,m){_[m][0]=_[d+"0"],_[m][1]=_[d+"1"],_[m][2]=_[d+"2"],_[m][3]=_[d+"3"],_[m][4]=_[d+"4"],_[m][5]=_[d+"5"],_[m][6]=_[d+"6"],_[m][7]=_[d+"7"],_[m][8]=_[d+"8"],_[m][9]=_[d+"9"],_[m][10]=_[d+"10"],_[m][11]=_[d+"11"],_[m][12]=_[d+"12"],_[m][13]=_[d+"13"],_[m][14]=_[d+"0"],_[m][15]=_[d+"0"]}function Ct(d){return d==Ww||d==qw||d==Dg||d==$w}function Xt(){this.eb=[],this.size=this.A=this.fb=0}function Wt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xt,this.f.kb=new Wt,this.sd=null}function vr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function $t(d,m){var C=d.T,L=m.ba.f.RGBA,V=L.eb,G=L.fb+d.ka*L.A,q=bs[m.ba.S],Y=d.y,Z=d.O,ie=d.f,he=d.N,xe=d.ea,_e=d.W,ye=m.cc,He=m.dc,ke=m.Mc,pe=m.Nc,me=d.ka,De=d.ka+d.T,qe=d.U,Me=qe+1>>1;for(me==0?q(Y,Z,null,null,ie,he,xe,_e,ie,he,xe,_e,V,G,null,null,qe):(q(m.ec,m.fc,Y,Z,ye,He,ke,pe,ie,he,xe,_e,V,G-L.A,V,G,qe),++C);me+2<De;me+=2)ye=ie,He=he,ke=xe,pe=_e,he+=d.Rc,_e+=d.Rc,G+=2*L.A,q(Y,(Z+=2*d.fa)-d.fa,Y,Z,ye,He,ke,pe,ie,he,xe,_e,V,G-L.A,V,G,qe);return Z+=d.fa,d.j+De<d.o?(r(m.ec,m.fc,Y,Z,qe),r(m.cc,m.dc,ie,he,Me),r(m.Mc,m.Nc,xe,_e,Me),C--):1&De||q(Y,Z,null,null,ie,he,xe,_e,ie,he,xe,_e,V,G+L.A,null,null,qe),C}function ps(d,m,C){var L=d.F,V=[d.J];if(L!=null){var G=d.U,q=m.ba.S,Y=q==Rg||q==Dg;m=m.ba.f.RGBA;var Z=[0],ie=d.ka;Z[0]=d.T,d.Kb&&(ie==0?--Z[0]:(--ie,V[0]-=d.width),d.j+d.ka+d.T==d.o&&(Z[0]=d.o-d.j-ie));var he=m.eb;ie=m.fb+ie*m.A,d=vn(L,V[0],d.width,G,Z,he,ie+(Y?0:3),m.A),e(C==Z),d&&Ct(q)&&ys(he,ie,Y,G,Z,m.A)}return 0}function lr(d){var m=d.ma,C=m.ba.S,L=11>C,V=C==Lg||C==Pg||C==Rg||C==Gw||C==12||Ct(C);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Th(m.Oa,d,V?11:12))return 0;if(V&&Ct(C)&&Je(),d.da)alert("todo:use_scaling");else{if(L){if(m.Ib=It,d.Kb){if(C=d.U+1>>1,m.memory=s(d.U+2*C),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+d.U,m.Mc=m.cc,m.Nc=m.dc+C,m.Ib=$t,Je()}}else alert("todo:EmitYUV");V&&(m.Jb=ps,L&&we())}if(L&&!K_){for(d=0;256>d;++d)iL[d]=89858*(d-128)+Mg>>Og,aL[d]=-22014*(d-128)+Mg,oL[d]=-45773*(d-128),sL[d]=113618*(d-128)+Mg>>Og;for(d=Oh;d<Xw;++d)m=76283*(d-16)+Mg>>Og,AL[d-Oh]=nn(m,255),lL[d-Oh]=nn(m+8>>4,15);K_=1}return 1}function $r(d){var m=d.ma,C=d.U,L=d.T;return e(!(1&d.ka)),0>=C||0>=L?0:(C=m.Ib(d,m),m.Jb!=null&&m.Jb(d,m,C),m.Dc+=C,1)}function $i(d){d.ma.memory=null}function wt(d,m,C,L){return W(d,8)!=47?0:(m[0]=W(d,14)+1,C[0]=W(d,14)+1,L[0]=W(d,1),W(d,3)!=0?0:!d.h)}function Ti(d,m){if(4>d)return d+1;var C=d-2>>1;return(2+(1&d)<<C)+W(m,C)+1}function Jr(d,m){return 120<m?m-120:1<=(C=((C=KQ[m-1])>>4)*d+(8-(15&C)))?C:1;var C}function ur(d,m,C){var L=j(C),V=d[m+=255&L].g-8;return 0<V&&(ee(C,C.u+8),L=j(C),m+=d[m].value,m+=L&(1<<V)-1),ee(C,C.u+d[m].g),d[m].value}function Jn(d,m,C){return C.g+=d.g,C.value+=d.value<<m>>>0,e(8>=C.g),d.g}function Mn(d,m,C){var L=d.xc;return e((m=L==0?0:d.vc[d.md*(C>>L)+(m>>L)])<d.Wb),d.Ya[m]}function cr(d,m,C,L){var V=d.ab,G=d.c*m,q=d.C;m=q+m;var Y=C,Z=L;for(L=d.Ta,C=d.Ua;0<V--;){var ie=d.gc[V],he=q,xe=m,_e=Y,ye=Z,He=(Z=L,Y=C,ie.Ea);switch(e(he<xe),e(xe<=ie.nc),ie.hc){case 2:Sg(_e,ye,(xe-he)*He,Z,Y);break;case 0:var ke=he,pe=xe,me=Z,De=Y,qe=(ct=ie).Ea;ke==0&&(Kw(_e,ye,null,null,1,me,De),Pe(_e,ye+1,0,0,qe-1,me,De+1),ye+=qe,De+=qe,++ke);for(var Me=1<<ct.b,ft=Me-1,st=it(qe,ct.b),Et=ct.K,ct=ct.w+(ke>>ct.b)*st;ke<pe;){var en=Et,on=ct,Jt=1;for(Uh(_e,ye,me,De-qe,1,me,De);Jt<qe;){var Ht=(Jt&~ft)+Me;Ht>qe&&(Ht=qe),(0,dA[en[on++]>>8&15])(_e,ye+ +Jt,me,De+Jt-qe,Ht-Jt,me,De+Jt),Jt=Ht}ye+=qe,De+=qe,++ke&ft||(ct+=st)}xe!=ie.nc&&r(Z,Y-He,Z,Y+(xe-he-1)*He,He);break;case 1:for(He=_e,pe=ye,qe=(_e=ie.Ea)-(De=_e&~(me=(ye=1<<ie.b)-1)),ke=it(_e,ie.b),Me=ie.K,ie=ie.w+(he>>ie.b)*ke;he<xe;){for(ft=Me,st=ie,Et=new fe,ct=pe+De,en=pe+_e;pe<ct;)Oe(ft[st++],Et),Xl(Et,He,pe,ye,Z,Y),pe+=ye,Y+=ye;pe<en&&(Oe(ft[st++],Et),Xl(Et,He,pe,qe,Z,Y),pe+=qe,Y+=qe),++he&me||(ie+=ke)}break;case 3:if(_e==Z&&ye==Y&&0<ie.b){for(pe=Z,_e=He=Y+(xe-he)*He-(De=(xe-he)*it(ie.Ea,ie.b)),ye=Z,me=Y,ke=[],De=(qe=De)-1;0<=De;--De)ke[De]=ye[me+De];for(De=qe-1;0<=De;--De)pe[_e+De]=ke[De];ms(ie,he,xe,Z,He,Z,Y)}else ms(ie,he,xe,_e,ye,Z,Y)}Y=L,Z=C}Z!=C&&r(L,C,Y,Z,G)}function qa(d,m){var C=d.V,L=d.Ba+d.c*d.C,V=m-d.C;if(e(m<=d.l.o),e(16>=V),0<V){var G=d.l,q=d.Ta,Y=d.Ua,Z=G.width;if(cr(d,V,C,L),V=Y=[Y],e((C=d.C)<(L=m)),e(G.v<G.va),L>G.o&&(L=G.o),C<G.j){var ie=G.j-C;C=G.j,V[0]+=ie*Z}if(C>=L?C=0:(V[0]+=4*G.v,G.ka=C-G.j,G.U=G.va-G.v,G.T=L-C,C=1),C){if(Y=Y[0],11>(C=d.ca).S){var he=C.f.RGBA,xe=(L=C.S,V=G.U,G=G.T,ie=he.eb,he.A),_e=G;for(he=he.fb+d.Ma*he.A;0<_e--;){var ye=q,He=Y,ke=V,pe=ie,me=he;switch(L){case Qg:Qi(ye,He,ke,pe,me);break;case Lg:pi(ye,He,ke,pe,me);break;case Ww:pi(ye,He,ke,pe,me),ys(pe,me,0,ke,1,0);break;case L_:ua(ye,He,ke,pe,me);break;case Pg:vt(ye,He,ke,pe,me,1);break;case qw:vt(ye,He,ke,pe,me,1),ys(pe,me,0,ke,1,0);break;case Rg:vt(ye,He,ke,pe,me,0);break;case Dg:vt(ye,He,ke,pe,me,0),ys(pe,me,1,ke,1,0);break;case Gw:hA(ye,He,ke,pe,me);break;case $w:hA(ye,He,ke,pe,me),mn(pe,me,ke,1,0);break;case P_:la(ye,He,ke,pe,me);break;default:e(0)}Y+=Z,he+=xe}d.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=C.height)}}d.C=m,e(d.C<=d.i)}function Ds(d){var m;if(0<d.ua)return 0;for(m=0;m<d.Wb;++m){var C=d.Ya[m].G,L=d.Ya[m].H;if(0<C[1][L[1]+0].g||0<C[2][L[2]+0].g||0<C[3][L[3]+0].g)return 0}return 1}function Yr(d,m,C,L,V,G){if(d.Z!=0){var q=d.qd,Y=d.rd;for(e(mA[d.Z]!=null);m<C;++m)mA[d.Z](q,Y,L,V,L,V,G),q=L,Y=V,V+=G;d.qd=q,d.rd=Y}}function ki(d,m){var C=d.l.ma,L=C.Z==0||C.Z==1?d.l.j:d.C;if(L=d.C<L?L:d.C,e(m<=d.l.o),m>L){var V=d.l.width,G=C.ca,q=C.tb+V*L,Y=d.V,Z=d.Ba+d.c*L,ie=d.gc;e(d.ab==1),e(ie[0].hc==3),Fg(ie[0],L,m,Y,Z,G,q),Yr(C,L,m,G,q,V)}d.C=d.Ma=m}function di(d,m,C,L,V,G,q){var Y=d.$/L,Z=d.$%L,ie=d.m,he=d.s,xe=C+d.$,_e=xe;V=C+L*V;var ye=C+L*G,He=280+he.ua,ke=d.Pb?Y:16777216,pe=0<he.ua?he.Wa:null,me=he.wc,De=xe<ye?Mn(he,Z,Y):null;e(d.C<G),e(ye<=V);var qe=!1;e:for(;;){for(;qe||xe<ye;){var Me=0;if(Y>=ke){var ft=xe-C;e((ke=d).Pb),ke.wd=ke.m,ke.xd=ft,0<ke.s.ua&&Ee(ke.s.Wa,ke.s.vb),ke=Y+GQ}if(Z&me||(De=Mn(he,Z,Y)),e(De!=null),De.Qb&&(m[xe]=De.qb,qe=!0),!qe)if(ne(ie),De.jc){Me=ie,ft=m;var st=xe,Et=De.pd[j(Me)&Rr-1];e(De.jc),256>Et.g?(ee(Me,Me.u+Et.g),ft[st]=Et.value,Me=0):(ee(Me,Me.u+Et.g-256),e(256<=Et.value),Me=Et.value),Me==0&&(qe=!0)}else Me=ur(De.G[0],De.H[0],ie);if(ie.h)break;if(qe||256>Me){if(!qe)if(De.nd)m[xe]=(De.qb|Me<<8)>>>0;else{if(ne(ie),qe=ur(De.G[1],De.H[1],ie),ne(ie),ft=ur(De.G[2],De.H[2],ie),st=ur(De.G[3],De.H[3],ie),ie.h)break;m[xe]=(st<<24|qe<<16|Me<<8|ft)>>>0}if(qe=!1,++xe,++Z>=L&&(Z=0,++Y,q!=null&&Y<=G&&!(Y%16)&&q(d,Y),pe!=null))for(;_e<xe;)Me=m[_e++],pe.X[(506832829*Me&4294967295)>>>pe.Mb]=Me}else if(280>Me){if(Me=Ti(Me-256,ie),ft=ur(De.G[4],De.H[4],ie),ne(ie),ft=Jr(L,ft=Ti(ft,ie)),ie.h)break;if(xe-C<ft||V-xe<Me)break e;for(st=0;st<Me;++st)m[xe+st]=m[xe+st-ft];for(xe+=Me,Z+=Me;Z>=L;)Z-=L,++Y,q!=null&&Y<=G&&!(Y%16)&&q(d,Y);if(e(xe<=V),Z&me&&(De=Mn(he,Z,Y)),pe!=null)for(;_e<xe;)Me=m[_e++],pe.X[(506832829*Me&4294967295)>>>pe.Mb]=Me}else{if(!(Me<He))break e;for(qe=Me-280,e(pe!=null);_e<xe;)Me=m[_e++],pe.X[(506832829*Me&4294967295)>>>pe.Mb]=Me;Me=xe,e(!(qe>>>(ft=pe).Xa)),m[Me]=ft.X[qe],qe=!0}qe||e(ie.h==z(ie))}if(d.Pb&&ie.h&&xe<V)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Ee(d.s.vb,d.s.Wa);else{if(ie.h)break e;q!=null&&q(d,Y>G?G:Y),d.a=0,d.$=xe-C}return 1}return d.a=3,0}function hi(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var m=d.Wa;m!=null&&(m.X=null),d.vb=null,e(d!=null)}function Yn(){var d=new Cc;return d==null?null:(d.a=0,d.xb=O_,Pt("Predictor","VP8LPredictors"),Pt("Predictor","VP8LPredictors_C"),Pt("PredictorAdd","VP8LPredictorsAdd"),Pt("PredictorAdd","VP8LPredictorsAdd_C"),Sg=ze,Xl=We,Qi=ue,pi=Qe,hA=Re,la=lt,ua=tt,_.VP8LMapColor32b=Tc,_.VP8LMapColor8b=Tg,d)}function Ji(d,m,C,L,V){var G=1,q=[d],Y=[m],Z=L.m,ie=L.s,he=null,xe=0;e:for(;;){if(C)for(;G&&W(Z,1);){var _e=q,ye=Y,He=L,ke=1,pe=He.m,me=He.gc[He.ab],De=W(pe,2);if(He.Oc&1<<De)G=0;else{switch(He.Oc|=1<<De,me.hc=De,me.Ea=_e[0],me.nc=ye[0],me.K=[null],++He.ab,e(4>=He.ab),De){case 0:case 1:me.b=W(pe,3)+2,ke=Ji(it(me.Ea,me.b),it(me.nc,me.b),0,He,me.K),me.K=me.K[0];break;case 3:var qe,Me=W(pe,8)+1,ft=16<Me?0:4<Me?1:2<Me?2:3;if(_e[0]=it(me.Ea,ft),me.b=ft,qe=ke=Ji(Me,1,0,He,me.K)){var st,Et=Me,ct=me,en=1<<(8>>ct.b),on=s(en);if(on==null)qe=0;else{var Jt=ct.K[0],Ht=ct.w;for(on[0]=ct.K[0][0],st=1;st<1*Et;++st)on[st]=Ke(Jt[Ht+st],on[st-1]);for(;st<4*en;++st)on[st]=0;ct.K[0]=null,ct.K[0]=on,qe=1}}ke=qe;break;case 2:break;default:e(0)}G=ke}}if(q=q[0],Y=Y[0],G&&W(Z,1)&&!(G=1<=(xe=W(Z,4))&&11>=xe)){L.a=3;break e}var pn;if(pn=G)t:{var cn,Rt,dr,Li=L,hr=q,Pi=Y,an=xe,ts=C,ns=Li.m,Er=Li.s,Dr=[null],mi=1,xs=0,Co=zQ[an];n:for(;;){if(ts&&W(ns,1)){var Sr=W(ns,3)+2,fa=it(hr,Sr),ru=it(Pi,Sr),Lc=fa*ru;if(!Ji(fa,ru,0,Li,Dr))break n;for(Dr=Dr[0],Er.xc=Sr,cn=0;cn<Lc;++cn){var vA=Dr[cn]>>8&65535;Dr[cn]=vA,vA>=mi&&(mi=vA+1)}}if(ns.h)break n;for(Rt=0;5>Rt;++Rt){var Hn=R_[Rt];!Rt&&0<an&&(Hn+=1<<an),xs<Hn&&(xs=Hn)}var Zw=o(mi*Co,T),W_=mi,q_=o(W_,X);if(q_==null)var Hg=null;else e(65536>=W_),Hg=q_;var Mh=s(xs);if(Hg==null||Mh==null||Zw==null){Li.a=1;break n}var Vg=Zw;for(cn=dr=0;cn<mi;++cn){var qs=Hg[cn],Pc=qs.G,Rc=qs.H,$_=0,Kg=1,J_=0;for(Rt=0;5>Rt;++Rt){Hn=R_[Rt],Pc[Rt]=Vg,Rc[Rt]=dr,!Rt&&0<an&&(Hn+=1<<an);i:{var zg,e1=Hn,Gg=Li,jh=Mh,dL=Vg,hL=dr,t1=0,wA=Gg.m,fL=W(wA,1);if(i(jh,0,0,e1),fL){var pL=W(wA,1)+1,gL=W(wA,1),Y_=W(wA,gL==0?1:8);jh[Y_]=1,pL==2&&(jh[Y_=W(wA,8)]=1);var Wg=1}else{var X_=s(19),Z_=W(wA,4)+4;if(19<Z_){Gg.a=3;var qg=0;break i}for(zg=0;zg<Z_;++zg)X_[VQ[zg]]=W(wA,3);var n1=void 0,Hh=void 0,e5=Gg,mL=X_,$g=e1,t5=jh,r1=0,yA=e5.m,n5=8,r5=o(128,T);r:for(;I(r5,0,7,mL,19);){if(W(yA,1)){var vL=2+2*W(yA,3);if((n1=2+W(yA,vL))>$g)break r}else n1=$g;for(Hh=0;Hh<$g&&n1--;){ne(yA);var i5=r5[0+(127&j(yA))];ee(yA,yA.u+i5.g);var Dc=i5.value;if(16>Dc)t5[Hh++]=Dc,Dc!=0&&(n5=Dc);else{var wL=Dc==16,s5=Dc-16,yL=jQ[s5],o5=W(yA,MQ[s5])+yL;if(Hh+o5>$g)break r;for(var BL=wL?n5:0;0<o5--;)t5[Hh++]=BL}}r1=1;break r}r1||(e5.a=3),Wg=r1}(Wg=Wg&&!wA.h)&&(t1=I(dL,hL,8,jh,e1)),Wg&&t1!=0?qg=t1:(Gg.a=3,qg=0)}if(qg==0)break n;if(Kg&&HQ[Rt]==1&&(Kg=Vg[dr].g==0),$_+=Vg[dr].g,dr+=qg,3>=Rt){var Vh,i1=Mh[0];for(Vh=1;Vh<Hn;++Vh)Mh[Vh]>i1&&(i1=Mh[Vh]);J_+=i1}}if(qs.nd=Kg,qs.Qb=0,Kg&&(qs.qb=(Pc[3][Rc[3]+0].value<<24|Pc[1][Rc[1]+0].value<<16|Pc[2][Rc[2]+0].value)>>>0,$_==0&&256>Pc[0][Rc[0]+0].value&&(qs.Qb=1,qs.qb+=Pc[0][Rc[0]+0].value<<8)),qs.jc=!qs.Qb&&6>J_,qs.jc){var Jg,pa=qs;for(Jg=0;Jg<Rr;++Jg){var BA=Jg,bA=pa.pd[BA],Yg=pa.G[0][pa.H[0]+BA];256<=Yg.value?(bA.g=Yg.g+256,bA.value=Yg.value):(bA.g=0,bA.value=0,BA>>=Jn(Yg,8,bA),BA>>=Jn(pa.G[1][pa.H[1]+BA],16,bA),BA>>=Jn(pa.G[2][pa.H[2]+BA],0,bA),Jn(pa.G[3][pa.H[3]+BA],24,bA))}}}Er.vc=Dr,Er.Wb=mi,Er.Ya=Hg,Er.yc=Zw,pn=1;break t}pn=0}if(!(G=pn)){L.a=3;break e}if(0<xe){if(ie.ua=1<<xe,!Ve(ie.Wa,xe)){L.a=1,G=0;break e}}else ie.ua=0;var s1=L,a5=q,bL=Y,o1=s1.s,a1=o1.xc;if(s1.c=a5,s1.i=bL,o1.md=it(a5,a1),o1.wc=a1==0?-1:(1<<a1)-1,C){L.xb=ZQ;break e}if((he=s(q*Y))==null){L.a=1,G=0;break e}G=(G=di(L,he,0,q,Y,Y,null))&&!Z.h;break e}return G?(V!=null?V[0]=he:(e(he==null),e(C)),L.$=0,C||hi(ie)):hi(ie),G}function ho(d,m){var C=d.c*d.i,L=C+m+16*m;return e(d.c<=m),d.V=s(L),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+C+m,1)}function fo(d,m){var C=d.C,L=m-C,V=d.V,G=d.Ba+d.c*C;for(e(m<=d.l.o);0<L;){var q=16<L?16:L,Y=d.l.ma,Z=d.l.width,ie=Z*q,he=Y.ca,xe=Y.tb+Z*C,_e=d.Ta,ye=d.Ua;cr(d,q,V,G),Zn(_e,ye,he,xe,ie),Yr(Y,C,C+q,he,xe,Z),L-=q,V+=q*d.c,C+=q}e(C==m),d.C=d.Ma=m}function po(){this.ub=this.yd=this.td=this.Rb=0}function Xo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function pc(){this.Yb=function(){var d=[];return function m(C,L,V){for(var G=V[L],q=0;q<G&&(C.push(V.length>L+1?[]:0),!(V.length<L+1));q++)m(C[q],L+1,V)}(d,0,[3,11]),d}()}function $a(){this.jb=s(3),this.Wc=a([4,8],pc),this.Xc=a([4,17],pc)}function gc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function go(){this.ld=this.La=this.dd=this.tc=0}function mo(){this.Na=this.la=0}function Os(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ea(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ih(){this.uc=this.M=this.Nb=0,this.wa=Array(new go),this.Y=0,this.ya=Array(new ea),this.aa=0,this.l=new ta}function Dl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function mc(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new po,this.Kc=new Xo,this.ed=new gc,this.Qa=new Zo,this.Ic=this.$c=this.Aa=0,this.D=new Ih,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,re),this.ia=0,this.pb=o(4,Os),this.Pa=new $a,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dl),this.Hd=0,this.rb=Array(new mo),this.sb=0,this.wa=Array(new go),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ea),this.L=this.aa=0,this.gd=a([4,2],go),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ta(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ol(){var d=new mc;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Dh||(Dh=vc)),d}function bn(d,m,C){return d.a==0&&(d.a=m,d.sc=C,d.cb=0),0}function Ml(d,m,C){return 3<=C&&d[m+0]==157&&d[m+1]==1&&d[m+2]==42}function jl(d,m){if(d==null)return 0;if(d.a=0,d.sc="OK",m==null)return bn(d,2,"null VP8Io passed to VP8GetHeaders()");var C=m.data,L=m.w,V=m.ha;if(4>V)return bn(d,7,"Truncated header.");var G=C[L+0]|C[L+1]<<8|C[L+2]<<16,q=d.Od;if(q.Rb=!(1&G),q.td=G>>1&7,q.yd=G>>4&1,q.ub=G>>5,3<q.td)return bn(d,3,"Incorrect keyframe parameters.");if(!q.yd)return bn(d,4,"Frame not displayable.");L+=3,V-=3;var Y=d.Kc;if(q.Rb){if(7>V)return bn(d,7,"cannot parse picture header");if(!Ml(C,L,V))return bn(d,3,"Bad code word");Y.c=16383&(C[L+4]<<8|C[L+3]),Y.Td=C[L+4]>>6,Y.i=16383&(C[L+6]<<8|C[L+5]),Y.Ud=C[L+6]>>6,L+=7,V-=7,d.za=Y.c+15>>4,d.Ub=Y.i+15>>4,m.width=Y.c,m.height=Y.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((G=d.Pa).jb,0,255,G.jb.length),e((G=d.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(q.ub>V)return bn(d,7,"bad partition length");de(G=d.m,C,L,q.ub),L+=q.ub,V-=q.ub,q.Rb&&(Y.Ld=ge(G),Y.Kd=ge(G)),Y=d.Qa;var Z,ie=d.Pa;if(e(G!=null),e(Y!=null),Y.Cb=ge(G),Y.Cb){if(Y.Bb=ge(G),ge(G)){for(Y.Fb=ge(G),Z=0;4>Z;++Z)Y.Zb[Z]=ge(G)?K(G,7):0;for(Z=0;4>Z;++Z)Y.Lb[Z]=ge(G)?K(G,6):0}if(Y.Bb)for(Z=0;3>Z;++Z)ie.jb[Z]=ge(G)?te(G,8):255}else Y.Bb=0;if(G.Ka)return bn(d,3,"cannot parse segment header");if((Y=d.ed).zd=ge(G),Y.Tb=te(G,6),Y.wb=te(G,3),Y.Pc=ge(G),Y.Pc&&ge(G)){for(ie=0;4>ie;++ie)ge(G)&&(Y.vd[ie]=K(G,6));for(ie=0;4>ie;++ie)ge(G)&&(Y.od[ie]=K(G,6))}if(d.L=Y.Tb==0?0:Y.zd?1:2,G.Ka)return bn(d,3,"cannot parse filter header");var he=V;if(V=Z=L,L=Z+he,Y=he,d.Xb=(1<<te(d.m,2))-1,he<3*(ie=d.Xb))C=7;else{for(Z+=3*ie,Y-=3*ie,he=0;he<ie;++he){var xe=C[V+0]|C[V+1]<<8|C[V+2]<<16;xe>Y&&(xe=Y),de(d.Jc[+he],C,Z,xe),Z+=xe,Y-=xe,V+=3}de(d.Jc[+ie],C,Z,Y),C=Z<L?0:5}if(C!=0)return bn(d,C,"cannot parse partitions");for(C=te(Z=d.m,7),V=ge(Z)?K(Z,4):0,L=ge(Z)?K(Z,4):0,Y=ge(Z)?K(Z,4):0,ie=ge(Z)?K(Z,4):0,Z=ge(Z)?K(Z,4):0,he=d.Qa,xe=0;4>xe;++xe){if(he.Cb){var _e=he.Zb[xe];he.Fb||(_e+=C)}else{if(0<xe){d.pb[xe]=d.pb[0];continue}_e=C}var ye=d.pb[xe];ye.Sc[0]=Jw[nn(_e+V,127)],ye.Sc[1]=Yw[nn(_e+0,127)],ye.Eb[0]=2*Jw[nn(_e+L,127)],ye.Eb[1]=101581*Yw[nn(_e+Y,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=Jw[nn(_e+ie,117)],ye.Qc[1]=Yw[nn(_e+Z,127)],ye.lc=_e+Z}if(!q.Rb)return bn(d,4,"Not a key frame.");for(ge(G),q=d.Pa,C=0;4>C;++C){for(V=0;8>V;++V)for(L=0;3>L;++L)for(Y=0;11>Y;++Y)ie=Be(G,YQ[C][V][L][Y])?te(G,8):$Q[C][V][L][Y],q.Wc[C][V].Yb[L][Y]=ie;for(V=0;17>V;++V)q.Xc[C][V]=q.Wc[C][XQ[V]]}return d.kc=ge(G),d.kc&&(d.Bd=te(G,8)),d.cb=1}function vc(d,m,C,L,V,G,q){var Y=m[V].Yb[C];for(C=0;16>V;++V){if(!Be(d,Y[C+0]))return V;for(;!Be(d,Y[C+1]);)if(Y=m[++V].Yb[0],C=0,V==16)return 16;var Z=m[V+1].Yb;if(Be(d,Y[C+2])){var ie=d,he=0;if(Be(ie,(_e=Y)[(xe=C)+3]))if(Be(ie,_e[xe+6])){for(Y=0,xe=2*(he=Be(ie,_e[xe+8]))+(_e=Be(ie,_e[xe+9+he])),he=0,_e=WQ[xe];_e[Y];++Y)he+=he+Be(ie,_e[Y]);he+=3+(8<<xe)}else Be(ie,_e[xe+7])?(he=7+2*Be(ie,165),he+=Be(ie,145)):he=5+Be(ie,159);else he=Be(ie,_e[xe+4])?3+Be(ie,_e[xe+5]):2;Y=Z[2]}else he=1,Y=Z[1];Z=q+qQ[V],0>(ie=d).b&&Ae(ie);var xe,_e=ie.b,ye=(xe=ie.Ca>>1)-(ie.I>>_e)>>31;--ie.b,ie.Ca+=ye,ie.Ca|=1,ie.I-=(xe+1&ye)<<_e,G[Z]=((he^ye)-ye)*L[(0<V)+0]}return 16}function Hl(d){var m=d.rb[d.sb-1];m.la=0,m.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function wc(d,m){if(d==null)return 0;if(m==null)return bn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!jl(d,m))return 0;if(e(d.cb),m.ac==null||m.ac(m)){m.ob&&(d.L=0);var C=jg[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=m.v-C>>4,d.zb=m.j-C>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=m.o+15+C>>4,d.Hb=m.va+15+C>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var L=d.ed;for(C=0;4>C;++C){var V;if(d.Qa.Cb){var G=d.Qa.Lb[C];d.Qa.Fb||(G+=L.Tb)}else G=L.Tb;for(V=0;1>=V;++V){var q=d.gd[C][V],Y=G;if(L.Pc&&(Y+=L.vd[0],V&&(Y+=L.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var Z=Y;0<L.wb&&(Z=4<L.wb?Z>>2:Z>>1)>9-L.wb&&(Z=9-L.wb),1>Z&&(Z=1),q.dd=Z,q.tc=2*Y+Z,q.ld=40<=Y?2:15<=Y?1:0}else q.tc=0;q.La=V}}}C=0}else bn(d,6,"Frame setup failed"),C=d.a;if(C=C==0){if(C){d.$c=0,0<d.Aa||(d.Ic=cL);e:{C=d.Ic,L=4*(Z=d.za);var ie=32*Z,he=Z+1,xe=0<d.L?Z*(0<d.Aa?2:1):0,_e=(d.Aa==2?2:1)*Z;if((q=L+832+(V=3*(16*C+jg[d.L])/2*ie)+(G=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=q)C=0;else{if(q>d.Vb){if(d.Vb=0,d.Ec=s(q),d.Fc=0,d.Ec==null){C=bn(d,1,"no memory during frame initialization.");break e}d.Vb=q}q=d.Ec,Y=d.Fc,d.Ac=q,d.Bc=Y,Y+=L,d.Gd=o(ie,Dl),d.Hd=0,d.rb=o(he+1,mo),d.sb=1,d.wa=xe?o(xe,go):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=Z),e(!0),d.oc=q,d.pc=Y,Y+=832,d.ya=o(_e,ea),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=Z),d.R=16*Z,d.B=8*Z,Z=(ie=jg[d.L])*d.R,ie=ie/2*d.B,d.sa=q,d.ta=Y+Z,d.qa=d.sa,d.ra=d.ta+16*C*d.R+ie,d.Ha=d.qa,d.Ia=d.ra+8*C*d.B+ie,d.$c=0,Y+=V,d.mb=G?q:null,d.nb=G?Y:null,e(Y+G<=d.Fc+d.Vb),Hl(d),i(d.Ac,d.Bc,0,L),C=1}}if(C){if(m.ka=0,m.y=d.sa,m.O=d.ta,m.f=d.qa,m.N=d.ra,m.ea=d.Ha,m.Vd=d.Ia,m.fa=d.R,m.Rc=d.B,m.F=null,m.J=0,!Ng){for(C=-255;255>=C;++C)yr[255+C]=0>C?-C:C;for(C=-1020;1020>=C;++C)da[1020+C]=-128>C?-128:127<C?127:C;for(C=-112;112>=C;++C)Rh[112+C]=-16>C?-16:15<C?15:C;for(C=-255;510>=C;++C)Qc[255+C]=0>C?0:255<C?255:C;Ng=1}kc=ia,ca=Ya,Qh=Vl,gi=sn,vs=ra,Xn=na,Nc=iA,kg=Ks,Lh=oA,Zl=Yl,eu=sA,fA=oa,tu=aA,Uc=Bo,nu=sa,pA=Zi,Ph=wr,ws=_c,Ws[0]=gs,Ws[1]=Eh,Ws[2]=wo,Ws[3]=Fh,Ws[4]=bc,Ws[5]=eA,Ws[6]=Yi,Ws[7]=zl,Ws[8]=nA,Ws[9]=tA,gA[0]=vo,gA[1]=Sh,gA[2]=js,gA[3]=Xa,gA[4]=xn,gA[5]=Bc,gA[6]=Kl,ha[0]=Vs,ha[1]=yc,ha[2]=xc,ha[3]=Hs,ha[4]=tn,ha[5]=Gl,ha[6]=Wl,C=1}else C=0}C&&(C=function(ye,He){for(ye.M=0;ye.M<ye.Va;++ye.M){var ke,pe=ye.Jc[ye.M&ye.Xb],me=ye.m,De=ye;for(ke=0;ke<De.za;++ke){var qe=me,Me=De,ft=Me.Ac,st=Me.Bc+4*ke,Et=Me.zc,ct=Me.ya[Me.aa+ke];if(Me.Qa.Bb?ct.$b=Be(qe,Me.Pa.jb[0])?2+Be(qe,Me.Pa.jb[2]):Be(qe,Me.Pa.jb[1]):ct.$b=0,Me.kc&&(ct.Ad=Be(qe,Me.Bd)),ct.Za=!Be(qe,145)+0,ct.Za){var en=ct.Ob,on=0;for(Me=0;4>Me;++Me){var Jt,Ht=Et[0+Me];for(Jt=0;4>Jt;++Jt){Ht=JQ[ft[st+Jt]][Ht];for(var pn=D_[Be(qe,Ht[0])];0<pn;)pn=D_[2*pn+Be(qe,Ht[pn])];Ht=-pn,ft[st+Jt]=Ht}r(en,on,ft,st,4),on+=4,Et[0+Me]=Ht}}else Ht=Be(qe,156)?Be(qe,128)?1:3:Be(qe,163)?2:0,ct.Ob[0]=Ht,i(ft,st,Ht,4),i(Et,0,Ht,4);ct.Dd=Be(qe,142)?Be(qe,114)?Be(qe,183)?1:3:2:0}if(De.m.Ka)return bn(ye,7,"Premature end-of-partition0 encountered.");for(;ye.ja<ye.za;++ye.ja){if(De=pe,qe=(me=ye).rb[me.sb-1],ft=me.rb[me.sb+me.ja],ke=me.ya[me.aa+me.ja],st=me.kc?ke.Ad:0)qe.la=ft.la=0,ke.Za||(qe.Na=ft.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var cn,Rt;if(qe=ft,ft=De,st=me.Pa.Xc,Et=me.ya[me.aa+me.ja],ct=me.pb[Et.$b],Me=Et.ad,en=0,on=me.rb[me.sb-1],Ht=Jt=0,i(Me,en,0,384),Et.Za)var dr=0,Li=st[3];else{pn=s(16);var hr=qe.Na+on.Na;if(hr=Dh(ft,st[1],hr,ct.Eb,0,pn,0),qe.Na=on.Na=(0<hr)+0,1<hr)kc(pn,0,Me,en);else{var Pi=pn[0]+3>>3;for(pn=0;256>pn;pn+=16)Me[en+pn]=Pi}dr=1,Li=st[0]}var an=15&qe.la,ts=15&on.la;for(pn=0;4>pn;++pn){var ns=1&ts;for(Pi=Rt=0;4>Pi;++Pi)an=an>>1|(ns=(hr=Dh(ft,Li,hr=ns+(1&an),ct.Sc,dr,Me,en))>dr)<<7,Rt=Rt<<2|(3<hr?3:1<hr?2:Me[en+0]!=0),en+=16;an>>=4,ts=ts>>1|ns<<7,Jt=(Jt<<8|Rt)>>>0}for(Li=an,dr=ts>>4,cn=0;4>cn;cn+=2){for(Rt=0,an=qe.la>>4+cn,ts=on.la>>4+cn,pn=0;2>pn;++pn){for(ns=1&ts,Pi=0;2>Pi;++Pi)hr=ns+(1&an),an=an>>1|(ns=0<(hr=Dh(ft,st[2],hr,ct.Qc,0,Me,en)))<<3,Rt=Rt<<2|(3<hr?3:1<hr?2:Me[en+0]!=0),en+=16;an>>=2,ts=ts>>1|ns<<5}Ht|=Rt<<4*cn,Li|=an<<4<<cn,dr|=(240&ts)<<cn}qe.la=Li,on.la=dr,Et.Hc=Jt,Et.Gc=Ht,Et.ia=43690&Ht?0:ct.ia,st=!(Jt|Ht)}if(0<me.L&&(me.wa[me.Y+me.ja]=me.gd[ke.$b][ke.Za],me.wa[me.Y+me.ja].La|=!st),De.Ka)return bn(ye,7,"Premature end-of-file encountered.")}if(Hl(ye),me=He,De=1,ke=(pe=ye).D,qe=0<pe.L&&pe.M>=pe.zb&&pe.M<=pe.Va,pe.Aa==0)e:{if(ke.M=pe.M,ke.uc=qe,xo(pe,ke),De=1,ke=(Rt=pe.D).Nb,qe=(Ht=jg[pe.L])*pe.R,ft=Ht/2*pe.B,pn=16*ke*pe.R,Pi=8*ke*pe.B,st=pe.sa,Et=pe.ta-qe+pn,ct=pe.qa,Me=pe.ra-ft+Pi,en=pe.Ha,on=pe.Ia-ft+Pi,ts=(an=Rt.M)==0,Jt=an>=pe.Va-1,pe.Aa==2&&xo(pe,Rt),Rt.uc)for(ns=(hr=pe).D.M,e(hr.D.uc),Rt=hr.yb;Rt<hr.Hb;++Rt){dr=Rt,Li=ns;var Er=(Dr=(Hn=hr).D).Nb;cn=Hn.R;var Dr=Dr.wa[Dr.Y+dr],mi=Hn.sa,xs=Hn.ta+16*Er*cn+16*dr,Co=Dr.dd,Sr=Dr.tc;if(Sr!=0)if(e(3<=Sr),Hn.L==1)0<dr&&pA(mi,xs,cn,Sr+4),Dr.La&&ws(mi,xs,cn,Sr),0<Li&&nu(mi,xs,cn,Sr+4),Dr.La&&Ph(mi,xs,cn,Sr);else{var fa=Hn.B,ru=Hn.qa,Lc=Hn.ra+8*Er*fa+8*dr,vA=Hn.Ha,Hn=Hn.Ia+8*Er*fa+8*dr;Er=Dr.ld,0<dr&&(kg(mi,xs,cn,Sr+4,Co,Er),Zl(ru,Lc,vA,Hn,fa,Sr+4,Co,Er)),Dr.La&&(fA(mi,xs,cn,Sr,Co,Er),Uc(ru,Lc,vA,Hn,fa,Sr,Co,Er)),0<Li&&(Nc(mi,xs,cn,Sr+4,Co,Er),Lh(ru,Lc,vA,Hn,fa,Sr+4,Co,Er)),Dr.La&&(eu(mi,xs,cn,Sr,Co,Er),tu(ru,Lc,vA,Hn,fa,Sr,Co,Er))}}if(pe.ia&&alert("todo:DitherRow"),me.put!=null){if(Rt=16*an,an=16*(an+1),ts?(me.y=pe.sa,me.O=pe.ta+pn,me.f=pe.qa,me.N=pe.ra+Pi,me.ea=pe.Ha,me.W=pe.Ia+Pi):(Rt-=Ht,me.y=st,me.O=Et,me.f=ct,me.N=Me,me.ea=en,me.W=on),Jt||(an-=Ht),an>me.o&&(an=me.o),me.F=null,me.J=null,pe.Fa!=null&&0<pe.Fa.length&&Rt<an&&(me.J=cA(pe,me,Rt,an-Rt),me.F=pe.mb,me.F==null&&me.F.length==0)){De=bn(pe,3,"Could not decode alpha data.");break e}Rt<me.j&&(Ht=me.j-Rt,Rt=me.j,e(!(1&Ht)),me.O+=pe.R*Ht,me.N+=pe.B*(Ht>>1),me.W+=pe.B*(Ht>>1),me.F!=null&&(me.J+=me.width*Ht)),Rt<an&&(me.O+=me.v,me.N+=me.v>>1,me.W+=me.v>>1,me.F!=null&&(me.J+=me.v),me.ka=Rt-me.j,me.U=me.va-me.v,me.T=an-Rt,De=me.put(me))}ke+1!=pe.Ic||Jt||(r(pe.sa,pe.ta-qe,st,Et+16*pe.R,qe),r(pe.qa,pe.ra-ft,ct,Me+8*pe.B,ft),r(pe.Ha,pe.Ia-ft,en,on+8*pe.B,ft))}if(!De)return bn(ye,6,"Output aborted.")}return 1}(d,m)),m.bc!=null&&m.bc(m),C&=1}return C?(d.cb=0,C):0}function Ni(d,m,C,L,V){V=d[m+C+32*L]+(V>>3),d[m+C+32*L]=-256&V?0>V?0:255:V}function Ja(d,m,C,L,V,G){Ni(d,m,0,C,L+V),Ni(d,m,1,C,L+G),Ni(d,m,2,C,L-G),Ni(d,m,3,C,L-V)}function jn(d){return(20091*d>>16)+d}function fi(d,m,C,L){var V,G=0,q=s(16);for(V=0;4>V;++V){var Y=d[m+0]+d[m+8],Z=d[m+0]-d[m+8],ie=(35468*d[m+4]>>16)-jn(d[m+12]),he=jn(d[m+4])+(35468*d[m+12]>>16);q[G+0]=Y+he,q[G+1]=Z+ie,q[G+2]=Z-ie,q[G+3]=Y-he,G+=4,m++}for(V=G=0;4>V;++V)Y=(d=q[G+0]+4)+q[G+8],Z=d-q[G+8],ie=(35468*q[G+4]>>16)-jn(q[G+12]),Ni(C,L,0,0,Y+(he=jn(q[G+4])+(35468*q[G+12]>>16))),Ni(C,L,1,0,Z+ie),Ni(C,L,2,0,Z-ie),Ni(C,L,3,0,Y-he),G++,L+=32}function na(d,m,C,L){var V=d[m+0]+4,G=35468*d[m+4]>>16,q=jn(d[m+4]),Y=35468*d[m+1]>>16;Ja(C,L,0,V+q,d=jn(d[m+1]),Y),Ja(C,L,1,V+G,d,Y),Ja(C,L,2,V-G,d,Y),Ja(C,L,3,V-q,d,Y)}function Ya(d,m,C,L,V){fi(d,m,C,L),V&&fi(d,m+16,C,L+4)}function Vl(d,m,C,L){ca(d,m+0,C,L,1),ca(d,m+32,C,L+128,1)}function sn(d,m,C,L){var V;for(d=d[m+0]+4,V=0;4>V;++V)for(m=0;4>m;++m)Ni(C,L,m,V,d)}function ra(d,m,C,L){d[m+0]&&gi(d,m+0,C,L),d[m+16]&&gi(d,m+16,C,L+4),d[m+32]&&gi(d,m+32,C,L+128),d[m+48]&&gi(d,m+48,C,L+128+4)}function ia(d,m,C,L){var V,G=s(16);for(V=0;4>V;++V){var q=d[m+0+V]+d[m+12+V],Y=d[m+4+V]+d[m+8+V],Z=d[m+4+V]-d[m+8+V],ie=d[m+0+V]-d[m+12+V];G[0+V]=q+Y,G[8+V]=q-Y,G[4+V]=ie+Z,G[12+V]=ie-Z}for(V=0;4>V;++V)q=(d=G[0+4*V]+3)+G[3+4*V],Y=G[1+4*V]+G[2+4*V],Z=G[1+4*V]-G[2+4*V],ie=d-G[3+4*V],C[L+0]=q+Y>>3,C[L+16]=ie+Z>>3,C[L+32]=q-Y>>3,C[L+48]=ie-Z>>3,L+=64}function Ms(d,m,C){var L,V=m-32,G=es,q=255-d[V-1];for(L=0;L<C;++L){var Y,Z=G,ie=q+d[m-1];for(Y=0;Y<C;++Y)d[m+Y]=Z[ie+d[V+Y]];m+=32}}function Eh(d,m){Ms(d,m,4)}function yc(d,m){Ms(d,m,8)}function Sh(d,m){Ms(d,m,16)}function js(d,m){var C;for(C=0;16>C;++C)r(d,m+32*C,d,m-32,16)}function Xa(d,m){var C;for(C=16;0<C;--C)i(d,m,d[m-1],16),m+=32}function Za(d,m,C){var L;for(L=0;16>L;++L)i(m,C+32*L,d,16)}function vo(d,m){var C,L=16;for(C=0;16>C;++C)L+=d[m-1+32*C]+d[m+C-32];Za(L>>5,d,m)}function xn(d,m){var C,L=8;for(C=0;16>C;++C)L+=d[m-1+32*C];Za(L>>4,d,m)}function Bc(d,m){var C,L=8;for(C=0;16>C;++C)L+=d[m+C-32];Za(L>>4,d,m)}function Kl(d,m){Za(128,d,m)}function kt(d,m,C){return d+2*m+C+2>>2}function wo(d,m){var C,L=m-32;for(L=new Uint8Array([kt(d[L-1],d[L+0],d[L+1]),kt(d[L+0],d[L+1],d[L+2]),kt(d[L+1],d[L+2],d[L+3]),kt(d[L+2],d[L+3],d[L+4])]),C=0;4>C;++C)r(d,m+32*C,L,0,L.length)}function Fh(d,m){var C=d[m-1],L=d[m-1+32],V=d[m-1+64],G=d[m-1+96];Fe(d,m+0,16843009*kt(d[m-1-32],C,L)),Fe(d,m+32,16843009*kt(C,L,V)),Fe(d,m+64,16843009*kt(L,V,G)),Fe(d,m+96,16843009*kt(V,G,G))}function gs(d,m){var C,L=4;for(C=0;4>C;++C)L+=d[m+C-32]+d[m-1+32*C];for(L>>=3,C=0;4>C;++C)i(d,m+32*C,L,4)}function bc(d,m){var C=d[m-1+0],L=d[m-1+32],V=d[m-1+64],G=d[m-1-32],q=d[m+0-32],Y=d[m+1-32],Z=d[m+2-32],ie=d[m+3-32];d[m+0+96]=kt(L,V,d[m-1+96]),d[m+1+96]=d[m+0+64]=kt(C,L,V),d[m+2+96]=d[m+1+64]=d[m+0+32]=kt(G,C,L),d[m+3+96]=d[m+2+64]=d[m+1+32]=d[m+0+0]=kt(q,G,C),d[m+3+64]=d[m+2+32]=d[m+1+0]=kt(Y,q,G),d[m+3+32]=d[m+2+0]=kt(Z,Y,q),d[m+3+0]=kt(ie,Z,Y)}function Yi(d,m){var C=d[m+1-32],L=d[m+2-32],V=d[m+3-32],G=d[m+4-32],q=d[m+5-32],Y=d[m+6-32],Z=d[m+7-32];d[m+0+0]=kt(d[m+0-32],C,L),d[m+1+0]=d[m+0+32]=kt(C,L,V),d[m+2+0]=d[m+1+32]=d[m+0+64]=kt(L,V,G),d[m+3+0]=d[m+2+32]=d[m+1+64]=d[m+0+96]=kt(V,G,q),d[m+3+32]=d[m+2+64]=d[m+1+96]=kt(G,q,Y),d[m+3+64]=d[m+2+96]=kt(q,Y,Z),d[m+3+96]=kt(Y,Z,Z)}function eA(d,m){var C=d[m-1+0],L=d[m-1+32],V=d[m-1+64],G=d[m-1-32],q=d[m+0-32],Y=d[m+1-32],Z=d[m+2-32],ie=d[m+3-32];d[m+0+0]=d[m+1+64]=G+q+1>>1,d[m+1+0]=d[m+2+64]=q+Y+1>>1,d[m+2+0]=d[m+3+64]=Y+Z+1>>1,d[m+3+0]=Z+ie+1>>1,d[m+0+96]=kt(V,L,C),d[m+0+64]=kt(L,C,G),d[m+0+32]=d[m+1+96]=kt(C,G,q),d[m+1+32]=d[m+2+96]=kt(G,q,Y),d[m+2+32]=d[m+3+96]=kt(q,Y,Z),d[m+3+32]=kt(Y,Z,ie)}function zl(d,m){var C=d[m+0-32],L=d[m+1-32],V=d[m+2-32],G=d[m+3-32],q=d[m+4-32],Y=d[m+5-32],Z=d[m+6-32],ie=d[m+7-32];d[m+0+0]=C+L+1>>1,d[m+1+0]=d[m+0+64]=L+V+1>>1,d[m+2+0]=d[m+1+64]=V+G+1>>1,d[m+3+0]=d[m+2+64]=G+q+1>>1,d[m+0+32]=kt(C,L,V),d[m+1+32]=d[m+0+96]=kt(L,V,G),d[m+2+32]=d[m+1+96]=kt(V,G,q),d[m+3+32]=d[m+2+96]=kt(G,q,Y),d[m+3+64]=kt(q,Y,Z),d[m+3+96]=kt(Y,Z,ie)}function tA(d,m){var C=d[m-1+0],L=d[m-1+32],V=d[m-1+64],G=d[m-1+96];d[m+0+0]=C+L+1>>1,d[m+2+0]=d[m+0+32]=L+V+1>>1,d[m+2+32]=d[m+0+64]=V+G+1>>1,d[m+1+0]=kt(C,L,V),d[m+3+0]=d[m+1+32]=kt(L,V,G),d[m+3+32]=d[m+1+64]=kt(V,G,G),d[m+3+64]=d[m+2+64]=d[m+0+96]=d[m+1+96]=d[m+2+96]=d[m+3+96]=G}function nA(d,m){var C=d[m-1+0],L=d[m-1+32],V=d[m-1+64],G=d[m-1+96],q=d[m-1-32],Y=d[m+0-32],Z=d[m+1-32],ie=d[m+2-32];d[m+0+0]=d[m+2+32]=C+q+1>>1,d[m+0+32]=d[m+2+64]=L+C+1>>1,d[m+0+64]=d[m+2+96]=V+L+1>>1,d[m+0+96]=G+V+1>>1,d[m+3+0]=kt(Y,Z,ie),d[m+2+0]=kt(q,Y,Z),d[m+1+0]=d[m+3+32]=kt(C,q,Y),d[m+1+32]=d[m+3+64]=kt(L,C,q),d[m+1+64]=d[m+3+96]=kt(V,L,C),d[m+1+96]=kt(G,V,L)}function xc(d,m){var C;for(C=0;8>C;++C)r(d,m+32*C,d,m-32,8)}function Hs(d,m){var C;for(C=0;8>C;++C)i(d,m,d[m-1],8),m+=32}function Xi(d,m,C){var L;for(L=0;8>L;++L)i(m,C+32*L,d,8)}function Vs(d,m){var C,L=8;for(C=0;8>C;++C)L+=d[m+C-32]+d[m-1+32*C];Xi(L>>4,d,m)}function Gl(d,m){var C,L=4;for(C=0;8>C;++C)L+=d[m+C-32];Xi(L>>3,d,m)}function tn(d,m){var C,L=4;for(C=0;8>C;++C)L+=d[m-1+32*C];Xi(L>>3,d,m)}function Wl(d,m){Xi(128,d,m)}function rA(d,m,C){var L=d[m-C],V=d[m+0],G=3*(V-L)+zw[1020+d[m-2*C]-d[m+C]],q=Ug[112+(G+4>>3)];d[m-C]=es[255+L+Ug[112+(G+3>>3)]],d[m+0]=es[255+V-q]}function ql(d,m,C,L){var V=d[m+0],G=d[m+C];return Bs[255+d[m-2*C]-d[m-C]]>L||Bs[255+G-V]>L}function $l(d,m,C,L){return 4*Bs[255+d[m-C]-d[m+0]]+Bs[255+d[m-2*C]-d[m+C]]<=L}function Jl(d,m,C,L,V){var G=d[m-3*C],q=d[m-2*C],Y=d[m-C],Z=d[m+0],ie=d[m+C],he=d[m+2*C],xe=d[m+3*C];return 4*Bs[255+Y-Z]+Bs[255+q-ie]>L?0:Bs[255+d[m-4*C]-G]<=V&&Bs[255+G-q]<=V&&Bs[255+q-Y]<=V&&Bs[255+xe-he]<=V&&Bs[255+he-ie]<=V&&Bs[255+ie-Z]<=V}function sa(d,m,C,L){var V=2*L+1;for(L=0;16>L;++L)$l(d,m+L,C,V)&&rA(d,m+L,C)}function Zi(d,m,C,L){var V=2*L+1;for(L=0;16>L;++L)$l(d,m+L*C,1,V)&&rA(d,m+L*C,1)}function wr(d,m,C,L){var V;for(V=3;0<V;--V)sa(d,m+=4*C,C,L)}function _c(d,m,C,L){var V;for(V=3;0<V;--V)Zi(d,m+=4,C,L)}function yo(d,m,C,L,V,G,q,Y){for(G=2*G+1;0<V--;){if(Jl(d,m,C,G,q))if(ql(d,m,C,Y))rA(d,m,C);else{var Z=d,ie=m,he=C,xe=Z[ie-2*he],_e=Z[ie-he],ye=Z[ie+0],He=Z[ie+he],ke=Z[ie+2*he],pe=27*(De=zw[1020+3*(ye-_e)+zw[1020+xe-He]])+63>>7,me=18*De+63>>7,De=9*De+63>>7;Z[ie-3*he]=es[255+Z[ie-3*he]+De],Z[ie-2*he]=es[255+xe+me],Z[ie-he]=es[255+_e+pe],Z[ie+0]=es[255+ye-pe],Z[ie+he]=es[255+He-me],Z[ie+2*he]=es[255+ke-De]}m+=L}}function Lr(d,m,C,L,V,G,q,Y){for(G=2*G+1;0<V--;){if(Jl(d,m,C,G,q))if(ql(d,m,C,Y))rA(d,m,C);else{var Z=d,ie=m,he=C,xe=Z[ie-he],_e=Z[ie+0],ye=Z[ie+he],He=Ug[112+((ke=3*(_e-xe))+4>>3)],ke=Ug[112+(ke+3>>3)],pe=He+1>>1;Z[ie-2*he]=es[255+Z[ie-2*he]+pe],Z[ie-he]=es[255+xe+ke],Z[ie+0]=es[255+_e-He],Z[ie+he]=es[255+ye-pe]}m+=L}}function iA(d,m,C,L,V,G){yo(d,m,C,1,16,L,V,G)}function Ks(d,m,C,L,V,G){yo(d,m,1,C,16,L,V,G)}function sA(d,m,C,L,V,G){var q;for(q=3;0<q;--q)Lr(d,m+=4*C,C,1,16,L,V,G)}function oa(d,m,C,L,V,G){var q;for(q=3;0<q;--q)Lr(d,m+=4,1,C,16,L,V,G)}function oA(d,m,C,L,V,G,q,Y){yo(d,m,V,1,8,G,q,Y),yo(C,L,V,1,8,G,q,Y)}function Yl(d,m,C,L,V,G,q,Y){yo(d,m,1,V,8,G,q,Y),yo(C,L,1,V,8,G,q,Y)}function aA(d,m,C,L,V,G,q,Y){Lr(d,m+4*V,V,1,8,G,q,Y),Lr(C,L+4*V,V,1,8,G,q,Y)}function Bo(d,m,C,L,V,G,q,Y){Lr(d,m+4,1,V,8,G,q,Y),Lr(C,L+4,1,V,8,G,q,Y)}function aa(){this.ba=new Gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function AA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Aa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lA(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new T}function Cc(){this.xb=this.a=0,this.l=new ta,this.ca=new Gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lA,this.ab=0,this.gc=o(4,Aa),this.Oc=0}function zs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ta,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bo(d,m,C,L,V,G,q){for(d=d==null?0:d[m+0],m=0;m<q;++m)V[G+m]=d+C[L+m]&255,d=V[G+m]}function uA(d,m,C,L,V,G,q){var Y;if(d==null)bo(null,null,C,L,V,G,q);else for(Y=0;Y<q;++Y)V[G+Y]=d[m+Y]+C[L+Y]&255}function Xr(d,m,C,L,V,G,q){if(d==null)bo(null,null,C,L,V,G,q);else{var Y,Z=d[m+0],ie=Z,he=Z;for(Y=0;Y<q;++Y)ie=he+(Z=d[m+Y])-ie,he=C[L+Y]+(-256&ie?0>ie?0:255:ie)&255,ie=Z,V[G+Y]=he}}function cA(d,m,C,L){var V=m.width,G=m.o;if(e(d!=null&&m!=null),0>C||0>=L||C+L>G)return null;if(!d.Cc){if(d.ga==null){var q;if(d.ga=new zs,(q=d.ga==null)||(q=m.width*m.o,e(d.Gb.length==0),d.Gb=s(q),d.Uc=0,d.Gb==null?q=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,q=1),q=!q),!q){q=d.ga;var Y=d.Fa,Z=d.P,ie=d.qc,he=d.mb,xe=d.nb,_e=Z+1,ye=ie-1,He=q.l;if(e(Y!=null&&he!=null&&m!=null),mA[0]=null,mA[1]=bo,mA[2]=uA,mA[3]=Xr,q.ca=he,q.tb=xe,q.c=m.width,q.i=m.height,e(0<q.c&&0<q.i),1>=ie)m=0;else if(q.$a=Y[Z+0]>>0&3,q.Z=Y[Z+0]>>2&3,q.Lc=Y[Z+0]>>4&3,Z=Y[Z+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||Z)m=0;else if(He.put=$r,He.ac=lr,He.bc=$i,He.ma=q,He.width=m.width,He.height=m.height,He.Da=m.Da,He.v=m.v,He.va=m.va,He.j=m.j,He.o=m.o,q.$a)e:{e(q.$a==1),m=Yn();t:for(;;){if(m==null){m=0;break e}if(e(q!=null),q.mc=m,m.c=q.c,m.i=q.i,m.l=q.l,m.l.ma=q,m.l.width=q.c,m.l.height=q.i,m.a=0,$(m.m,Y,_e,ye),!Ji(q.c,q.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Ds(m.s)?(q.ic=1,Y=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(Y),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(q.ic=0,m=ho(m,q.c)),!m))break t;m=1;break e}q.mc=null,m=0}else m=ye>=q.c*q.i;q=!m}if(q)return null;d.ga.Lc!=1?d.Ga=0:L=G-C}e(d.ga!=null),e(C+L<=G);e:{if(m=(Y=d.ga).c,G=Y.l.o,Y.$a==0){if(_e=d.rc,ye=d.Vc,He=d.Fa,Z=d.P+1+C*m,ie=d.mb,he=d.nb+C*m,e(Z<=d.P+d.qc),Y.Z!=0)for(e(mA[Y.Z]!=null),q=0;q<L;++q)mA[Y.Z](_e,ye,He,Z,ie,he,m),_e=ie,ye=he,he+=m,Z+=m;else for(q=0;q<L;++q)r(ie,he,He,Z,m),_e=ie,ye=he,he+=m,Z+=m;d.rc=_e,d.Vc=ye}else{if(e(Y.mc!=null),m=C+L,e((q=Y.mc)!=null),e(m<=q.i),q.C>=m)m=1;else if(Y.ic||we(),Y.ic){Y=q.V,_e=q.Ba,ye=q.c;var ke=q.i,pe=(He=1,Z=q.$/ye,ie=q.$%ye,he=q.m,xe=q.s,q.$),me=ye*ke,De=ye*m,qe=xe.wc,Me=pe<De?Mn(xe,ie,Z):null;e(pe<=me),e(m<=ke),e(Ds(xe));t:for(;;){for(;!he.h&&pe<De;){if(ie&qe||(Me=Mn(xe,ie,Z)),e(Me!=null),ne(he),256>(ke=ur(Me.G[0],Me.H[0],he)))Y[_e+pe]=ke,++pe,++ie>=ye&&(ie=0,++Z<=m&&!(Z%16)&&ki(q,Z));else{if(!(280>ke)){He=0;break t}ke=Ti(ke-256,he);var ft,st=ur(Me.G[4],Me.H[4],he);if(ne(he),!(pe>=(st=Jr(ye,st=Ti(st,he)))&&me-pe>=ke)){He=0;break t}for(ft=0;ft<ke;++ft)Y[_e+pe+ft]=Y[_e+pe+ft-st];for(pe+=ke,ie+=ke;ie>=ye;)ie-=ye,++Z<=m&&!(Z%16)&&ki(q,Z);pe<De&&ie&qe&&(Me=Mn(xe,ie,Z))}e(he.h==z(he))}ki(q,Z>m?m:Z);break t}!He||he.h&&pe<me?(He=0,q.a=he.h?5:3):q.$=pe,m=He}else m=di(q,q.V,q.Ba,q.c,q.i,m,fo);if(!m){L=0;break e}}C+L>=G&&(d.Cc=1),L=1}if(!L)return null;if(d.Cc&&((L=d.ga)!=null&&(L.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+C*V}function B(d,m,C,L,V,G){for(;0<V--;){var q,Y=d,Z=m+(C?1:0),ie=d,he=m+(C?0:3);for(q=0;q<L;++q){var xe=ie[he+4*q];xe!=255&&(xe*=32897,Y[Z+4*q+0]=Y[Z+4*q+0]*xe>>23,Y[Z+4*q+1]=Y[Z+4*q+1]*xe>>23,Y[Z+4*q+2]=Y[Z+4*q+2]*xe>>23)}m+=G}}function H(d,m,C,L,V){for(;0<L--;){var G;for(G=0;G<C;++G){var q=d[m+2*G+0],Y=15&(ie=d[m+2*G+1]),Z=4369*Y,ie=(240&ie|ie>>4)*Z>>16;d[m+2*G+0]=(240&q|q>>4)*Z>>16&240|(15&q|q<<4)*Z>>16>>4&15,d[m+2*G+1]=240&ie|Y}m+=V}}function se(d,m,C,L,V,G,q,Y){var Z,ie,he=255;for(ie=0;ie<V;++ie){for(Z=0;Z<L;++Z){var xe=d[m+Z];G[q+4*Z]=xe,he&=xe}m+=C,q+=Y}return he!=255}function ce(d,m,C,L,V){var G;for(G=0;G<V;++G)C[L+G]=d[m+G]>>8}function we(){ys=B,mn=H,vn=se,Zn=ce}function Ne(d,m,C){_[d]=function(L,V,G,q,Y,Z,ie,he,xe,_e,ye,He,ke,pe,me,De,qe){var Me,ft=qe-1>>1,st=Y[Z+0]|ie[he+0]<<16,Et=xe[_e+0]|ye[He+0]<<16;e(L!=null);var ct=3*st+Et+131074>>2;for(m(L[V+0],255&ct,ct>>16,ke,pe),G!=null&&(ct=3*Et+st+131074>>2,m(G[q+0],255&ct,ct>>16,me,De)),Me=1;Me<=ft;++Me){var en=Y[Z+Me]|ie[he+Me]<<16,on=xe[_e+Me]|ye[He+Me]<<16,Jt=st+en+Et+on+524296,Ht=Jt+2*(en+Et)>>3;ct=Ht+st>>1,st=(Jt=Jt+2*(st+on)>>3)+en>>1,m(L[V+2*Me-1],255&ct,ct>>16,ke,pe+(2*Me-1)*C),m(L[V+2*Me-0],255&st,st>>16,ke,pe+(2*Me-0)*C),G!=null&&(ct=Jt+Et>>1,st=Ht+on>>1,m(G[q+2*Me-1],255&ct,ct>>16,me,De+(2*Me-1)*C),m(G[q+2*Me+0],255&st,st>>16,me,De+(2*Me+0)*C)),st=en,Et=on}1&qe||(ct=3*st+Et+131074>>2,m(L[V+qe-1],255&ct,ct>>16,ke,pe+(qe-1)*C),G!=null&&(ct=3*Et+st+131074>>2,m(G[q+qe-1],255&ct,ct>>16,me,De+(qe-1)*C)))}}function Je(){bs[Qg]=eL,bs[Lg]=M_,bs[L_]=tL,bs[Pg]=j_,bs[Rg]=H_,bs[Gw]=V_,bs[P_]=nL,bs[Ww]=M_,bs[qw]=j_,bs[Dg]=H_,bs[$w]=V_}function At(d){return d&-16384?0>d?0:255:d>>rL}function h(d,m){return At((19077*d>>8)+(26149*m>>8)-14234)}function F(d,m,C){return At((19077*d>>8)-(6419*m>>8)-(13320*C>>8)+8708)}function D(d,m){return At((19077*d>>8)+(33050*m>>8)-17685)}function J(d,m,C,L,V){L[V+0]=h(d,C),L[V+1]=F(d,m,C),L[V+2]=D(d,m)}function ve(d,m,C,L,V){L[V+0]=D(d,m),L[V+1]=F(d,m,C),L[V+2]=h(d,C)}function Ce(d,m,C,L,V){var G=F(d,m,C);m=G<<3&224|D(d,m)>>3,L[V+0]=248&h(d,C)|G>>5,L[V+1]=m}function Ze(d,m,C,L,V){var G=240&D(d,m)|15;L[V+0]=240&h(d,C)|F(d,m,C)>>4,L[V+1]=G}function Nt(d,m,C,L,V){L[V+0]=255,J(d,m,C,L,V+1)}function jt(d,m,C,L,V){ve(d,m,C,L,V),L[V+3]=255}function Ut(d,m,C,L,V){J(d,m,C,L,V),L[V+3]=255}function nn(d,m){return 0>d?0:d>m?m:d}function fn(d,m,C){_[d]=function(L,V,G,q,Y,Z,ie,he,xe){for(var _e=he+(-2&xe)*C;he!=_e;)m(L[V+0],G[q+0],Y[Z+0],ie,he),m(L[V+1],G[q+0],Y[Z+0],ie,he+C),V+=2,++q,++Z,he+=2*C;1&xe&&m(L[V+0],G[q+0],Y[Z+0],ie,he)}}function Gs(d,m,C){return C==0?d==0?m==0?6:5:m==0?4:0:C}function Pr(d,m,C,L,V){switch(d>>>30){case 3:ca(m,C,L,V,0);break;case 2:Xn(m,C,L,V);break;case 1:gi(m,C,L,V)}}function xo(d,m){var C,L,V=m.M,G=m.Nb,q=d.oc,Y=d.pc+40,Z=d.oc,ie=d.pc+584,he=d.oc,xe=d.pc+600;for(C=0;16>C;++C)q[Y+32*C-1]=129;for(C=0;8>C;++C)Z[ie+32*C-1]=129,he[xe+32*C-1]=129;for(0<V?q[Y-1-32]=Z[ie-1-32]=he[xe-1-32]=129:(i(q,Y-32-1,127,21),i(Z,ie-32-1,127,9),i(he,xe-32-1,127,9)),L=0;L<d.za;++L){var _e=m.ya[m.aa+L];if(0<L){for(C=-1;16>C;++C)r(q,Y+32*C-4,q,Y+32*C+12,4);for(C=-1;8>C;++C)r(Z,ie+32*C-4,Z,ie+32*C+4,4),r(he,xe+32*C-4,he,xe+32*C+4,4)}var ye=d.Gd,He=d.Hd+L,ke=_e.ad,pe=_e.Hc;if(0<V&&(r(q,Y-32,ye[He].y,0,16),r(Z,ie-32,ye[He].f,0,8),r(he,xe-32,ye[He].ea,0,8)),_e.Za){var me=q,De=Y-32+16;for(0<V&&(L>=d.za-1?i(me,De,ye[He].y[15],4):r(me,De,ye[He+1].y,0,4)),C=0;4>C;C++)me[De+128+C]=me[De+256+C]=me[De+384+C]=me[De+0+C];for(C=0;16>C;++C,pe<<=2)me=q,De=Y+z_[C],Ws[_e.Ob[C]](me,De),Pr(pe,ke,16*+C,me,De)}else if(me=Gs(L,V,_e.Ob[0]),gA[me](q,Y),pe!=0)for(C=0;16>C;++C,pe<<=2)Pr(pe,ke,16*+C,q,Y+z_[C]);for(C=_e.Gc,me=Gs(L,V,_e.Dd),ha[me](Z,ie),ha[me](he,xe),pe=ke,me=Z,De=ie,255&(_e=C>>0)&&(170&_e?Qh(pe,256,me,De):vs(pe,256,me,De)),_e=he,pe=xe,255&(C>>=8)&&(170&C?Qh(ke,320,_e,pe):vs(ke,320,_e,pe)),V<d.Ub-1&&(r(ye[He].y,0,q,Y+480,16),r(ye[He].f,0,Z,ie+224,8),r(ye[He].ea,0,he,xe+224,8)),C=8*G*d.B,ye=d.sa,He=d.ta+16*L+16*G*d.R,ke=d.qa,_e=d.ra+8*L+C,pe=d.Ha,me=d.Ia+8*L+C,C=0;16>C;++C)r(ye,He+C*d.R,q,Y+32*C,16);for(C=0;8>C;++C)r(ke,_e+C*d.B,Z,ie+32*C,8),r(pe,me+C*d.B,he,xe+32*C,8)}}function _o(d,m,C,L,V,G,q,Y,Z){var ie=[0],he=[0],xe=0,_e=Z!=null?Z.kd:0,ye=Z??new AA;if(d==null||12>C)return 7;ye.data=d,ye.w=m,ye.ha=C,m=[m],C=[C],ye.gb=[ye.gb];e:{var He=m,ke=C,pe=ye.gb;if(e(d!=null),e(ke!=null),e(pe!=null),pe[0]=0,12<=ke[0]&&!n(d,He[0],"RIFF")){if(n(d,He[0]+8,"WEBP")){pe=3;break e}var me=Le(d,He[0]+4);if(12>me||4294967286<me){pe=3;break e}if(_e&&me>ke[0]-8){pe=7;break e}pe[0]=me,He[0]+=12,ke[0]-=12}pe=0}if(pe!=0)return pe;for(me=0<ye.gb[0],C=C[0];;){e:{var De=d;ke=m,pe=C;var qe=ie,Me=he,ft=He=[0];if((ct=xe=[xe])[0]=0,8>pe[0])pe=7;else{if(!n(De,ke[0],"VP8X")){if(Le(De,ke[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var st=Le(De,ke[0]+8),Et=1+je(De,ke[0]+12);if(2147483648<=Et*(De=1+je(De,ke[0]+15))){pe=3;break e}ft!=null&&(ft[0]=st),qe!=null&&(qe[0]=Et),Me!=null&&(Me[0]=De),ke[0]+=18,pe[0]-=18,ct[0]=1}pe=0}}if(xe=xe[0],He=He[0],pe!=0)return pe;if(ke=!!(2&He),!me&&xe)return 3;if(G!=null&&(G[0]=!!(16&He)),q!=null&&(q[0]=ke),Y!=null&&(Y[0]=0),q=ie[0],He=he[0],xe&&ke&&Z==null){pe=0;break}if(4>C){pe=7;break}if(me&&xe||!me&&!xe&&!n(d,m[0],"ALPH")){C=[C],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{st=d,pe=m,me=C;var ct=ye.gb;qe=ye.na,Me=ye.P,ft=ye.Sa,Et=22,e(st!=null),e(me!=null),De=pe[0];var en=me[0];for(e(qe!=null),e(ft!=null),qe[0]=null,Me[0]=null,ft[0]=0;;){if(pe[0]=De,me[0]=en,8>en){pe=7;break e}var on=Le(st,De+4);if(4294967286<on){pe=3;break e}var Jt=8+on+1&-2;if(Et+=Jt,0<ct&&Et>ct){pe=3;break e}if(!n(st,De,"VP8 ")||!n(st,De,"VP8L")){pe=0;break e}if(en[0]<Jt){pe=7;break e}n(st,De,"ALPH")||(qe[0]=st,Me[0]=De+8,ft[0]=on),De+=Jt,en-=Jt}}if(C=C[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],pe!=0)break}C=[C],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(ct=d,pe=m,me=C,qe=ye.gb[0],Me=ye.Ja,ft=ye.xa,st=pe[0],De=!n(ct,st,"VP8 "),Et=!n(ct,st,"VP8L"),e(ct!=null),e(me!=null),e(Me!=null),e(ft!=null),8>me[0])pe=7;else{if(De||Et){if(ct=Le(ct,st+4),12<=qe&&ct>qe-12){pe=3;break e}if(_e&&ct>me[0]-8){pe=7;break e}Me[0]=ct,pe[0]+=8,me[0]-=8,ft[0]=Et}else ft[0]=5<=me[0]&&ct[st+0]==47&&!(ct[st+4]>>5),Me[0]=me[0];pe=0}if(C=C[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],m=m[0],pe!=0)break;if(4294967286<ye.Ja)return 3;if(Y==null||ke||(Y[0]=ye.xa?2:1),q=[q],He=[He],ye.xa){if(5>C){pe=7;break}Y=q,_e=He,ke=G,d==null||5>C?d=0:5<=C&&d[m+0]==47&&!(d[m+4]>>5)?(me=[0],ct=[0],qe=[0],$(Me=new Q,d,m,C),wt(Me,me,ct,qe)?(Y!=null&&(Y[0]=me[0]),_e!=null&&(_e[0]=ct[0]),ke!=null&&(ke[0]=qe[0]),d=1):d=0):d=0}else{if(10>C){pe=7;break}Y=He,d==null||10>C||!Ml(d,m+3,C-3)?d=0:(_e=d[m+0]|d[m+1]<<8|d[m+2]<<16,ke=16383&(d[m+7]<<8|d[m+6]),d=16383&(d[m+9]<<8|d[m+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=ye.Ja||!ke||!d?d=0:(q&&(q[0]=ke),Y&&(Y[0]=d),d=1))}if(!d||(q=q[0],He=He[0],xe&&(ie[0]!=q||he[0]!=He)))return 3;Z!=null&&(Z[0]=ye,Z.offset=m-Z.w,e(4294967286>m-Z.w),e(Z.offset==Z.ha-C));break}return pe==0||pe==7&&xe&&Z==null?(G!=null&&(G[0]|=ye.na!=null&&0<ye.na.length),L!=null&&(L[0]=q),V!=null&&(V[0]=He),0):pe}function Th(d,m,C){var L=m.width,V=m.height,G=0,q=0,Y=L,Z=V;if(m.Da=d!=null&&0<d.Da,m.Da&&(Y=d.cd,Z=d.bd,G=d.v,q=d.j,11>C||(G&=-2,q&=-2),0>G||0>q||0>=Y||0>=Z||G+Y>L||q+Z>V))return 0;if(m.v=G,m.j=q,m.va=G+Y,m.o=q+Z,m.U=Y,m.T=Z,m.da=d!=null&&0<d.da,m.da){if(!dt(Y,Z,C=[d.ib],G=[d.hb]))return 0;m.ib=C[0],m.hb=G[0]}return m.ob=d!=null&&d.ob,m.Kb=d==null||!d.Sd,m.da&&(m.ob=m.ib<3*L/4&&m.hb<3*V/4,m.Kb=0),1}function kh(d){if(d==null)return 2;if(11>d.S){var m=d.f.RGBA;m.fb+=(d.height-1)*m.A,m.A=-m.A}else m=d.f.kb,d=d.height,m.O+=(d-1)*m.fa,m.fa=-m.fa,m.N+=(d-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(d-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(d-1)*m.lb,m.lb=-m.lb);return 0}function Ic(d,m,C,L){if(L==null||0>=d||0>=m)return 2;if(C!=null){if(C.Da){var V=C.cd,G=C.bd,q=-2&C.v,Y=-2&C.j;if(0>q||0>Y||0>=V||0>=G||q+V>d||Y+G>m)return 2;d=V,m=G}if(C.da){if(!dt(d,m,V=[C.ib],G=[C.hb]))return 2;d=V[0],m=G[0]}}L.width=d,L.height=m;e:{var Z=L.width,ie=L.height;if(d=L.S,0>=Z||0>=ie||!(d>=Qg&&13>d))d=2;else{if(0>=L.Rd&&L.sd==null){q=G=V=m=0;var he=(Y=Z*G_[d])*ie;if(11>d||(G=(ie+1)/2*(m=(Z+1)/2),d==12&&(q=(V=Z)*ie)),(ie=s(he+2*G+q))==null){d=1;break e}L.sd=ie,11>d?((Z=L.f.RGBA).eb=ie,Z.fb=0,Z.A=Y,Z.size=he):((Z=L.f.kb).y=ie,Z.O=0,Z.fa=Y,Z.Fd=he,Z.f=ie,Z.N=0+he,Z.Ab=m,Z.Cd=G,Z.ea=ie,Z.W=0+he+G,Z.Db=m,Z.Ed=G,d==12&&(Z.F=ie,Z.J=0+he+2*G),Z.Tc=q,Z.lb=V)}if(m=1,V=L.S,G=L.width,q=L.height,V>=Qg&&13>V)if(11>V)d=L.f.RGBA,m&=(Y=Math.abs(d.A))*(q-1)+G<=d.size,m&=Y>=G*G_[V],m&=d.eb!=null;else{d=L.f.kb,Y=(G+1)/2,he=(q+1)/2,Z=Math.abs(d.fa),ie=Math.abs(d.Ab);var xe=Math.abs(d.Db),_e=Math.abs(d.lb),ye=_e*(q-1)+G;m&=Z*(q-1)+G<=d.Fd,m&=ie*(he-1)+Y<=d.Cd,m=(m&=xe*(he-1)+Y<=d.Ed)&Z>=G&ie>=Y&xe>=Y,m&=d.y!=null,m&=d.f!=null,m&=d.ea!=null,V==12&&(m&=_e>=G,m&=ye<=d.Tc,m&=d.F!=null)}else m=0;d=m?0:2}}return d!=0||C!=null&&C.fd&&(d=kh(L)),d}var Rr=64,Ec=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sc=24,Fc=32,Nh=8,Ui=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ae("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(d){return d},_.Predictor2=function(d,m,C){return m[C+0]},_.Predictor3=function(d,m,C){return m[C+1]},_.Predictor4=function(d,m,C){return m[C-1]},_.Predictor5=function(d,m,C){return be(be(d,m[C+1]),m[C+0])},_.Predictor6=function(d,m,C){return be(d,m[C-1])},_.Predictor7=function(d,m,C){return be(d,m[C+0])},_.Predictor8=function(d,m,C){return be(m[C-1],m[C+0])},_.Predictor9=function(d,m,C){return be(m[C+0],m[C+1])},_.Predictor10=function(d,m,C){return be(be(d,m[C-1]),be(m[C+0],m[C+1]))},_.Predictor11=function(d,m,C){var L=m[C+0];return 0>=et(L>>24&255,d>>24&255,(m=m[C-1])>>24&255)+et(L>>16&255,d>>16&255,m>>16&255)+et(L>>8&255,d>>8&255,m>>8&255)+et(255&L,255&d,255&m)?L:d},_.Predictor12=function(d,m,C){var L=m[C+0];return(Ue((d>>24&255)+(L>>24&255)-((m=m[C-1])>>24&255))<<24|Ue((d>>16&255)+(L>>16&255)-(m>>16&255))<<16|Ue((d>>8&255)+(L>>8&255)-(m>>8&255))<<8|Ue((255&d)+(255&L)-(255&m)))>>>0},_.Predictor13=function(d,m,C){var L=m[C-1];return($e((d=be(d,m[C+0]))>>24&255,L>>24&255)<<24|$e(d>>16&255,L>>16&255)<<16|$e(d>>8&255,L>>8&255)<<8|$e(d>>0&255,L>>0&255))>>>0};var Kw=_.PredictorAdd0;_.PredictorAdd1=Pe,ae("Predictor2","PredictorAdd2"),ae("Predictor3","PredictorAdd3"),ae("Predictor4","PredictorAdd4"),ae("Predictor5","PredictorAdd5"),ae("Predictor6","PredictorAdd6"),ae("Predictor7","PredictorAdd7"),ae("Predictor8","PredictorAdd8"),ae("Predictor9","PredictorAdd9"),ae("Predictor10","PredictorAdd10"),ae("Predictor11","PredictorAdd11"),ae("Predictor12","PredictorAdd12"),ae("Predictor13","PredictorAdd13");var Uh=_.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Sg,ms=_.ColorIndexInverseTransform,Tc=_.MapARGB,Fg=_.VP8LColorIndexInverseTransformAlpha,Tg=_.MapAlpha,dA=_.VP8LPredictorsAdd=[];dA.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Xl,Qi,pi,hA,la,ua,kc,ca,Xn,Qh,gi,vs,Nc,kg,Lh,Zl,eu,fA,tu,Uc,nu,pA,Ph,ws,ys,mn,vn,Zn,yr=s(511),da=s(2041),Rh=s(225),Qc=s(767),Ng=0,zw=da,Ug=Rh,es=Qc,Bs=yr,Qg=0,Lg=1,L_=2,Pg=3,Rg=4,Gw=5,P_=6,Ww=7,qw=8,Dg=9,$w=10,MQ=[2,3,7],jQ=[3,3,11],R_=[280,256,256,256,40],HQ=[0,1,1,1,0],VQ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],KQ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zQ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],GQ=8,Jw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dh=null,WQ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qQ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],D_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$Q=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],JQ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],YQ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],XQ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gA=[],Ws=[],ha=[],ZQ=1,O_=2,mA=[],bs=[];Ne("UpsampleRgbLinePair",J,3),Ne("UpsampleBgrLinePair",ve,3),Ne("UpsampleRgbaLinePair",Ut,4),Ne("UpsampleBgraLinePair",jt,4),Ne("UpsampleArgbLinePair",Nt,4),Ne("UpsampleRgba4444LinePair",Ze,2),Ne("UpsampleRgb565LinePair",Ce,2);var eL=_.UpsampleRgbLinePair,tL=_.UpsampleBgrLinePair,M_=_.UpsampleRgbaLinePair,j_=_.UpsampleBgraLinePair,H_=_.UpsampleArgbLinePair,V_=_.UpsampleRgba4444LinePair,nL=_.UpsampleRgb565LinePair,Og=16,Mg=1<<Og-1,Oh=-227,Xw=482,rL=6,K_=0,iL=s(256),sL=s(256),oL=s(256),aL=s(256),AL=s(Xw-Oh),lL=s(Xw-Oh);fn("YuvToRgbRow",J,3),fn("YuvToBgrRow",ve,3),fn("YuvToRgbaRow",Ut,4),fn("YuvToBgraRow",jt,4),fn("YuvToArgbRow",Nt,4),fn("YuvToRgba4444Row",Ze,2),fn("YuvToRgb565Row",Ce,2);var z_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jg=[0,2,8],uL=[8,7,6,4,4,2,2,2,1,1,1,1],cL=1;this.WebPDecodeRGBA=function(d,m,C,L,V){var G=Lg,q=new aa,Y=new Gt;q.ba=Y,Y.S=G,Y.width=[Y.width],Y.height=[Y.height];var Z=Y.width,ie=Y.height,he=new vr;if(he==null||d==null)var xe=2;else e(he!=null),xe=_o(d,m,C,he.width,he.height,he.Pd,he.Qd,he.format,null);if(xe!=0?Z=0:(Z!=null&&(Z[0]=he.width[0]),ie!=null&&(ie[0]=he.height[0]),Z=1),Z){Y.width=Y.width[0],Y.height=Y.height[0],L!=null&&(L[0]=Y.width),V!=null&&(V[0]=Y.height);e:{if(L=new ta,(V=new AA).data=d,V.w=m,V.ha=C,V.kd=1,m=[0],e(V!=null),((d=_o(V.data,V.w,V.ha,null,null,null,m,null,V))==0||d==7)&&m[0]&&(d=4),(m=d)==0){if(e(q!=null),L.data=V.data,L.w=V.w+V.offset,L.ha=V.ha-V.offset,L.put=$r,L.ac=lr,L.bc=$i,L.ma=q,V.xa){if((d=Yn())==null){q=1;break e}if(function(_e,ye){var He=[0],ke=[0],pe=[0];t:for(;;){if(_e==null)return 0;if(ye==null)return _e.a=2,0;if(_e.l=ye,_e.a=0,$(_e.m,ye.data,ye.w,ye.ha),!wt(_e.m,He,ke,pe)){_e.a=3;break t}if(_e.xb=O_,ye.width=He[0],ye.height=ke[0],!Ji(He[0],ke[0],1,_e,null))break t;return 1}return e(_e.a!=0),0}(d,L)){if(L=(m=Ic(L.width,L.height,q.Oa,q.ba))==0){t:{L=d;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((C=L.l)!=null),e((V=C.ma)!=null),L.xb!=0){if(L.ca=V.ba,L.tb=V.tb,e(L.ca!=null),!Th(V.Oa,C,Pg)){L.a=2;break n}if(!ho(L,C.width)||C.da)break n;if((C.da||Ct(L.ca.S))&&we(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&we()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!Ve(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!di(L,L.V,L.Ba,L.c,L.i,C.o,qa))break n;V.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(m=d.a)}else m=d.a}else{if((d=new Ol)==null){q=1;break e}if(d.Fa=V.na,d.P=V.P,d.qc=V.Sa,jl(d,L)){if((m=Ic(L.width,L.height,q.Oa,q.ba))==0){if(d.Aa=0,C=q.Oa,e((V=d)!=null),C!=null){if(0<(Z=0>(Z=C.Md)?0:100<Z?255:255*Z/100)){for(ie=he=0;4>ie;++ie)12>(xe=V.pb[ie]).lc&&(xe.ia=Z*uL[0>xe.lc?0:xe.lc]>>3),he|=xe.ia;he&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=C.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}wc(d,L)||(m=d.a)}}else m=d.a}m==0&&q.Oa!=null&&q.Oa.fd&&(m=kh(q.ba))}q=m}G=q!=0?null:11>G?Y.f.RGBA.eb:Y.f.kb.y}else G=null;return G};var G_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(_,N){for(var O="",I=0;I<4;I++)O+=String.fromCharCode(_[N++]);return O}function u(_,N){return(_[N+0]<<0|_[N+1]<<8|_[N+2]<<16)>>>0}function c(_,N){return(_[N+0]<<0|_[N+1]<<8|_[N+2]<<16|_[N+3]<<24)>>>0}new A;var p=[0],g=[0],v=[],b=new A,E=t,y=function(_,N){var O={},I=0,T=!1,k=0,X=0;if(O.frames=[],!function(j,z,ee,ne){for(var Ae=0;Ae<ne;Ae++)if(j[z+Ae]!=ee.charCodeAt(Ae))return!0;return!1}(_,N,"RIFF",4)){var de,te;for(c(_,N+=4),N+=8;N<_.length;){var K=l(_,N),$=c(_,N+=4);N+=4;var R=$+(1&$);switch(K){case"VP8 ":case"VP8L":O.frames[I]===void 0&&(O.frames[I]={}),(Q=O.frames[I]).src_off=T?X:N-8,Q.src_size=k+$+8,I++,T&&(T=!1,k=0,X=0);break;case"VP8X":(Q=O.header={}).feature_flags=_[N];var W=N+4;Q.canvas_width=1+u(_,W),W+=3,Q.canvas_height=1+u(_,W),W+=3;break;case"ALPH":T=!0,k=R+8,X=N-8;break;case"ANIM":(Q=O.header).bgcolor=c(_,N),W=N+4,Q.loop_count=(de=_)[(te=W)+0]<<0|de[te+1]<<8,W+=2;break;case"ANMF":var re,Q;(Q=O.frames[I]={}).offset_x=2*u(_,N),N+=3,Q.offset_y=2*u(_,N),N+=3,Q.width=1+u(_,N),N+=3,Q.height=1+u(_,N),N+=3,Q.duration=u(_,N),N+=3,re=_[N++],Q.dispose=1&re,Q.blend=re>>1&1}K!="ANMF"&&(N+=R)}return O}}(E,0);y.response=E,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,x=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],g=[w.canvas_width];for(var U=0;U<x.length&&x[U].blend!=0;U++);}var P=x[0],M=b.WebPDecodeRGBA(E,P.src_off,P.src_size,g,p);P.rgba=M,P.imgwidth=g[0],P.imgheight=p[0];for(var S=0;S<g[0]*p[0]*4;S++)v[S]=M[S];return this.width=g,this.height=p,this.data=v,this}(function(t){var e=function(){return typeof HB=="function"},n=function(p,g,v,b){var E=4,y=o;switch(b){case t.image_compression.FAST:E=1,y=s;break;case t.image_compression.MEDIUM:E=6,y=a;break;case t.image_compression.SLOW:E=9,y=A}p=r(p,g,v,y);var w=HB(p,{level:E});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(p,g,v,b){for(var E,y,w,x=p.length/g,U=new Uint8Array(p.length+x),P=u(),M=0;M<x;M+=1){if(w=M*g,E=p.subarray(w,w+g),b)U.set(b(E,v,y),w+M);else{for(var S,_=P.length,N=[];S<_;S+=1)N[S]=P[S](E,v,y);var O=c(N.concat());U.set(N[O],w+M)}y=E}return U},i=function(p){var g=Array.apply([],p);return g.unshift(0),g},s=function(p,g){var v,b=[],E=p.length;b[0]=1;for(var y=0;y<E;y+=1)v=p[y-g]||0,b[y+1]=p[y]-v+256&255;return b},o=function(p,g,v){var b,E=[],y=p.length;E[0]=2;for(var w=0;w<y;w+=1)b=v&&v[w]||0,E[w+1]=p[w]-b+256&255;return E},a=function(p,g,v){var b,E,y=[],w=p.length;y[0]=3;for(var x=0;x<w;x+=1)b=p[x-g]||0,E=v&&v[x]||0,y[x+1]=p[x]+256-(b+E>>>1)&255;return y},A=function(p,g,v){var b,E,y,w,x=[],U=p.length;x[0]=4;for(var P=0;P<U;P+=1)b=p[P-g]||0,E=v&&v[P]||0,y=v&&v[P-g]||0,w=l(b,E,y),x[P+1]=p[P]-w+256&255;return x},l=function(p,g,v){if(p===g&&g===v)return p;var b=Math.abs(g-v),E=Math.abs(p-v),y=Math.abs(p+g-v-v);return b<=E&&b<=y?p:E<=y?g:v},u=function(){return[i,s,o,a,A]},c=function(p){var g=p.map(function(v){return v.reduce(function(b,E){return b+Math.abs(E)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,v,b){var E,y,w,x,U,P,M,S,_,N,O,I,T,k,X,de=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(w=new kY(p)).imgData,y=w.bits,E=w.colorSpace,U=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){_=(S=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,O=new Uint8Array(_*w.colors),N=new Uint8Array(_);var K,$=w.pixelBitlength-w.bits;for(k=0,X=0;k<_;k++){for(T=S[k],K=0;K<$;)O[X++]=T>>>K&255,K+=w.bits;N[k]=T>>>K&255}}if(w.bits===16){_=(S=new Uint32Array(w.decodePixels().buffer)).length,O=new Uint8Array(_*(32/w.pixelBitlength)*w.colors),N=new Uint8Array(_*(32/w.pixelBitlength)),I=w.colors>1,k=0,X=0;for(var R=0;k<_;)T=S[k++],O[X++]=T>>>0&255,I&&(O[X++]=T>>>16&255,T=S[k++],O[X++]=T>>>0&255),N[R++]=T>>>16&255;y=8}b!==t.image_compression.NONE&&e()?(p=n(O,w.width*w.colors,w.colors,b),M=n(N,w.width,1,b)):(p=O,M=N,de=void 0)}if(w.colorType===3&&(E=this.color_spaces.INDEXED,P=w.palette,w.transparency.indexed)){var W=w.transparency.indexed,re=0;for(k=0,_=W.length;k<_;++k)re+=W[k];if((re/=255)===_-1&&W.indexOf(0)!==-1)x=[W.indexOf(0)];else if(re!==_){for(S=w.decodePixels(),N=new Uint8Array(S.length),k=0,_=S.length;k<_;k++)N[k]=W[S[k]];M=n(N,w.width,1)}}var Q=function(j){var z;switch(j){case t.image_compression.FAST:z=11;break;case t.image_compression.MEDIUM:z=13;break;case t.image_compression.SLOW:z=14;break;default:z=12}return z}(b);return de===this.decode.FLATE_DECODE&&(te="/Predictor "+Q+" "),te+="/Colors "+U+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:v,data:p,index:g,filter:de,decodeParameters:te,transparency:x,palette:P,sMask:M,predictor:Q,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:E}}}})(St.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new NY(e),o=s.width,a=s.height,A=[];s.decodeAndBlitFrameRGBA(0,A);var l={data:A,width:o,height:a},u=new ky(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(St.API),Ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ys.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){gn.log("bit decode error:"+n)}},Ys.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var A=this.palette[s>>7-a&1];this.data[o+4*a]=A.blue,this.data[o+4*a+1]=A.green,this.data[o+4*a+2]=A.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Ys.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,A=15&s,l=this.palette[a];if(this.data[o]=l.blue,this.data[o+1]=l.green,this.data[o+2]=l.red,this.data[o+3]=255,2*i+1>=this.width)break;l=this.palette[A],this.data[o+4]=l.blue,this.data[o+4+1]=l.green,this.data[o+4+2]=l.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ys.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ys.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,A=(s>>10&e)/e*255|0,l=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=A,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=l}this.pos+=t}},Ys.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,A=(o>>5&n)/n*255|0,l=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=l,this.data[u+1]=A,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Ys.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ys.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Ys.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Ys(e,!1),o=s.width,a=s.height,A={data:s.getData(),width:o,height:a},l=new ky(100).encode(A,100);return t.processJPEG.call(this,l,n,r,i)}}(St.API),P4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new P4(e),o=s.width,a=s.height,A={data:s.getData(),width:o,height:a},l=new ky(100).encode(A,100);return t.processJPEG.call(this,l,n,r,i)}}(St.API),St.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,A=0,l=0;l<i;l+=4){var u=r[l],c=r[l+1],p=r[l+2],g=r[l+3];s[a++]=u,s[a++]=c,s[a++]=p,o[A++]=g}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},St.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zc=St.API,$m=Zc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,A=a.fof?a.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=l.fof?l.fof:1,c=e.doKerning!==!1,p=0,g=t.length,v=0,b=a[0]||A,E=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(p=c&&ln(l[r])==="object"&&!isNaN(parseInt(l[r][v],10))?l[r][v]/u:0,E.push((a[r]||b)/A+p)),v=r;return E},N4=Zc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Zc.processArabic&&(t=Zc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:$m.apply(this,arguments).reduce(function(s,o){return s+o},0)},U4=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var A=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(A,s)),a=0,A=s),a+=e[s],s++;return A!==s&&i.push(t.slice(A,s)),i},Q4=function(t,e,n){n||(n={});var r,i,s,o,a,A,l,u=[],c=[u],p=n.textIndent||0,g=0,v=0,b=t.split(" "),E=$m.apply(this,[" ",n])[0];if(A=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var y=Array(A).join(" "),w=[];b.map(function(U){(U=U.split(/\s*\n/)).length>1?w=w.concat(U.map(function(P,M){return(M&&P.length?`
`:"")+P})):w.push(U[0])}),b=w,A=N4.apply(this,[y,n])}for(s=0,o=b.length;s<o;s++){var x=0;if(r=b[s],A&&r[0]==`
`&&(r=r.substr(1),x=1),p+g+(v=(i=$m.apply(this,[r,n])).reduce(function(U,P){return U+P},0))>e||x){if(v>e){for(a=U4.apply(this,[r,i,e-(p+g),e]),u.push(a.shift()),u=[a.pop()];a.length;)c.push([a.shift()]);v=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(U,P){return U+P},0)}else u=[r];c.push(u),p=v+A,g=E}else u.push(r),p+=g+v,g=E}return l=A?function(U,P){return(P?y:"")+U.join(" ")}:function(U){return U.join(" ")},c.map(l)},Zc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var c=this.internal.getFont(u.fontName,u.fontStyle);return c.metadata.Unicode?{widths:c.metadata.Unicode.widths||{0:1},kerning:c.metadata.Unicode.kerning||{}}:{font:c.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,A,l=[];for(a=0,A=r.length;a<A;a++)l=l.concat(Q4.apply(this,[r[a],o,s]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(c){return"0x"+parseInt(c,10).toString(16)},o=t.__fontmetrics__.compress=function(c){var p,g,v,b,E=["{"];for(var y in c){if(p=c[y],isNaN(parseInt(y,10))?g="'"+y+"'":(y=parseInt(y,10),g=(g=s(y).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof p=="number")p<0?(v=s(p).slice(3),b="-"):(v=s(p).slice(2),b=""),v=b+v.slice(0,-1)+r[v.slice(-1)];else{if(ln(p)!=="object")throw new Error("Don't know what to do with value type "+ln(p)+".");v=o(p)}E.push(g+v)}return E.push("}"),E.join("")},a=t.__fontmetrics__.uncompress=function(c){if(typeof c!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,v,b,E={},y=1,w=E,x=[],U="",P="",M=c.length-1,S=1;S<M;S+=1)(b=c[S])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(x.push([w,v]),w={},v=void 0):b=="}"?((g=x.pop())[0][g[1]]=w,v=void 0,w=g[0]):b=="-"?y=-1:v===void 0?n.hasOwnProperty(b)?(U+=n[b],v=parseInt(U,16)*y,y=1,U=""):U+=b:n.hasOwnProperty(b)?(P+=n[b],w[v]=parseInt(P,16)*y,y=1,v=void 0,P=""):P+=b;return E},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(c){var p=c.font,g=u.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var v=l.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(St.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(tp(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(St),function(t){function e(){return(Tt.canvg?Promise.resolve(Tt.canvg):RB(()=>import("./index.es-C07GPyLX.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}St.API.addSvgAsImage=function(n,r,i,s,o,a,A,l){if(isNaN(r)||isNaN(i))throw gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var c=u.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(v){return v.fromString(c,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,A,l)})}}(),St.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},St.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),A=[],l=0,u=0,c=0;function p(v,b){var E,y=!1;for(E=0;E<v.length;E+=1)v[E]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(c=0;c<g;c+=1)n[a[c]].value=n[a[c]].defaultValue,n[a[c]].explicitSet=!1}if(ln(t)==="object"){for(i in t)if(s=t[i],p(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&p(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(l=0;l<s.length;l+=1)if(r=!0,s[l].length===1&&typeof s[l][0]=="number")A.push(String(s[l]-1));else if(s[l].length>1){for(u=0;u<s[l].length;u+=1)typeof s[l][u]!="number"&&(r=!1);r===!0&&A.push([s[l][0]-1,s[l][1]-1].join(" "))}n[i].value="["+A.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,b=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?b.push("/"+v+" /"+n[v].value):b.push("/"+v+" "+n[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),l=s.length+o.length+a.length+i.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+A),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(St.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,A=o.metadata.Unicode.widths,l=["","0","00","000","0000"],u=[""],c=0,p=s.length;c<p;++c){if(a=o.metadata.characterToGlyph(s.charCodeAt(c)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(c),A.indexOf(a)==-1&&(A.push(a),A.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(l[4-a.length],a)}return u.join("")},r=function(s){var o,a,A,l,u,c,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],c=0,p=(a=Object.keys(s).sort(function(g,v){return g-v})).length;c<p;c++)o=a[c],A.length>=100&&(u+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(l=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+l+">"));return A.length&&(u+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,A=o.out,l=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var c=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",v=0;v<p.length;v++)g+=String.fromCharCode(p[v]);var b=l();u({data:g,addLength1:!0,objectId:b}),A("endobj");var E=l();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),A("endobj");var y=l();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+Ad(a.fontName)),A("/FontFile2 "+b+" 0 R"),A("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),A("/Flags "+a.metadata.flags),A("/StemV "+a.metadata.stemV),A("/ItalicAngle "+a.metadata.italicAngle),A("/Ascent "+a.metadata.ascender),A("/Descent "+a.metadata.decender),A("/CapHeight "+a.metadata.capHeight),A(">>"),A("endobj");var w=l();A("<<"),A("/Type /Font"),A("/BaseFont /"+Ad(a.fontName)),A("/FontDescriptor "+y+" 0 R"),A("/W "+t.API.PDFObject.convert(c)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+a.encoding+")"),A(">>"),A(">>"),A("endobj"),a.objectNumber=l(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+E+" 0 R"),A("/BaseFont /"+Ad(a.fontName)),A("/Encoding /"+a.encoding),A("/DescendantFonts ["+w+" 0 R]"),A(">>"),A("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,A=o.out,l=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var c=a.metadata.rawData,p="",g=0;g<c.length;g++)p+=String.fromCharCode(c[g]);var v=l();u({data:p,addLength1:!0,objectId:v}),A("endobj");var b=l();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),A("endobj");var E=l();A("<<"),A("/Descent "+a.metadata.decender),A("/CapHeight "+a.metadata.capHeight),A("/StemV "+a.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+v+" 0 R"),A("/Flags 96"),A("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),A("/FontName /"+Ad(a.fontName)),A("/ItalicAngle "+a.metadata.italicAngle),A("/Ascent "+a.metadata.ascender),A(">>"),A("endobj"),a.objectNumber=l();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Ad(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),A("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",A=s.x,l=s.y,u=s.options||{},c=s.mutex||{},p=c.pdfEscape,g=c.activeFontKey,v=c.fonts,b=g,E="",y=0,w="",x=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:a,x:A,y:l,options:u,mutex:c};for(w=a,b=g,Array.isArray(a)&&(w=a[0]),y=0;y<w.length;y+=1)v[b].metadata.hasOwnProperty("cmap")&&(o=v[b].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),o||w[y].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?E+=w[y]:E+="";var U="";return parseInt(b.slice(1))<14||x==="WinAnsiEncoding"?U=p(E,b).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(U=n(E,v[b])),c.isHex=!0,{text:U,x:A,y:l,options:u,mutex:c}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],A={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var l=0;for(l=0;l<o.length;l+=1)Array.isArray(o[l])&&o[l].length===3?a.push([i(Object.assign({},A,{text:o[l][0]})).text,o[l][1],o[l][2]]):a.push(i(Object.assign({},A,{text:o[l]})).text);s.text=a}else s.text=i(Object.assign({},A,{text:o})).text}])}(St),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(St.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,A,l,u,c=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,x=0;this.__bidiEngine__={};var U=function(I){var T=I.charCodeAt(),k=T>>8,X=b[k];return X!==void 0?c[256*X+(255&T)]:k===252||k===253?"AL":y.test(k)?"L":k===8?"R":"N"},P=function(I){for(var T,k=0;k<I.length;k++){if((T=U(I.charAt(k)))==="L")return!1;if(T==="R")return!0}return!1},M=function(I,T,k,X){var de,te,K,$,R=T[X];switch(R){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(R="AN");break;case"AL":w=!0,R="R";break;case"WS":R="N";break;case"CS":X<1||X+1>=T.length||(de=k[X-1])!=="EN"&&de!=="AN"||(te=T[X+1])!=="EN"&&te!=="AN"?R="N":w&&(te="AN"),R=te===de?te:"N";break;case"ES":R=(de=X>0?k[X-1]:"B")==="EN"&&X+1<T.length&&T[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&k[X-1]==="EN"){R="EN";break}if(w){R="N";break}for(K=X+1,$=T.length;K<$&&T[K]==="ET";)K++;R=K<$&&T[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for($=T.length,K=X+1;K<$&&T[K]==="NSM";)K++;if(K<$){var W=I[X],re=W>=1425&&W<=2303||W===64286;if(de=T[K],re&&(de==="R"||de==="AL")){R="R";break}}}R=X<1||(de=T[X-1])==="B"?"N":k[X-1];break;case"B":w=!1,i=!0,R=x;break;case"S":s=!0,R="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":R="N"}return R},S=function(I,T,k){var X=I.split("");return k&&_(X,k,{hiLevel:x}),X.reverse(),T&&T.reverse(),X.join("")},_=function(I,T,k){var X,de,te,K,$,R=-1,W=I.length,re=0,Q=[],j=x?g:p,z=[];for(w=!1,i=!1,s=!1,de=0;de<W;de++)z[de]=U(I[de]);for(te=0;te<W;te++){if($=re,Q[te]=M(I,z,Q,te),X=240&(re=j[$][v[Q[te]]]),re&=15,T[te]=K=j[re][5],X>0)if(X===16){for(de=R;de<te;de++)T[de]=1;R=-1}else R=-1;if(j[re][6])R===-1&&(R=te);else if(R>-1){for(de=R;de<te;de++)T[de]=K;R=-1}z[te]==="B"&&(T[te]=0),k.hiLevel|=K}s&&function(ee,ne,Ae){for(var ge=0;ge<Ae;ge++)if(ee[ge]==="S"){ne[ge]=x;for(var Be=ge-1;Be>=0&&ee[Be]==="WS";Be--)ne[Be]=x}}(z,T,W)},N=function(I,T,k,X,de){if(!(de.hiLevel<I)){if(I===1&&x===1&&!i)return T.reverse(),void(k&&k.reverse());for(var te,K,$,R,W=T.length,re=0;re<W;){if(X[re]>=I){for($=re+1;$<W&&X[$]>=I;)$++;for(R=re,K=$-1;R<K;R++,K--)te=T[R],T[R]=T[K],T[K]=te,k&&(te=k[R],k[R]=k[K],k[K]=te);re=$}re++}}},O=function(I,T,k){var X=I.split(""),de={hiLevel:x};return k||(k=[]),_(X,k,de),function(te,K,$){if($.hiLevel!==0&&u)for(var R,W=0;W<te.length;W++)K[W]===1&&(R=E.indexOf(te[W]))>=0&&(te[W]=E[R+1])}(X,k,de),N(2,X,T,k,de),N(1,X,T,k,de),X.join("")};return this.__bidiEngine__.doBidiReorder=function(I,T,k){if(function(de,te){if(te)for(var K=0;K<de.length;K++)te[K]=K;a===void 0&&(a=P(de)),l===void 0&&(l=P(de))}(I,T),o||!A||l)if(o&&A&&a^l)x=a?1:0,I=S(I,T,k);else if(!o&&A&&l)x=a?1:0,I=O(I,T,k),I=S(I,T);else if(!o||a||A||l){if(o&&!A&&a^l)I=S(I,T),a?(x=0,I=O(I,T,k)):(x=1,I=O(I,T,k),I=S(I,T));else if(o&&a&&!A&&l)x=1,I=O(I,T,k),I=S(I,T);else if(!o&&!A&&a^l){var X=u;a?(x=1,I=O(I,T,k),x=0,u=!1,I=O(I,T,k),u=X):(x=0,I=O(I,T,k),I=S(I,T),x=1,u=!1,I=O(I,T,k),u=X,I=S(I,T))}}else x=0,I=O(I,T,k);else x=a?1:0,I=O(I,T,k);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,A=I.isOutputVisual,a=I.isInputRtl,l=I.isOutputRtl,u=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(St),St.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Cl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new WY(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new UY(this.contents),this.head=new LY(this),this.name=new MY(this),this.cmap=new LQ(this),this.toUnicode={},this.hhea=new PY(this),this.maxp=new jY(this),this.hmtx=new HY(this),this.post=new DY(this),this.os2=new RY(this),this.loca=new GY(this),this.glyf=new VY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,A,l;for(l=[],o=0,a=(A=this.bbox).length;o<a;o++)e=A[o],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var co,Cl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,A;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),A=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^A)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+A},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),UY=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,A,l,u,c,p,g,v,b;for(b in g=Object.keys(n).length,A=Math.log(2),c=16*Math.floor(Math.log(g)/A),o=Math.floor(c/A),u=16*g-c,(i=new Cl).writeInt(this.scalarType),i.writeShort(g),i.writeShort(c),i.writeShort(o),i.writeShort(u),s=16*g,l=i.pos+s,a=null,v=[],n)for(p=n[b],i.writeString(b),i.writeInt(t(p)),i.writeInt(l),i.writeInt(p.length),v=v.concat(p),b==="head"&&(a=l),l+=p.length;l%4;)v.push(0),l++;return i.write(v),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=PQ.call(n);n.length%4;)n.push(0);for(s=new Cl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),QY={}.hasOwnProperty,Yo=function(t,e){for(var n in e)QY.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};co=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var LY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Cl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),R4=function(){function t(e,n){var r,i,s,o,a,A,l,u,c,p,g,v,b,E,y,w,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,s=function(){var U,P;for(P=[],A=U=0;0<=p?U<p:U>p;A=0<=p?++U:--U)P.push(e.readUInt16());return P}(),e.pos+=2,b=function(){var U,P;for(P=[],A=U=0;0<=p?U<p:U>p;A=0<=p?++U:--U)P.push(e.readUInt16());return P}(),l=function(){var U,P;for(P=[],A=U=0;0<=p?U<p:U>p;A=0<=p?++U:--U)P.push(e.readUInt16());return P}(),u=function(){var U,P;for(P=[],A=U=0;0<=p?U<p:U>p;A=0<=p?++U:--U)P.push(e.readUInt16());return P}(),i=(this.length-e.pos+this.offset)/2,a=function(){var U,P;for(P=[],A=U=0;0<=i?U<i:U>i;A=0<=i?++U:--U)P.push(e.readUInt16());return P}(),A=y=0,x=s.length;y<x;A=++y)for(E=s[A],r=w=v=b[A];v<=E?w<=E:w>=E;r=v<=E?++w:--w)u[A]===0?o=r+l[A]:(o=a[u[A]/2+(r-v)-(p-A)]||0)!==0&&(o+=l[A]),this.codeMap[r]=65535&o}e.pos=c}return t.encode=function(e,n){var r,i,s,o,a,A,l,u,c,p,g,v,b,E,y,w,x,U,P,M,S,_,N,O,I,T,k,X,de,te,K,$,R,W,re,Q,j,z,ee,ne,Ae,ge,Be,Fe,Te,je;switch(X=new Cl,o=Object.keys(e).sort(function(Le,Ve){return Le-Ve}),n){case"macroman":for(b=0,E=function(){var Le=[];for(v=0;v<256;++v)Le.push(0);return Le}(),w={0:0},s={},de=0,R=o.length;de<R;de++)w[Be=e[i=o[de]]]==null&&(w[Be]=++b),s[i]={old:e[i],new:w[e[i]]},E[i]=w[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(E),{charMap:s,subtable:X.data,maxGlyphID:b+1};case"unicode":for(T=[],c=[],x=0,w={},r={},y=l=null,te=0,W=o.length;te<W;te++)w[P=e[i=o[te]]]==null&&(w[P]=++x),r[i]={old:P,new:w[P]},a=w[P]-i,y!=null&&a===l||(y&&c.push(y),T.push(i),l=a),y=i;for(y&&c.push(y),c.push(65535),T.push(65535),O=2*(N=T.length),_=2*Math.pow(Math.log(N)/Math.LN2,2),p=Math.log(_/2)/Math.LN2,S=2*N-_,A=[],M=[],g=[],v=K=0,re=T.length;K<re;v=++K){if(I=T[v],u=c[v],I===65535){A.push(0),M.push(0);break}if(I-(k=r[I].new)>=32768)for(A.push(0),M.push(2*(g.length+N-v)),i=$=I;I<=u?$<=u:$>=u;i=I<=u?++$:--$)g.push(r[i].new);else A.push(k-I),M.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*N+2*g.length),X.writeUInt16(0),X.writeUInt16(O),X.writeUInt16(_),X.writeUInt16(p),X.writeUInt16(S),Ae=0,Q=c.length;Ae<Q;Ae++)i=c[Ae],X.writeUInt16(i);for(X.writeUInt16(0),ge=0,j=T.length;ge<j;ge++)i=T[ge],X.writeUInt16(i);for(Fe=0,z=A.length;Fe<z;Fe++)a=A[Fe],X.writeUInt16(a);for(Te=0,ee=M.length;Te<ee;Te++)U=M[Te],X.writeUInt16(U);for(je=0,ne=g.length;je<ne;je++)b=g[je],X.writeUInt16(b);return{charMap:r,subtable:X.data,maxGlyphID:x+1}}},t}(),LQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new R4(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=R4.encode(n,r),(s=new Cl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),PY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),RY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),DY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,A,l;for(l=[],o=a=0,A=this.file.maxp.numGlyphs;0<=A?a<A:a>A;o=0<=A?++a:--a)l.push(n.readUInt32());return l}).call(this)}},e}(),OY=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},MY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,A,l,u,c,p,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),A=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+A+n.readShort()});for(l={},o=c=0,p=i.length;c<p;o=++c)s=i[o],n.pos=s.offset,u=n.readString(s.length),a=new OY(u,s),l[g=s.nameID]==null&&(l[g]=[]),l[s.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),jY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),HY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,A,l;for(n.pos=this.offset,this.metrics=[],r=0,A=this.file.hhea.numberOfMetrics;0<=A?r<A:r>A;r=0<=A?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)c.push(n.readInt16());return c}(),this.widths=(function(){var u,c,p,g;for(g=[],u=0,c=(p=this.metrics).length;u<c;u++)o=p[u],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],l=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)l.push(this.widths.push(i));return l},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),PQ=[].slice,VY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,A,l,u,c,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(A=new Cl(r.read(s))).readShort(),u=A.readShort(),p=A.readShort(),l=A.readShort(),c=A.readShort(),this.cache[n]=a===-1?new zY(A,u,p,l,c):new KY(A,a,u,p,l,c),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,A,l;for(a=[],o=[],A=0,l=r.length;A<l;A++)s=n[r[A]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),KY=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),zY=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Cl(PQ.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),GY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var A=this.offsets[a],l=this.offsets[a+1]-A;l>0&&(s+=l)}for(var u=new Array(4*i.length),c=0;c<i.length;++c)u[4*c+3]=255&i[c],u[4*c+2]=(65280&i[c])>>8,u[4*c+1]=(16711680&i[c])>>16,u[4*c]=(4278190080&i[c])>>24;return u},e}(),WY=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,A;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in A=this.glyphsFor(n))r=A[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,A,l,u,c,p,g,v,b,E,y;for(i in r=LQ.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},y=r.charMap)g[(A=y[i]).old]=A.new;for(v in p=r.maxGlyphID,o)v in g||(g[v]=p++);return u=function(w){var x,U;for(x in U={},w)U[w[x]]=x;return U}(g),c=Object.keys(u).sort(function(w,x){return w-x}),b=function(){var w,x,U;for(U=[],w=0,x=c.length;w<x;w++)a=c[w],U.push(u[a]);return U}(),s=this.font.glyf.encode(o,b,g),l=this.font.loca.encode(s.offsets,b),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();St.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,A,l;for(l=[],a=0,A=n.length;a<A;a++)r=n[a],l.push(e.convert(r));return l}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const qY=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:CY,AcroFormAppearance:Bt,AcroFormButton:br,AcroFormCheckBox:ip,AcroFormChoiceField:Pu,AcroFormComboBox:Du,AcroFormEditBox:np,AcroFormListBox:Ru,AcroFormPasswordField:sp,AcroFormPushButton:rp,AcroFormRadioButton:Ou,AcroFormTextField:ll,GState:Xp,ShadingPattern:OA,TilingPattern:Eu,default:St,jsPDF:St},Symbol.toStringTag,{value:"Module"}));var $Y={exports:{}};const JY=_L(qY);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return JY}catch{}}())})(typeof globalThis<"u"?globalThis:typeof A1<"u"?A1:typeof window<"u"?window:typeof self<"u"?self:A1,function(n){return function(){var r={172:function(a,A){var l=this&&this.__extends||function(){var p=function(g,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&(b[y]=E[y])},p(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(g,v);function b(){this.constructor=g}g.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.CellHookData=A.HookData=void 0;var u=function(){function p(g,v,b){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=b,this.doc=g.getDocument()}return p}();A.HookData=u;var c=function(p){l(g,p);function g(v,b,E,y,w,x){var U=p.call(this,v,b,x)||this;return U.cell=E,U.row=y,U.column=w,U.section=y.section,U}return g}(u);A.CellHookData=c},340:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0});var u=l(4),c=l(136),p=l(744),g=l(776),v=l(664),b=l(972);function E(y){y.API.autoTable=function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];var U;w.length===1?U=w[0]:(console.error("Use of deprecated autoTable initiation"),U=w[2]||{},U.columns=w[0],U.body=w[1]);var P=(0,g.parseInput)(this,U),M=(0,b.createTable)(this,P);return(0,v.drawTable)(this,M),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(w,x,U,P){(0,c.default)(w,x,U,P,this)},y.API.autoTableSetDefaults=function(w){return p.DocHandler.setDefaults(w,this),this},y.autoTableSetDefaults=function(w,x){p.DocHandler.setDefaults(w,x)},y.API.autoTableHtmlToJson=function(w,x){var U;if(x===void 0&&(x=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var P=new p.DocHandler(this),M=(0,u.parseHtml)(P,w,window,x,!1),S=M.head,_=M.body,N=((U=S[0])===null||U===void 0?void 0:U.map(function(O){return O.content}))||[];return{columns:N,rows:_,data:_}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var w=this.lastAutoTable;return w&&w.finalY?w.finalY:0},y.API.autoTableAddPageContent=function(w){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=w,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}A.default=E},136:function(a,A){Object.defineProperty(A,"__esModule",{value:!0});function l(u,c,p,g,v){g=g||{};var b=1.15,E=v.internal.scaleFactor,y=v.internal.getFontSize()/E,w=v.getLineHeightFactor?v.getLineHeightFactor():b,x=y*w,U=/\r\n|\r|\n/g,P="",M=1;if((g.valign==="middle"||g.valign==="bottom"||g.halign==="center"||g.halign==="right")&&(P=typeof u=="string"?u.split(U):u,M=P.length||1),p+=y*(2-b),g.valign==="middle"?p-=M/2*x:g.valign==="bottom"&&(p-=M*x),g.halign==="center"||g.halign==="right"){var S=y;if(g.halign==="center"&&(S*=.5),P&&M>=1){for(var _=0;_<P.length;_++)v.text(P[_],c-v.getStringUnitWidth(P[_])*S,p),p+=x;return v}c-=v.getStringUnitWidth(u)*S}return g.halign==="justify"?v.text(u,c,p,{maxWidth:g.maxWidth||100,align:"justify"}):v.text(u,c,p),v}A.default=l},420:function(a,A){Object.defineProperty(A,"__esModule",{value:!0}),A.getPageAvailableWidth=A.parseSpacing=A.getFillStyle=A.addTableBorder=A.getStringWidth=void 0;function l(v,b,E){E.applyStyles(b,!0);var y=Array.isArray(v)?v:[v],w=y.map(function(x){return E.getTextWidth(x)}).reduce(function(x,U){return Math.max(x,U)},0);return w}A.getStringWidth=l;function u(v,b,E,y){var w=b.settings.tableLineWidth,x=b.settings.tableLineColor;v.applyStyles({lineWidth:w,lineColor:x});var U=c(w,!1);U&&v.rect(E.x,E.y,b.getWidth(v.pageSize().width),y.y-E.y,U)}A.addTableBorder=u;function c(v,b){var E=v>0,y=b||b===0;return E&&y?"DF":E?"S":y?"F":null}A.getFillStyle=c;function p(v,b){var E,y,w,x;if(v=v||b,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=b}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(E=v.left)!==null&&E!==void 0?E:b,top:(y=v.top)!==null&&y!==void 0?y:b,right:(w=v.right)!==null&&w!==void 0?w:b,bottom:(x=v.bottom)!==null&&x!==void 0?x:b}):(typeof v!="number"&&(v=b),{top:v,right:v,bottom:v,left:v})}A.parseSpacing=p;function g(v,b){var E=p(b.settings.margin,0);return v.pageSize().width-(E.left+E.right)}A.getPageAvailableWidth=g},796:function(a,A){var l=this&&this.__extends||function(){var g=function(v,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,y){E.__proto__=y}||function(E,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(E[w]=y[w])},g(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(v,b);function E(){this.constructor=v}v.prototype=b===null?Object.create(b):(E.prototype=b.prototype,new E)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.getTheme=A.defaultStyles=A.HtmlRowInput=void 0;var u=function(g){l(v,g);function v(b){var E=g.call(this)||this;return E._element=b,E}return v}(Array);A.HtmlRowInput=u;function c(g){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/g,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}A.defaultStyles=c;function p(g){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[g]}A.getTheme=p},903:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.parseCss=void 0;var u=l(420);function c(E,y,w,x,U){var P={},M=1.3333333333333333,S=g(y,function(R){return U.getComputedStyle(R).backgroundColor});S!=null&&(P.fillColor=S);var _=g(y,function(R){return U.getComputedStyle(R).color});_!=null&&(P.textColor=_);var N=b(x,w);N&&(P.cellPadding=N);var O="borderTopColor",I=M*w,T=x.borderTopWidth;if(x.borderBottomWidth===T&&x.borderRightWidth===T&&x.borderLeftWidth===T){var k=(parseFloat(T)||0)/I;k&&(P.lineWidth=k)}else P.lineWidth={top:(parseFloat(x.borderTopWidth)||0)/I,right:(parseFloat(x.borderRightWidth)||0)/I,bottom:(parseFloat(x.borderBottomWidth)||0)/I,left:(parseFloat(x.borderLeftWidth)||0)/I},P.lineWidth.top||(P.lineWidth.right?O="borderRightColor":P.lineWidth.bottom?O="borderBottomColor":P.lineWidth.left&&(O="borderLeftColor"));var X=g(y,function(R){return U.getComputedStyle(R)[O]});X!=null&&(P.lineColor=X);var de=["left","right","center","justify"];de.indexOf(x.textAlign)!==-1&&(P.halign=x.textAlign),de=["middle","bottom","top"],de.indexOf(x.verticalAlign)!==-1&&(P.valign=x.verticalAlign);var te=parseInt(x.fontSize||"");isNaN(te)||(P.fontSize=te/M);var K=p(x);K&&(P.fontStyle=K);var $=(x.fontFamily||"").toLowerCase();return E.indexOf($)!==-1&&(P.font=$),P}A.parseCss=c;function p(E){var y="";return(E.fontWeight==="bold"||E.fontWeight==="bolder"||parseInt(E.fontWeight)>=700)&&(y="bold"),(E.fontStyle==="italic"||E.fontStyle==="oblique")&&(y+="italic"),y}function g(E,y){var w=v(E,y);if(!w)return null;var x=w.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!x||!Array.isArray(x))return null;var U=[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])],P=parseInt(x[4]);return P===0||isNaN(U[0])||isNaN(U[1])||isNaN(U[2])?null:U}function v(E,y){var w=y(E);return w==="rgba(0, 0, 0, 0)"||w==="transparent"||w==="initial"||w==="inherit"?E.parentElement==null?null:v(E.parentElement,y):w}function b(E,y){var w=[E.paddingTop,E.paddingRight,E.paddingBottom,E.paddingLeft],x=96/(72/y),U=(parseInt(E.lineHeight)-parseInt(E.fontSize))/y/2,P=w.map(function(S){return parseInt(S||"0")/x}),M=(0,u.parseSpacing)(P,0);return U>M.top&&(M.top=U),U>M.bottom&&(M.bottom=U),M}},744:function(a,A){Object.defineProperty(A,"__esModule",{value:!0}),A.DocHandler=void 0;var l={},u=function(){function c(p){this.jsPDFDocument=p,this.userStyles={textColor:p.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle,font:p.internal.getFont().fontName,lineWidth:p.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:p.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return c.setDefaults=function(p,g){g===void 0&&(g=null),g?g.__autoTableDocumentDefaults=p:l=p},c.unifyColor=function(p){return Array.isArray(p)?p:typeof p=="number"?[p,p,p]:typeof p=="string"?[p]:null},c.prototype.applyStyles=function(p,g){var v,b,E;g===void 0&&(g=!1),p.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(p.fontStyle);var y=this.jsPDFDocument.internal.getFont(),w=y.fontStyle,x=y.fontName;if(p.font&&(x=p.font),p.fontStyle){w=p.fontStyle;var U=this.getFontList()[x];U&&U.indexOf(w)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(U[0]),w=U[0])}if(this.jsPDFDocument.setFont(x,w),p.fontSize&&this.jsPDFDocument.setFontSize(p.fontSize),!g){var P=c.unifyColor(p.fillColor);P&&(v=this.jsPDFDocument).setFillColor.apply(v,P),P=c.unifyColor(p.textColor),P&&(b=this.jsPDFDocument).setTextColor.apply(b,P),P=c.unifyColor(p.lineColor),P&&(E=this.jsPDFDocument).setDrawColor.apply(E,P),typeof p.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(p.lineWidth)}},c.prototype.splitTextToSize=function(p,g,v){return this.jsPDFDocument.splitTextToSize(p,g,v)},c.prototype.rect=function(p,g,v,b,E){return this.jsPDFDocument.rect(p,g,v,b,E)},c.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},c.prototype.getTextWidth=function(p){return this.jsPDFDocument.getTextWidth(p)},c.prototype.getDocument=function(){return this.jsPDFDocument},c.prototype.setPage=function(p){this.jsPDFDocument.setPage(p)},c.prototype.addPage=function(){return this.jsPDFDocument.addPage()},c.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},c.prototype.getGlobalOptions=function(){return l||{}},c.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},c.prototype.pageSize=function(){var p=this.jsPDFDocument.internal.pageSize;return p.width==null&&(p={width:p.getWidth(),height:p.getHeight()}),p},c.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},c.prototype.getLineHeightFactor=function(){var p=this.jsPDFDocument;return p.getLineHeightFactor?p.getLineHeightFactor():1.15},c.prototype.getLineHeight=function(p){return p/this.scaleFactor()*this.getLineHeightFactor()},c.prototype.pageNumber=function(){var p=this.jsPDFDocument.internal.getCurrentPageInfo();return p?p.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},c}();A.DocHandler=u},4:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.parseHtml=void 0;var u=l(903),c=l(796);function p(b,E,y,w,x){var U,P;w===void 0&&(w=!1),x===void 0&&(x=!1);var M;typeof E=="string"?M=y.document.querySelector(E):M=E;var S=Object.keys(b.getFontList()),_=b.scaleFactor(),N=[],O=[],I=[];if(!M)return console.error("Html table could not be found with input: ",E),{head:N,body:O,foot:I};for(var T=0;T<M.rows.length;T++){var k=M.rows[T],X=(P=(U=k==null?void 0:k.parentElement)===null||U===void 0?void 0:U.tagName)===null||P===void 0?void 0:P.toLowerCase(),de=g(S,_,y,k,w,x);de&&(X==="thead"?N.push(de):X==="tfoot"?I.push(de):O.push(de))}return{head:N,body:O,foot:I}}A.parseHtml=p;function g(b,E,y,w,x,U){for(var P=new c.HtmlRowInput(w),M=0;M<w.cells.length;M++){var S=w.cells[M],_=y.getComputedStyle(S);if(x||_.display!=="none"){var N=void 0;U&&(N=(0,u.parseCss)(b,S,E,_,y)),P.push({rowSpan:S.rowSpan,colSpan:S.colSpan,styles:N,_element:S,content:v(S)})}}var O=y.getComputedStyle(w);if(P.length>0&&(x||O.display!=="none"))return P}function v(b){var E=b.cloneNode(!0);return E.innerHTML=E.innerHTML.replace(/\n/g,"").replace(/ +/g," "),E.innerHTML=E.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),E.innerText||E.textContent||""}},776:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.parseInput=void 0;var u=l(4),c=l(356),p=l(420),g=l(744),v=l(792);function b(M,S){var _=new g.DocHandler(M),N=_.getDocumentOptions(),O=_.getGlobalOptions();(0,v.default)(_,O,N,S);var I=(0,c.assign)({},O,N,S),T;typeof window<"u"&&(T=window);var k=E(O,N,S),X=y(O,N,S),de=w(_,I),te=U(_,I,T);return{id:S.tableId,content:te,hooks:X,styles:k,settings:de}}A.parseInput=b;function E(M,S,_){for(var N={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},O=function(X){if(X==="columnStyles"){var de=M[X],te=S[X],K=_[X];N.columnStyles=(0,c.assign)({},de,te,K)}else{var $=[M,S,_],R=$.map(function(W){return W[X]||{}});N[X]=(0,c.assign)({},R[0],R[1],R[2])}},I=0,T=Object.keys(N);I<T.length;I++){var k=T[I];O(k)}return N}function y(M,S,_){for(var N=[M,S,_],O={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},I=0,T=N;I<T.length;I++){var k=T[I];k.didParseCell&&O.didParseCell.push(k.didParseCell),k.willDrawCell&&O.willDrawCell.push(k.willDrawCell),k.didDrawCell&&O.didDrawCell.push(k.didDrawCell),k.willDrawPage&&O.willDrawPage.push(k.willDrawPage),k.didDrawPage&&O.didDrawPage.push(k.didDrawPage)}return O}function w(M,S){var _,N,O,I,T,k,X,de,te,K,$,R,W=(0,p.parseSpacing)(S.margin,40/M.scaleFactor()),re=(_=x(M,S.startY))!==null&&_!==void 0?_:W.top,Q;S.showFoot===!0?Q="everyPage":S.showFoot===!1?Q="never":Q=(N=S.showFoot)!==null&&N!==void 0?N:"everyPage";var j;S.showHead===!0?j="everyPage":S.showHead===!1?j="never":j=(O=S.showHead)!==null&&O!==void 0?O:"everyPage";var z=(I=S.useCss)!==null&&I!==void 0?I:!1,ee=S.theme||(z?"plain":"striped"),ne=!!S.horizontalPageBreak,Ae=(T=S.horizontalPageBreakRepeat)!==null&&T!==void 0?T:null;return{includeHiddenHtml:(k=S.includeHiddenHtml)!==null&&k!==void 0?k:!1,useCss:z,theme:ee,startY:re,margin:W,pageBreak:(X=S.pageBreak)!==null&&X!==void 0?X:"auto",rowPageBreak:(de=S.rowPageBreak)!==null&&de!==void 0?de:"auto",tableWidth:(te=S.tableWidth)!==null&&te!==void 0?te:"auto",showHead:j,showFoot:Q,tableLineWidth:(K=S.tableLineWidth)!==null&&K!==void 0?K:0,tableLineColor:($=S.tableLineColor)!==null&&$!==void 0?$:200,horizontalPageBreak:ne,horizontalPageBreakRepeat:Ae,horizontalPageBreakBehaviour:(R=S.horizontalPageBreakBehaviour)!==null&&R!==void 0?R:"afterAllRows"}}function x(M,S){var _=M.getLastAutoTable(),N=M.scaleFactor(),O=M.pageNumber(),I=!1;if(_&&_.startPageNumber){var T=_.startPageNumber+_.pageNumber-1;I=T===O}return typeof S=="number"?S:(S==null||S===!1)&&I&&(_==null?void 0:_.finalY)!=null?_.finalY+20/N:null}function U(M,S,_){var N=S.head||[],O=S.body||[],I=S.foot||[];if(S.html){var T=S.includeHiddenHtml;if(_){var k=(0,u.parseHtml)(M,S.html,_,T,S.useCss)||{};N=k.head||N,O=k.body||N,I=k.foot||N}else console.error("Cannot parse html in non browser environment")}var X=S.columns||P(N,O,I);return{columns:X,head:N,body:O,foot:I}}function P(M,S,_){var N=M[0]||S[0]||_[0]||[],O=[];return Object.keys(N).filter(function(I){return I!=="_element"}).forEach(function(I){var T=1,k;Array.isArray(N)?k=N[parseInt(I)]:k=N[I],typeof k=="object"&&!Array.isArray(k)&&(T=(k==null?void 0:k.colSpan)||1);for(var X=0;X<T;X++){var de=void 0;Array.isArray(N)?de=O.length:de=I+(X>0?"_".concat(X):"");var te={dataKey:de};O.push(te)}}),O}},792:function(a,A){Object.defineProperty(A,"__esModule",{value:!0});function l(c,p,g,v){for(var b=function(x){x&&typeof x!="object"&&console.error("The options parameter should be of type object, is: "+typeof x),typeof x.extendWidth<"u"&&(x.tableWidth=x.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof x.margins<"u"&&(typeof x.margin>"u"&&(x.margin=x.margins),console.error("Use of deprecated option: margins, use margin instead.")),x.startY&&typeof x.startY!="number"&&(console.error("Invalid value for startY option",x.startY),delete x.startY),!x.didDrawPage&&(x.afterPageContent||x.beforePageContent||x.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),x.didDrawPage=function(I){c.applyStyles(c.userStyles),x.beforePageContent&&x.beforePageContent(I),c.applyStyles(c.userStyles),x.afterPageContent&&x.afterPageContent(I),c.applyStyles(c.userStyles),x.afterPageAdd&&I.pageNumber>1&&I.afterPageAdd(I),c.applyStyles(c.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(I){x[I]&&console.error('The "'.concat(I,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(I){var T=I[0],k=I[1];x[k]&&(console.error("Use of deprecated option ".concat(k,". Use ").concat(T," instead")),x[T]=x[k])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(I){var T=typeof I=="string"?I:I[0],k=typeof I=="string"?I:I[1];typeof x[T]<"u"&&(typeof x.styles[k]>"u"&&(x.styles[k]=x[T]),console.error("Use of deprecated option: "+T+", use the style "+k+" instead."))});for(var U=0,P=["styles","bodyStyles","headStyles","footStyles"];U<P.length;U++){var M=P[U];u(x[M]||{})}for(var S=x.columnStyles||{},_=0,N=Object.keys(S);_<N.length;_++){var O=N[_];u(S[O]||{})}},E=0,y=[p,g,v];E<y.length;E++){var w=y[E];b(w)}}A.default=l;function u(c){c.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),c.minCellHeight||(c.minCellHeight=c.rowHeight)):c.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),c.cellWidth||(c.cellWidth=c.columnWidth))}},260:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.Column=A.Cell=A.Row=A.Table=void 0;var u=l(796),c=l(172),p=l(420),g=function(){function y(w,x){this.pageNumber=1,this.pageCount=1,this.id=w.id,this.settings=w.settings,this.styles=w.styles,this.hooks=w.hooks,this.columns=x.columns,this.head=x.head,this.body=x.body,this.foot=x.foot}return y.prototype.getHeadHeight=function(w){return this.head.reduce(function(x,U){return x+U.getMaxCellHeight(w)},0)},y.prototype.getFootHeight=function(w){return this.foot.reduce(function(x,U){return x+U.getMaxCellHeight(w)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(w,x,U,P,M,S){for(var _=0,N=x;_<N.length;_++){var O=N[_],I=new c.CellHookData(w,this,U,P,M,S),T=O(I)===!1;if(U.text=Array.isArray(U.text)?U.text:[U.text],T)return!1}return!0},y.prototype.callEndPageHooks=function(w,x){w.applyStyles(w.userStyles);for(var U=0,P=this.hooks.didDrawPage;U<P.length;U++){var M=P[U];M(new c.HookData(w,this,x))}},y.prototype.callWillDrawPageHooks=function(w,x){for(var U=0,P=this.hooks.willDrawPage;U<P.length;U++){var M=P[U];M(new c.HookData(w,this,x))}},y.prototype.getWidth=function(w){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var x=this.columns.reduce(function(P,M){return P+M.wrappedWidth},0);return x}else{var U=this.settings.margin;return w-U.left-U.right}},y}();A.Table=g;var v=function(){function y(w,x,U,P,M){M===void 0&&(M=!1),this.height=0,this.raw=w,w instanceof u.HtmlRowInput&&(this.raw=w._element,this.element=w._element),this.index=x,this.section=U,this.cells=P,this.spansMultiplePages=M}return y.prototype.getMaxCellHeight=function(w){var x=this;return w.reduce(function(U,P){var M;return Math.max(U,((M=x.cells[P.index])===null||M===void 0?void 0:M.height)||0)},0)},y.prototype.hasRowSpan=function(w){var x=this;return w.filter(function(U){var P=x.cells[U.index];return P?P.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(w,x){return this.getMaxCellHeight(x)<=w},y.prototype.getMinimumRowHeight=function(w,x){var U=this;return w.reduce(function(P,M){var S=U.cells[M.index];if(!S)return 0;var _=x.getLineHeight(S.styles.fontSize),N=S.padding("vertical"),O=N+_;return O>P?O:P},0)},y}();A.Row=v;var b=function(){function y(w,x,U){var P,M;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=x,this.section=U,this.raw=w;var S=w;w!=null&&typeof w=="object"&&!Array.isArray(w)?(this.rowSpan=w.rowSpan||1,this.colSpan=w.colSpan||1,S=(M=(P=w.content)!==null&&P!==void 0?P:w.title)!==null&&M!==void 0?M:w,w._element&&(this.raw=w._element)):(this.rowSpan=1,this.colSpan=1);var _=S!=null?""+S:"",N=/\r\n|\r|\n/g;this.text=_.split(N)}return y.prototype.getTextPos=function(){var w;if(this.styles.valign==="top")w=this.y+this.padding("top");else if(this.styles.valign==="bottom")w=this.y+this.height-this.padding("bottom");else{var x=this.height-this.padding("vertical");w=this.y+x/2+this.padding("top")}var U;if(this.styles.halign==="right")U=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var P=this.width-this.padding("horizontal");U=this.x+P/2+this.padding("left")}else U=this.x+this.padding("left");return{x:U,y:w}},y.prototype.getContentHeight=function(w,x){x===void 0&&(x=1.15);var U=Array.isArray(this.text)?this.text.length:1,P=this.styles.fontSize/w*x,M=U*P+this.padding("vertical");return Math.max(M,this.styles.minCellHeight)},y.prototype.padding=function(w){var x=(0,p.parseSpacing)(this.styles.cellPadding,0);return w==="vertical"?x.top+x.bottom:w==="horizontal"?x.left+x.right:x[w]},y}();A.Cell=b;var E=function(){function y(w,x,U){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=w,this.raw=x,this.index=U}return y.prototype.getMaxCustomCellWidth=function(w){for(var x=0,U=0,P=w.allRows();U<P.length;U++){var M=P[U],S=M.cells[this.index];S&&typeof S.styles.cellWidth=="number"&&(x=Math.max(x,S.styles.cellWidth))}return x},y}();A.Column=E},356:function(a,A){Object.defineProperty(A,"__esModule",{value:!0}),A.assign=void 0;function l(u,c,p,g,v){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(u),E=1;E<arguments.length;E++){var y=arguments[E];if(y!=null)for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(b[w]=y[w])}return b}A.assign=l},972:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.createTable=void 0;var u=l(744),c=l(260),p=l(324),g=l(796),v=l(356);function b(M,S){var _=new u.DocHandler(M),N=E(S,_.scaleFactor()),O=new c.Table(S,N);return(0,p.calculateWidths)(_,O),_.applyStyles(_.userStyles),O}A.createTable=b;function E(M,S){var _=M.content,N=U(_.columns);if(_.head.length===0){var O=w(N,"head");O&&_.head.push(O)}if(_.foot.length===0){var O=w(N,"foot");O&&_.foot.push(O)}var I=M.settings.theme,T=M.styles;return{columns:N,head:y("head",_.head,N,T,I,S),body:y("body",_.body,N,T,I,S),foot:y("foot",_.foot,N,T,I,S)}}function y(M,S,_,N,O,I){var T={},k=S.map(function(X,de){for(var te=0,K={},$=0,R=0,W=0,re=_;W<re.length;W++){var Q=re[W];if(T[Q.index]==null||T[Q.index].left===0)if(R===0){var j=void 0;Array.isArray(X)?j=X[Q.index-$-te]:j=X[Q.dataKey];var z={};typeof j=="object"&&!Array.isArray(j)&&(z=(j==null?void 0:j.styles)||{});var ee=P(M,Q,de,O,N,I,z),ne=new c.Cell(j,ee,M);K[Q.dataKey]=ne,K[Q.index]=ne,R=ne.colSpan-1,T[Q.index]={left:ne.rowSpan-1,times:R}}else R--,$++;else T[Q.index].left--,R=T[Q.index].times,te++}return new c.Row(X,de,M,K)});return k}function w(M,S){var _={};return M.forEach(function(N){if(N.raw!=null){var O=x(S,N.raw);O!=null&&(_[N.dataKey]=O)}}),Object.keys(_).length>0?_:null}function x(M,S){if(M==="head"){if(typeof S=="object")return S.header||S.title||null;if(typeof S=="string"||typeof S=="number")return S}else if(M==="foot"&&typeof S=="object")return S.footer;return null}function U(M){return M.map(function(S,_){var N,O,I;return typeof S=="object"?I=(O=(N=S.dataKey)!==null&&N!==void 0?N:S.key)!==null&&O!==void 0?O:_:I=_,new c.Column(I,S,_)})}function P(M,S,_,N,O,I,T){var k=(0,g.getTheme)(N),X;M==="head"?X=O.headStyles:M==="body"?X=O.bodyStyles:M==="foot"&&(X=O.footStyles);var de=(0,v.assign)({},k.table,k[M],O.styles,X),te=O.columnStyles[S.dataKey]||O.columnStyles[S.index]||{},K=M==="body"?te:{},$=M==="body"&&_%2===0?(0,v.assign)({},k.alternateRow,O.alternateRowStyles):{},R=(0,g.defaultStyles)(I),W=(0,v.assign)({},R,de,$,K);return(0,v.assign)(W,T)}},664:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.addPage=A.drawTable=void 0;var u=l(420),c=l(260),p=l(744),g=l(356),v=l(136),b=l(224);function E(te,K){var $=K.settings,R=$.startY,W=$.margin,re={x:W.left,y:R},Q=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns),j=R+W.bottom+Q;if($.pageBreak==="avoid"){var z=K.body,ee=z.reduce(function(ge,Be){return ge+Be.height},0);j+=ee}var ne=new p.DocHandler(te);($.pageBreak==="always"||$.startY!=null&&j>ne.pageSize().height)&&(de(ne),re.y=W.top),K.callWillDrawPageHooks(ne,re);var Ae=(0,g.assign)({},re);K.startPageNumber=ne.pageNumber(),$.horizontalPageBreak?y(ne,K,Ae,re):(ne.applyStyles(ne.userStyles),($.showHead==="firstPage"||$.showHead==="everyPage")&&K.head.forEach(function(ge){return O(ne,K,ge,re,K.columns)}),ne.applyStyles(ne.userStyles),K.body.forEach(function(ge,Be){var Fe=Be===K.body.length-1;N(ne,K,ge,Fe,Ae,re,K.columns)}),ne.applyStyles(ne.userStyles),($.showFoot==="lastPage"||$.showFoot==="everyPage")&&K.foot.forEach(function(ge){return O(ne,K,ge,re,K.columns)})),(0,u.addTableBorder)(ne,K,Ae,re),K.callEndPageHooks(ne,re),K.finalY=re.y,te.lastAutoTable=K,te.previousAutoTable=K,te.autoTable&&(te.autoTable.previous=K),ne.applyStyles(ne.userStyles)}A.drawTable=E;function y(te,K,$,R){var W=(0,b.calculateAllColumnsCanFitInPage)(te,K),re=K.settings;if(re.horizontalPageBreakBehaviour==="afterAllRows")W.forEach(function(ee,ne){te.applyStyles(te.userStyles),ne>0?X(te,K,$,R,ee.columns,!0):w(te,K,R,ee.columns),x(te,K,$,R,ee.columns),P(te,K,R,ee.columns)});else for(var Q=-1,j=W[0],z=function(){var ee=Q;if(j){te.applyStyles(te.userStyles);var ne=j.columns;Q>=0?X(te,K,$,R,ne,!0):w(te,K,R,ne),ee=U(te,K,Q+1,R,ne),P(te,K,R,ne)}var Ae=ee-Q;W.slice(1).forEach(function(ge){te.applyStyles(te.userStyles),X(te,K,$,R,ge.columns,!0),U(te,K,Q+1,R,ge.columns,Ae),P(te,K,R,ge.columns)}),Q=ee};Q<K.body.length-1;)z()}function w(te,K,$,R){var W=K.settings;te.applyStyles(te.userStyles),(W.showHead==="firstPage"||W.showHead==="everyPage")&&K.head.forEach(function(re){return O(te,K,re,$,R)})}function x(te,K,$,R,W){te.applyStyles(te.userStyles),K.body.forEach(function(re,Q){var j=Q===K.body.length-1;N(te,K,re,j,$,R,W)})}function U(te,K,$,R,W,re){te.applyStyles(te.userStyles),re=re??K.body.length;var Q=Math.min($+re,K.body.length),j=-1;return K.body.slice($,Q).forEach(function(z,ee){var ne=$+ee===K.body.length-1,Ae=k(te,K,ne,R);z.canEntireRowFit(Ae,W)&&(O(te,K,z,R,W),j=$+ee)}),j}function P(te,K,$,R){var W=K.settings;te.applyStyles(te.userStyles),(W.showFoot==="lastPage"||W.showFoot==="everyPage")&&K.foot.forEach(function(re){return O(te,K,re,$,R)})}function M(te,K,$){var R=$.getLineHeight(te.styles.fontSize),W=te.padding("vertical"),re=Math.floor((K-W)/R);return Math.max(0,re)}function S(te,K,$,R){var W={};te.spansMultiplePages=!0,te.height=0;for(var re=0,Q=0,j=$.columns;Q<j.length;Q++){var z=j[Q],ee=te.cells[z.index];if(ee){Array.isArray(ee.text)||(ee.text=[ee.text]);var ne=new c.Cell(ee.raw,ee.styles,ee.section);ne=(0,g.assign)(ne,ee),ne.text=[];var Ae=M(ee,K,R);ee.text.length>Ae&&(ne.text=ee.text.splice(Ae,ee.text.length));var ge=R.scaleFactor(),Be=R.getLineHeightFactor();ee.contentHeight=ee.getContentHeight(ge,Be),ee.contentHeight>=K&&(ee.contentHeight=K,ne.styles.minCellHeight-=K),ee.contentHeight>te.height&&(te.height=ee.contentHeight),ne.contentHeight=ne.getContentHeight(ge,Be),ne.contentHeight>re&&(re=ne.contentHeight),W[z.index]=ne}}var Fe=new c.Row(te.raw,-1,te.section,W,!0);Fe.height=re;for(var Te=0,je=$.columns;Te<je.length;Te++){var z=je[Te],ne=Fe.cells[z.index];ne&&(ne.height=Fe.height);var ee=te.cells[z.index];ee&&(ee.height=te.height)}return Fe}function _(te,K,$,R){var W=te.pageSize().height,re=R.settings.margin,Q=re.top+re.bottom,j=W-Q;K.section==="body"&&(j-=R.getHeadHeight(R.columns)+R.getFootHeight(R.columns));var z=K.getMinimumRowHeight(R.columns,te),ee=z<$;if(z>j)return console.error("Will not be able to print row ".concat(K.index," correctly since it's minimum height is larger than page height")),!0;if(!ee)return!1;var ne=K.hasRowSpan(R.columns),Ae=K.getMaxCellHeight(R.columns)>j;return Ae?(ne&&console.error("The content of row ".concat(K.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ne||R.settings.rowPageBreak==="avoid")}function N(te,K,$,R,W,re,Q){var j=k(te,K,R,re);if($.canEntireRowFit(j,Q))O(te,K,$,re,Q);else if(_(te,$,j,K)){var z=S($,j,K,te);O(te,K,$,re,Q),X(te,K,W,re,Q),N(te,K,z,R,W,re,Q)}else X(te,K,W,re,Q),N(te,K,$,R,W,re,Q)}function O(te,K,$,R,W){R.x=K.settings.margin.left;for(var re=0,Q=W;re<Q.length;re++){var j=Q[re],z=$.cells[j.index];if(!z){R.x+=j.width;continue}te.applyStyles(z.styles),z.x=R.x,z.y=R.y;var ee=K.callCellHooks(te,K.hooks.willDrawCell,z,$,j,R);if(ee===!1){R.x+=j.width;continue}I(te,z,R);var ne=z.getTextPos();(0,v.default)(z.text,ne.x,ne.y,{halign:z.styles.halign,valign:z.styles.valign,maxWidth:Math.ceil(z.width-z.padding("left")-z.padding("right"))},te.getDocument()),K.callCellHooks(te,K.hooks.didDrawCell,z,$,j,R),R.x+=j.width}R.y+=$.height}function I(te,K,$){var R=K.styles;if(te.getDocument().setFillColor(te.getDocument().getFillColor()),typeof R.lineWidth=="number"){var W=(0,u.getFillStyle)(R.lineWidth,R.fillColor);W&&te.rect(K.x,$.y,K.width,K.height,W)}else typeof R.lineWidth=="object"&&(R.fillColor&&te.rect(K.x,$.y,K.width,K.height,"F"),T(te,K,$,R.lineWidth))}function T(te,K,$,R){var W,re,Q,j;R.top&&(W=$.x,re=$.y,Q=$.x+K.width,j=$.y,R.right&&(Q+=.5*R.right),R.left&&(W-=.5*R.left),z(R.top,W,re,Q,j)),R.bottom&&(W=$.x,re=$.y+K.height,Q=$.x+K.width,j=$.y+K.height,R.right&&(Q+=.5*R.right),R.left&&(W-=.5*R.left),z(R.bottom,W,re,Q,j)),R.left&&(W=$.x,re=$.y,Q=$.x,j=$.y+K.height,R.top&&(re-=.5*R.top),R.bottom&&(j+=.5*R.bottom),z(R.left,W,re,Q,j)),R.right&&(W=$.x+K.width,re=$.y,Q=$.x+K.width,j=$.y+K.height,R.top&&(re-=.5*R.top),R.bottom&&(j+=.5*R.bottom),z(R.right,W,re,Q,j));function z(ee,ne,Ae,ge,Be){te.getDocument().setLineWidth(ee),te.getDocument().line(ne,Ae,ge,Be,"S")}}function k(te,K,$,R){var W=K.settings.margin.bottom,re=K.settings.showFoot;return(re==="everyPage"||re==="lastPage"&&$)&&(W+=K.getFootHeight(K.columns)),te.pageSize().height-R.y-W}function X(te,K,$,R,W,re){W===void 0&&(W=[]),re===void 0&&(re=!1),te.applyStyles(te.userStyles),K.settings.showFoot==="everyPage"&&!re&&K.foot.forEach(function(j){return O(te,K,j,R,W)}),K.callEndPageHooks(te,R);var Q=K.settings.margin;(0,u.addTableBorder)(te,K,$,R),de(te),K.pageNumber++,K.pageCount++,R.x=Q.left,R.y=Q.top,$.y=Q.top,K.callWillDrawPageHooks(te,R),K.settings.showHead==="everyPage"&&(K.head.forEach(function(j){return O(te,K,j,R,W)}),te.applyStyles(te.userStyles))}A.addPage=X;function de(te){var K=te.pageNumber();te.setPage(K+1);var $=te.pageNumber();return $===K?(te.addPage(),!0):!1}},224:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.calculateAllColumnsCanFitInPage=void 0;var u=l(420);function c(g,v,b){var E;b===void 0&&(b={});var y=(0,u.getPageAvailableWidth)(g,v),w=new Map,x=[],U=[],P=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?P=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(P=[v.settings.horizontalPageBreakRepeat]),P.forEach(function(N){var O=v.columns.find(function(I){return I.dataKey===N||I.index===N});O&&!w.has(O.index)&&(w.set(O.index,!0),x.push(O.index),U.push(v.columns[O.index]),y-=O.wrappedWidth)});for(var M=!0,S=(E=b==null?void 0:b.start)!==null&&E!==void 0?E:0;S<v.columns.length;){if(w.has(S)){S++;continue}var _=v.columns[S].wrappedWidth;if(M||y>=_)M=!1,x.push(S),U.push(v.columns[S]),y-=_;else break;S++}return{colIndexes:x,columns:U,lastIndex:S-1}}function p(g,v){for(var b=[],E=0;E<v.columns.length;E++){var y=c(g,v,{start:E});y.columns.length&&(b.push(y),E=y.lastIndex)}return b}A.calculateAllColumnsCanFitInPage=p},324:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.ellipsize=A.resizeColumns=A.calculateWidths=void 0;var u=l(420);function c(x,U){p(x,U);var P=[],M=0;U.columns.forEach(function(_){var N=_.getMaxCustomCellWidth(U);N?_.width=N:(_.width=_.wrappedWidth,P.push(_)),M+=_.width});var S=U.getWidth(x.pageSize().width)-M;S&&(S=g(P,S,function(_){return Math.max(_.minReadableWidth,_.minWidth)})),S&&(S=g(P,S,function(_){return _.minWidth})),S=Math.abs(S),!U.settings.horizontalPageBreak&&S>.1/x.scaleFactor()&&(S=S<1?S:Math.round(S),console.warn("Of the table content, ".concat(S," units width could not fit page"))),b(U),E(U,x),v(U)}A.calculateWidths=c;function p(x,U){var P=x.scaleFactor(),M=U.settings.horizontalPageBreak,S=(0,u.getPageAvailableWidth)(x,U);U.allRows().forEach(function(_){for(var N=0,O=U.columns;N<O.length;N++){var I=O[N],T=_.cells[I.index];if(T){var k=U.hooks.didParseCell;U.callCellHooks(x,k,T,_,I,null);var X=T.padding("horizontal");T.contentWidth=(0,u.getStringWidth)(T.text,T.styles,x)+X;var de=(0,u.getStringWidth)(T.text.join(" ").split(/[^\S\u00A0]+/),T.styles,x);if(T.minReadableWidth=de+T.padding("horizontal"),typeof T.styles.cellWidth=="number")T.minWidth=T.styles.cellWidth,T.wrappedWidth=T.styles.cellWidth;else if(T.styles.cellWidth==="wrap"||M===!0)T.contentWidth>S?(T.minWidth=S,T.wrappedWidth=S):(T.minWidth=T.contentWidth,T.wrappedWidth=T.contentWidth);else{var te=10/P;T.minWidth=T.styles.minCellWidth||te,T.wrappedWidth=T.contentWidth,T.minWidth>T.wrappedWidth&&(T.wrappedWidth=T.minWidth)}}}}),U.allRows().forEach(function(_){for(var N=0,O=U.columns;N<O.length;N++){var I=O[N],T=_.cells[I.index];if(T&&T.colSpan===1)I.wrappedWidth=Math.max(I.wrappedWidth,T.wrappedWidth),I.minWidth=Math.max(I.minWidth,T.minWidth),I.minReadableWidth=Math.max(I.minReadableWidth,T.minReadableWidth);else{var k=U.styles.columnStyles[I.dataKey]||U.styles.columnStyles[I.index]||{},X=k.cellWidth||k.minCellWidth;X&&typeof X=="number"&&(I.minWidth=X,I.wrappedWidth=X)}T&&(T.colSpan>1&&!I.minWidth&&(I.minWidth=T.minWidth),T.colSpan>1&&!I.wrappedWidth&&(I.wrappedWidth=T.minWidth))}})}function g(x,U,P){for(var M=U,S=x.reduce(function(te,K){return te+K.wrappedWidth},0),_=0;_<x.length;_++){var N=x[_],O=N.wrappedWidth/S,I=M*O,T=N.width+I,k=P(N),X=T<k?k:T;U-=X-N.width,N.width=X}if(U=Math.round(U*1e10)/1e10,U){var de=x.filter(function(te){return U<0?te.width>P(te):!0});de.length&&(U=g(de,U,P))}return U}A.resizeColumns=g;function v(x){for(var U={},P=1,M=x.allRows(),S=0;S<M.length;S++)for(var _=M[S],N=0,O=x.columns;N<O.length;N++){var I=O[N],T=U[I.index];if(P>1)P--,delete _.cells[I.index];else if(T)T.cell.height+=_.height,P=T.cell.colSpan,delete _.cells[I.index],T.left--,T.left<=1&&delete U[I.index];else{var k=_.cells[I.index];if(!k)continue;if(k.height=_.height,k.rowSpan>1){var X=M.length-S,de=k.rowSpan>X?X:k.rowSpan;U[I.index]={cell:k,left:de,row:_}}}}}function b(x){for(var U=x.allRows(),P=0;P<U.length;P++)for(var M=U[P],S=null,_=0,N=0,O=0;O<x.columns.length;O++){var I=x.columns[O];if(N-=1,N>1&&x.columns[O+1])_+=I.width,delete M.cells[I.index];else if(S){var T=S;delete M.cells[I.index],S=null,T.width=I.width+_}else{var T=M.cells[I.index];if(!T)continue;if(N=T.colSpan,_=0,T.colSpan>1){S=T,_+=I.width;continue}T.width=I.width+_}}}function E(x,U){for(var P={count:0,height:0},M=0,S=x.allRows();M<S.length;M++){for(var _=S[M],N=0,O=x.columns;N<O.length;N++){var I=O[N],T=_.cells[I.index];if(T){U.applyStyles(T.styles,!0);var k=T.width-T.padding("horizontal");if(T.styles.overflow==="linebreak")T.text=U.splitTextToSize(T.text,k+1/U.scaleFactor(),{fontSize:T.styles.fontSize});else if(T.styles.overflow==="ellipsize")T.text=y(T.text,k,T.styles,U,"...");else if(T.styles.overflow==="hidden")T.text=y(T.text,k,T.styles,U,"");else if(typeof T.styles.overflow=="function"){var X=T.styles.overflow(T.text,k);typeof X=="string"?T.text=[X]:T.text=X}T.contentHeight=T.getContentHeight(U.scaleFactor(),U.getLineHeightFactor());var de=T.contentHeight/T.rowSpan;T.rowSpan>1&&P.count*P.height<de*T.rowSpan?P={height:de,count:T.rowSpan}:P&&P.count>0&&P.height>de&&(de=P.height),de>_.height&&(_.height=de)}}P.count--}}function y(x,U,P,M,S){return x.map(function(_){return w(_,U,P,M,S)})}A.ellipsize=y;function w(x,U,P,M,S){var _=1e4*M.scaleFactor();if(U=Math.ceil(U*_)/_,U>=(0,u.getStringWidth)(x,P,M))return x;for(;U<(0,u.getStringWidth)(x+S,P,M)&&!(x.length<=1);)x=x.substring(0,x.length-1);return x.trim()+S}},964:function(a){if(typeof n>"u"){var A=new Error("Cannot find module 'undefined'");throw A.code="MODULE_NOT_FOUND",A}a.exports=n}},i={};function s(a){var A=i[a];if(A!==void 0)return A.exports;var l=i[a]={exports:{}};return r[a].call(l.exports,l,l.exports,s),l.exports}var o={};return function(){var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var A=s(340),l=s(776),u=s(664),c=s(972),p=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return p.Table}});var g=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return g.CellHookData}});var v=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return v.Row}});function b(U){(0,A.default)(U)}a.applyPlugin=b;function E(U,P){var M=(0,l.parseInput)(U,P),S=(0,c.createTable)(U,M);(0,u.drawTable)(U,S)}function y(U,P){var M=(0,l.parseInput)(U,P);return(0,c.createTable)(U,M)}a.__createTable=y;function w(U,P){(0,u.drawTable)(U,P)}a.__drawTable=w;try{var x=s(964);x.jsPDF&&(x=x.jsPDF),b(x)}catch{}a.default=E}(),o}()})})($Y);var YY=Object.defineProperty,Sv=Object.getOwnPropertySymbols,RQ=Object.prototype.hasOwnProperty,DQ=Object.prototype.propertyIsEnumerable,D4=(t,e,n)=>e in t?YY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XY=(t,e)=>{for(var n in e||(e={}))RQ.call(e,n)&&D4(t,n,e[n]);if(Sv)for(var n of Sv(e))DQ.call(e,n)&&D4(t,n,e[n]);return t},ZY=(t,e)=>{var n={};for(var r in t)RQ.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Sv)for(var r of Sv(t))e.indexOf(r)<0&&DQ.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var rc;(t=>{const e=class{constructor(A,l,u,c){if(this.version=A,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],A<e.MIN_VERSION||A>e.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=A*4+17;let p=[];for(let v=0;v<this.size;v++)p.push(!1);for(let v=0;v<this.size;v++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),c==-1){let v=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const E=this.getPenaltyScore();E<v&&(c=b,v=E),this.applyMask(b)}}s(0<=c&&c<=7),this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}static encodeText(A,l){const u=t.QrSegment.makeSegments(A);return e.encodeSegments(u,l)}static encodeBinary(A,l){const u=t.QrSegment.makeBytes(A);return e.encodeSegments([u],l)}static encodeSegments(A,l,u=1,c=40,p=-1,g=!0){if(!(e.MIN_VERSION<=u&&u<=c&&c<=e.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let v,b;for(v=u;;v++){const x=e.getNumDataCodewords(v,l)*8,U=a.getTotalBits(A,v);if(U<=x){b=U;break}if(v>=c)throw new RangeError("Data too long")}for(const x of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])g&&b<=e.getNumDataCodewords(v,x)*8&&(l=x);let E=[];for(const x of A){r(x.mode.modeBits,4,E),r(x.numChars,x.mode.numCharCountBits(v),E);for(const U of x.getData())E.push(U)}s(E.length==b);const y=e.getNumDataCodewords(v,l)*8;s(E.length<=y),r(0,Math.min(4,y-E.length),E),r(0,(8-E.length%8)%8,E),s(E.length%8==0);for(let x=236;E.length<y;x^=253)r(x,8,E);let w=[];for(;w.length*8<E.length;)w.push(0);return E.forEach((x,U)=>w[U>>>3]|=x<<7-(U&7)),new e(v,l,w,p)}getModule(A,l){return 0<=A&&A<this.size&&0<=l&&l<this.size&&this.modules[l][A]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const A=this.getAlignmentPatternPositions(),l=A.length;for(let u=0;u<l;u++)for(let c=0;c<l;c++)u==0&&c==0||u==0&&c==l-1||u==l-1&&c==0||this.drawAlignmentPattern(A[u],A[c]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(A){const l=this.errorCorrectionLevel.formatBits<<3|A;let u=l;for(let p=0;p<10;p++)u=u<<1^(u>>>9)*1335;const c=(l<<10|u)^21522;s(c>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,i(c,p));this.setFunctionModule(8,7,i(c,6)),this.setFunctionModule(8,8,i(c,7)),this.setFunctionModule(7,8,i(c,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,i(c,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,i(c,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,i(c,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let A=this.version;for(let u=0;u<12;u++)A=A<<1^(A>>>11)*7973;const l=this.version<<12|A;s(l>>>18==0);for(let u=0;u<18;u++){const c=i(l,u),p=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(p,g,c),this.setFunctionModule(g,p,c)}}drawFinderPattern(A,l){for(let u=-4;u<=4;u++)for(let c=-4;c<=4;c++){const p=Math.max(Math.abs(c),Math.abs(u)),g=A+c,v=l+u;0<=g&&g<this.size&&0<=v&&v<this.size&&this.setFunctionModule(g,v,p!=2&&p!=4)}}drawAlignmentPattern(A,l){for(let u=-2;u<=2;u++)for(let c=-2;c<=2;c++)this.setFunctionModule(A+c,l+u,Math.max(Math.abs(c),Math.abs(u))!=1)}setFunctionModule(A,l,u){this.modules[l][A]=u,this.isFunction[l][A]=!0}addEccAndInterleave(A){const l=this.version,u=this.errorCorrectionLevel;if(A.length!=e.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");const c=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],p=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],g=Math.floor(e.getNumRawDataModules(l)/8),v=c-g%c,b=Math.floor(g/c);let E=[];const y=e.reedSolomonComputeDivisor(p);for(let x=0,U=0;x<c;x++){let P=A.slice(U,U+b-p+(x<v?0:1));U+=P.length;const M=e.reedSolomonComputeRemainder(P,y);x<v&&P.push(0),E.push(P.concat(M))}let w=[];for(let x=0;x<E[0].length;x++)E.forEach((U,P)=>{(x!=b-p||P>=v)&&w.push(U[x])});return s(w.length==g),w}drawCodewords(A){if(A.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let c=0;c<this.size;c++)for(let p=0;p<2;p++){const g=u-p,b=(u+1&2)==0?this.size-1-c:c;!this.isFunction[b][g]&&l<A.length*8&&(this.modules[b][g]=i(A[l>>>3],7-(l&7)),l++)}}s(l==A.length*8)}applyMask(A){if(A<0||A>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let u=0;u<this.size;u++){let c;switch(A){case 0:c=(u+l)%2==0;break;case 1:c=l%2==0;break;case 2:c=u%3==0;break;case 3:c=(u+l)%3==0;break;case 4:c=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:c=u*l%2+u*l%3==0;break;case 6:c=(u*l%2+u*l%3)%2==0;break;case 7:c=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&c&&(this.modules[l][u]=!this.modules[l][u])}}getPenaltyScore(){let A=0;for(let p=0;p<this.size;p++){let g=!1,v=0,b=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[p][E]==g?(v++,v==5?A+=e.PENALTY_N1:v>5&&A++):(this.finderPenaltyAddHistory(v,b),g||(A+=this.finderPenaltyCountPatterns(b)*e.PENALTY_N3),g=this.modules[p][E],v=1);A+=this.finderPenaltyTerminateAndCount(g,v,b)*e.PENALTY_N3}for(let p=0;p<this.size;p++){let g=!1,v=0,b=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[E][p]==g?(v++,v==5?A+=e.PENALTY_N1:v>5&&A++):(this.finderPenaltyAddHistory(v,b),g||(A+=this.finderPenaltyCountPatterns(b)*e.PENALTY_N3),g=this.modules[E][p],v=1);A+=this.finderPenaltyTerminateAndCount(g,v,b)*e.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let g=0;g<this.size-1;g++){const v=this.modules[p][g];v==this.modules[p][g+1]&&v==this.modules[p+1][g]&&v==this.modules[p+1][g+1]&&(A+=e.PENALTY_N2)}let l=0;for(const p of this.modules)l=p.reduce((g,v)=>g+(v?1:0),l);const u=this.size*this.size,c=Math.ceil(Math.abs(l*20-u*10)/u)-1;return s(0<=c&&c<=9),A+=c*e.PENALTY_N4,s(0<=A&&A<=2568888),A}getAlignmentPatternPositions(){if(this.version==1)return[];{const A=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(A*2-2))*2;let u=[6];for(let c=this.size-7;u.length<A;c-=l)u.splice(1,0,c);return u}}static getNumRawDataModules(A){if(A<e.MIN_VERSION||A>e.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*A+128)*A+64;if(A>=2){const u=Math.floor(A/7)+2;l-=(25*u-10)*u-55,A>=7&&(l-=36)}return s(208<=l&&l<=29648),l}static getNumDataCodewords(A,l){return Math.floor(e.getNumRawDataModules(A)/8)-e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][A]*e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][A]}static reedSolomonComputeDivisor(A){if(A<1||A>255)throw new RangeError("Degree out of range");let l=[];for(let c=0;c<A-1;c++)l.push(0);l.push(1);let u=1;for(let c=0;c<A;c++){for(let p=0;p<l.length;p++)l[p]=e.reedSolomonMultiply(l[p],u),p+1<l.length&&(l[p]^=l[p+1]);u=e.reedSolomonMultiply(u,2)}return l}static reedSolomonComputeRemainder(A,l){let u=l.map(c=>0);for(const c of A){const p=c^u.shift();u.push(0),l.forEach((g,v)=>u[v]^=e.reedSolomonMultiply(g,p))}return u}static reedSolomonMultiply(A,l){if(A>>>8||l>>>8)throw new RangeError("Byte out of range");let u=0;for(let c=7;c>=0;c--)u=u<<1^(u>>>7)*285,u^=(l>>>c&1)*A;return s(u>>>8==0),u}finderPenaltyCountPatterns(A){const l=A[1];s(l<=this.size*3);const u=l>0&&A[2]==l&&A[3]==l*3&&A[4]==l&&A[5]==l;return(u&&A[0]>=l*4&&A[6]>=l?1:0)+(u&&A[6]>=l*4&&A[0]>=l?1:0)}finderPenaltyTerminateAndCount(A,l,u){return A&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(A,l){l[0]==0&&(A+=this.size),l.pop(),l.unshift(A)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(A,l,u){if(l<0||l>31||A>>>l)throw new RangeError("Value out of range");for(let c=l-1;c>=0;c--)u.push(A>>>c&1)}function i(A,l){return(A>>>l&1)!=0}function s(A){if(!A)throw new Error("Assertion error")}const o=class{constructor(A,l,u){if(this.mode=A,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(A){let l=[];for(const u of A)r(u,8,l);return new o(o.Mode.BYTE,A.length,l)}static makeNumeric(A){if(!o.isNumeric(A))throw new RangeError("String contains non-numeric characters");let l=[];for(let u=0;u<A.length;){const c=Math.min(A.length-u,3);r(parseInt(A.substr(u,c),10),c*3+1,l),u+=c}return new o(o.Mode.NUMERIC,A.length,l)}static makeAlphanumeric(A){if(!o.isAlphanumeric(A))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],u;for(u=0;u+2<=A.length;u+=2){let c=o.ALPHANUMERIC_CHARSET.indexOf(A.charAt(u))*45;c+=o.ALPHANUMERIC_CHARSET.indexOf(A.charAt(u+1)),r(c,11,l)}return u<A.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(A.charAt(u)),6,l),new o(o.Mode.ALPHANUMERIC,A.length,l)}static makeSegments(A){return A==""?[]:o.isNumeric(A)?[o.makeNumeric(A)]:o.isAlphanumeric(A)?[o.makeAlphanumeric(A)]:[o.makeBytes(o.toUtf8ByteArray(A))]}static makeEci(A){let l=[];if(A<0)throw new RangeError("ECI assignment value out of range");if(A<128)r(A,8,l);else if(A<16384)r(2,2,l),r(A,14,l);else if(A<1e6)r(6,3,l),r(A,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)}static isNumeric(A){return o.NUMERIC_REGEX.test(A)}static isAlphanumeric(A){return o.ALPHANUMERIC_REGEX.test(A)}getData(){return this.bitData.slice()}static getTotalBits(A,l){let u=0;for(const c of A){const p=c.mode.numCharCountBits(l);if(c.numChars>=1<<p)return 1/0;u+=4+p+c.bitData.length}return u}static toUtf8ByteArray(A){A=encodeURI(A);let l=[];for(let u=0;u<A.length;u++)A.charAt(u)!="%"?l.push(A.charCodeAt(u)):(l.push(parseInt(A.substr(u+1,2),16)),u+=2);return l}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(rc||(rc={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(rc||(rc={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(rc||(rc={}));var Tf=rc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var eX={L:Tf.QrCode.Ecc.LOW,M:Tf.QrCode.Ecc.MEDIUM,Q:Tf.QrCode.Ecc.QUARTILE,H:Tf.QrCode.Ecc.HIGH},tX=128,nX="L",rX="#FFFFFF",iX="#000000",sX=!1,OQ=4,oX=.1;function aX(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+e} ${i+e}h${a-s}v1H${s+e}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+e},${i+e} h1v1H${a+e}z`):n.push(`M${s+e},${i+e} h${a+1-s}v1H${s+e}z`);return}o&&s===null&&(s=a)})}),n.join("")}function AX(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function lX(t,e,n,r){if(r==null)return null;const i=n?OQ:0,s=t.length+i*2,o=Math.floor(e*oX),a=s/e,A=(r.width||o)*a,l=(r.height||o)*a,u=r.x==null?t.length/2-A/2:r.x*a,c=r.y==null?t.length/2-l/2:r.y*a;let p=null;if(r.excavate){let g=Math.floor(u),v=Math.floor(c),b=Math.ceil(A+u-g),E=Math.ceil(l+c-v);p={x:g,y:v,w:b,h:E}}return{x:u,y:c,h:l,w:A,excavation:p}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function uX(t){const e=t,{value:n,size:r=tX,level:i=nX,bgColor:s=rX,fgColor:o=iX,includeMargin:a=sX,imageSettings:A}=e,l=ZY(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Tf.QrCode.encodeText(n,eX[i]).getModules();const c=a?OQ:0,p=u.length+c*2,g=lX(u,r,a,A);let v=null;A!=null&&g!=null&&(g.excavation!=null&&(u=AX(u,g.excavation)),v=wu.createElement("image",{xlinkHref:A.src,height:g.h,width:g.w,x:g.x+c,y:g.y+c,preserveAspectRatio:"none"}));const b=aX(u,c);return wu.createElement("svg",XY({height:r,width:r,viewBox:`0 0 ${p} ${p}`},l),wu.createElement("path",{fill:s,d:`M0,0 h${p}v${p}H0z`,shapeRendering:"crispEdges"}),wu.createElement("path",{fill:o,d:b,shapeRendering:"crispEdges"}),v)}const cX="AAEAAAAQAQAABgAARkZUTVzakQcAAAZcAAAAHE9TLzI0/s7/AAABSAAAAGBjbWFwDSsLjwAACOwAAAHQY3Z0IAAUBLwAAAsoAAAAOmZwZ20u+uVBAAAGkAAAB7BnYXNwAAAAEAAAAYAAAAAIZ2x5ZnscVFUAAA1MAAAAdGhlYWQGZuXMAAABDAAAADZoaGVhB70E5AAAAVgAAAAkaG10eCoAh4YAAAb4AAAAXGxvY2EBvQYUAAAMcAAAACJtYXhwARgAmgAAAWgAAAAgbmFtZdyb1YwAAQtUAAACbXBvc3T/ogebAAAEyAAAACBwcmVwglggrwAACrgAAAAaAAEAAAABAAAAAM3+a9pfDzz1AAsEAAAAAADb0PUnAAAAANvQ9Sf/ogebBG0GhQAAAAgAAgAAAAAAAAABAAAAAQAA//4ADwABAAAAAAACAAoAAAAGAAAAAAQAAAAEAAEAAAAAAAEAAQAEAAAAAQAIAAAAAQABAAAAAAAGAAwAAQABAAAAAgAMABQAAQABAAAAAwAMACYAAQABAAAABAAcADQAAQABAAAAAQAAMADgAAQABAAAAAQBCAD4AAQABAAAAAQCAAEQAAQABAAAAAQCcAEgAAQABAAAAAQDCAEoAAQABAAAAAQDYAFAAAQABAAAAAQEIAFoAAQABAAAAAQFYAHEAAQABAAAAAQGIAH0AAQABAAAAAQHYAIkAAQABAAAAAQCIAJsAAQABAAAAAQE4AKsAAQABAAAAAQHIAK8AAQABAAAAAQIYAOsAAQABAAAAAQJgAPMAAQABAAAAAQK4AQsAAQABAAAAAQMAARQAAQABAAAAAQMcASQAAQABAAAAAQNIAUYAAQABAAAAAQQIATEAAQABAAAAAQQgAUcAAQABAAAAAQQwAVcAAQABAAAAAQUIAWMAAQABAAAAAQUwAWsAAQABAAAAAQWIAXMAAQABAAAAAQXgAYMAAQABAAAAAQYIAZMAAQABAAAAAQYwAZsAAQABAAAAAQbIAacAAQABAAAAAQcIAasAAQABAAAAAQcwAbsAAQABAAAAAQeIAfMAAQABAAAAAQewAhMAAQABAAAAAgAIACUAAQABAAAAAgAQACsAAQABAAAAAgAYADMAAQABAAAAAgAgADsAAQABAAAAAgAoAEMAAQABAAAAAgAwAEsAAQABAAAAAgA4AFMAAQABAAAAAgBAAFsAAQABAAAAAgBIAF0AAQABAAAAAgBIAF8AAQABAAAAAgBIAWEAAQABAAAAAgBIAWEAAQABAAAAAgBIAWMAAQABAAAAAgBIAWMADgADAAEECQABACAAUAADAAEECQACACgAWAADAAEECQADACgAeAADAAEECQAEACQAvgADAAEECQABMAAAAAADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQACgAeAADAAEECQACgAYgAAADAAEECQADgAYgAAADAAEECQADgAUgAAADAAEECQADgAUgAAADAAEECQACAAUAAgADAAEECQABACgAHAADAAEECQACACgAWAADAAEECQADACgAeAADAAEECQAEACQAvgADAAEECQABMAAAAAQAuAFIAbwBiAG8AdABvACAAUgBlAGcAdWxhcgBSZWd1bGFyUm9ib3RvUm9ib3RvIFJlZ3VsYXJWZXJzaW9uIDIuMTM3O1JvYm90bzIuMTM3O01hcmNoIDEsIDIwMTlSb2JvdG8gUm9ib3RvIFJlZ3VsYXJDaHJpc3RpYW4gUm9iZXJ0c29uYVBDIyAyMDExIFJlZ3VsYXJSb2JvdG8gUm9ib3RvIFJlZ3VsYXIBAAAAAf//AAIAAQAAAAwAAAAWAAEAAgACAAIAAQAAAAAA",dX=()=>{const{subjects:t,teachers:e,classes:n,rooms:r,settings:i,bellSchedule:s,saveStaticData:o}=Rl(),{schedule:a,substitutions:A,saveScheduleData:l}=Cg(),u=le.useRef(null),c=le.useRef(null),[p,g]=le.useState(new Date().toISOString().split("T")[0]),[v,b]=le.useState(!1),[E,y]=le.useState(!1),[w,x]=le.useState(""),[U,P]=le.useState(""),M=le.useMemo(()=>({subjects:t,teachers:e,classes:n,rooms:r,settings:i,bellSchedule:s,schedule:a,substitutions:A}),[t,e,n,r,i,s,a,A]),S=K=>{var W;const $=(W=K.target.files)==null?void 0:W[0];if(!$)return;const R=new FileReader;R.onload=async re=>{try{const Q=JSON.parse(re.target.result);if(Q.teachers&&Q.schedule){if(window.confirm("    . ?")){const j={...Hr,...Q,rooms:Q.rooms||Hr.rooms,classes:Q.classes||[],schedule:Q.schedule||[],teachers:Q.teachers||[],subjects:Q.subjects||[],substitutions:Q.substitutions||[],settings:{...Hr.settings,...Q.settings}};await o(j),await l(j),alert("  !")}}else alert("  .")}catch{alert("  .")}},R.readAsText($)},_=()=>{let K=`
            <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">
            <head><meta charset="UTF-8"><style>
                table { border-collapse: collapse; width: 100%; font-family: Arial, sans-serif; }
                td, th { border: 1px solid #999; padding: 5px; vertical-align: top; }
                .header { background-color: #f3f4f6; font-weight: bold; text-align: center; }
                .class-cell { font-size: 14px; font-weight: bold; text-align: center; vertical-align: middle; }
                .subject { font-weight: bold; font-size: 11px; }
                .meta { font-size: 10px; color: #555; }
            </style></head><body><table>
        `;bi.forEach(re=>{K+=`<tr><td colspan="8" style="background-color:#4f46e5; color:white; font-size:16px; font-weight:bold; text-align:center;">${re}</td></tr>`,[ot.First,ot.Second].forEach(Q=>{const j=n.filter(z=>z.shift===Q);j.length!==0&&(K+=`<tr><td colspan="8" style="background-color:#e0e7ff; font-weight:bold;">${Q}</td></tr>`,K+='<tr><th class="header"></th>',Ea[Q].forEach(z=>K+=`<th class="header">${z} </th>`),K+="</tr>",j.forEach(z=>{K+=`<tr><td class="class-cell">${z.name}</td>`,Ea[Q].forEach(ee=>{const ne=a.filter(Ae=>Ae.classId===z.id&&Ae.day===re&&Ae.shift===Q&&Ae.period===ee);K+='<td style="height: 60px;">',ne.forEach(Ae=>{const ge=t.find(je=>je.id===Ae.subjectId),Be=e.find(je=>je.id===Ae.teacherId),Fe=r.find(je=>je.id===Ae.roomId),Te=Fe?Fe.name:Ae.roomId;K+=`<div style="background-color: ${(ge==null?void 0:ge.color)||"#fff"}; padding: 2px; margin-bottom: 2px; border: 1px solid #eee;">
                                <div class="subject">${(ge==null?void 0:ge.name)||""} ${Ae.direction||""}</div>
                                <div class="meta">${(Be==null?void 0:Be.name)||""} ${Te?`(. ${Te})`:""}</div>
                            </div>`}),K+="</td>"}),K+="</tr>"}))})}),K+="</table></body></html>";const $=new Blob([K],{type:"application/vnd.ms-excel"}),R=URL.createObjectURL($),W=document.createElement("a");W.href=R,W.download="_22.xls",document.body.appendChild(W),W.click(),document.body.removeChild(W)},N=()=>{let K=`
            <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">
            <head><meta charset="UTF-8"><style>
                table { border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px; margin-bottom: 20px; }
                td, th { border: 1px solid #000; padding: 2px; vertical-align: middle; text-align: center; }
                .header { font-weight: bold; background-color: #f3f4f6; }
                .subject-cell { font-weight: bold; vertical-align: middle; background-color: #fff; }
                .teacher-cell { text-align: left; padding-left: 5px; }
                sub { font-size: 9px; vertical-align: sub; }
            </style></head><body>
        `;[ot.First,ot.Second].forEach(re=>{const Q=Ea[re];K+="<table>",K+=`<tr>
                <th rowspan="3" class="header" style="border: 2px solid #000; width: 150px;"> </th>
                <th rowspan="3" class="header" style="border: 2px solid #000; width: 200px;"></th>
                <th colspan="${bi.length*Q.length}" class="header" style="border: 2px solid #000; font-size: 14px;"> </th>
            </tr>`,K+="<tr>",bi.forEach(j=>{K+=`<th colspan="${Q.length}" class="header" style="border: 2px solid #000;">${j}</th>`}),K+="</tr>",K+="<tr>",bi.forEach(()=>{Q.forEach(j=>K+='<th class="header" style="border-bottom: 2px solid #000;"></th>')}),K+="</tr>",K+=`<tr>
                <th class="header" style="border: 2px solid #000; background-color: #e0e7ff;">${re}</th>
                <th class="header" style="border: 2px solid #000;"></th>
            `,bi.forEach(()=>{Q.forEach(j=>K+=`<th class="header" style="width: 40px;">${j}</th>`)}),K+="</tr>",t.forEach(j=>{const z=e.filter(ne=>ne.subjectIds.includes(j.id));if(z.length===0)return;const ee=j.color||"#ffffff";z.forEach((ne,Ae)=>{K+="<tr>",Ae===0&&(K+=`<td rowspan="${z.length}" class="subject-cell" style="border: 2px solid #000; background-color: ${ee};">${j.name}</td>`),K+=`<td class="teacher-cell" style="border-right: 2px solid #000;">${ne.name}</td>`,bi.forEach(ge=>{Q.forEach(Be=>{const Fe=a.find(Te=>Te.teacherId===ne.id&&Te.subjectId===j.id&&Te.day===ge&&Te.period===Be&&Te.shift===re);if(Fe){const Te=n.find(dt=>dt.id===Fe.classId),je=r.find(dt=>dt.id===Fe.roomId),Le=je?je.name:Fe.roomId,Ve=Le?`<sub>${Le}</sub>`:"",Ee=Fe.direction?` <span style="font-size:9px">(${Fe.direction})</span>`:"",oe=j.color||"#ffffff";K+=`<td style="border: 1px solid #000; font-weight: bold; background-color: ${oe};">${Te?Te.name:""}${Ee}${Ve}</td>`}else K+='<td style="border: 1px solid #000;"></td>'})}),K+="</tr>"}),K+=`<tr><td colspan="${2+bi.length*Q.length}" style="height: 2px; background-color: #000;"></td></tr>`}),K+="</table><br/><br/>"}),K+="</body></html>";const $=new Blob([K],{type:"application/vnd.ms-excel"}),R=URL.createObjectURL($),W=document.createElement("a");W.href=R,W.download="_.xls",document.body.appendChild(W),W.click(),document.body.removeChild(W)},O=()=>{let K=`							
`;bi.forEach($=>{[ot.First,ot.Second].forEach(R=>{n.filter(re=>re.shift===R).forEach(re=>{Ea[R].forEach(Q=>{a.filter(z=>z.classId===re.id&&z.day===$&&z.shift===R&&z.period===Q).forEach(z=>{const ee=t.find(Be=>Be.id===z.subjectId),ne=e.find(Be=>Be.id===z.teacherId),Ae=r.find(Be=>Be.id===z.roomId),ge=Ae?Ae.name:z.roomId||"";K+=`${$}	${R}	${re.name}	${Q}	${(ee==null?void 0:ee.name)||""}	${(ne==null?void 0:ne.name)||""}	${ge}	${z.direction||""}
`})})})})}),navigator.clipboard.writeText(K).then(()=>{alert(" !  Google Sheets   Ctrl+V (Cmd+V).")})},I=async()=>{if(c.current){b(!0);try{const K=await pQ(c.current,{scale:2,backgroundColor:"#ffffff",logging:!1}),$=document.createElement("a");$.download=`_${p}.png`,$.href=K.toDataURL("image/png"),$.click()}catch(K){console.error(K),alert("   ")}b(!1)}},T=le.useMemo(()=>A.filter(K=>K.date===p),[A,p]),k=K=>{const $=T.filter(R=>{const W=a.find(re=>re.id===R.scheduleItemId);return W&&W.shift===K}).filter(R=>R.replacementTeacherId!=="conducted");return $.length===0?null:f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"text-xl font-bold bg-slate-100 text-slate-700 p-2 mb-2 uppercase tracking-wide border-l-4 border-indigo-500",children:K}),f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-slate-200",children:[f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-16 text-center",children:""}),f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-24",children:""}),f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider",children:""}),f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-1/4",children:""}),f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-1/4",children:""}),f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-20 text-right",children:"."})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100",children:$.map(R=>{var Le;const W=a.find(Ve=>Ve.id===R.scheduleItemId);if(!W)return null;const re=n.find(Ve=>Ve.id===W.classId),Q=t.find(Ve=>Ve.id===W.subjectId),j=e.find(Ve=>Ve.id===R.originalTeacherId),z=R.replacementRoomId,ee=W.roomId?r.find(Ve=>Ve.id===W.roomId):null,ne=ee?ee.name:W.roomId||"",Ae=z?r.find(Ve=>Ve.id===z):null,ge=Ae?Ae.name:z||"",Be=R.replacementTeacherId==="cancelled",Fe=Be?{name:" "}:e.find(Ve=>Ve.id===R.replacementTeacherId),Te=(Le=j==null?void 0:j.absenceReasons)==null?void 0:Le[p],je=R.replacementTeacherId===R.originalTeacherId&&z;return f.jsxs("tr",{children:[f.jsx("td",{className:"py-3 px-2 text-center font-bold text-slate-800 text-lg",children:W.period}),f.jsx("td",{className:"py-3 px-2 font-bold text-slate-700",children:re==null?void 0:re.name}),f.jsxs("td",{className:"py-3 px-2",children:[f.jsx("div",{className:"font-semibold text-slate-800",children:Q==null?void 0:Q.name}),W.direction&&f.jsx("div",{className:"text-[10px] text-slate-500 bg-slate-100 inline-block px-1 rounded mt-0.5",children:W.direction})]}),f.jsx("td",{className:"py-3 px-2",children:!je&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-red-400 line-through text-sm font-medium decoration-red-200",children:j==null?void 0:j.name}),Te===" "&&f.jsx("span",{className:"text-[10px] text-slate-500 block font-bold uppercase mt-0.5",children:"( )"})]})}),f.jsx("td",{className:`py-3 px-2 font-bold text-sm ${Be?"text-red-600 uppercase font-black":"text-emerald-700"}`,children:je?f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-slate-800",children:j==null?void 0:j.name}),f.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-wide mt-0.5",children:" "})]}):Fe==null?void 0:Fe.name}),f.jsx("td",{className:`py-3 px-2 text-right font-mono ${z?"font-black text-indigo-600":"text-slate-500"}`,children:z&&z!==W.roomId?f.jsxs("span",{children:[f.jsx("span",{className:"text-slate-400 line-through mr-1 decoration-slate-300 decoration-2 opacity-70 text-xs",children:ne}),f.jsxs("span",{className:"text-indigo-600 font-black text-sm",children:[" ",ge]})]}):ne})]},R.id)})})]})]})},X=()=>{const K=new St;K.addFileToVFS("Roboto-Regular.ttf",cX),K.addFont("Roboto-Regular.ttf","Roboto","normal"),K.setFont("Roboto","normal"),K.setLanguage("ru");let $=20;K.setFontSize(22),K.text(" ",105,$,{align:"center"}),$+=10,K.setFontSize(12),K.text("   ",105,$,{align:"center"}),$+=15,K.text(`: ${new Date(p).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}`,190,$,{align:"right"}),$+=15,T.length===0?(K.setFontSize(14),K.text("    ",105,K.internal.pageSize.height/2,{align:"center"})):[ot.First,ot.Second].forEach(R=>{const W=T.filter(re=>{const Q=a.find(j=>j.id===re.scheduleItemId);return Q&&Q.shift===R}).filter(re=>re.replacementTeacherId!=="conducted");if(W.length>0){K.setFontSize(16),K.setTextColor(50,50,50),K.text(`${R}`,14,$),$+=5;const re=["","","","","","."],Q=[];W.forEach(j=>{var ae;const z=a.find(fe=>fe.id===j.scheduleItemId);if(!z)return;const ee=n.find(fe=>fe.id===z.classId),ne=t.find(fe=>fe.id===z.subjectId),Ae=e.find(fe=>fe.id===j.originalTeacherId),ge=j.replacementRoomId,Be=z.roomId?r.find(fe=>fe.id===z.roomId):null,Fe=Be?Be.name:z.roomId||"",Te=ge?r.find(fe=>fe.id===ge):null,je=Te?Te.name:ge||"",Ve=j.replacementTeacherId==="cancelled"?{name:" "}:e.find(fe=>fe.id===j.replacementTeacherId),Ee=(ae=Ae==null?void 0:Ae.absenceReasons)==null?void 0:ae[p],oe=j.replacementTeacherId===j.originalTeacherId&&ge,dt=oe?"":`${(Ae==null?void 0:Ae.name)||""} ${Ee===" "?"( )":""}`,it=oe?`${(Ae==null?void 0:Ae.name)||""}
( )`:(Ve==null?void 0:Ve.name)||"",Ke=ge&&ge!==z.roomId?`${Fe}  ${je}`:Fe;Q.push([z.period.toString(),(ee==null?void 0:ee.name)||"",`${(ne==null?void 0:ne.name)||""} ${z.direction?`(${z.direction})`:""}`,dt,it,Ke])}),K.autoTable({startY:$+5,head:[re],body:Q,theme:"grid",styles:{font:"Roboto",fontStyle:"normal",fontSize:10,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:[240,240,240],textColor:[80,80,80],fontStyle:"bold",halign:"center"},bodyStyles:{textColor:[50,50,50],valign:"middle"},columnStyles:{0:{halign:"center",cellWidth:15},1:{cellWidth:25},2:{cellWidth:45},3:{cellWidth:40},4:{cellWidth:40},5:{halign:"right",cellWidth:20}},didDrawPage:function(j){$=j.cursor.y}}),$=K.autoTable.previous.finalY+10}}),K.setFontSize(10),K.setTextColor(150,150,150),K.text(" ",14,K.internal.pageSize.height-20),K.text(" ",190,K.internal.pageSize.height-20,{align:"right"}),K.line(150,K.internal.pageSize.height-25,190,K.internal.pageSize.height-25),K.save(`_${p}.pdf`)},de=async()=>{const K=Math.random().toString(36).substr(2,9);await Uu.setPublicData(K,M),await o({settings:{...i,publicScheduleId:K}});const $=`${window.location.origin}${window.location.pathname}#/public?id=${K}`;x($),P(K),y(!0)},te=async()=>{!i.publicScheduleId||!window.confirm(" ,     ?      .")||(await Uu.deletePublicData(i.publicScheduleId),await o({settings:{...i,publicScheduleId:null}}),alert("  ."),x(""),P(""))};return f.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 pb-20",children:[f.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(Ge,{name:"Download",className:"text-indigo-600 dark:text-indigo-400"}),"  "]}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("button",{onClick:()=>Uu.exportJson(M),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none flex items-center gap-2",children:[f.jsx(Ge,{name:"Download",size:20}),"  JSON"]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"file",ref:u,onChange:S,accept:".json",className:"hidden"}),f.jsxs("button",{onClick:()=>{var K;return(K=u.current)==null?void 0:K.click()},className:"px-6 py-3 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-600 transition flex items-center gap-2",children:[f.jsx(Ge,{name:"Upload",size:20}),"  JSON"]})]})]})]}),f.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6 mb-6",children:[f.jsx("div",{children:f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Ge,{name:"Image",className:"text-indigo-600 dark:text-indigo-400"}),"   (PNG)"]})}),f.jsxs("div",{className:"flex gap-4 items-center",children:[f.jsx("input",{type:"date",value:p,onChange:K=>g(K.target.value),className:"border border-slate-200 dark:border-slate-600 p-2 rounded-lg font-bold outline-none focus:border-indigo-500 bg-transparent dark:text-white"}),f.jsx("button",{onClick:I,disabled:v,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none flex items-center gap-2 disabled:opacity-50",children:v?f.jsxs(f.Fragment,{children:[f.jsx(Ge,{name:"Loader",size:20,className:"animate-spin"})," ..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Ge,{name:"Download",size:20}),"  PNG"]})})]})]}),f.jsx("div",{className:"overflow-auto bg-slate-100 dark:bg-slate-900 p-8 rounded-xl border border-slate-200 dark:border-slate-700 flex justify-center",children:f.jsxs("div",{ref:c,className:"bg-white p-8 min-w-[800px] max-w-[1000px] shadow-xl text-slate-900",children:[f.jsxs("div",{className:"flex justify-between items-end border-b-2 border-slate-800 pb-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-black uppercase tracking-tight mb-1 text-slate-800",children:" "}),f.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"   "})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider mb-1",children:""}),f.jsx("div",{className:"text-xl font-bold text-slate-800",children:new Date(p).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})})]})]}),T.length===0?f.jsx("div",{className:"py-12 text-center border-2 border-dashed border-slate-200 rounded-xl bg-slate-50",children:f.jsx("p",{className:"text-slate-400 font-medium italic",children:"    "})}):f.jsxs(f.Fragment,{children:[k(ot.First),k(ot.Second)]}),f.jsxs("div",{className:"mt-8 pt-4 border-t border-slate-100 flex justify-between items-end text-[10px] text-slate-400",children:[f.jsx("div",{children:" "}),f.jsxs("div",{className:"flex flex-col items-end gap-2",children:[f.jsx("div",{className:"h-px w-32 bg-slate-300"}),f.jsx("div",{children:" "})]})]})]})})]}),f.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(Ge,{name:"FileSpreadsheet",className:"text-emerald-600 dark:text-emerald-400"}),"  "]}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("button",{onClick:_,className:"px-6 py-3 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900 rounded-xl font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/50 transition flex items-center gap-2",children:[f.jsx(Ge,{name:"FileSpreadsheet",size:20}),"  Excel (XLS)"]}),f.jsxs("button",{onClick:N,className:"px-6 py-3 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border border-blue-100 dark:border-blue-900 rounded-xl font-bold hover:bg-blue-100 dark:hover:bg-blue-900/50 transition flex items-center gap-2",children:[f.jsx(Ge,{name:"Table",size:20}),"   (XLS)"]}),f.jsxs("button",{onClick:O,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition shadow-lg shadow-green-200 dark:shadow-none flex items-center gap-2",children:[f.jsx(Ge,{name:"Clipboard",size:20}),"   Google Sheets"]}),f.jsxs("button",{onClick:X,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition shadow-lg shadow-red-200 dark:shadow-none flex items-center gap-2",children:[f.jsx(Ge,{name:"Download",size:20}),"  PDF ()"]})]})]}),f.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(Ge,{name:"QrCode",className:"text-purple-600 dark:text-purple-400"}),"  "]}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"      .      QR-."}),i.publicScheduleId?f.jsx("div",{className:"flex flex-col md:flex-row items-center gap-4",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mb-2",children:[" ! ID: ",f.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded",children:i.publicScheduleId})]}),f.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition flex items-center gap-2",children:[f.jsx(Ge,{name:"Share2",size:16}),"  QR-  "]}),f.jsxs("button",{onClick:te,className:"ml-3 px-4 py-2 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-900 rounded-xl font-bold hover:bg-red-100 dark:hover:bg-red-900/50 transition flex items-center gap-2",children:[f.jsx(Ge,{name:"Trash2",size:16}),"  "]})]})}):f.jsxs("button",{onClick:de,disabled:v,className:"px-6 py-3 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition shadow-lg shadow-purple-200 dark:shadow-none flex items-center gap-2 disabled:opacity-50",children:[f.jsx(Ge,{name:"Share2",size:20}),"  "]})]}),f.jsx(ol,{isOpen:E,onClose:()=>y(!1),title:" ",children:f.jsxs("div",{className:"flex flex-col items-center justify-center p-4 text-center space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:" QR-    ,    ."}),w&&f.jsxs(f.Fragment,{children:[f.jsx(uX,{value:w,size:256,level:"H",includeMargin:!0,className:"p-2 bg-white border border-slate-200 rounded-lg shadow-md"}),f.jsx("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm font-medium break-all",children:w}),f.jsxs("button",{onClick:()=>navigator.clipboard.writeText(w),className:"px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 rounded-xl text-sm font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition flex items-center gap-2",children:[f.jsx(Ge,{name:"Copy",size:16}),"  "]})]})]})})]})},hX=()=>{var g;const{subjects:t,teachers:e,classes:n}=Rl(),{schedule:r,substitutions:i}=Cg(),[s,o]=le.useState("load"),[a,A]=le.useState(((g=n[0])==null?void 0:g.id)||""),l=le.useMemo(()=>e.map(b=>{const E=r.filter(S=>S.teacherId===b.id),y=E.length,w=y*4,x=i.filter(S=>S.replacementTeacherId===b.id).length,U=i.filter(S=>S.originalTeacherId===b.id).length,P=w+x-U,M={};return E.forEach(S=>{const _=t.find(N=>N.id===S.subjectId);_&&(M[_.name]=(M[_.name]||0)+1)}),{id:b.id,name:b.name,weeklyHours:y,subsTaken:x,subsMissed:U,actualHours:P,subjectBreakdown:M}}).sort((b,E)=>E.actualHours-b.actualHours),[e,r,i,t]),u=le.useMemo(()=>a?bi.map(v=>{const E=r.filter(y=>y.classId===a&&y.day===v).reduce((y,w)=>{const x=t.find(U=>U.id===w.subjectId);return y+((x==null?void 0:x.difficulty)||5)},0);return{label:v,value:E}}):[],[r,t,a]),c=le.useMemo(()=>{const v=e.map(E=>({name:E.name,count:i.filter(y=>y.replacementTeacherId===E.id).length})).sort((E,y)=>y.count-E.count).slice(0,5),b=e.map(E=>({name:E.name,count:E.unavailableDates.length})).sort((E,y)=>y.count-E.count).slice(0,5);return{heroes:v,absentees:b}},[e,i]),p=()=>{let v="";s==="load"?v=`Teacher,Planned Weekly,Subs Taken,Absences (Lessons),Est. Monthly Actual,Details
`+l.map(y=>`"${y.name}",${y.weeklyHours},${y.subsTaken},${y.subsMissed},${y.actualHours},"${Object.entries(y.subjectBreakdown).map(([w,x])=>w+": "+x).join(", ")}"`).join(`
`):s==="sanpin"&&(v=`Day,Score
`+u.map(y=>`${y.label},${y.value}`).join(`
`));const b=new Blob([`\uFEFF${v}`],{type:"text/csv;charset=utf-8;"}),E=document.createElement("a");E.href=URL.createObjectURL(b),E.download=`report_${s}.csv`,document.body.appendChild(E),E.click(),document.body.removeChild(E)};return f.jsxs("div",{className:"max-w-6xl mx-auto w-full pb-20",children:[f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mb-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[f.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[f.jsx(Ge,{name:"BarChart2",className:"text-indigo-600 dark:text-indigo-400"})," "]}),f.jsxs("button",{onClick:p,className:"px-4 py-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-sm font-bold flex items-center gap-2",children:[f.jsx(Ge,{name:"FileSpreadsheet",size:16}),"  CSV"]})]}),f.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl w-fit overflow-x-auto max-w-full",children:[f.jsx("button",{onClick:()=>o("load"),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all ${s==="load"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:" ()"}),f.jsx("button",{onClick:()=>o("sanpin"),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all ${s==="sanpin"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:" ()"}),f.jsx("button",{onClick:()=>o("rating"),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all ${s==="rating"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:" "})]})]}),s==="load"&&f.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase",children:""}),f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right",children:" ()"}),f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right text-emerald-600",children:"+ "}),f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right text-red-500",children:"- "}),f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right",children:" ()"}),f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase w-1/3",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l.map(v=>f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[f.jsx("td",{className:"p-4 font-bold text-slate-800 dark:text-slate-200",children:v.name}),f.jsx("td",{className:"p-4 text-right font-mono",children:v.weeklyHours}),f.jsxs("td",{className:"p-4 text-right font-mono text-emerald-600 font-bold",children:["+",v.subsTaken]}),f.jsxs("td",{className:"p-4 text-right font-mono text-red-500 font-bold",children:["-",v.subsMissed]}),f.jsx("td",{className:"p-4 text-right font-mono font-black text-lg",children:v.actualHours}),f.jsx("td",{className:"p-4 text-xs text-slate-500 dark:text-slate-400",children:f.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(v.subjectBreakdown).map(([b,E])=>f.jsxs("span",{className:"bg-slate-100 dark:bg-slate-600 px-1.5 py-0.5 rounded",children:[b,": ",E]},b))})})]},v.id))})]})}),s==="sanpin"&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "}),f.jsx("select",{value:a,onChange:v=>A(v.target.value),className:"border dark:border-slate-600 p-2 rounded-lg bg-transparent dark:text-white outline-none",children:n.map(v=>f.jsx("option",{value:v.id,children:v.name},v.id))})]}),f.jsx(ty,{items:u,max:60,barClassName:"bg-indigo-500"}),f.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:"*        (=11,  ..).   : /."})]}),f.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-2xl border border-indigo-100 dark:border-indigo-900",children:[f.jsx("h3",{className:"font-bold text-indigo-900 dark:text-indigo-300 mb-4",children:" "}),f.jsxs("ul",{className:"space-y-3 text-sm text-indigo-800 dark:text-indigo-400",children:[f.jsxs("li",{className:"flex gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 mt-1.5 bg-indigo-500 rounded-full"}),"  "]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 mt-1.5 bg-indigo-500 rounded-full"}),"    "]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 mt-1.5 bg-indigo-500 rounded-full"}),"   /"]})]})]})]}),s==="rating"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"font-bold text-lg text-emerald-600 mb-4 flex items-center gap-2",children:[f.jsx(Ge,{name:"TrendingUp",size:20}),"   ( 5)"]}),f.jsx(ty,{items:c.heroes.map(v=>({label:v.name,value:v.count})),max:Math.max(...c.heroes.map(v=>v.count),1),barClassName:"bg-emerald-500"})]}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"font-bold text-lg text-red-500 mb-4 flex items-center gap-2",children:[f.jsx(Ge,{name:"Activity",size:20}),"  ( 5)"]}),f.jsx(ty,{items:c.absentees.map(v=>({label:v.name,value:v.count})),max:Math.max(...c.absentees.map(v=>v.count),1),barClassName:"bg-red-500"})]})]})]})},fX=()=>{const{setGuestRole:t,role:e,loading:n}=Fw(),r=dh(),[i,s]=le.useState("select"),[o,a]=le.useState(""),[A,l]=le.useState(""),[u,c]=le.useState(""),[p,g]=le.useState(!1);le.useEffect(()=>{!n&&e&&(e==="admin"||e==="teacher")&&r("/dashboard")},[e,n,r]);const v=async E=>{E.preventDefault(),c(""),g(!0);try{let y=o;i==="teacher"&&(y="teacher@gymnasium22.com"),await y0.signInWithEmailAndPassword(y,A)}catch(y){console.error("Firebase Auth Error:",y);const w=y.code;let x="   .";switch(w){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":x="   .     .";break;case"auth/invalid-email":x="  email .";break;case"auth/too-many-requests":x="   .  .";break;default:x=" .       Firebase."}c(x)}finally{g(!1)}},b=()=>{t(),r("/schedule")};return f.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-xl max-w-md w-full p-8 transition-all",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex p-4 bg-indigo-100 dark:bg-indigo-900/30 rounded-2xl text-indigo-600 dark:text-indigo-400 mb-4",children:f.jsx(Ge,{name:"GraduationCap",size:48})}),f.jsx("h1",{className:"text-2xl font-black text-slate-800 dark:text-white",children:"Gymnasium Manager"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"  "})]}),i==="select"&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:b,className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-emerald-500 dark:hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 group transition-all text-left flex items-center gap-4",children:[f.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/50 p-3 rounded-lg text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform",children:f.jsx(Ge,{name:"Users",size:24})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-emerald-700 dark:group-hover:text-emerald-400",children:" / "}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  "})]})]}),f.jsxs("button",{onClick:()=>s("teacher"),className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 group transition-all text-left flex items-center gap-4",children:[f.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-3 rounded-lg text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform",children:f.jsx(Ge,{name:"BookOpen",size:24})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-700 dark:group-hover:text-indigo-400",children:""}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"   "})]})]}),f.jsxs("button",{onClick:()=>s("admin"),className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-purple-500 dark:hover:border-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/20 group transition-all text-left flex items-center gap-4",children:[f.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-3 rounded-lg text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform",children:f.jsx(Ge,{name:"Settings",size:24})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-purple-700 dark:group-hover:text-purple-400",children:""}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  (/)"})]})]})]}),i!=="select"&&f.jsxs("form",{onSubmit:v,className:"space-y-4 animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("button",{type:"button",onClick:()=>{s("select"),c("")},className:"p-2 -ml-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx(Ge,{name:"ArrowRight",className:"rotate-180",size:20})}),f.jsx("h2",{className:"font-bold text-lg dark:text-white",children:i==="teacher"?"  ":"  "})]}),i==="admin"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 dark:text-slate-400 mb-1",children:"Email"}),f.jsx("input",{type:"email",value:o,onChange:E=>a(E.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 ring-indigo-500",autoFocus:!0,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 dark:text-slate-400 mb-1",children:""}),f.jsx("input",{type:"password",value:A,onChange:E=>l(E.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 ring-indigo-500",required:!0})]}),u&&f.jsx("div",{className:"text-red-500 text-sm font-bold text-center bg-red-50 dark:bg-red-900/20 p-2 rounded-lg",children:u}),f.jsxs("button",{type:"submit",disabled:p||n,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none flex items-center justify-center gap-2 disabled:opacity-50",children:[(p||n)&&f.jsx(Ge,{name:"Loader",className:"animate-spin",size:20}),""]})]})]})})},pX=()=>{const[t,e]=le.useState(!1),[n,r]=le.useState(localStorage.getItem("theme")||"light"),{isLoading:i,isReadOnly:s}=a3(),{role:o,logout:a}=Fw(),A=dh();le.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",n)},[n]);const l=async()=>{await a(),A("/login")};if(i)return f.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 dark:bg-dark-950",children:f.jsx(Ge,{name:"Loader",className:"animate-spin text-indigo-600",size:48})});const c=[{to:"/dashboard",label:" ",icon:"Home",roles:["admin","teacher"]},{to:"/schedule",label:"",icon:"Calendar",roles:["admin","teacher","guest"]},{to:"/substitutions",label:"",icon:"Repeat",roles:["admin"]},{to:"/directory",label:"",icon:"BookOpen",roles:["admin"]},{to:"/reports",label:"",icon:"BarChart2",roles:["admin"]},{to:"/export",label:"",icon:"Download",roles:["admin"]},{to:"/admin",label:"",icon:"Settings",roles:["admin"]}].filter(p=>p.roles.includes(o||"guest"));return f.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-dark-950 overflow-hidden transition-colors duration-300",children:[t&&f.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>e(!1)}),f.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-white dark:bg-dark-800 border-r border-slate-200 dark:border-slate-700 transform transition-all duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"} no-print`,children:f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-xl text-white",children:f.jsx(Ge,{name:"GraduationCap",size:24})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-lg font-black text-slate-800 dark:text-white",children:" 22"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:" V1.0"})]})]}),f.jsx("nav",{className:"flex-1 p-4 space-y-1",children:c.map(p=>f.jsxs(r6,{to:p.to,onClick:()=>e(!1),className:({isActive:g})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all ${g?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[f.jsx(Ge,{name:p.icon,size:20}),p.label]},p.to))}),f.jsx(cz,{}),f.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 flex flex-col gap-2",children:[f.jsx("button",{onClick:()=>r(n==="light"?"dark":"light"),className:"flex items-center gap-2 text-xs font-bold text-slate-500 dark:text-slate-400 px-2",children:n==="light"?f.jsxs(f.Fragment,{children:[f.jsx(Ge,{name:"Moon",size:16}),"  "]}):f.jsxs(f.Fragment,{children:[f.jsx(Ge,{name:"Sun",size:16}),"  "]})}),f.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-xs font-bold text-red-500 px-2 mt-2 hover:bg-red-50 dark:hover:bg-red-900/20 py-2 rounded-lg transition-colors",children:[f.jsx(Ge,{name:"UserX",size:16})," "]})]})]})}),f.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-slate-50/50 dark:bg-dark-950",children:[f.jsxs("header",{className:"lg:hidden p-4 flex items-center gap-3 bg-white dark:bg-dark-800 border-b border-slate-200 dark:border-slate-700 no-print",children:[f.jsx("button",{onClick:()=>e(!0),children:f.jsx(Ge,{name:"Menu",size:24})}),f.jsx("span",{className:"font-bold",children:""})]}),f.jsxs("div",{className:"flex-1 overflow-auto p-4 lg:p-8 relative",children:[s&&f.jsxs("div",{className:"absolute top-4 right-8 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 z-10 pointer-events-none no-print",children:[f.jsx(Ge,{name:"Eye",size:12}),"  "]}),f.jsx(HD,{})]})]})]})},ou=({children:t,allowedRoles:e})=>{const{role:n,loading:r}=Fw();return r?f.jsx("div",{className:"h-screen flex items-center justify-center",children:f.jsx(Ge,{name:"Loader",className:"animate-spin text-indigo-600",size:48})}):n?e.includes(n)?t:f.jsx(E2,{to:"/schedule",replace:!0}):f.jsx(E2,{to:"/login",replace:!0})},gX=()=>{const[t,e]=le.useState(null),[n,r]=le.useState(!0),[i]=o6(),s=i.get("id");return le.useEffect(()=>{s?(r(!0),Uu.getPublicData(s).then(o=>{const a={...Hr,...o,settings:{...Hr.settings,...o==null?void 0:o.settings}};e(a),r(!1)}).catch(o=>{console.error(o),e(null),r(!1)})):(r(!1),e(null))},[s]),n?f.jsx("div",{className:"h-screen flex items-center justify-center",children:f.jsx(Ge,{name:"Loader",className:"animate-spin text-indigo-600",size:48})}):t?f.jsx(n3,{initialData:t,children:f.jsx(s3,{children:f.jsx(o3,{children:f.jsx("div",{className:"min-h-screen bg-slate-50 p-4",children:f.jsx(c3,{readOnly:!0})})})})}):f.jsx("div",{children:"  "})};function mX(){return f.jsx(Az,{children:f.jsx(n3,{children:f.jsx(s3,{children:f.jsx(o3,{children:f.jsx(ZD,{children:f.jsxs(KD,{children:[f.jsx(_s,{path:"/login",element:f.jsx(fX,{})}),f.jsxs(_s,{path:"/",element:f.jsx(pX,{}),children:[f.jsx(_s,{index:!0,element:f.jsx(E2,{to:"/login",replace:!0})}),f.jsx(_s,{path:"dashboard",element:f.jsx(ou,{allowedRoles:["admin","teacher"],children:f.jsx(dz,{})})}),f.jsx(_s,{path:"schedule",element:f.jsxs(ou,{allowedRoles:["admin","teacher","guest"],children:[f.jsx(c3,{readOnly:!1})," "]})}),f.jsx(_s,{path:"substitutions",element:f.jsx(ou,{allowedRoles:["admin"],children:f.jsx(Bz,{})})}),f.jsx(_s,{path:"directory",element:f.jsx(ou,{allowedRoles:["admin"],children:f.jsx(yz,{})})}),f.jsx(_s,{path:"admin",element:f.jsx(ou,{allowedRoles:["admin"],children:f.jsx(bz,{})})}),f.jsx(_s,{path:"reports",element:f.jsx(ou,{allowedRoles:["admin"],children:f.jsx(hX,{})})}),f.jsx(_s,{path:"export",element:f.jsx(ou,{allowedRoles:["admin"],children:f.jsx(dX,{})})})]}),f.jsx(_s,{path:"/public",element:f.jsx(gX,{})})]})})})})})})}Ny.createRoot(document.getElementById("root")).render(f.jsx(wu.StrictMode,{children:f.jsx(mX,{})}));export{ln as _,A1 as c,O4 as g};
