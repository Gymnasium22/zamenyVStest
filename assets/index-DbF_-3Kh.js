function aQ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const A of s.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lQ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var W_={exports:{}},vm={},G_={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf=Symbol.for("react.element"),cQ=Symbol.for("react.portal"),uQ=Symbol.for("react.fragment"),dQ=Symbol.for("react.strict_mode"),hQ=Symbol.for("react.profiler"),fQ=Symbol.for("react.provider"),pQ=Symbol.for("react.context"),gQ=Symbol.for("react.forward_ref"),mQ=Symbol.for("react.suspense"),vQ=Symbol.for("react.memo"),wQ=Symbol.for("react.lazy"),Ib=Symbol.iterator;function yQ(t){return t===null||typeof t!="object"?null:(t=Ib&&t[Ib]||t["@@iterator"],typeof t=="function"?t:null)}var q_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$_=Object.assign,J_={};function ld(t,e,r){this.props=t,this.context=e,this.refs=J_,this.updater=r||q_}ld.prototype.isReactComponent={};ld.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ld.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function X_(){}X_.prototype=ld.prototype;function F2(t,e,r){this.props=t,this.context=e,this.refs=J_,this.updater=r||q_}var T2=F2.prototype=new X_;T2.constructor=F2;$_(T2,ld.prototype);T2.isPureReactComponent=!0;var Sb=Array.isArray,Y_=Object.prototype.hasOwnProperty,k2={current:null},Z_={key:!0,ref:!0,__self:!0,__source:!0};function eI(t,e,r){var n,i={},s=null,A=null;if(e!=null)for(n in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(s=""+e.key),e)Y_.call(e,n)&&!Z_.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Mf,type:t,key:s,ref:A,props:i,_owner:k2.current}}function BQ(t,e){return{$$typeof:Mf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function U2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mf}function CQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Fb=/\/+/g;function zv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CQ(""+t.key):e.toString(36)}function Ng(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(s){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case Mf:case cQ:A=!0}}if(A)return A=t,i=i(A),t=n===""?"."+zv(A,0):n,Sb(i)?(r="",t!=null&&(r=t.replace(Fb,"$&/")+"/"),Ng(i,e,r,"",function(l){return l})):i!=null&&(U2(i)&&(i=BQ(i,r+(!i.key||A&&A.key===i.key?"":(""+i.key).replace(Fb,"$&/")+"/")+t)),e.push(i)),1;if(A=0,n=n===""?".":n+":",Sb(t))for(var a=0;a<t.length;a++){s=t[a];var o=n+zv(s,a);A+=Ng(s,e,r,o,i)}else if(o=yQ(t),typeof o=="function")for(t=o.call(t),a=0;!(s=t.next()).done;)s=s.value,o=n+zv(s,a++),A+=Ng(s,e,r,o,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Pp(t,e,r){if(t==null)return t;var n=[],i=0;return Ng(t,n,"","",function(s){return e.call(r,s,i++)}),n}function bQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ui={current:null},Qg={transition:null},xQ={ReactCurrentDispatcher:ui,ReactCurrentBatchConfig:Qg,ReactCurrentOwner:k2};function tI(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:Pp,forEach:function(t,e,r){Pp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Pp(t,function(){e++}),e},toArray:function(t){return Pp(t,function(e){return e})||[]},only:function(t){if(!U2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=ld;Dt.Fragment=uQ;Dt.Profiler=hQ;Dt.PureComponent=F2;Dt.StrictMode=dQ;Dt.Suspense=mQ;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xQ;Dt.act=tI;Dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=$_({},t.props),i=t.key,s=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,A=k2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)Y_.call(e,o)&&!Z_.hasOwnProperty(o)&&(n[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){a=Array(o);for(var l=0;l<o;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:Mf,type:t.type,key:i,ref:s,props:n,_owner:A}};Dt.createContext=function(t){return t={$$typeof:pQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fQ,_context:t},t.Consumer=t};Dt.createElement=eI;Dt.createFactory=function(t){var e=eI.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:gQ,render:t}};Dt.isValidElement=U2;Dt.lazy=function(t){return{$$typeof:wQ,_payload:{_status:-1,_result:t},_init:bQ}};Dt.memo=function(t,e){return{$$typeof:vQ,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=Qg.transition;Qg.transition={};try{t()}finally{Qg.transition=e}};Dt.unstable_act=tI;Dt.useCallback=function(t,e){return ui.current.useCallback(t,e)};Dt.useContext=function(t){return ui.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return ui.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return ui.current.useEffect(t,e)};Dt.useId=function(){return ui.current.useId()};Dt.useImperativeHandle=function(t,e,r){return ui.current.useImperativeHandle(t,e,r)};Dt.useInsertionEffect=function(t,e){return ui.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return ui.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return ui.current.useMemo(t,e)};Dt.useReducer=function(t,e,r){return ui.current.useReducer(t,e,r)};Dt.useRef=function(t){return ui.current.useRef(t)};Dt.useState=function(t){return ui.current.useState(t)};Dt.useSyncExternalStore=function(t,e,r){return ui.current.useSyncExternalStore(t,e,r)};Dt.useTransition=function(){return ui.current.useTransition()};Dt.version="18.3.1";G_.exports=Dt;var le=G_.exports;const Pl=z_(le),EQ=aQ({__proto__:null,default:Pl},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _Q=le,IQ=Symbol.for("react.element"),SQ=Symbol.for("react.fragment"),FQ=Object.prototype.hasOwnProperty,TQ=_Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kQ={key:!0,ref:!0,__self:!0,__source:!0};function rI(t,e,r){var n,i={},s=null,A=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(A=e.ref);for(n in e)FQ.call(e,n)&&!kQ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:IQ,type:t,key:s,ref:A,props:i,_owner:TQ.current}}vm.Fragment=SQ;vm.jsx=rI;vm.jsxs=rI;W_.exports=vm;var f=W_.exports,g1={},nI={exports:{}},qi={},iI={exports:{}},sI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,P){var G=$.length;$.push(P);e:for(;0<G;){var ne=G-1>>>1,N=$[ne];if(0<i(N,P))$[ne]=P,$[G]=N,G=ne;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var P=$[0],G=$.pop();if(G!==P){$[0]=G;e:for(var ne=0,N=$.length,j=N>>>1;ne<j;){var W=2*(ne+1)-1,ee=$[W],re=W+1,oe=$[re];if(0>i(ee,G))re<N&&0>i(oe,ee)?($[ne]=oe,$[re]=G,ne=re):($[ne]=ee,$[W]=G,ne=W);else if(re<N&&0>i(oe,G))$[ne]=oe,$[re]=G,ne=re;else break e}}return P}function i($,P){var G=$.sortIndex-P.sortIndex;return G!==0?G:$.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var A=Date,a=A.now();t.unstable_now=function(){return A.now()-a}}var o=[],l=[],c=1,d=null,p=3,g=!1,v=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C($){for(var P=r(l);P!==null;){if(P.callback===null)n(l);else if(P.startTime<=$)n(l),P.sortIndex=P.expirationTime,e(o,P);else break;P=r(l)}}function L($){if(x=!1,C($),!v)if(r(o)!==null)v=!0,te(D);else{var P=r(l);P!==null&&K(L,P.startTime-$)}}function D($,P){v=!1,x&&(x=!1,w(E),E=-1),g=!0;var G=p;try{for(C(P),d=r(o);d!==null&&(!(d.expirationTime>P)||$&&!_());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,p=d.priorityLevel;var N=ne(d.expirationTime<=P);P=t.unstable_now(),typeof N=="function"?d.callback=N:d===r(o)&&n(o),C(P)}else n(o);d=r(o)}if(d!==null)var j=!0;else{var W=r(l);W!==null&&K(L,W.startTime-P),j=!1}return j}finally{d=null,p=G,g=!1}}var M=!1,S=null,E=-1,k=5,O=-1;function _(){return!(t.unstable_now()-O<k)}function F(){if(S!==null){var $=t.unstable_now();O=$;var P=!0;try{P=S(!0,$)}finally{P?U():(M=!1,S=null)}}else M=!1}var U;if(typeof B=="function")U=function(){B(F)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ue=Y.port2;Y.port1.onmessage=F,U=function(){ue.postMessage(null)}}else U=function(){T(F,0)};function te($){S=$,M||(M=!0,U())}function K($,P){E=T(function(){$(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,te(D))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(o)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var G=p;p=P;try{return $()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,P){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=p;p=$;try{return P()}finally{p=G}},t.unstable_scheduleCallback=function($,P,G){var ne=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ne+G:ne):G=ne,$){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=G+N,$={id:c++,callback:P,priorityLevel:$,startTime:G,expirationTime:N,sortIndex:-1},G>ne?($.sortIndex=G,e(l,$),r(o)===null&&$===r(l)&&(x?(w(E),E=-1):x=!0,K(L,G-ne))):($.sortIndex=N,e(o,$),v||g||(v=!0,te(D))),$},t.unstable_shouldYield=_,t.unstable_wrapCallback=function($){var P=p;return function(){var G=p;p=P;try{return $.apply(this,arguments)}finally{p=G}}}})(sI);iI.exports=sI;var UQ=iI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NQ=le,Gi=UQ;function Ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AI=new Set,ef={};function pc(t,e){Hu(t,e),Hu(t+"Capture",e)}function Hu(t,e){for(ef[t]=e,t=0;t<e.length;t++)AI.add(e[t])}var vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m1=Object.prototype.hasOwnProperty,QQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tb={},kb={};function LQ(t){return m1.call(kb,t)?!0:m1.call(Tb,t)?!1:QQ.test(t)?kb[t]=!0:(Tb[t]=!0,!1)}function PQ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RQ(t,e,r,n){if(e===null||typeof e>"u"||PQ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function di(t,e,r,n,i,s,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=A}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ln[t]=new di(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ln[e]=new di(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ln[t]=new di(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ln[t]=new di(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ln[t]=new di(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ln[t]=new di(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ln[t]=new di(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ln[t]=new di(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ln[t]=new di(t,5,!1,t.toLowerCase(),null,!1,!1)});var N2=/[\-:]([a-z])/g;function Q2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(N2,Q2);Ln[e]=new di(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(N2,Q2);Ln[e]=new di(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(N2,Q2);Ln[e]=new di(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ln[t]=new di(t,1,!1,t.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ln[t]=new di(t,1,!1,t.toLowerCase(),null,!0,!0)});function L2(t,e,r,n){var i=Ln.hasOwnProperty(e)?Ln[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RQ(e,r,i,n)&&(r=null),n||i===null?LQ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Fo=NQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rp=Symbol.for("react.element"),fu=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),P2=Symbol.for("react.strict_mode"),v1=Symbol.for("react.profiler"),oI=Symbol.for("react.provider"),aI=Symbol.for("react.context"),R2=Symbol.for("react.forward_ref"),w1=Symbol.for("react.suspense"),y1=Symbol.for("react.suspense_list"),D2=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),lI=Symbol.for("react.offscreen"),Ub=Symbol.iterator;function Vd(t){return t===null||typeof t!="object"?null:(t=Ub&&t[Ub]||t["@@iterator"],typeof t=="function"?t:null)}var Sr=Object.assign,Wv;function oh(t){if(Wv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Wv=e&&e[1]||""}return`
`+Wv+t}var Gv=!1;function qv(t,e){if(!t||Gv)return"";Gv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),A=i.length-1,a=s.length-1;1<=A&&0<=a&&i[A]!==s[a];)a--;for(;1<=A&&0<=a;A--,a--)if(i[A]!==s[a]){if(A!==1||a!==1)do if(A--,a--,0>a||i[A]!==s[a]){var o=`
`+i[A].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=A&&0<=a);break}}}finally{Gv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?oh(t):""}function DQ(t){switch(t.tag){case 5:return oh(t.type);case 16:return oh("Lazy");case 13:return oh("Suspense");case 19:return oh("SuspenseList");case 0:case 2:case 15:return t=qv(t.type,!1),t;case 11:return t=qv(t.type.render,!1),t;case 1:return t=qv(t.type,!0),t;default:return""}}function B1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pu:return"Fragment";case fu:return"Portal";case v1:return"Profiler";case P2:return"StrictMode";case w1:return"Suspense";case y1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aI:return(t.displayName||"Context")+".Consumer";case oI:return(t._context.displayName||"Context")+".Provider";case R2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D2:return e=t.displayName||null,e!==null?e:B1(t.type)||"Memo";case ga:e=t._payload,t=t._init;try{return B1(t(e))}catch{}}return null}function OQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B1(e);case 8:return e===P2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function za(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MQ(t){var e=cI(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(A){n=""+A,s.call(this,A)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(A){n=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dp(t){t._valueTracker||(t._valueTracker=MQ(t))}function uI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=cI(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function c0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function C1(t,e){var r=e.checked;return Sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Nb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=za(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dI(t,e){e=e.checked,e!=null&&L2(t,"checked",e,!1)}function b1(t,e){dI(t,e);var r=za(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?x1(t,e.type,r):e.hasOwnProperty("defaultValue")&&x1(t,e.type,za(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qb(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function x1(t,e,r){(e!=="number"||c0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ah=Array.isArray;function Su(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+za(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function E1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return Sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lb(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ye(92));if(ah(r)){if(1<r.length)throw Error(Ye(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:za(r)}}function hI(t,e){var r=za(e.value),n=za(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Pb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Op,pI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Op=Op||document.createElement("div"),Op.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Op.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ih={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jQ=["Webkit","ms","Moz","O"];Object.keys(Ih).forEach(function(t){jQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ih[e]=Ih[t]})});function gI(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ih.hasOwnProperty(t)&&Ih[t]?(""+e).trim():e+"px"}function mI(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=gI(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var HQ=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I1(t,e){if(e){if(HQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ye(62))}}function S1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F1=null;function O2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var T1=null,Fu=null,Tu=null;function Rb(t){if(t=Vf(t)){if(typeof T1!="function")throw Error(Ye(280));var e=t.stateNode;e&&(e=bm(e),T1(t.stateNode,t.type,e))}}function vI(t){Fu?Tu?Tu.push(t):Tu=[t]:Fu=t}function wI(){if(Fu){var t=Fu,e=Tu;if(Tu=Fu=null,Rb(t),e)for(t=0;t<e.length;t++)Rb(e[t])}}function yI(t,e){return t(e)}function BI(){}var $v=!1;function CI(t,e,r){if($v)return t(e,r);$v=!0;try{return yI(t,e,r)}finally{$v=!1,(Fu!==null||Tu!==null)&&(BI(),wI())}}function rf(t,e){var r=t.stateNode;if(r===null)return null;var n=bm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ye(231,e,typeof r));return r}var k1=!1;if(vo)try{var Kd={};Object.defineProperty(Kd,"passive",{get:function(){k1=!0}}),window.addEventListener("test",Kd,Kd),window.removeEventListener("test",Kd,Kd)}catch{k1=!1}function VQ(t,e,r,n,i,s,A,a,o){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var Sh=!1,u0=null,d0=!1,U1=null,KQ={onError:function(t){Sh=!0,u0=t}};function zQ(t,e,r,n,i,s,A,a,o){Sh=!1,u0=null,VQ.apply(KQ,arguments)}function WQ(t,e,r,n,i,s,A,a,o){if(zQ.apply(this,arguments),Sh){if(Sh){var l=u0;Sh=!1,u0=null}else throw Error(Ye(198));d0||(d0=!0,U1=l)}}function gc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function bI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Db(t){if(gc(t)!==t)throw Error(Ye(188))}function GQ(t){var e=t.alternate;if(!e){if(e=gc(t),e===null)throw Error(Ye(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Db(i),t;if(s===n)return Db(i),e;s=s.sibling}throw Error(Ye(188))}if(r.return!==n.return)r=i,n=s;else{for(var A=!1,a=i.child;a;){if(a===r){A=!0,r=i,n=s;break}if(a===n){A=!0,n=i,r=s;break}a=a.sibling}if(!A){for(a=s.child;a;){if(a===r){A=!0,r=s,n=i;break}if(a===n){A=!0,n=s,r=i;break}a=a.sibling}if(!A)throw Error(Ye(189))}}if(r.alternate!==n)throw Error(Ye(190))}if(r.tag!==3)throw Error(Ye(188));return r.stateNode.current===r?t:e}function xI(t){return t=GQ(t),t!==null?EI(t):null}function EI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EI(t);if(e!==null)return e;t=t.sibling}return null}var _I=Gi.unstable_scheduleCallback,Ob=Gi.unstable_cancelCallback,qQ=Gi.unstable_shouldYield,$Q=Gi.unstable_requestPaint,Wr=Gi.unstable_now,JQ=Gi.unstable_getCurrentPriorityLevel,M2=Gi.unstable_ImmediatePriority,II=Gi.unstable_UserBlockingPriority,h0=Gi.unstable_NormalPriority,XQ=Gi.unstable_LowPriority,SI=Gi.unstable_IdlePriority,wm=null,yA=null;function YQ(t){if(yA&&typeof yA.onCommitFiberRoot=="function")try{yA.onCommitFiberRoot(wm,t,void 0,(t.current.flags&128)===128)}catch{}}var js=Math.clz32?Math.clz32:t3,ZQ=Math.log,e3=Math.LN2;function t3(t){return t>>>=0,t===0?32:31-(ZQ(t)/e3|0)|0}var Mp=64,jp=4194304;function lh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function f0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,A=r&268435455;if(A!==0){var a=A&~i;a!==0?n=lh(a):(s&=A,s!==0&&(n=lh(s)))}else A=r&~i,A!==0?n=lh(A):s!==0&&(n=lh(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-js(e),i=1<<r,n|=t[r],e&=~i;return n}function r3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var A=31-js(s),a=1<<A,o=i[A];o===-1?(!(a&r)||a&n)&&(i[A]=r3(a,e)):o<=e&&(t.expiredLanes|=a),s&=~a}}function N1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FI(){var t=Mp;return Mp<<=1,!(Mp&4194240)&&(Mp=64),t}function Jv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function jf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-js(e),t[e]=r}function i3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-js(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function j2(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-js(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var sr=0;function TI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kI,H2,UI,NI,QI,Q1=!1,Hp=[],ka=null,Ua=null,Na=null,nf=new Map,sf=new Map,wa=[],s3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mb(t,e){switch(t){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":nf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sf.delete(e.pointerId)}}function zd(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Vf(e),e!==null&&H2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function A3(t,e,r,n,i){switch(e){case"focusin":return ka=zd(ka,t,e,r,n,i),!0;case"dragenter":return Ua=zd(Ua,t,e,r,n,i),!0;case"mouseover":return Na=zd(Na,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return nf.set(s,zd(nf.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,sf.set(s,zd(sf.get(s)||null,t,e,r,n,i)),!0}return!1}function LI(t){var e=Rl(t.target);if(e!==null){var r=gc(e);if(r!==null){if(e=r.tag,e===13){if(e=bI(r),e!==null){t.blockedOn=e,QI(t.priority,function(){UI(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=L1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);F1=n,r.target.dispatchEvent(n),F1=null}else return e=Vf(r),e!==null&&H2(e),t.blockedOn=r,!1;e.shift()}return!0}function jb(t,e,r){Lg(t)&&r.delete(e)}function o3(){Q1=!1,ka!==null&&Lg(ka)&&(ka=null),Ua!==null&&Lg(Ua)&&(Ua=null),Na!==null&&Lg(Na)&&(Na=null),nf.forEach(jb),sf.forEach(jb)}function Wd(t,e){t.blockedOn===e&&(t.blockedOn=null,Q1||(Q1=!0,Gi.unstable_scheduleCallback(Gi.unstable_NormalPriority,o3)))}function Af(t){function e(i){return Wd(i,t)}if(0<Hp.length){Wd(Hp[0],t);for(var r=1;r<Hp.length;r++){var n=Hp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ka!==null&&Wd(ka,t),Ua!==null&&Wd(Ua,t),Na!==null&&Wd(Na,t),nf.forEach(e),sf.forEach(e),r=0;r<wa.length;r++)n=wa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<wa.length&&(r=wa[0],r.blockedOn===null);)LI(r),r.blockedOn===null&&wa.shift()}var ku=Fo.ReactCurrentBatchConfig,p0=!0;function a3(t,e,r,n){var i=sr,s=ku.transition;ku.transition=null;try{sr=1,V2(t,e,r,n)}finally{sr=i,ku.transition=s}}function l3(t,e,r,n){var i=sr,s=ku.transition;ku.transition=null;try{sr=4,V2(t,e,r,n)}finally{sr=i,ku.transition=s}}function V2(t,e,r,n){if(p0){var i=L1(t,e,r,n);if(i===null)Aw(t,e,n,g0,r),Mb(t,n);else if(A3(i,t,e,r,n))n.stopPropagation();else if(Mb(t,n),e&4&&-1<s3.indexOf(t)){for(;i!==null;){var s=Vf(i);if(s!==null&&kI(s),s=L1(t,e,r,n),s===null&&Aw(t,e,n,g0,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Aw(t,e,n,null,r)}}var g0=null;function L1(t,e,r,n){if(g0=null,t=O2(n),t=Rl(t),t!==null)if(e=gc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=bI(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return g0=t,null}function PI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JQ()){case M2:return 1;case II:return 4;case h0:case XQ:return 16;case SI:return 536870912;default:return 16}default:return 16}}var Ca=null,K2=null,Pg=null;function RI(){if(Pg)return Pg;var t,e=K2,r=e.length,n,i="value"in Ca?Ca.value:Ca.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var A=r-t;for(n=1;n<=A&&e[r-n]===i[s-n];n++);return Pg=i.slice(t,1<n?1-n:void 0)}function Rg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vp(){return!0}function Hb(){return!1}function $i(t){function e(r,n,i,s,A){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=A,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vp:Hb,this.isPropagationStopped=Hb,this}return Sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vp)},persist:function(){},isPersistent:Vp}),e}var cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z2=$i(cd),Hf=Sr({},cd,{view:0,detail:0}),c3=$i(Hf),Xv,Yv,Gd,ym=Sr({},Hf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gd&&(Gd&&t.type==="mousemove"?(Xv=t.screenX-Gd.screenX,Yv=t.screenY-Gd.screenY):Yv=Xv=0,Gd=t),Xv)},movementY:function(t){return"movementY"in t?t.movementY:Yv}}),Vb=$i(ym),u3=Sr({},ym,{dataTransfer:0}),d3=$i(u3),h3=Sr({},Hf,{relatedTarget:0}),Zv=$i(h3),f3=Sr({},cd,{animationName:0,elapsedTime:0,pseudoElement:0}),p3=$i(f3),g3=Sr({},cd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),m3=$i(g3),v3=Sr({},cd,{data:0}),Kb=$i(v3),w3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=B3[t])?!!e[t]:!1}function W2(){return C3}var b3=Sr({},Hf,{key:function(t){if(t.key){var e=w3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W2,charCode:function(t){return t.type==="keypress"?Rg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x3=$i(b3),E3=Sr({},ym,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zb=$i(E3),_3=Sr({},Hf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W2}),I3=$i(_3),S3=Sr({},cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),F3=$i(S3),T3=Sr({},ym,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k3=$i(T3),U3=[9,13,27,32],G2=vo&&"CompositionEvent"in window,Fh=null;vo&&"documentMode"in document&&(Fh=document.documentMode);var N3=vo&&"TextEvent"in window&&!Fh,DI=vo&&(!G2||Fh&&8<Fh&&11>=Fh),Wb=" ",Gb=!1;function OI(t,e){switch(t){case"keyup":return U3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gu=!1;function Q3(t,e){switch(t){case"compositionend":return MI(e);case"keypress":return e.which!==32?null:(Gb=!0,Wb);case"textInput":return t=e.data,t===Wb&&Gb?null:t;default:return null}}function L3(t,e){if(gu)return t==="compositionend"||!G2&&OI(t,e)?(t=RI(),Pg=K2=Ca=null,gu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DI&&e.locale!=="ko"?null:e.data;default:return null}}var P3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P3[t.type]:e==="textarea"}function jI(t,e,r,n){vI(n),e=m0(e,"onChange"),0<e.length&&(r=new z2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Th=null,of=null;function R3(t){YI(t,0)}function Bm(t){var e=wu(t);if(uI(e))return t}function D3(t,e){if(t==="change")return e}var HI=!1;if(vo){var ew;if(vo){var tw="oninput"in document;if(!tw){var $b=document.createElement("div");$b.setAttribute("oninput","return;"),tw=typeof $b.oninput=="function"}ew=tw}else ew=!1;HI=ew&&(!document.documentMode||9<document.documentMode)}function Jb(){Th&&(Th.detachEvent("onpropertychange",VI),of=Th=null)}function VI(t){if(t.propertyName==="value"&&Bm(of)){var e=[];jI(e,of,t,O2(t)),CI(R3,e)}}function O3(t,e,r){t==="focusin"?(Jb(),Th=e,of=r,Th.attachEvent("onpropertychange",VI)):t==="focusout"&&Jb()}function M3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bm(of)}function j3(t,e){if(t==="click")return Bm(e)}function H3(t,e){if(t==="input"||t==="change")return Bm(e)}function V3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vs=typeof Object.is=="function"?Object.is:V3;function af(t,e){if(Vs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!m1.call(e,i)||!Vs(t[i],e[i]))return!1}return!0}function Xb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yb(t,e){var r=Xb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xb(r)}}function KI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zI(){for(var t=window,e=c0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=c0(t.document)}return e}function q2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K3(t){var e=zI(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&KI(r.ownerDocument.documentElement,r)){if(n!==null&&q2(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Yb(r,s);var A=Yb(r,n);i&&A&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var z3=vo&&"documentMode"in document&&11>=document.documentMode,mu=null,P1=null,kh=null,R1=!1;function Zb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;R1||mu==null||mu!==c0(n)||(n=mu,"selectionStart"in n&&q2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kh&&af(kh,n)||(kh=n,n=m0(P1,"onSelect"),0<n.length&&(e=new z2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=mu)))}function Kp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var vu={animationend:Kp("Animation","AnimationEnd"),animationiteration:Kp("Animation","AnimationIteration"),animationstart:Kp("Animation","AnimationStart"),transitionend:Kp("Transition","TransitionEnd")},rw={},WI={};vo&&(WI=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function Cm(t){if(rw[t])return rw[t];if(!vu[t])return t;var e=vu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in WI)return rw[t]=e[r];return t}var GI=Cm("animationend"),qI=Cm("animationiteration"),$I=Cm("animationstart"),JI=Cm("transitionend"),XI=new Map,e5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(t,e){XI.set(t,e),pc(e,[t])}for(var nw=0;nw<e5.length;nw++){var iw=e5[nw],W3=iw.toLowerCase(),G3=iw[0].toUpperCase()+iw.slice(1);tl(W3,"on"+G3)}tl(GI,"onAnimationEnd");tl(qI,"onAnimationIteration");tl($I,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(JI,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);pc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pc("onBeforeInput",["compositionend","keypress","textInput","paste"]);pc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ch));function t5(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,WQ(n,e,void 0,t),t.currentTarget=null}function YI(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var A=n.length-1;0<=A;A--){var a=n[A],o=a.instance,l=a.currentTarget;if(a=a.listener,o!==s&&i.isPropagationStopped())break e;t5(i,a,l),s=o}else for(A=0;A<n.length;A++){if(a=n[A],o=a.instance,l=a.currentTarget,a=a.listener,o!==s&&i.isPropagationStopped())break e;t5(i,a,l),s=o}}}if(d0)throw t=U1,d0=!1,U1=null,t}function yr(t,e){var r=e[H1];r===void 0&&(r=e[H1]=new Set);var n=t+"__bubble";r.has(n)||(ZI(e,t,2,!1),r.add(n))}function sw(t,e,r){var n=0;e&&(n|=4),ZI(r,t,n,e)}var zp="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[zp]){t[zp]=!0,AI.forEach(function(r){r!=="selectionchange"&&(q3.has(r)||sw(r,!1,t),sw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zp]||(e[zp]=!0,sw("selectionchange",!1,e))}}function ZI(t,e,r,n){switch(PI(e)){case 1:var i=a3;break;case 4:i=l3;break;default:i=V2}r=i.bind(null,e,r,t),i=void 0,!k1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Aw(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var A=n.tag;if(A===3||A===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(A===4)for(A=n.return;A!==null;){var o=A.tag;if((o===3||o===4)&&(o=A.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;A=A.return}for(;a!==null;){if(A=Rl(a),A===null)return;if(o=A.tag,o===5||o===6){n=s=A;continue e}a=a.parentNode}}n=n.return}CI(function(){var l=s,c=O2(r),d=[];e:{var p=XI.get(t);if(p!==void 0){var g=z2,v=t;switch(t){case"keypress":if(Rg(r)===0)break e;case"keydown":case"keyup":g=x3;break;case"focusin":v="focus",g=Zv;break;case"focusout":v="blur",g=Zv;break;case"beforeblur":case"afterblur":g=Zv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Vb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=d3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=I3;break;case GI:case qI:case $I:g=p3;break;case JI:g=F3;break;case"scroll":g=c3;break;case"wheel":g=k3;break;case"copy":case"cut":case"paste":g=m3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=zb}var x=(e&4)!==0,T=!x&&t==="scroll",w=x?p!==null?p+"Capture":null:p;x=[];for(var B=l,C;B!==null;){C=B;var L=C.stateNode;if(C.tag===5&&L!==null&&(C=L,w!==null&&(L=rf(B,w),L!=null&&x.push(cf(B,L,C)))),T)break;B=B.return}0<x.length&&(p=new g(p,v,null,r,c),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==F1&&(v=r.relatedTarget||r.fromElement)&&(Rl(v)||v[wo]))break e;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=l,v=v?Rl(v):null,v!==null&&(T=gc(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=l),g!==v)){if(x=Vb,L="onMouseLeave",w="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(x=zb,L="onPointerLeave",w="onPointerEnter",B="pointer"),T=g==null?p:wu(g),C=v==null?p:wu(v),p=new x(L,B+"leave",g,r,c),p.target=T,p.relatedTarget=C,L=null,Rl(c)===l&&(x=new x(w,B+"enter",v,r,c),x.target=C,x.relatedTarget=T,L=x),T=L,g&&v)t:{for(x=g,w=v,B=0,C=x;C;C=Wc(C))B++;for(C=0,L=w;L;L=Wc(L))C++;for(;0<B-C;)x=Wc(x),B--;for(;0<C-B;)w=Wc(w),C--;for(;B--;){if(x===w||w!==null&&x===w.alternate)break t;x=Wc(x),w=Wc(w)}x=null}else x=null;g!==null&&r5(d,p,g,x,!1),v!==null&&T!==null&&r5(d,T,v,x,!0)}}e:{if(p=l?wu(l):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=D3;else if(qb(p))if(HI)D=H3;else{D=M3;var M=O3}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=j3);if(D&&(D=D(t,l))){jI(d,D,r,c);break e}M&&M(t,p,l),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&x1(p,"number",p.value)}switch(M=l?wu(l):window,t){case"focusin":(qb(M)||M.contentEditable==="true")&&(mu=M,P1=l,kh=null);break;case"focusout":kh=P1=mu=null;break;case"mousedown":R1=!0;break;case"contextmenu":case"mouseup":case"dragend":R1=!1,Zb(d,r,c);break;case"selectionchange":if(z3)break;case"keydown":case"keyup":Zb(d,r,c)}var S;if(G2)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else gu?OI(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(DI&&r.locale!=="ko"&&(gu||E!=="onCompositionStart"?E==="onCompositionEnd"&&gu&&(S=RI()):(Ca=c,K2="value"in Ca?Ca.value:Ca.textContent,gu=!0)),M=m0(l,E),0<M.length&&(E=new Kb(E,t,null,r,c),d.push({event:E,listeners:M}),S?E.data=S:(S=MI(r),S!==null&&(E.data=S)))),(S=N3?Q3(t,r):L3(t,r))&&(l=m0(l,"onBeforeInput"),0<l.length&&(c=new Kb("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=S))}YI(d,e)})}function cf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function m0(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rf(t,r),s!=null&&n.unshift(cf(t,s,i)),s=rf(t,e),s!=null&&n.push(cf(t,s,i))),t=t.return}return n}function Wc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r5(t,e,r,n,i){for(var s=e._reactName,A=[];r!==null&&r!==n;){var a=r,o=a.alternate,l=a.stateNode;if(o!==null&&o===n)break;a.tag===5&&l!==null&&(a=l,i?(o=rf(r,s),o!=null&&A.unshift(cf(r,o,a))):i||(o=rf(r,s),o!=null&&A.push(cf(r,o,a)))),r=r.return}A.length!==0&&t.push({event:e,listeners:A})}var $3=/\r\n?/g,J3=/\u0000|\uFFFD/g;function n5(t){return(typeof t=="string"?t:""+t).replace($3,`
`).replace(J3,"")}function Wp(t,e,r){if(e=n5(e),n5(t)!==e&&r)throw Error(Ye(425))}function v0(){}var D1=null,O1=null;function M1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var j1=typeof setTimeout=="function"?setTimeout:void 0,X3=typeof clearTimeout=="function"?clearTimeout:void 0,i5=typeof Promise=="function"?Promise:void 0,Y3=typeof queueMicrotask=="function"?queueMicrotask:typeof i5<"u"?function(t){return i5.resolve(null).then(t).catch(Z3)}:j1;function Z3(t){setTimeout(function(){throw t})}function ow(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Af(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Af(e)}function Qa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function s5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ud=Math.random().toString(36).slice(2),hA="__reactFiber$"+ud,uf="__reactProps$"+ud,wo="__reactContainer$"+ud,H1="__reactEvents$"+ud,eL="__reactListeners$"+ud,tL="__reactHandles$"+ud;function Rl(t){var e=t[hA];if(e)return e;for(var r=t.parentNode;r;){if(e=r[wo]||r[hA]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=s5(t);t!==null;){if(r=t[hA])return r;t=s5(t)}return e}t=r,r=t.parentNode}return null}function Vf(t){return t=t[hA]||t[wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ye(33))}function bm(t){return t[uf]||null}var V1=[],yu=-1;function rl(t){return{current:t}}function Cr(t){0>yu||(t.current=V1[yu],V1[yu]=null,yu--)}function mr(t,e){yu++,V1[yu]=t.current,t.current=e}var Wa={},ti=rl(Wa),Ei=rl(!1),nc=Wa;function Vu(t,e){var r=t.type.contextTypes;if(!r)return Wa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _i(t){return t=t.childContextTypes,t!=null}function w0(){Cr(Ei),Cr(ti)}function A5(t,e,r){if(ti.current!==Wa)throw Error(Ye(168));mr(ti,e),mr(Ei,r)}function e4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ye(108,OQ(t)||"Unknown",i));return Sr({},r,n)}function y0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wa,nc=ti.current,mr(ti,t),mr(Ei,Ei.current),!0}function o5(t,e,r){var n=t.stateNode;if(!n)throw Error(Ye(169));r?(t=e4(t,e,nc),n.__reactInternalMemoizedMergedChildContext=t,Cr(Ei),Cr(ti),mr(ti,t)):Cr(Ei),mr(Ei,r)}var io=null,xm=!1,aw=!1;function t4(t){io===null?io=[t]:io.push(t)}function rL(t){xm=!0,t4(t)}function nl(){if(!aw&&io!==null){aw=!0;var t=0,e=sr;try{var r=io;for(sr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}io=null,xm=!1}catch(i){throw io!==null&&(io=io.slice(t+1)),_I(M2,nl),i}finally{sr=e,aw=!1}}return null}var Bu=[],Cu=0,B0=null,C0=0,as=[],ls=0,ic=null,so=1,Ao="";function Fl(t,e){Bu[Cu++]=C0,Bu[Cu++]=B0,B0=t,C0=e}function r4(t,e,r){as[ls++]=so,as[ls++]=Ao,as[ls++]=ic,ic=t;var n=so;t=Ao;var i=32-js(n)-1;n&=~(1<<i),r+=1;var s=32-js(e)+i;if(30<s){var A=i-i%5;s=(n&(1<<A)-1).toString(32),n>>=A,i-=A,so=1<<32-js(e)+i|r<<i|n,Ao=s+t}else so=1<<s|r<<i|n,Ao=t}function $2(t){t.return!==null&&(Fl(t,1),r4(t,1,0))}function J2(t){for(;t===B0;)B0=Bu[--Cu],Bu[Cu]=null,C0=Bu[--Cu],Bu[Cu]=null;for(;t===ic;)ic=as[--ls],as[ls]=null,Ao=as[--ls],as[ls]=null,so=as[--ls],as[ls]=null}var zi=null,Hi=null,xr=!1,Os=null;function n4(t,e){var r=hs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function a5(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zi=t,Hi=Qa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zi=t,Hi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ic!==null?{id:so,overflow:Ao}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=hs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,zi=t,Hi=null,!0):!1;default:return!1}}function K1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function z1(t){if(xr){var e=Hi;if(e){var r=e;if(!a5(t,e)){if(K1(t))throw Error(Ye(418));e=Qa(r.nextSibling);var n=zi;e&&a5(t,e)?n4(n,r):(t.flags=t.flags&-4097|2,xr=!1,zi=t)}}else{if(K1(t))throw Error(Ye(418));t.flags=t.flags&-4097|2,xr=!1,zi=t}}}function l5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zi=t}function Gp(t){if(t!==zi)return!1;if(!xr)return l5(t),xr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!M1(t.type,t.memoizedProps)),e&&(e=Hi)){if(K1(t))throw i4(),Error(Ye(418));for(;e;)n4(t,e),e=Qa(e.nextSibling)}if(l5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Hi=Qa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Hi=null}}else Hi=zi?Qa(t.stateNode.nextSibling):null;return!0}function i4(){for(var t=Hi;t;)t=Qa(t.nextSibling)}function Ku(){Hi=zi=null,xr=!1}function X2(t){Os===null?Os=[t]:Os.push(t)}var nL=Fo.ReactCurrentBatchConfig;function qd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ye(309));var n=r.stateNode}if(!n)throw Error(Ye(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(A){var a=i.refs;A===null?delete a[s]:a[s]=A},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ye(284));if(!r._owner)throw Error(Ye(290,t))}return t}function qp(t,e){throw t=Object.prototype.toString.call(e),Error(Ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c5(t){var e=t._init;return e(t._payload)}function s4(t){function e(w,B){if(t){var C=w.deletions;C===null?(w.deletions=[B],w.flags|=16):C.push(B)}}function r(w,B){if(!t)return null;for(;B!==null;)e(w,B),B=B.sibling;return null}function n(w,B){for(w=new Map;B!==null;)B.key!==null?w.set(B.key,B):w.set(B.index,B),B=B.sibling;return w}function i(w,B){return w=Da(w,B),w.index=0,w.sibling=null,w}function s(w,B,C){return w.index=C,t?(C=w.alternate,C!==null?(C=C.index,C<B?(w.flags|=2,B):C):(w.flags|=2,B)):(w.flags|=1048576,B)}function A(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,B,C,L){return B===null||B.tag!==6?(B=pw(C,w.mode,L),B.return=w,B):(B=i(B,C),B.return=w,B)}function o(w,B,C,L){var D=C.type;return D===pu?c(w,B,C.props.children,L,C.key):B!==null&&(B.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ga&&c5(D)===B.type)?(L=i(B,C.props),L.ref=qd(w,B,C),L.return=w,L):(L=Kg(C.type,C.key,C.props,null,w.mode,L),L.ref=qd(w,B,C),L.return=w,L)}function l(w,B,C,L){return B===null||B.tag!==4||B.stateNode.containerInfo!==C.containerInfo||B.stateNode.implementation!==C.implementation?(B=gw(C,w.mode,L),B.return=w,B):(B=i(B,C.children||[]),B.return=w,B)}function c(w,B,C,L,D){return B===null||B.tag!==7?(B=zl(C,w.mode,L,D),B.return=w,B):(B=i(B,C),B.return=w,B)}function d(w,B,C){if(typeof B=="string"&&B!==""||typeof B=="number")return B=pw(""+B,w.mode,C),B.return=w,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Rp:return C=Kg(B.type,B.key,B.props,null,w.mode,C),C.ref=qd(w,null,B),C.return=w,C;case fu:return B=gw(B,w.mode,C),B.return=w,B;case ga:var L=B._init;return d(w,L(B._payload),C)}if(ah(B)||Vd(B))return B=zl(B,w.mode,C,null),B.return=w,B;qp(w,B)}return null}function p(w,B,C,L){var D=B!==null?B.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return D!==null?null:a(w,B,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Rp:return C.key===D?o(w,B,C,L):null;case fu:return C.key===D?l(w,B,C,L):null;case ga:return D=C._init,p(w,B,D(C._payload),L)}if(ah(C)||Vd(C))return D!==null?null:c(w,B,C,L,null);qp(w,C)}return null}function g(w,B,C,L,D){if(typeof L=="string"&&L!==""||typeof L=="number")return w=w.get(C)||null,a(B,w,""+L,D);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Rp:return w=w.get(L.key===null?C:L.key)||null,o(B,w,L,D);case fu:return w=w.get(L.key===null?C:L.key)||null,l(B,w,L,D);case ga:var M=L._init;return g(w,B,C,M(L._payload),D)}if(ah(L)||Vd(L))return w=w.get(C)||null,c(B,w,L,D,null);qp(B,L)}return null}function v(w,B,C,L){for(var D=null,M=null,S=B,E=B=0,k=null;S!==null&&E<C.length;E++){S.index>E?(k=S,S=null):k=S.sibling;var O=p(w,S,C[E],L);if(O===null){S===null&&(S=k);break}t&&S&&O.alternate===null&&e(w,S),B=s(O,B,E),M===null?D=O:M.sibling=O,M=O,S=k}if(E===C.length)return r(w,S),xr&&Fl(w,E),D;if(S===null){for(;E<C.length;E++)S=d(w,C[E],L),S!==null&&(B=s(S,B,E),M===null?D=S:M.sibling=S,M=S);return xr&&Fl(w,E),D}for(S=n(w,S);E<C.length;E++)k=g(S,w,E,C[E],L),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),B=s(k,B,E),M===null?D=k:M.sibling=k,M=k);return t&&S.forEach(function(_){return e(w,_)}),xr&&Fl(w,E),D}function x(w,B,C,L){var D=Vd(C);if(typeof D!="function")throw Error(Ye(150));if(C=D.call(C),C==null)throw Error(Ye(151));for(var M=D=null,S=B,E=B=0,k=null,O=C.next();S!==null&&!O.done;E++,O=C.next()){S.index>E?(k=S,S=null):k=S.sibling;var _=p(w,S,O.value,L);if(_===null){S===null&&(S=k);break}t&&S&&_.alternate===null&&e(w,S),B=s(_,B,E),M===null?D=_:M.sibling=_,M=_,S=k}if(O.done)return r(w,S),xr&&Fl(w,E),D;if(S===null){for(;!O.done;E++,O=C.next())O=d(w,O.value,L),O!==null&&(B=s(O,B,E),M===null?D=O:M.sibling=O,M=O);return xr&&Fl(w,E),D}for(S=n(w,S);!O.done;E++,O=C.next())O=g(S,w,E,O.value,L),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?E:O.key),B=s(O,B,E),M===null?D=O:M.sibling=O,M=O);return t&&S.forEach(function(F){return e(w,F)}),xr&&Fl(w,E),D}function T(w,B,C,L){if(typeof C=="object"&&C!==null&&C.type===pu&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Rp:e:{for(var D=C.key,M=B;M!==null;){if(M.key===D){if(D=C.type,D===pu){if(M.tag===7){r(w,M.sibling),B=i(M,C.props.children),B.return=w,w=B;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ga&&c5(D)===M.type){r(w,M.sibling),B=i(M,C.props),B.ref=qd(w,M,C),B.return=w,w=B;break e}r(w,M);break}else e(w,M);M=M.sibling}C.type===pu?(B=zl(C.props.children,w.mode,L,C.key),B.return=w,w=B):(L=Kg(C.type,C.key,C.props,null,w.mode,L),L.ref=qd(w,B,C),L.return=w,w=L)}return A(w);case fu:e:{for(M=C.key;B!==null;){if(B.key===M)if(B.tag===4&&B.stateNode.containerInfo===C.containerInfo&&B.stateNode.implementation===C.implementation){r(w,B.sibling),B=i(B,C.children||[]),B.return=w,w=B;break e}else{r(w,B);break}else e(w,B);B=B.sibling}B=gw(C,w.mode,L),B.return=w,w=B}return A(w);case ga:return M=C._init,T(w,B,M(C._payload),L)}if(ah(C))return v(w,B,C,L);if(Vd(C))return x(w,B,C,L);qp(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,B!==null&&B.tag===6?(r(w,B.sibling),B=i(B,C),B.return=w,w=B):(r(w,B),B=pw(C,w.mode,L),B.return=w,w=B),A(w)):r(w,B)}return T}var zu=s4(!0),A4=s4(!1),b0=rl(null),x0=null,bu=null,Y2=null;function Z2(){Y2=bu=x0=null}function eB(t){var e=b0.current;Cr(b0),t._currentValue=e}function W1(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Uu(t,e){x0=t,Y2=bu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xi=!0),t.firstContext=null)}function vs(t){var e=t._currentValue;if(Y2!==t)if(t={context:t,memoizedValue:e,next:null},bu===null){if(x0===null)throw Error(Ye(308));bu=t,x0.dependencies={lanes:0,firstContext:t}}else bu=bu.next=t;return e}var Dl=null;function tB(t){Dl===null?Dl=[t]:Dl.push(t)}function o4(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,tB(e)):(r.next=i.next,i.next=r),e.interleaved=r,yo(t,n)}function yo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ma=!1;function rB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function La(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Wt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,yo(t,r)}return i=n.interleaved,i===null?(e.next=e,tB(n)):(e.next=i.next,i.next=e),n.interleaved=e,yo(t,r)}function Dg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,j2(t,r)}}function u5(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var A={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=A:s=s.next=A,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function E0(t,e,r,n){var i=t.updateQueue;ma=!1;var s=i.firstBaseUpdate,A=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var o=a,l=o.next;o.next=null,A===null?s=l:A.next=l,A=o;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==A&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=o))}if(s!==null){var d=i.baseState;A=0,c=l=o=null,a=s;do{var p=a.lane,g=a.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(p=e,g=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(g,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(g,d,p):v,p==null)break e;d=Sr({},d,p);break e;case 2:ma=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=g,o=d):c=c.next=g,A|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(o=d),i.baseState=o,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do A|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ac|=A,t.lanes=A,t.memoizedState=d}}function d5(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ye(191,i));i.call(n)}}}var Kf={},BA=rl(Kf),df=rl(Kf),hf=rl(Kf);function Ol(t){if(t===Kf)throw Error(Ye(174));return t}function nB(t,e){switch(mr(hf,e),mr(df,t),mr(BA,Kf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_1(e,t)}Cr(BA),mr(BA,e)}function Wu(){Cr(BA),Cr(df),Cr(hf)}function l4(t){Ol(hf.current);var e=Ol(BA.current),r=_1(e,t.type);e!==r&&(mr(df,t),mr(BA,r))}function iB(t){df.current===t&&(Cr(BA),Cr(df))}var Er=rl(0);function _0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lw=[];function sB(){for(var t=0;t<lw.length;t++)lw[t]._workInProgressVersionPrimary=null;lw.length=0}var Og=Fo.ReactCurrentDispatcher,cw=Fo.ReactCurrentBatchConfig,sc=0,_r=null,an=null,wn=null,I0=!1,Uh=!1,ff=0,iL=0;function Hn(){throw Error(Ye(321))}function AB(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Vs(t[r],e[r]))return!1;return!0}function oB(t,e,r,n,i,s){if(sc=s,_r=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Og.current=t===null||t.memoizedState===null?aL:lL,t=r(n,i),Uh){s=0;do{if(Uh=!1,ff=0,25<=s)throw Error(Ye(301));s+=1,wn=an=null,e.updateQueue=null,Og.current=cL,t=r(n,i)}while(Uh)}if(Og.current=S0,e=an!==null&&an.next!==null,sc=0,wn=an=_r=null,I0=!1,e)throw Error(Ye(300));return t}function aB(){var t=ff!==0;return ff=0,t}function dA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?_r.memoizedState=wn=t:wn=wn.next=t,wn}function ws(){if(an===null){var t=_r.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=wn===null?_r.memoizedState:wn.next;if(e!==null)wn=e,an=t;else{if(t===null)throw Error(Ye(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},wn===null?_r.memoizedState=wn=t:wn=wn.next=t}return wn}function pf(t,e){return typeof e=="function"?e(t):e}function uw(t){var e=ws(),r=e.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=t;var n=an,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var A=i.next;i.next=s.next,s.next=A}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=A=null,o=null,l=s;do{var c=l.lane;if((sc&c)===c)o!==null&&(o=o.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};o===null?(a=o=d,A=n):o=o.next=d,_r.lanes|=c,Ac|=c}l=l.next}while(l!==null&&l!==s);o===null?A=n:o.next=a,Vs(n,e.memoizedState)||(xi=!0),e.memoizedState=n,e.baseState=A,e.baseQueue=o,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,_r.lanes|=s,Ac|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function dw(t){var e=ws(),r=e.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var A=i=i.next;do s=t(s,A.action),A=A.next;while(A!==i);Vs(s,e.memoizedState)||(xi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function c4(){}function u4(t,e){var r=_r,n=ws(),i=e(),s=!Vs(n.memoizedState,i);if(s&&(n.memoizedState=i,xi=!0),n=n.queue,lB(f4.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||wn!==null&&wn.memoizedState.tag&1){if(r.flags|=2048,gf(9,h4.bind(null,r,n,i,e),void 0,null),yn===null)throw Error(Ye(349));sc&30||d4(r,e,i)}return i}function d4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_r.updateQueue,e===null?(e={lastEffect:null,stores:null},_r.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function h4(t,e,r,n){e.value=r,e.getSnapshot=n,p4(e)&&g4(t)}function f4(t,e,r){return r(function(){p4(e)&&g4(t)})}function p4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Vs(t,r)}catch{return!0}}function g4(t){var e=yo(t,1);e!==null&&Hs(e,t,1,-1)}function h5(t){var e=dA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:t},e.queue=t,t=t.dispatch=oL.bind(null,_r,t),[e.memoizedState,t]}function gf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_r.updateQueue,e===null?(e={lastEffect:null,stores:null},_r.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function m4(){return ws().memoizedState}function Mg(t,e,r,n){var i=dA();_r.flags|=t,i.memoizedState=gf(1|e,r,void 0,n===void 0?null:n)}function Em(t,e,r,n){var i=ws();n=n===void 0?null:n;var s=void 0;if(an!==null){var A=an.memoizedState;if(s=A.destroy,n!==null&&AB(n,A.deps)){i.memoizedState=gf(e,r,s,n);return}}_r.flags|=t,i.memoizedState=gf(1|e,r,s,n)}function f5(t,e){return Mg(8390656,8,t,e)}function lB(t,e){return Em(2048,8,t,e)}function v4(t,e){return Em(4,2,t,e)}function w4(t,e){return Em(4,4,t,e)}function y4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B4(t,e,r){return r=r!=null?r.concat([t]):null,Em(4,4,y4.bind(null,e,t),r)}function cB(){}function C4(t,e){var r=ws();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AB(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function b4(t,e){var r=ws();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AB(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function x4(t,e,r){return sc&21?(Vs(r,e)||(r=FI(),_r.lanes|=r,Ac|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xi=!0),t.memoizedState=r)}function sL(t,e){var r=sr;sr=r!==0&&4>r?r:4,t(!0);var n=cw.transition;cw.transition={};try{t(!1),e()}finally{sr=r,cw.transition=n}}function E4(){return ws().memoizedState}function AL(t,e,r){var n=Ra(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_4(t))I4(e,r);else if(r=o4(t,e,r,n),r!==null){var i=ci();Hs(r,t,n,i),S4(r,e,n)}}function oL(t,e,r){var n=Ra(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_4(t))I4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var A=e.lastRenderedState,a=s(A,r);if(i.hasEagerState=!0,i.eagerState=a,Vs(a,A)){var o=e.interleaved;o===null?(i.next=i,tB(e)):(i.next=o.next,o.next=i),e.interleaved=i;return}}catch{}finally{}r=o4(t,e,i,n),r!==null&&(i=ci(),Hs(r,t,n,i),S4(r,e,n))}}function _4(t){var e=t.alternate;return t===_r||e!==null&&e===_r}function I4(t,e){Uh=I0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function S4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,j2(t,r)}}var S0={readContext:vs,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},aL={readContext:vs,useCallback:function(t,e){return dA().memoizedState=[t,e===void 0?null:e],t},useContext:vs,useEffect:f5,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Mg(4194308,4,y4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Mg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mg(4,2,t,e)},useMemo:function(t,e){var r=dA();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=dA();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=AL.bind(null,_r,t),[n.memoizedState,t]},useRef:function(t){var e=dA();return t={current:t},e.memoizedState=t},useState:h5,useDebugValue:cB,useDeferredValue:function(t){return dA().memoizedState=t},useTransition:function(){var t=h5(!1),e=t[0];return t=sL.bind(null,t[1]),dA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_r,i=dA();if(xr){if(r===void 0)throw Error(Ye(407));r=r()}else{if(r=e(),yn===null)throw Error(Ye(349));sc&30||d4(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,f5(f4.bind(null,n,s,t),[t]),n.flags|=2048,gf(9,h4.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=dA(),e=yn.identifierPrefix;if(xr){var r=Ao,n=so;r=(n&~(1<<32-js(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ff++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=iL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lL={readContext:vs,useCallback:C4,useContext:vs,useEffect:lB,useImperativeHandle:B4,useInsertionEffect:v4,useLayoutEffect:w4,useMemo:b4,useReducer:uw,useRef:m4,useState:function(){return uw(pf)},useDebugValue:cB,useDeferredValue:function(t){var e=ws();return x4(e,an.memoizedState,t)},useTransition:function(){var t=uw(pf)[0],e=ws().memoizedState;return[t,e]},useMutableSource:c4,useSyncExternalStore:u4,useId:E4,unstable_isNewReconciler:!1},cL={readContext:vs,useCallback:C4,useContext:vs,useEffect:lB,useImperativeHandle:B4,useInsertionEffect:v4,useLayoutEffect:w4,useMemo:b4,useReducer:dw,useRef:m4,useState:function(){return dw(pf)},useDebugValue:cB,useDeferredValue:function(t){var e=ws();return an===null?e.memoizedState=t:x4(e,an.memoizedState,t)},useTransition:function(){var t=dw(pf)[0],e=ws().memoizedState;return[t,e]},useMutableSource:c4,useSyncExternalStore:u4,useId:E4,unstable_isNewReconciler:!1};function Ps(t,e){if(t&&t.defaultProps){e=Sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function G1(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _m={isMounted:function(t){return(t=t._reactInternals)?gc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ci(),i=Ra(t),s=fo(n,i);s.payload=e,r!=null&&(s.callback=r),e=La(t,s,i),e!==null&&(Hs(e,t,i,n),Dg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ci(),i=Ra(t),s=fo(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=La(t,s,i),e!==null&&(Hs(e,t,i,n),Dg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ci(),n=Ra(t),i=fo(r,n);i.tag=2,e!=null&&(i.callback=e),e=La(t,i,n),e!==null&&(Hs(e,t,n,r),Dg(e,t,n))}};function p5(t,e,r,n,i,s,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,A):e.prototype&&e.prototype.isPureReactComponent?!af(r,n)||!af(i,s):!0}function F4(t,e,r){var n=!1,i=Wa,s=e.contextType;return typeof s=="object"&&s!==null?s=vs(s):(i=_i(e)?nc:ti.current,n=e.contextTypes,s=(n=n!=null)?Vu(t,i):Wa),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_m,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function g5(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_m.enqueueReplaceState(e,e.state,null)}function q1(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},rB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=vs(s):(s=_i(e)?nc:ti.current,i.context=Vu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(G1(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_m.enqueueReplaceState(i,i.state,null),E0(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gu(t,e){try{var r="",n=e;do r+=DQ(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hw(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function $1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var uL=typeof WeakMap=="function"?WeakMap:Map;function T4(t,e,r){r=fo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){T0||(T0=!0,sy=n),$1(t,e)},r}function k4(t,e,r){r=fo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){$1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){$1(t,e),typeof n!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),r}function m5(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new uL;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=EL.bind(null,t,e,r),e.then(t,t))}function v5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w5(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fo(-1,1),e.tag=2,La(r,e,1))),r.lanes|=1),t)}var dL=Fo.ReactCurrentOwner,xi=!1;function li(t,e,r,n){e.child=t===null?A4(e,null,r,n):zu(e,t.child,r,n)}function y5(t,e,r,n,i){r=r.render;var s=e.ref;return Uu(e,i),n=oB(t,e,r,n,s,i),r=aB(),t!==null&&!xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bo(t,e,i)):(xr&&r&&$2(e),e.flags|=1,li(t,e,n,i),e.child)}function B5(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!vB(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,U4(t,e,s,n,i)):(t=Kg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var A=s.memoizedProps;if(r=r.compare,r=r!==null?r:af,r(A,n)&&t.ref===e.ref)return Bo(t,e,i)}return e.flags|=1,t=Da(s,n),t.ref=e.ref,t.return=e,e.child=t}function U4(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(af(s,n)&&t.ref===e.ref)if(xi=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(xi=!0);else return e.lanes=t.lanes,Bo(t,e,i)}return J1(t,e,r,n,i)}function N4(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(Eu,Mi),Mi|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mr(Eu,Mi),Mi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,mr(Eu,Mi),Mi|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,mr(Eu,Mi),Mi|=n;return li(t,e,i,r),e.child}function Q4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function J1(t,e,r,n,i){var s=_i(r)?nc:ti.current;return s=Vu(e,s),Uu(e,i),r=oB(t,e,r,n,s,i),n=aB(),t!==null&&!xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bo(t,e,i)):(xr&&n&&$2(e),e.flags|=1,li(t,e,r,i),e.child)}function C5(t,e,r,n,i){if(_i(r)){var s=!0;y0(e)}else s=!1;if(Uu(e,i),e.stateNode===null)jg(t,e),F4(e,r,n),q1(e,r,n,i),n=!0;else if(t===null){var A=e.stateNode,a=e.memoizedProps;A.props=a;var o=A.context,l=r.contextType;typeof l=="object"&&l!==null?l=vs(l):(l=_i(r)?nc:ti.current,l=Vu(e,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof A.getSnapshotBeforeUpdate=="function";d||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==n||o!==l)&&g5(e,A,n,l),ma=!1;var p=e.memoizedState;A.state=p,E0(e,n,A,i),o=e.memoizedState,a!==n||p!==o||Ei.current||ma?(typeof c=="function"&&(G1(e,r,c,n),o=e.memoizedState),(a=ma||p5(e,r,a,n,p,o,l))?(d||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=o),A.props=n,A.state=o,A.context=l,n=a):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{A=e.stateNode,a4(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Ps(e.type,a),A.props=l,d=e.pendingProps,p=A.context,o=r.contextType,typeof o=="object"&&o!==null?o=vs(o):(o=_i(r)?nc:ti.current,o=Vu(e,o));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==d||p!==o)&&g5(e,A,n,o),ma=!1,p=e.memoizedState,A.state=p,E0(e,n,A,i);var v=e.memoizedState;a!==d||p!==v||Ei.current||ma?(typeof g=="function"&&(G1(e,r,g,n),v=e.memoizedState),(l=ma||p5(e,r,l,n,p,v,o)||!1)?(c||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(n,v,o),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(n,v,o)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),A.props=n,A.state=v,A.context=o,n=l):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return X1(t,e,r,n,s,i)}function X1(t,e,r,n,i,s){Q4(t,e);var A=(e.flags&128)!==0;if(!n&&!A)return i&&o5(e,r,!1),Bo(t,e,s);n=e.stateNode,dL.current=e;var a=A&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&A?(e.child=zu(e,t.child,null,s),e.child=zu(e,null,a,s)):li(t,e,a,s),e.memoizedState=n.state,i&&o5(e,r,!0),e.child}function L4(t){var e=t.stateNode;e.pendingContext?A5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A5(t,e.context,!1),nB(t,e.containerInfo)}function b5(t,e,r,n,i){return Ku(),X2(i),e.flags|=256,li(t,e,r,n),e.child}var Y1={dehydrated:null,treeContext:null,retryLane:0};function Z1(t){return{baseLanes:t,cachePool:null,transitions:null}}function P4(t,e,r){var n=e.pendingProps,i=Er.current,s=!1,A=(e.flags&128)!==0,a;if((a=A)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),mr(Er,i&1),t===null)return z1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=n.children,t=n.fallback,s?(n=e.mode,s=e.child,A={mode:"hidden",children:A},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=A):s=Fm(A,n,0,null),t=zl(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Z1(r),e.memoizedState=Y1,t):uB(e,A));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hL(t,e,A,n,a,i,r);if(s){s=n.fallback,A=e.mode,i=t.child,a=i.sibling;var o={mode:"hidden",children:n.children};return!(A&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=o,e.deletions=null):(n=Da(i,o),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Da(a,s):(s=zl(s,A,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,A=t.child.memoizedState,A=A===null?Z1(r):{baseLanes:A.baseLanes|r,cachePool:null,transitions:A.transitions},s.memoizedState=A,s.childLanes=t.childLanes&~r,e.memoizedState=Y1,n}return s=t.child,t=s.sibling,n=Da(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function uB(t,e){return e=Fm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $p(t,e,r,n){return n!==null&&X2(n),zu(e,t.child,null,r),t=uB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hL(t,e,r,n,i,s,A){if(r)return e.flags&256?(e.flags&=-257,n=hw(Error(Ye(422))),$p(t,e,A,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Fm({mode:"visible",children:n.children},i,0,null),s=zl(s,i,A,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&zu(e,t.child,null,A),e.child.memoizedState=Z1(A),e.memoizedState=Y1,s);if(!(e.mode&1))return $p(t,e,A,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Ye(419)),n=hw(s,n,void 0),$p(t,e,A,n)}if(a=(A&t.childLanes)!==0,xi||a){if(n=yn,n!==null){switch(A&-A){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|A)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yo(t,i),Hs(n,t,i,-1))}return mB(),n=hw(Error(Ye(421))),$p(t,e,A,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_L.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Hi=Qa(i.nextSibling),zi=e,xr=!0,Os=null,t!==null&&(as[ls++]=so,as[ls++]=Ao,as[ls++]=ic,so=t.id,Ao=t.overflow,ic=e),e=uB(e,n.children),e.flags|=4096,e)}function x5(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),W1(t.return,e,r)}function fw(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function R4(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(li(t,e,n.children,r),n=Er.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x5(t,r,e);else if(t.tag===19)x5(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(mr(Er,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&_0(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),fw(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_0(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}fw(e,!0,r,null,s);break;case"together":fw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ac|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ye(153));if(e.child!==null){for(t=e.child,r=Da(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Da(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function fL(t,e,r){switch(e.tag){case 3:L4(e),Ku();break;case 5:l4(e);break;case 1:_i(e.type)&&y0(e);break;case 4:nB(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;mr(b0,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(mr(Er,Er.current&1),e.flags|=128,null):r&e.child.childLanes?P4(t,e,r):(mr(Er,Er.current&1),t=Bo(t,e,r),t!==null?t.sibling:null);mr(Er,Er.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return R4(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mr(Er,Er.current),n)break;return null;case 22:case 23:return e.lanes=0,N4(t,e,r)}return Bo(t,e,r)}var D4,ey,O4,M4;D4=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ey=function(){};O4=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ol(BA.current);var s=null;switch(r){case"input":i=C1(t,i),n=C1(t,n),s=[];break;case"select":i=Sr({},i,{value:void 0}),n=Sr({},n,{value:void 0}),s=[];break;case"textarea":i=E1(t,i),n=E1(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=v0)}I1(r,n);var A;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(A in a)a.hasOwnProperty(A)&&(r||(r={}),r[A]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ef.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var o=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&o!==a&&(o!=null||a!=null))if(l==="style")if(a){for(A in a)!a.hasOwnProperty(A)||o&&o.hasOwnProperty(A)||(r||(r={}),r[A]="");for(A in o)o.hasOwnProperty(A)&&a[A]!==o[A]&&(r||(r={}),r[A]=o[A])}else r||(s||(s=[]),s.push(l,r)),r=o;else l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(s=s||[]).push(l,o)):l==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(l,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ef.hasOwnProperty(l)?(o!=null&&l==="onScroll"&&yr("scroll",t),s||a===o||(s=[])):(s=s||[]).push(l,o))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};M4=function(t,e,r,n){r!==n&&(e.flags|=4)};function $d(t,e){if(!xr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function pL(t,e,r){var n=e.pendingProps;switch(J2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(e),null;case 1:return _i(e.type)&&w0(),Vn(e),null;case 3:return n=e.stateNode,Wu(),Cr(Ei),Cr(ti),sB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Gp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Os!==null&&(ay(Os),Os=null))),ey(t,e),Vn(e),null;case 5:iB(e);var i=Ol(hf.current);if(r=e.type,t!==null&&e.stateNode!=null)O4(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ye(166));return Vn(e),null}if(t=Ol(BA.current),Gp(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[hA]=e,n[uf]=s,t=(e.mode&1)!==0,r){case"dialog":yr("cancel",n),yr("close",n);break;case"iframe":case"object":case"embed":yr("load",n);break;case"video":case"audio":for(i=0;i<ch.length;i++)yr(ch[i],n);break;case"source":yr("error",n);break;case"img":case"image":case"link":yr("error",n),yr("load",n);break;case"details":yr("toggle",n);break;case"input":Nb(n,s),yr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},yr("invalid",n);break;case"textarea":Lb(n,s),yr("invalid",n)}I1(r,s),i=null;for(var A in s)if(s.hasOwnProperty(A)){var a=s[A];A==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wp(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wp(n.textContent,a,t),i=["children",""+a]):ef.hasOwnProperty(A)&&a!=null&&A==="onScroll"&&yr("scroll",n)}switch(r){case"input":Dp(n),Qb(n,s,!0);break;case"textarea":Dp(n),Pb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=v0)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{A=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fI(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=A.createElement(r,{is:n.is}):(t=A.createElement(r),r==="select"&&(A=t,n.multiple?A.multiple=!0:n.size&&(A.size=n.size))):t=A.createElementNS(t,r),t[hA]=e,t[uf]=n,D4(t,e,!1,!1),e.stateNode=t;e:{switch(A=S1(r,n),r){case"dialog":yr("cancel",t),yr("close",t),i=n;break;case"iframe":case"object":case"embed":yr("load",t),i=n;break;case"video":case"audio":for(i=0;i<ch.length;i++)yr(ch[i],t);i=n;break;case"source":yr("error",t),i=n;break;case"img":case"image":case"link":yr("error",t),yr("load",t),i=n;break;case"details":yr("toggle",t),i=n;break;case"input":Nb(t,n),i=C1(t,n),yr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Sr({},n,{value:void 0}),yr("invalid",t);break;case"textarea":Lb(t,n),i=E1(t,n),yr("invalid",t);break;default:i=n}I1(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="style"?mI(t,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&pI(t,o)):s==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&tf(t,o):typeof o=="number"&&tf(t,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ef.hasOwnProperty(s)?o!=null&&s==="onScroll"&&yr("scroll",t):o!=null&&L2(t,s,o,A))}switch(r){case"input":Dp(t),Qb(t,n,!1);break;case"textarea":Dp(t),Pb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+za(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Su(t,!!n.multiple,s,!1):n.defaultValue!=null&&Su(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=v0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vn(e),null;case 6:if(t&&e.stateNode!=null)M4(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ye(166));if(r=Ol(hf.current),Ol(BA.current),Gp(e)){if(n=e.stateNode,r=e.memoizedProps,n[hA]=e,(s=n.nodeValue!==r)&&(t=zi,t!==null))switch(t.tag){case 3:Wp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wp(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hA]=e,e.stateNode=n}return Vn(e),null;case 13:if(Cr(Er),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xr&&Hi!==null&&e.mode&1&&!(e.flags&128))i4(),Ku(),e.flags|=98560,s=!1;else if(s=Gp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Ye(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ye(317));s[hA]=e}else Ku(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vn(e),s=!1}else Os!==null&&(ay(Os),Os=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Er.current&1?dn===0&&(dn=3):mB())),e.updateQueue!==null&&(e.flags|=4),Vn(e),null);case 4:return Wu(),ey(t,e),t===null&&lf(e.stateNode.containerInfo),Vn(e),null;case 10:return eB(e.type._context),Vn(e),null;case 17:return _i(e.type)&&w0(),Vn(e),null;case 19:if(Cr(Er),s=e.memoizedState,s===null)return Vn(e),null;if(n=(e.flags&128)!==0,A=s.rendering,A===null)if(n)$d(s,!1);else{if(dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=_0(t),A!==null){for(e.flags|=128,$d(s,!1),n=A.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,A=s.alternate,A===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=A.childLanes,s.lanes=A.lanes,s.child=A.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=A.memoizedProps,s.memoizedState=A.memoizedState,s.updateQueue=A.updateQueue,s.type=A.type,t=A.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return mr(Er,Er.current&1|2),e.child}t=t.sibling}s.tail!==null&&Wr()>qu&&(e.flags|=128,n=!0,$d(s,!1),e.lanes=4194304)}else{if(!n)if(t=_0(A),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),$d(s,!0),s.tail===null&&s.tailMode==="hidden"&&!A.alternate&&!xr)return Vn(e),null}else 2*Wr()-s.renderingStartTime>qu&&r!==1073741824&&(e.flags|=128,n=!0,$d(s,!1),e.lanes=4194304);s.isBackwards?(A.sibling=e.child,e.child=A):(r=s.last,r!==null?r.sibling=A:e.child=A,s.last=A)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Wr(),e.sibling=null,r=Er.current,mr(Er,n?r&1|2:r&1),e):(Vn(e),null);case 22:case 23:return gB(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Mi&1073741824&&(Vn(e),e.subtreeFlags&6&&(e.flags|=8192)):Vn(e),null;case 24:return null;case 25:return null}throw Error(Ye(156,e.tag))}function gL(t,e){switch(J2(e),e.tag){case 1:return _i(e.type)&&w0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wu(),Cr(Ei),Cr(ti),sB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iB(e),null;case 13:if(Cr(Er),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ye(340));Ku()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cr(Er),null;case 4:return Wu(),null;case 10:return eB(e.type._context),null;case 22:case 23:return gB(),null;case 24:return null;default:return null}}var Jp=!1,Yn=!1,mL=typeof WeakSet=="function"?WeakSet:Set,ft=null;function xu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qr(t,e,n)}else r.current=null}function ty(t,e,r){try{r()}catch(n){Qr(t,e,n)}}var E5=!1;function vL(t,e){if(D1=p0,t=zI(),q2(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var A=0,a=-1,o=-1,l=0,c=0,d=t,p=null;t:for(;;){for(var g;d!==r||i!==0&&d.nodeType!==3||(a=A+i),d!==s||n!==0&&d.nodeType!==3||(o=A+n),d.nodeType===3&&(A+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===r&&++l===i&&(a=A),p===s&&++c===n&&(o=A),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}r=a===-1||o===-1?null:{start:a,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(O1={focusedElem:t,selectionRange:r},p0=!1,ft=e;ft!==null;)if(e=ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ft=t;else for(;ft!==null;){e=ft;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,T=v.memoizedState,w=e.stateNode,B=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ps(e.type,x),T);w.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(L){Qr(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,ft=t;break}ft=e.return}return v=E5,E5=!1,v}function Nh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ty(e,r,s)}i=i.next}while(i!==n)}}function Im(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ry(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function j4(t){var e=t.alternate;e!==null&&(t.alternate=null,j4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hA],delete e[uf],delete e[H1],delete e[eL],delete e[tL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function H4(t){return t.tag===5||t.tag===3||t.tag===4}function _5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ny(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=v0));else if(n!==4&&(t=t.child,t!==null))for(ny(t,e,r),t=t.sibling;t!==null;)ny(t,e,r),t=t.sibling}function iy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(iy(t,e,r),t=t.sibling;t!==null;)iy(t,e,r),t=t.sibling}var In=null,Ds=!1;function la(t,e,r){for(r=r.child;r!==null;)V4(t,e,r),r=r.sibling}function V4(t,e,r){if(yA&&typeof yA.onCommitFiberUnmount=="function")try{yA.onCommitFiberUnmount(wm,r)}catch{}switch(r.tag){case 5:Yn||xu(r,e);case 6:var n=In,i=Ds;In=null,la(t,e,r),In=n,Ds=i,In!==null&&(Ds?(t=In,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):In.removeChild(r.stateNode));break;case 18:In!==null&&(Ds?(t=In,r=r.stateNode,t.nodeType===8?ow(t.parentNode,r):t.nodeType===1&&ow(t,r),Af(t)):ow(In,r.stateNode));break;case 4:n=In,i=Ds,In=r.stateNode.containerInfo,Ds=!0,la(t,e,r),In=n,Ds=i;break;case 0:case 11:case 14:case 15:if(!Yn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,A=s.destroy;s=s.tag,A!==void 0&&(s&2||s&4)&&ty(r,e,A),i=i.next}while(i!==n)}la(t,e,r);break;case 1:if(!Yn&&(xu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Qr(r,e,a)}la(t,e,r);break;case 21:la(t,e,r);break;case 22:r.mode&1?(Yn=(n=Yn)||r.memoizedState!==null,la(t,e,r),Yn=n):la(t,e,r);break;default:la(t,e,r)}}function I5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new mL),e.forEach(function(n){var i=IL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Us(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,A=e,a=A;e:for(;a!==null;){switch(a.tag){case 5:In=a.stateNode,Ds=!1;break e;case 3:In=a.stateNode.containerInfo,Ds=!0;break e;case 4:In=a.stateNode.containerInfo,Ds=!0;break e}a=a.return}if(In===null)throw Error(Ye(160));V4(s,A,i),In=null,Ds=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(l){Qr(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)K4(e,t),e=e.sibling}function K4(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Us(e,t),lA(t),n&4){try{Nh(3,t,t.return),Im(3,t)}catch(x){Qr(t,t.return,x)}try{Nh(5,t,t.return)}catch(x){Qr(t,t.return,x)}}break;case 1:Us(e,t),lA(t),n&512&&r!==null&&xu(r,r.return);break;case 5:if(Us(e,t),lA(t),n&512&&r!==null&&xu(r,r.return),t.flags&32){var i=t.stateNode;try{tf(i,"")}catch(x){Qr(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,A=r!==null?r.memoizedProps:s,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dI(i,s),S1(a,A);var l=S1(a,s);for(A=0;A<o.length;A+=2){var c=o[A],d=o[A+1];c==="style"?mI(i,d):c==="dangerouslySetInnerHTML"?pI(i,d):c==="children"?tf(i,d):L2(i,c,d,l)}switch(a){case"input":b1(i,s);break;case"textarea":hI(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Su(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Su(i,!!s.multiple,s.defaultValue,!0):Su(i,!!s.multiple,s.multiple?[]:"",!1))}i[uf]=s}catch(x){Qr(t,t.return,x)}}break;case 6:if(Us(e,t),lA(t),n&4){if(t.stateNode===null)throw Error(Ye(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Qr(t,t.return,x)}}break;case 3:if(Us(e,t),lA(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Af(e.containerInfo)}catch(x){Qr(t,t.return,x)}break;case 4:Us(e,t),lA(t);break;case 13:Us(e,t),lA(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fB=Wr())),n&4&&I5(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Yn=(l=Yn)||c,Us(e,t),Yn=l):Us(e,t),lA(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(ft=t,c=t.child;c!==null;){for(d=ft=c;ft!==null;){switch(p=ft,g=p.child,p.tag){case 0:case 11:case 14:case 15:Nh(4,p,p.return);break;case 1:xu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Qr(n,r,x)}}break;case 5:xu(p,p.return);break;case 22:if(p.memoizedState!==null){F5(d);continue}}g!==null?(g.return=p,ft=g):F5(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,o=d.memoizedProps.style,A=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=gI("display",A))}catch(x){Qr(t,t.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(x){Qr(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Us(e,t),lA(t),n&4&&I5(t);break;case 21:break;default:Us(e,t),lA(t)}}function lA(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(H4(r)){var n=r;break e}r=r.return}throw Error(Ye(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(tf(i,""),n.flags&=-33);var s=_5(t);iy(t,s,i);break;case 3:case 4:var A=n.stateNode.containerInfo,a=_5(t);ny(t,a,A);break;default:throw Error(Ye(161))}}catch(o){Qr(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wL(t,e,r){ft=t,z4(t)}function z4(t,e,r){for(var n=(t.mode&1)!==0;ft!==null;){var i=ft,s=i.child;if(i.tag===22&&n){var A=i.memoizedState!==null||Jp;if(!A){var a=i.alternate,o=a!==null&&a.memoizedState!==null||Yn;a=Jp;var l=Yn;if(Jp=A,(Yn=o)&&!l)for(ft=i;ft!==null;)A=ft,o=A.child,A.tag===22&&A.memoizedState!==null?T5(i):o!==null?(o.return=A,ft=o):T5(i);for(;s!==null;)ft=s,z4(s),s=s.sibling;ft=i,Jp=a,Yn=l}S5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ft=s):S5(t)}}function S5(t){for(;ft!==null;){var e=ft;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yn||Im(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Yn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ps(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&d5(e,s,n);break;case 3:var A=e.updateQueue;if(A!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}d5(e,A,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Af(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}Yn||e.flags&512&&ry(e)}catch(p){Qr(e,e.return,p)}}if(e===t){ft=null;break}if(r=e.sibling,r!==null){r.return=e.return,ft=r;break}ft=e.return}}function F5(t){for(;ft!==null;){var e=ft;if(e===t){ft=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ft=r;break}ft=e.return}}function T5(t){for(;ft!==null;){var e=ft;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Im(4,e)}catch(o){Qr(e,r,o)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(o){Qr(e,i,o)}}var s=e.return;try{ry(e)}catch(o){Qr(e,s,o)}break;case 5:var A=e.return;try{ry(e)}catch(o){Qr(e,A,o)}}}catch(o){Qr(e,e.return,o)}if(e===t){ft=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ft=a;break}ft=e.return}}var yL=Math.ceil,F0=Fo.ReactCurrentDispatcher,dB=Fo.ReactCurrentOwner,gs=Fo.ReactCurrentBatchConfig,Wt=0,yn=null,sn=null,Nn=0,Mi=0,Eu=rl(0),dn=0,mf=null,Ac=0,Sm=0,hB=0,Qh=null,bi=null,fB=0,qu=1/0,no=null,T0=!1,sy=null,Pa=null,Xp=!1,ba=null,k0=0,Lh=0,Ay=null,Hg=-1,Vg=0;function ci(){return Wt&6?Wr():Hg!==-1?Hg:Hg=Wr()}function Ra(t){return t.mode&1?Wt&2&&Nn!==0?Nn&-Nn:nL.transition!==null?(Vg===0&&(Vg=FI()),Vg):(t=sr,t!==0||(t=window.event,t=t===void 0?16:PI(t.type)),t):1}function Hs(t,e,r,n){if(50<Lh)throw Lh=0,Ay=null,Error(Ye(185));jf(t,r,n),(!(Wt&2)||t!==yn)&&(t===yn&&(!(Wt&2)&&(Sm|=r),dn===4&&ya(t,Nn)),Ii(t,n),r===1&&Wt===0&&!(e.mode&1)&&(qu=Wr()+500,xm&&nl()))}function Ii(t,e){var r=t.callbackNode;n3(t,e);var n=f0(t,t===yn?Nn:0);if(n===0)r!==null&&Ob(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ob(r),e===1)t.tag===0?rL(k5.bind(null,t)):t4(k5.bind(null,t)),Y3(function(){!(Wt&6)&&nl()}),r=null;else{switch(TI(n)){case 1:r=M2;break;case 4:r=II;break;case 16:r=h0;break;case 536870912:r=SI;break;default:r=h0}r=Z4(r,W4.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function W4(t,e){if(Hg=-1,Vg=0,Wt&6)throw Error(Ye(327));var r=t.callbackNode;if(Nu()&&t.callbackNode!==r)return null;var n=f0(t,t===yn?Nn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=U0(t,n);else{e=n;var i=Wt;Wt|=2;var s=q4();(yn!==t||Nn!==e)&&(no=null,qu=Wr()+500,Kl(t,e));do try{bL();break}catch(a){G4(t,a)}while(!0);Z2(),F0.current=s,Wt=i,sn!==null?e=0:(yn=null,Nn=0,e=dn)}if(e!==0){if(e===2&&(i=N1(t),i!==0&&(n=i,e=oy(t,i))),e===1)throw r=mf,Kl(t,0),ya(t,n),Ii(t,Wr()),r;if(e===6)ya(t,n);else{if(i=t.current.alternate,!(n&30)&&!BL(i)&&(e=U0(t,n),e===2&&(s=N1(t),s!==0&&(n=s,e=oy(t,s))),e===1))throw r=mf,Kl(t,0),ya(t,n),Ii(t,Wr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ye(345));case 2:Tl(t,bi,no);break;case 3:if(ya(t,n),(n&130023424)===n&&(e=fB+500-Wr(),10<e)){if(f0(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ci(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=j1(Tl.bind(null,t,bi,no),e);break}Tl(t,bi,no);break;case 4:if(ya(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var A=31-js(n);s=1<<A,A=e[A],A>i&&(i=A),n&=~s}if(n=i,n=Wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yL(n/1960))-n,10<n){t.timeoutHandle=j1(Tl.bind(null,t,bi,no),n);break}Tl(t,bi,no);break;case 5:Tl(t,bi,no);break;default:throw Error(Ye(329))}}}return Ii(t,Wr()),t.callbackNode===r?W4.bind(null,t):null}function oy(t,e){var r=Qh;return t.current.memoizedState.isDehydrated&&(Kl(t,e).flags|=256),t=U0(t,e),t!==2&&(e=bi,bi=r,e!==null&&ay(e)),t}function ay(t){bi===null?bi=t:bi.push.apply(bi,t)}function BL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Vs(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ya(t,e){for(e&=~hB,e&=~Sm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-js(e),n=1<<r;t[r]=-1,e&=~n}}function k5(t){if(Wt&6)throw Error(Ye(327));Nu();var e=f0(t,0);if(!(e&1))return Ii(t,Wr()),null;var r=U0(t,e);if(t.tag!==0&&r===2){var n=N1(t);n!==0&&(e=n,r=oy(t,n))}if(r===1)throw r=mf,Kl(t,0),ya(t,e),Ii(t,Wr()),r;if(r===6)throw Error(Ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tl(t,bi,no),Ii(t,Wr()),null}function pB(t,e){var r=Wt;Wt|=1;try{return t(e)}finally{Wt=r,Wt===0&&(qu=Wr()+500,xm&&nl())}}function oc(t){ba!==null&&ba.tag===0&&!(Wt&6)&&Nu();var e=Wt;Wt|=1;var r=gs.transition,n=sr;try{if(gs.transition=null,sr=1,t)return t()}finally{sr=n,gs.transition=r,Wt=e,!(Wt&6)&&nl()}}function gB(){Mi=Eu.current,Cr(Eu)}function Kl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,X3(r)),sn!==null)for(r=sn.return;r!==null;){var n=r;switch(J2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&w0();break;case 3:Wu(),Cr(Ei),Cr(ti),sB();break;case 5:iB(n);break;case 4:Wu();break;case 13:Cr(Er);break;case 19:Cr(Er);break;case 10:eB(n.type._context);break;case 22:case 23:gB()}r=r.return}if(yn=t,sn=t=Da(t.current,null),Nn=Mi=e,dn=0,mf=null,hB=Sm=Ac=0,bi=Qh=null,Dl!==null){for(e=0;e<Dl.length;e++)if(r=Dl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var A=s.next;s.next=i,n.next=A}r.pending=n}Dl=null}return t}function G4(t,e){do{var r=sn;try{if(Z2(),Og.current=S0,I0){for(var n=_r.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}I0=!1}if(sc=0,wn=an=_r=null,Uh=!1,ff=0,dB.current=null,r===null||r.return===null){dn=1,mf=e,sn=null;break}e:{var s=t,A=r.return,a=r,o=e;if(e=Nn,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var l=o,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=v5(A);if(g!==null){g.flags&=-257,w5(g,A,a,s,e),g.mode&1&&m5(s,l,e),e=g,o=l;var v=e.updateQueue;if(v===null){var x=new Set;x.add(o),e.updateQueue=x}else v.add(o);break e}else{if(!(e&1)){m5(s,l,e),mB();break e}o=Error(Ye(426))}}else if(xr&&a.mode&1){var T=v5(A);if(T!==null){!(T.flags&65536)&&(T.flags|=256),w5(T,A,a,s,e),X2(Gu(o,a));break e}}s=o=Gu(o,a),dn!==4&&(dn=2),Qh===null?Qh=[s]:Qh.push(s),s=A;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=T4(s,o,e);u5(s,w);break e;case 1:a=o;var B=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof B.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Pa===null||!Pa.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=k4(s,a,e);u5(s,L);break e}}s=s.return}while(s!==null)}J4(r)}catch(D){e=D,sn===r&&r!==null&&(sn=r=r.return);continue}break}while(!0)}function q4(){var t=F0.current;return F0.current=S0,t===null?S0:t}function mB(){(dn===0||dn===3||dn===2)&&(dn=4),yn===null||!(Ac&268435455)&&!(Sm&268435455)||ya(yn,Nn)}function U0(t,e){var r=Wt;Wt|=2;var n=q4();(yn!==t||Nn!==e)&&(no=null,Kl(t,e));do try{CL();break}catch(i){G4(t,i)}while(!0);if(Z2(),Wt=r,F0.current=n,sn!==null)throw Error(Ye(261));return yn=null,Nn=0,dn}function CL(){for(;sn!==null;)$4(sn)}function bL(){for(;sn!==null&&!qQ();)$4(sn)}function $4(t){var e=Y4(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,e===null?J4(t):sn=e,dB.current=null}function J4(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=gL(r,e),r!==null){r.flags&=32767,sn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dn=6,sn=null;return}}else if(r=pL(r,e,Mi),r!==null){sn=r;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);dn===0&&(dn=5)}function Tl(t,e,r){var n=sr,i=gs.transition;try{gs.transition=null,sr=1,xL(t,e,r,n)}finally{gs.transition=i,sr=n}return null}function xL(t,e,r,n){do Nu();while(ba!==null);if(Wt&6)throw Error(Ye(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ye(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(i3(t,s),t===yn&&(sn=yn=null,Nn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xp||(Xp=!0,Z4(h0,function(){return Nu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=gs.transition,gs.transition=null;var A=sr;sr=1;var a=Wt;Wt|=4,dB.current=null,vL(t,r),K4(r,t),K3(O1),p0=!!D1,O1=D1=null,t.current=r,wL(r),$Q(),Wt=a,sr=A,gs.transition=s}else t.current=r;if(Xp&&(Xp=!1,ba=t,k0=i),s=t.pendingLanes,s===0&&(Pa=null),YQ(r.stateNode),Ii(t,Wr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(T0)throw T0=!1,t=sy,sy=null,t;return k0&1&&t.tag!==0&&Nu(),s=t.pendingLanes,s&1?t===Ay?Lh++:(Lh=0,Ay=t):Lh=0,nl(),null}function Nu(){if(ba!==null){var t=TI(k0),e=gs.transition,r=sr;try{if(gs.transition=null,sr=16>t?16:t,ba===null)var n=!1;else{if(t=ba,ba=null,k0=0,Wt&6)throw Error(Ye(331));var i=Wt;for(Wt|=4,ft=t.current;ft!==null;){var s=ft,A=s.child;if(ft.flags&16){var a=s.deletions;if(a!==null){for(var o=0;o<a.length;o++){var l=a[o];for(ft=l;ft!==null;){var c=ft;switch(c.tag){case 0:case 11:case 15:Nh(8,c,s)}var d=c.child;if(d!==null)d.return=c,ft=d;else for(;ft!==null;){c=ft;var p=c.sibling,g=c.return;if(j4(c),c===l){ft=null;break}if(p!==null){p.return=g,ft=p;break}ft=g}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}ft=s}}if(s.subtreeFlags&2064&&A!==null)A.return=s,ft=A;else e:for(;ft!==null;){if(s=ft,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nh(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ft=w;break e}ft=s.return}}var B=t.current;for(ft=B;ft!==null;){A=ft;var C=A.child;if(A.subtreeFlags&2064&&C!==null)C.return=A,ft=C;else e:for(A=B;ft!==null;){if(a=ft,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Im(9,a)}}catch(D){Qr(a,a.return,D)}if(a===A){ft=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,ft=L;break e}ft=a.return}}if(Wt=i,nl(),yA&&typeof yA.onPostCommitFiberRoot=="function")try{yA.onPostCommitFiberRoot(wm,t)}catch{}n=!0}return n}finally{sr=r,gs.transition=e}}return!1}function U5(t,e,r){e=Gu(r,e),e=T4(t,e,1),t=La(t,e,1),e=ci(),t!==null&&(jf(t,1,e),Ii(t,e))}function Qr(t,e,r){if(t.tag===3)U5(t,t,r);else for(;e!==null;){if(e.tag===3){U5(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pa===null||!Pa.has(n))){t=Gu(r,t),t=k4(e,t,1),e=La(e,t,1),t=ci(),e!==null&&(jf(e,1,t),Ii(e,t));break}}e=e.return}}function EL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ci(),t.pingedLanes|=t.suspendedLanes&r,yn===t&&(Nn&r)===r&&(dn===4||dn===3&&(Nn&130023424)===Nn&&500>Wr()-fB?Kl(t,0):hB|=r),Ii(t,e)}function X4(t,e){e===0&&(t.mode&1?(e=jp,jp<<=1,!(jp&130023424)&&(jp=4194304)):e=1);var r=ci();t=yo(t,e),t!==null&&(jf(t,e,r),Ii(t,r))}function _L(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),X4(t,r)}function IL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ye(314))}n!==null&&n.delete(e),X4(t,r)}var Y4;Y4=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ei.current)xi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xi=!1,fL(t,e,r);xi=!!(t.flags&131072)}else xi=!1,xr&&e.flags&1048576&&r4(e,C0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;jg(t,e),t=e.pendingProps;var i=Vu(e,ti.current);Uu(e,r),i=oB(null,e,n,t,i,r);var s=aB();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_i(n)?(s=!0,y0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rB(e),i.updater=_m,e.stateNode=i,i._reactInternals=e,q1(e,n,t,r),e=X1(null,e,n,!0,s,r)):(e.tag=0,xr&&s&&$2(e),li(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(jg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=FL(n),t=Ps(n,t),i){case 0:e=J1(null,e,n,t,r);break e;case 1:e=C5(null,e,n,t,r);break e;case 11:e=y5(null,e,n,t,r);break e;case 14:e=B5(null,e,n,Ps(n.type,t),r);break e}throw Error(Ye(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ps(n,i),J1(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ps(n,i),C5(t,e,n,i,r);case 3:e:{if(L4(e),t===null)throw Error(Ye(387));n=e.pendingProps,s=e.memoizedState,i=s.element,a4(t,e),E0(e,n,null,r);var A=e.memoizedState;if(n=A.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gu(Error(Ye(423)),e),e=b5(t,e,n,r,i);break e}else if(n!==i){i=Gu(Error(Ye(424)),e),e=b5(t,e,n,r,i);break e}else for(Hi=Qa(e.stateNode.containerInfo.firstChild),zi=e,xr=!0,Os=null,r=A4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ku(),n===i){e=Bo(t,e,r);break e}li(t,e,n,r)}e=e.child}return e;case 5:return l4(e),t===null&&z1(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,A=i.children,M1(n,i)?A=null:s!==null&&M1(n,s)&&(e.flags|=32),Q4(t,e),li(t,e,A,r),e.child;case 6:return t===null&&z1(e),null;case 13:return P4(t,e,r);case 4:return nB(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=zu(e,null,n,r):li(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ps(n,i),y5(t,e,n,i,r);case 7:return li(t,e,e.pendingProps,r),e.child;case 8:return li(t,e,e.pendingProps.children,r),e.child;case 12:return li(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,A=i.value,mr(b0,n._currentValue),n._currentValue=A,s!==null)if(Vs(s.value,A)){if(s.children===i.children&&!Ei.current){e=Bo(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){A=s.child;for(var o=a.firstContext;o!==null;){if(o.context===n){if(s.tag===1){o=fo(-1,r&-r),o.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?o.next=o:(o.next=c.next,c.next=o),l.pending=o}}s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),W1(s.return,r,e),a.lanes|=r;break}o=o.next}}else if(s.tag===10)A=s.type===e.type?null:s.child;else if(s.tag===18){if(A=s.return,A===null)throw Error(Ye(341));A.lanes|=r,a=A.alternate,a!==null&&(a.lanes|=r),W1(A,r,e),A=s.sibling}else A=s.child;if(A!==null)A.return=s;else for(A=s;A!==null;){if(A===e){A=null;break}if(s=A.sibling,s!==null){s.return=A.return,A=s;break}A=A.return}s=A}li(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Uu(e,r),i=vs(i),n=n(i),e.flags|=1,li(t,e,n,r),e.child;case 14:return n=e.type,i=Ps(n,e.pendingProps),i=Ps(n.type,i),B5(t,e,n,i,r);case 15:return U4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ps(n,i),jg(t,e),e.tag=1,_i(n)?(t=!0,y0(e)):t=!1,Uu(e,r),F4(e,n,i),q1(e,n,i,r),X1(null,e,n,!0,t,r);case 19:return R4(t,e,r);case 22:return N4(t,e,r)}throw Error(Ye(156,e.tag))};function Z4(t,e){return _I(t,e)}function SL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(t,e,r,n){return new SL(t,e,r,n)}function vB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FL(t){if(typeof t=="function")return vB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===R2)return 11;if(t===D2)return 14}return 2}function Da(t,e){var r=t.alternate;return r===null?(r=hs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Kg(t,e,r,n,i,s){var A=2;if(n=t,typeof t=="function")vB(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case pu:return zl(r.children,i,s,e);case P2:A=8,i|=8;break;case v1:return t=hs(12,r,e,i|2),t.elementType=v1,t.lanes=s,t;case w1:return t=hs(13,r,e,i),t.elementType=w1,t.lanes=s,t;case y1:return t=hs(19,r,e,i),t.elementType=y1,t.lanes=s,t;case lI:return Fm(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oI:A=10;break e;case aI:A=9;break e;case R2:A=11;break e;case D2:A=14;break e;case ga:A=16,n=null;break e}throw Error(Ye(130,t==null?t:typeof t,""))}return e=hs(A,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function zl(t,e,r,n){return t=hs(7,t,n,e),t.lanes=r,t}function Fm(t,e,r,n){return t=hs(22,t,n,e),t.elementType=lI,t.lanes=r,t.stateNode={isHidden:!1},t}function pw(t,e,r){return t=hs(6,t,null,e),t.lanes=r,t}function gw(t,e,r){return e=hs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jv(0),this.expirationTimes=Jv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wB(t,e,r,n,i,s,A,a,o){return t=new TL(t,e,r,a,o),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rB(s),t}function kL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function eS(t){if(!t)return Wa;t=t._reactInternals;e:{if(gc(t)!==t||t.tag!==1)throw Error(Ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ye(171))}if(t.tag===1){var r=t.type;if(_i(r))return e4(t,r,e)}return e}function tS(t,e,r,n,i,s,A,a,o){return t=wB(r,n,!0,t,i,s,A,a,o),t.context=eS(null),r=t.current,n=ci(),i=Ra(r),s=fo(n,i),s.callback=e??null,La(r,s,i),t.current.lanes=i,jf(t,i,n),Ii(t,n),t}function Tm(t,e,r,n){var i=e.current,s=ci(),A=Ra(i);return r=eS(r),e.context===null?e.context=r:e.pendingContext=r,e=fo(s,A),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=La(i,e,A),t!==null&&(Hs(t,i,A,s),Dg(t,i,A)),A}function N0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function N5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function yB(t,e){N5(t,e),(t=t.alternate)&&N5(t,e)}function UL(){return null}var rS=typeof reportError=="function"?reportError:function(t){console.error(t)};function BB(t){this._internalRoot=t}km.prototype.render=BB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ye(409));Tm(t,e,null,null)};km.prototype.unmount=BB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oc(function(){Tm(null,t,null,null)}),e[wo]=null}};function km(t){this._internalRoot=t}km.prototype.unstable_scheduleHydration=function(t){if(t){var e=NI();t={blockedOn:null,target:t,priority:e};for(var r=0;r<wa.length&&e!==0&&e<wa[r].priority;r++);wa.splice(r,0,t),r===0&&LI(t)}};function CB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Q5(){}function NL(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=N0(A);s.call(l)}}var A=tS(e,n,t,0,null,!1,!1,"",Q5);return t._reactRootContainer=A,t[wo]=A.current,lf(t.nodeType===8?t.parentNode:t),oc(),A}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=N0(o);a.call(l)}}var o=wB(t,0,!1,null,null,!1,!1,"",Q5);return t._reactRootContainer=o,t[wo]=o.current,lf(t.nodeType===8?t.parentNode:t),oc(function(){Tm(e,o,r,n)}),o}function Nm(t,e,r,n,i){var s=r._reactRootContainer;if(s){var A=s;if(typeof i=="function"){var a=i;i=function(){var o=N0(A);a.call(o)}}Tm(e,A,t,i)}else A=NL(r,e,t,i,n);return N0(A)}kI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=lh(e.pendingLanes);r!==0&&(j2(e,r|1),Ii(e,Wr()),!(Wt&6)&&(qu=Wr()+500,nl()))}break;case 13:oc(function(){var n=yo(t,1);if(n!==null){var i=ci();Hs(n,t,1,i)}}),yB(t,1)}};H2=function(t){if(t.tag===13){var e=yo(t,134217728);if(e!==null){var r=ci();Hs(e,t,134217728,r)}yB(t,134217728)}};UI=function(t){if(t.tag===13){var e=Ra(t),r=yo(t,e);if(r!==null){var n=ci();Hs(r,t,e,n)}yB(t,e)}};NI=function(){return sr};QI=function(t,e){var r=sr;try{return sr=t,e()}finally{sr=r}};T1=function(t,e,r){switch(e){case"input":if(b1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=bm(n);if(!i)throw Error(Ye(90));uI(n),b1(n,i)}}}break;case"textarea":hI(t,r);break;case"select":e=r.value,e!=null&&Su(t,!!r.multiple,e,!1)}};yI=pB;BI=oc;var QL={usingClientEntryPoint:!1,Events:[Vf,wu,bm,vI,wI,pB]},Jd={findFiberByHostInstance:Rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LL={bundleType:Jd.bundleType,version:Jd.version,rendererPackageName:Jd.rendererPackageName,rendererConfig:Jd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xI(t),t===null?null:t.stateNode},findFiberByHostInstance:Jd.findFiberByHostInstance||UL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{wm=Yp.inject(LL),yA=Yp}catch{}}qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QL;qi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CB(e))throw Error(Ye(200));return kL(t,e,null,r)};qi.createRoot=function(t,e){if(!CB(t))throw Error(Ye(299));var r=!1,n="",i=rS;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wB(t,1,!1,null,null,r,!1,n,i),t[wo]=e.current,lf(t.nodeType===8?t.parentNode:t),new BB(e)};qi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ye(188)):(t=Object.keys(t).join(","),Error(Ye(268,t)));return t=xI(e),t=t===null?null:t.stateNode,t};qi.flushSync=function(t){return oc(t)};qi.hydrate=function(t,e,r){if(!Um(e))throw Error(Ye(200));return Nm(null,t,e,!0,r)};qi.hydrateRoot=function(t,e,r){if(!CB(t))throw Error(Ye(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",A=rS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),e=tS(e,null,t,1,r??null,i,!1,s,A),t[wo]=e.current,lf(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new km(e)};qi.render=function(t,e,r){if(!Um(e))throw Error(Ye(200));return Nm(null,t,e,!1,r)};qi.unmountComponentAtNode=function(t){if(!Um(t))throw Error(Ye(40));return t._reactRootContainer?(oc(function(){Nm(null,null,t,!1,function(){t._reactRootContainer=null,t[wo]=null})}),!0):!1};qi.unstable_batchedUpdates=pB;qi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Um(r))throw Error(Ye(200));if(t==null||t._reactInternals===void 0)throw Error(Ye(38));return Nm(t,e,r,!1,n)};qi.version="18.3.1-next-f1338f8080-20240426";function nS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nS)}catch(t){console.error(t)}}nS(),nI.exports=qi;var PL=nI.exports,L5=PL;g1.createRoot=L5.createRoot,g1.hydrateRoot=L5.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}var xa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xa||(xa={}));const P5="popstate";function RL(t){t===void 0&&(t={});function e(i,s){let{pathname:A="/",search:a="",hash:o=""}=mc(i.location.hash.substr(1));return!A.startsWith("/")&&!A.startsWith(".")&&(A="/"+A),ly("",{pathname:A,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let A=i.document.querySelector("base"),a="";if(A&&A.getAttribute("href")){let o=i.location.href,l=o.indexOf("#");a=l===-1?o:o.slice(0,l)}return a+"#"+(typeof s=="string"?s:Q0(s))}function n(i,s){Qm(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return OL(e,r,n,t)}function Ir(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DL(){return Math.random().toString(36).substr(2,8)}function R5(t,e){return{usr:t.state,key:t.key,idx:e}}function ly(t,e,r,n){return r===void 0&&(r=null),vf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mc(e):e,{state:r,key:e&&e.key||n||DL()})}function Q0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function OL(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,A=i.history,a=xa.Pop,o=null,l=c();l==null&&(l=0,A.replaceState(vf({},A.state,{idx:l}),""));function c(){return(A.state||{idx:null}).idx}function d(){a=xa.Pop;let T=c(),w=T==null?null:T-l;l=T,o&&o({action:a,location:x.location,delta:w})}function p(T,w){a=xa.Push;let B=ly(x.location,T,w);r&&r(B,T),l=c()+1;let C=R5(B,l),L=x.createHref(B);try{A.pushState(C,"",L)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(L)}s&&o&&o({action:a,location:x.location,delta:1})}function g(T,w){a=xa.Replace;let B=ly(x.location,T,w);r&&r(B,T),l=c();let C=R5(B,l),L=x.createHref(B);A.replaceState(C,"",L),s&&o&&o({action:a,location:x.location,delta:0})}function v(T){let w=i.location.origin!=="null"?i.location.origin:i.location.href,B=typeof T=="string"?T:Q0(T);return B=B.replace(/ $/,"%20"),Ir(w,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,w)}let x={get action(){return a},get location(){return t(i,A)},listen(T){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(P5,d),o=T,()=>{i.removeEventListener(P5,d),o=null}},createHref(T){return e(i,T)},createURL:v,encodeLocation(T){let w=v(T);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(T){return A.go(T)}};return x}var D5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(D5||(D5={}));function ML(t,e,r){return r===void 0&&(r="/"),jL(t,e,r)}function jL(t,e,r,n){let i=typeof e=="string"?mc(e):e,s=$u(i.pathname||"/",r);if(s==null)return null;let A=iS(t);HL(A);let a=null;for(let o=0;a==null&&o<A.length;++o){let l=ZL(s);a=XL(A[o],l)}return a}function iS(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,A,a)=>{let o={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:A,route:s};o.relativePath.startsWith("/")&&(Ir(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let l=Oa([n,o.relativePath]),c=r.concat(o);s.children&&s.children.length>0&&(Ir(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),iS(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:$L(l,s.index),routesMeta:c})};return t.forEach((s,A)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,A);else for(let o of sS(s.path))i(s,A,o)}),e}function sS(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let A=sS(n.join("/")),a=[];return a.push(...A.map(o=>o===""?s:[s,o].join("/"))),i&&a.push(...A),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function HL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:JL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const VL=/^:[\w-]+$/,KL=3,zL=2,WL=1,GL=10,qL=-2,O5=t=>t==="*";function $L(t,e){let r=t.split("/"),n=r.length;return r.some(O5)&&(n+=qL),e&&(n+=zL),r.filter(i=>!O5(i)).reduce((i,s)=>i+(VL.test(s)?KL:s===""?WL:GL),n)}function JL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function XL(t,e,r){let{routesMeta:n}=t,i={},s="/",A=[];for(let a=0;a<n.length;++a){let o=n[a],l=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=cy({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c),p=o.route;if(!d)return null;Object.assign(i,d.params),A.push({params:i,pathname:Oa([s,d.pathname]),pathnameBase:iP(Oa([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Oa([s,d.pathnameBase]))}return A}function cy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=YL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],A=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((l,c,d)=>{let{paramName:p,isOptional:g}=c;if(p==="*"){let x=a[d]||"";A=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[d];return g&&!v?l[p]=void 0:l[p]=(v||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:A,pattern:t}}function YL(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Qm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,a,o)=>(n.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ZL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $u(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const eP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tP=t=>eP.test(t);function rP(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?mc(t):t,s;if(r)if(tP(r))s=r;else{if(r.includes("//")){let A=r;r=r.replace(/\/\/+/g,"/"),Qm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(A+" -> "+r))}r.startsWith("/")?s=M5(r.substring(1),"/"):s=M5(r,e)}else s=e;return{pathname:s,search:sP(n),hash:AP(i)}}function M5(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function mw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nP(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function bB(t,e){let r=nP(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xB(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=mc(t):(i=vf({},t),Ir(!i.pathname||!i.pathname.includes("?"),mw("?","pathname","search",i)),Ir(!i.pathname||!i.pathname.includes("#"),mw("#","pathname","hash",i)),Ir(!i.search||!i.search.includes("#"),mw("#","search","hash",i)));let s=t===""||i.pathname==="",A=s?"/":i.pathname,a;if(A==null)a=r;else{let d=e.length-1;if(!n&&A.startsWith("..")){let p=A.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let o=rP(i,a),l=A&&A!=="/"&&A.endsWith("/"),c=(s||A===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(l||c)&&(o.pathname+="/"),o}const Oa=t=>t.join("/").replace(/\/\/+/g,"/"),iP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AS=["post","put","patch","delete"];new Set(AS);const aP=["get",...AS];new Set(aP);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wf.apply(this,arguments)}const Lm=le.createContext(null),oS=le.createContext(null),To=le.createContext(null),Pm=le.createContext(null),ko=le.createContext({outlet:null,matches:[],isDataRoute:!1}),aS=le.createContext(null);function lP(t,e){let{relative:r}=e===void 0?{}:e;dd()||Ir(!1);let{basename:n,navigator:i}=le.useContext(To),{hash:s,pathname:A,search:a}=Rm(t,{relative:r}),o=A;return n!=="/"&&(o=A==="/"?n:Oa([n,A])),i.createHref({pathname:o,search:a,hash:s})}function dd(){return le.useContext(Pm)!=null}function il(){return dd()||Ir(!1),le.useContext(Pm).location}function lS(t){le.useContext(To).static||le.useLayoutEffect(t)}function hd(){let{isDataRoute:t}=le.useContext(ko);return t?xP():cP()}function cP(){dd()||Ir(!1);let t=le.useContext(Lm),{basename:e,future:r,navigator:n}=le.useContext(To),{matches:i}=le.useContext(ko),{pathname:s}=il(),A=JSON.stringify(bB(i,r.v7_relativeSplatPath)),a=le.useRef(!1);return lS(()=>{a.current=!0}),le.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=xB(l,JSON.parse(A),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Oa([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,A,s,t])}const uP=le.createContext(null);function dP(t){let e=le.useContext(ko).outlet;return e&&le.createElement(uP.Provider,{value:t},e)}function Rm(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=le.useContext(To),{matches:i}=le.useContext(ko),{pathname:s}=il(),A=JSON.stringify(bB(i,n.v7_relativeSplatPath));return le.useMemo(()=>xB(t,JSON.parse(A),s,r==="path"),[t,A,s,r])}function hP(t,e){return fP(t,e)}function fP(t,e,r,n){dd()||Ir(!1);let{navigator:i}=le.useContext(To),{matches:s}=le.useContext(ko),A=s[s.length-1],a=A?A.params:{};A&&A.pathname;let o=A?A.pathnameBase:"/";A&&A.route;let l=il(),c;if(e){var d;let T=typeof e=="string"?mc(e):e;o==="/"||(d=T.pathname)!=null&&d.startsWith(o)||Ir(!1),c=T}else c=l;let p=c.pathname||"/",g=p;if(o!=="/"){let T=o.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=ML(t,{pathname:g}),x=wP(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Oa([o,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?o:Oa([o,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,r,n);return e&&x?le.createElement(Pm.Provider,{value:{location:wf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:xa.Pop}},x):x}function pP(){let t=bP(),e=oP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),r?le.createElement("pre",{style:i},r):null,null)}const gP=le.createElement(pP,null);class mP extends le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?le.createElement(ko.Provider,{value:this.props.routeContext},le.createElement(aS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vP(t){let{routeContext:e,match:r,children:n}=t,i=le.useContext(Lm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),le.createElement(ko.Provider,{value:e},n)}function wP(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let A=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=A.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||Ir(!1),A=A.slice(0,Math.min(A.length,c+1))}let o=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<A.length;c++){let d=A[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:p,errors:g}=r,v=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){o=!0,l>=0?A=A.slice(0,l+1):A=[A[0]];break}}}return A.reduceRight((c,d,p)=>{let g,v=!1,x=null,T=null;r&&(g=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||gP,o&&(l<0&&p===0?(EP("route-fallback"),v=!0,T=null):l===p&&(v=!0,T=d.route.hydrateFallbackElement||null)));let w=e.concat(A.slice(0,p+1)),B=()=>{let C;return g?C=x:v?C=T:d.route.Component?C=le.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=c,le.createElement(vP,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:r!=null},children:C})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?le.createElement(mP,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:B(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):B()},null)}var cS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cS||{}),uS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uS||{});function yP(t){let e=le.useContext(Lm);return e||Ir(!1),e}function BP(t){let e=le.useContext(oS);return e||Ir(!1),e}function CP(t){let e=le.useContext(ko);return e||Ir(!1),e}function dS(t){let e=CP(),r=e.matches[e.matches.length-1];return r.route.id||Ir(!1),r.route.id}function bP(){var t;let e=le.useContext(aS),r=BP(),n=dS();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function xP(){let{router:t}=yP(cS.UseNavigateStable),e=dS(uS.UseNavigateStable),r=le.useRef(!1);return lS(()=>{r.current=!0}),le.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,wf({fromRouteId:e},s)))},[t,e])}const j5={};function EP(t,e,r){j5[t]||(j5[t]=!0)}function _P(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function uy(t){let{to:e,replace:r,state:n,relative:i}=t;dd()||Ir(!1);let{future:s,static:A}=le.useContext(To),{matches:a}=le.useContext(ko),{pathname:o}=il(),l=hd(),c=xB(e,bB(a,s.v7_relativeSplatPath),o,i==="path"),d=JSON.stringify(c);return le.useEffect(()=>l(JSON.parse(d),{replace:r,state:n,relative:i}),[l,d,i,r,n]),null}function IP(t){return dP(t.context)}function As(t){Ir(!1)}function SP(t){let{basename:e="/",children:r=null,location:n,navigationType:i=xa.Pop,navigator:s,static:A=!1,future:a}=t;dd()&&Ir(!1);let o=e.replace(/^\/*/,"/"),l=le.useMemo(()=>({basename:o,navigator:s,static:A,future:wf({v7_relativeSplatPath:!1},a)}),[o,a,s,A]);typeof n=="string"&&(n=mc(n));let{pathname:c="/",search:d="",hash:p="",state:g=null,key:v="default"}=n,x=le.useMemo(()=>{let T=$u(c,o);return T==null?null:{location:{pathname:T,search:d,hash:p,state:g,key:v},navigationType:i}},[o,c,d,p,g,v,i]);return x==null?null:le.createElement(To.Provider,{value:l},le.createElement(Pm.Provider,{children:r,value:x}))}function FP(t){let{children:e,location:r}=t;return hP(dy(e),r)}new Promise(()=>{});function dy(t,e){e===void 0&&(e=[]);let r=[];return le.Children.forEach(t,(n,i)=>{if(!le.isValidElement(n))return;let s=[...e,i];if(n.type===le.Fragment){r.push.apply(r,dy(n.props.children,s));return}n.type!==As&&Ir(!1),!n.props.index||!n.props.children||Ir(!1);let A={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(A.children=dy(n.props.children,s)),r.push(A)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}function hS(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function TP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kP(t,e){return t.button===0&&(!e||e==="_self")&&!TP(t)}function hy(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function UP(t,e){let r=hy(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const NP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QP=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],LP="6";try{window.__reactRouterVersion=LP}catch{}const PP=le.createContext({isTransitioning:!1}),RP="startTransition",H5=EQ[RP];function DP(t){let{basename:e,children:r,future:n,window:i}=t,s=le.useRef();s.current==null&&(s.current=RL({window:i,v5Compat:!0}));let A=s.current,[a,o]=le.useState({action:A.action,location:A.location}),{v7_startTransition:l}=n||{},c=le.useCallback(d=>{l&&H5?H5(()=>o(d)):o(d)},[o,l]);return le.useLayoutEffect(()=>A.listen(c),[A,c]),le.useEffect(()=>_P(n),[n]),le.createElement(SP,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:A,future:n})}const OP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jP=le.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:A,state:a,target:o,to:l,preventScrollReset:c,viewTransition:d}=e,p=hS(e,NP),{basename:g}=le.useContext(To),v,x=!1;if(typeof l=="string"&&MP.test(l)&&(v=l,OP))try{let C=new URL(window.location.href),L=l.startsWith("//")?new URL(C.protocol+l):new URL(l),D=$u(L.pathname,g);L.origin===C.origin&&D!=null?l=D+L.search+L.hash:x=!0}catch{}let T=lP(l,{relative:i}),w=KP(l,{replace:A,state:a,target:o,preventScrollReset:c,relative:i,viewTransition:d});function B(C){n&&n(C),C.defaultPrevented||w(C)}return le.createElement("a",L0({},p,{href:v||T,onClick:x||s?n:B,ref:r,target:o}))}),HP=le.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:A=!1,style:a,to:o,viewTransition:l,children:c}=e,d=hS(e,QP),p=Rm(o,{relative:d.relative}),g=il(),v=le.useContext(oS),{navigator:x,basename:T}=le.useContext(To),w=v!=null&&WP(p)&&l===!0,B=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,C=g.pathname,L=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(C=C.toLowerCase(),L=L?L.toLowerCase():null,B=B.toLowerCase()),L&&T&&(L=$u(L,T)||L);const D=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let M=C===B||!A&&C.startsWith(B)&&C.charAt(D)==="/",S=L!=null&&(L===B||!A&&L.startsWith(B)&&L.charAt(B.length)==="/"),E={isActive:M,isPending:S,isTransitioning:w},k=M?n:void 0,O;typeof s=="function"?O=s(E):O=[s,M?"active":null,S?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let _=typeof a=="function"?a(E):a;return le.createElement(jP,L0({},d,{"aria-current":k,className:O,ref:r,style:_,to:o,viewTransition:l}),typeof c=="function"?c(E):c)});var fy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fy||(fy={}));var V5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V5||(V5={}));function VP(t){let e=le.useContext(Lm);return e||Ir(!1),e}function KP(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:A,viewTransition:a}=e===void 0?{}:e,o=hd(),l=il(),c=Rm(t,{relative:A});return le.useCallback(d=>{if(kP(d,r)){d.preventDefault();let p=n!==void 0?n:Q0(l)===Q0(c);o(t,{replace:p,state:i,preventScrollReset:s,relative:A,viewTransition:a})}},[l,o,c,n,i,r,t,s,A,a])}function zP(t){let e=le.useRef(hy(t)),r=le.useRef(!1),n=il(),i=le.useMemo(()=>UP(n.search,r.current?null:e.current),[n.search]),s=hd(),A=le.useCallback((a,o)=>{const l=hy(typeof a=="function"?a(i):a);r.current=!0,s("?"+l,o)},[s,i]);return[i,A]}function WP(t,e){e===void 0&&(e={});let r=le.useContext(PP);r==null&&Ir(!1);let{basename:n}=VP(fy.useViewTransitionState),i=Rm(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=$u(r.currentLocation.pathname,n)||r.currentLocation.pathname,A=$u(r.nextLocation.pathname,n)||r.nextLocation.pathname;return cy(i.pathname,A)!=null||cy(i.pathname,s)!=null}var K5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},GP=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],A=t[r++],a=t[r++],o=((i&7)<<18|(s&63)<<12|(A&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(o>>10)),e[n++]=String.fromCharCode(56320+(o&1023))}else{const s=t[r++],A=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|A&63)}}return e.join("")},pS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],A=i+1<t.length,a=A?t[i+1]:0,o=i+2<t.length,l=o?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|l>>6,g=l&63;o||(g=64,A||(p=64)),n.push(r[c],r[d],r[p],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new qP;const p=s<<2|a>>4;if(n.push(p),l!==64){const g=a<<4&240|l>>2;if(n.push(g),d!==64){const v=l<<6&192|d;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $P=function(t){const e=fS(t);return pS.encodeByteArray(e,!0)},P0=function(t){return $P(t).replace(/\./g,"")},EB=function(t){try{return pS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function R0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!JP(r)||(t[r]=R0(t[r],e[r]));return t}function JP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=()=>gS().__FIREBASE_DEFAULTS__,YP=()=>{if(typeof process>"u"||typeof K5>"u")return;const t=K5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EB(t[1]);return e&&JSON.parse(e)},Dm=()=>{try{return XP()||YP()||ZP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mS=t=>{var e,r;return(r=(e=Dm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},eR=t=>{const e=mS(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},vS=()=>{var t;return(t=Dm())===null||t===void 0?void 0:t.config},_B=t=>{var e;return(e=Dm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[P0(JSON.stringify(r)),P0(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function IB(){var t;const e=(t=Dm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof window<"u"||yS()}function yS(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function BS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Om(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FB(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iR(){return!IB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D0(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="FirebaseError";class Bn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=AR,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,UA.prototype.create)}}class UA{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],A=s?oR(s,n):"Error",a=`${this.serviceName}: ${A} (${i}).`;return new Bn(i,a,n)}}function oR(t,e){return t.replace(aR,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const aR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function CS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function O0(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],A=e[i];if(W5(s)&&W5(A)){if(!O0(s,A))return!1}else if(s!==A)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function W5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function _u(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function uh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function TB(t,e){const r=new lR(t,e);return r.subscribe.bind(r)}class lR{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");cR(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=vw),i.error===void 0&&(i.error=vw),i.complete===void 0&&(i.complete=vw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cR(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function vw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new tR;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hR(e))try{this.getOrInitializeService({instanceIdentifier:kl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=kl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kl){return this.instances.has(e)}getOptions(e=kl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,A]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&A.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const A=this.instances.get(i);return A&&e(A,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:dR(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=kl){return this.component?this.component.multipleInstances?e:kl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dR(t){return t===kl?void 0:t}function hR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new uR(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=[];var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const xS={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},fR=Rt.INFO,pR={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},gR=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=pR[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let zf=class{constructor(e){this.name=e,this._logLevel=fR,this._logHandler=gR,this._userLogHandler=null,kB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}};function mR(t){kB.forEach(e=>{e.setLogLevel(t)})}function vR(t,e){for(const r of kB){let n=null;e&&e.level&&(n=xS[e.level]),t===null?r.userLogHandler=null:r.userLogHandler=(i,s,...A)=>{const a=A.map(o=>{if(o==null)return null;if(typeof o=="string")return o;if(typeof o=="number"||typeof o=="boolean")return o.toString();if(o instanceof Error)return o.message;try{return JSON.stringify(o)}catch{return null}}).filter(o=>o).join(" ");s>=(n??i.logLevel)&&t({level:Rt[s].toLowerCase(),message:a,args:A,type:i.name})}}}const wR=(t,e)=>e.some(r=>t instanceof r);let G5,q5;function yR(){return G5||(G5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BR(){return q5||(q5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ES=new WeakMap,py=new WeakMap,_S=new WeakMap,ww=new WeakMap,UB=new WeakMap;function CR(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",A)},s=()=>{r(Ma(t.result)),i()},A=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",A)});return e.then(r=>{r instanceof IDBCursor&&ES.set(r,t)}).catch(()=>{}),UB.set(e,t),e}function bR(t){if(py.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",A),t.removeEventListener("abort",A)},s=()=>{r(),i()},A=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",A),t.addEventListener("abort",A)});py.set(t,e)}let gy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_S.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ma(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xR(t){gy=t(gy)}function ER(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(yw(this),e,...r);return _S.set(n,e.sort?e.sort():[e]),Ma(n)}:BR().includes(t)?function(...e){return t.apply(yw(this),e),Ma(ES.get(this))}:function(...e){return Ma(t.apply(yw(this),e))}}function _R(t){return typeof t=="function"?ER(t):(t instanceof IDBTransaction&&bR(t),wR(t,yR())?new Proxy(t,gy):t)}function Ma(t){if(t instanceof IDBRequest)return CR(t);if(ww.has(t))return ww.get(t);const e=_R(t);return e!==t&&(ww.set(t,e),UB.set(e,t)),e}const yw=t=>UB.get(t);function IR(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const A=indexedDB.open(t,e),a=Ma(A);return n&&A.addEventListener("upgradeneeded",o=>{n(Ma(A.result),o.oldVersion,o.newVersion,Ma(A.transaction),o)}),r&&A.addEventListener("blocked",o=>r(o.oldVersion,o.newVersion,o)),a.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const SR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],Bw=new Map;function $5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bw.get(e))return Bw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=FR.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||SR.includes(r)))return;const s=async function(A,...a){const o=this.transaction(A,i?"readwrite":"readonly");let l=o.store;return n&&(l=l.index(a.shift())),(await Promise.all([l[r](...a),i&&o.done]))[0]};return Bw.set(e,s),s}xR(t=>({...t,get:(e,r,n)=>$5(e,r)||t.get(e,r,n),has:(e,r)=>!!$5(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(kR(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function kR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M0="@firebase/app",my="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new zf("@firebase/app"),UR="@firebase/app-compat",NR="@firebase/analytics-compat",QR="@firebase/analytics",LR="@firebase/app-check-compat",PR="@firebase/app-check",RR="@firebase/auth",DR="@firebase/auth-compat",OR="@firebase/database",MR="@firebase/data-connect",jR="@firebase/database-compat",HR="@firebase/functions",VR="@firebase/functions-compat",KR="@firebase/installations",zR="@firebase/installations-compat",WR="@firebase/messaging",GR="@firebase/messaging-compat",qR="@firebase/performance",$R="@firebase/performance-compat",JR="@firebase/remote-config",XR="@firebase/remote-config-compat",YR="@firebase/storage",ZR="@firebase/storage-compat",eD="@firebase/firestore",tD="@firebase/vertexai-preview",rD="@firebase/firestore-compat",nD="firebase",iD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]",sD={[M0]:"fire-core",[UR]:"fire-core-compat",[QR]:"fire-analytics",[NR]:"fire-analytics-compat",[PR]:"fire-app-check",[LR]:"fire-app-check-compat",[RR]:"fire-auth",[DR]:"fire-auth-compat",[OR]:"fire-rtdb",[MR]:"fire-data-connect",[jR]:"fire-rtdb-compat",[HR]:"fire-fn",[VR]:"fire-fn-compat",[KR]:"fire-iid",[zR]:"fire-iid-compat",[WR]:"fire-fcm",[GR]:"fire-fcm-compat",[qR]:"fire-perf",[$R]:"fire-perf-compat",[JR]:"fire-rc",[XR]:"fire-rc-compat",[YR]:"fire-gcs",[ZR]:"fire-gcs-compat",[eD]:"fire-fst",[rD]:"fire-fst-compat",[tD]:"fire-vertex","fire-js":"fire-js",[nD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new Map,Ju=new Map,Xu=new Map;function yf(t,e){try{t.container.addComponent(e)}catch(r){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function IS(t,e){t.container.addOrOverwriteComponent(e)}function SA(t){const e=t.name;if(Xu.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;Xu.set(e,t);for(const r of qa.values())yf(r,t);for(const r of Ju.values())yf(r,t);return!0}function Wf(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function AD(t,e,r=Ga){Wf(t,e).clearInstance(r)}function SS(t){return t.options!==void 0}function Zt(t){return t.settings!==void 0}function oD(){Xu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new UA("app","Firebase",aD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FS=class{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD extends FS{constructor(e,r,n,i){const s=r.automaticDataCollectionEnabled!==void 0?r.automaticDataCollectionEnabled:!1,A={name:n,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,A,i);else{const a=e;super(a.options,A,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},r),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,r.releaseOnDeref=void 0,Si(M0,my,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){QB(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ms.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=iD;function Mm(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Ga,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ms.create("bad-app-name",{appName:String(i)});if(r||(r=vS()),!r)throw ms.create("no-options");const s=qa.get(i);if(s){if(O0(r,s.options)&&O0(n,s.config))return s;throw ms.create("duplicate-app",{appName:i})}const A=new bS(i);for(const o of Xu.values())A.addComponent(o);const a=new FS(r,n,A);return qa.set(i,a),a}function cD(t,e){if(nR()&&!yS())throw ms.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let r;SS(t)?r=t.options:r=t;const n=Object.assign(Object.assign({},e),r);n.releaseOnDeref!==void 0&&delete n.releaseOnDeref;const i=l=>[...l].reduce((c,d)=>Math.imul(31,c)+d.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ms.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(n)),A=Ju.get(s);if(A)return A.incRefCount(e.releaseOnDeref),A;const a=new bS(s);for(const l of Xu.values())a.addComponent(l);const o=new lD(r,e,s,a);return Ju.set(s,o),o}function NB(t=Ga){const e=qa.get(t);if(!e&&t===Ga&&vS())return Mm();if(!e)throw ms.create("no-app",{appName:t});return e}function uD(){return Array.from(qa.values())}async function QB(t){let e=!1;const r=t.name;qa.has(r)?(e=!0,qa.delete(r)):Ju.has(r)&&t.decRefCount()<=0&&(Ju.delete(r),e=!0),e&&(await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Si(t,e,r){var n;let i=(n=sD[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),A=e.match(/\s|\//);if(s||A){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&A&&a.push("and"),A&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(a.join(" "));return}SA(new Ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function TS(t,e){if(t!==null&&typeof t!="function")throw ms.create("invalid-log-argument");vR(t,e)}function kS(t){mR(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="firebase-heartbeat-database",hD=1,Bf="firebase-heartbeat-store";let Cw=null;function US(){return Cw||(Cw=IR(dD,hD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bf)}catch(r){console.warn(r)}}}}).catch(t=>{throw ms.create("idb-open",{originalErrorMessage:t.message})})),Cw}async function fD(t){try{const r=(await US()).transaction(Bf),n=await r.objectStore(Bf).get(NS(t));return await r.done,n}catch(e){if(e instanceof Bn)Co.warn(e.message);else{const r=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Co.warn(r.message)}}}async function J5(t,e){try{const n=(await US()).transaction(Bf,"readwrite");await n.objectStore(Bf).put(e,NS(t)),await n.done}catch(r){if(r instanceof Bn)Co.warn(r.message);else{const n=ms.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Co.warn(n.message)}}}function NS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=1024,gD=30*24*60*60*1e3;class mD{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new wD(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=X5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(A=>A.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const a=new Date(A.date).valueOf();return Date.now()-a<=gD}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Co.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=X5(),{heartbeatsToSend:n,unsentEntries:i}=vD(this._heartbeatsCache.heartbeats),s=P0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Co.warn(r),""}}}function X5(){return new Date().toISOString().substring(0,10)}function vD(t,e=pD){const r=[];let n=t.slice();for(const i of t){const s=r.find(A=>A.agent===i.agent);if(s){if(s.dates.push(i.date),Y5(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Y5(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class wD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D0()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await fD(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return J5(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return J5(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Y5(t){return P0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){SA(new Ks("platform-logger",e=>new TR(e),"PRIVATE")),SA(new Ks("heartbeat",e=>new mD(e),"PRIVATE")),Si(M0,my,t),Si(M0,my,"esm2017"),Si("fire-js","")}yD("");const BD=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Bn,SDK_VERSION:Ji,_DEFAULT_ENTRY_NAME:Ga,_addComponent:yf,_addOrOverwriteComponent:IS,_apps:qa,_clearComponents:oD,_components:Xu,_getProvider:Wf,_isFirebaseApp:SS,_isFirebaseServerApp:Zt,_registerComponent:SA,_removeServiceInstance:AD,_serverApps:Ju,deleteApp:QB,getApp:NB,getApps:uD,initializeApp:Mm,initializeServerApp:cD,onLog:TS,registerVersion:Si,setLogLevel:kS},Symbol.toStringTag,{value:"Module"}));var Z5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wl,QS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function k(){}k.prototype=E.prototype,S.D=E.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(O,_,F){for(var U=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)U[Y-2]=arguments[Y];return E.prototype[_].apply(O,U)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,k){k||(k=0);var O=Array(16);if(typeof E=="string")for(var _=0;16>_;++_)O[_]=E.charCodeAt(k++)|E.charCodeAt(k++)<<8|E.charCodeAt(k++)<<16|E.charCodeAt(k++)<<24;else for(_=0;16>_;++_)O[_]=E[k++]|E[k++]<<8|E[k++]<<16|E[k++]<<24;E=S.g[0],k=S.g[1],_=S.g[2];var F=S.g[3],U=E+(F^k&(_^F))+O[0]+3614090360&4294967295;E=k+(U<<7&4294967295|U>>>25),U=F+(_^E&(k^_))+O[1]+3905402710&4294967295,F=E+(U<<12&4294967295|U>>>20),U=_+(k^F&(E^k))+O[2]+606105819&4294967295,_=F+(U<<17&4294967295|U>>>15),U=k+(E^_&(F^E))+O[3]+3250441966&4294967295,k=_+(U<<22&4294967295|U>>>10),U=E+(F^k&(_^F))+O[4]+4118548399&4294967295,E=k+(U<<7&4294967295|U>>>25),U=F+(_^E&(k^_))+O[5]+1200080426&4294967295,F=E+(U<<12&4294967295|U>>>20),U=_+(k^F&(E^k))+O[6]+2821735955&4294967295,_=F+(U<<17&4294967295|U>>>15),U=k+(E^_&(F^E))+O[7]+4249261313&4294967295,k=_+(U<<22&4294967295|U>>>10),U=E+(F^k&(_^F))+O[8]+1770035416&4294967295,E=k+(U<<7&4294967295|U>>>25),U=F+(_^E&(k^_))+O[9]+2336552879&4294967295,F=E+(U<<12&4294967295|U>>>20),U=_+(k^F&(E^k))+O[10]+4294925233&4294967295,_=F+(U<<17&4294967295|U>>>15),U=k+(E^_&(F^E))+O[11]+2304563134&4294967295,k=_+(U<<22&4294967295|U>>>10),U=E+(F^k&(_^F))+O[12]+1804603682&4294967295,E=k+(U<<7&4294967295|U>>>25),U=F+(_^E&(k^_))+O[13]+4254626195&4294967295,F=E+(U<<12&4294967295|U>>>20),U=_+(k^F&(E^k))+O[14]+2792965006&4294967295,_=F+(U<<17&4294967295|U>>>15),U=k+(E^_&(F^E))+O[15]+1236535329&4294967295,k=_+(U<<22&4294967295|U>>>10),U=E+(_^F&(k^_))+O[1]+4129170786&4294967295,E=k+(U<<5&4294967295|U>>>27),U=F+(k^_&(E^k))+O[6]+3225465664&4294967295,F=E+(U<<9&4294967295|U>>>23),U=_+(E^k&(F^E))+O[11]+643717713&4294967295,_=F+(U<<14&4294967295|U>>>18),U=k+(F^E&(_^F))+O[0]+3921069994&4294967295,k=_+(U<<20&4294967295|U>>>12),U=E+(_^F&(k^_))+O[5]+3593408605&4294967295,E=k+(U<<5&4294967295|U>>>27),U=F+(k^_&(E^k))+O[10]+38016083&4294967295,F=E+(U<<9&4294967295|U>>>23),U=_+(E^k&(F^E))+O[15]+3634488961&4294967295,_=F+(U<<14&4294967295|U>>>18),U=k+(F^E&(_^F))+O[4]+3889429448&4294967295,k=_+(U<<20&4294967295|U>>>12),U=E+(_^F&(k^_))+O[9]+568446438&4294967295,E=k+(U<<5&4294967295|U>>>27),U=F+(k^_&(E^k))+O[14]+3275163606&4294967295,F=E+(U<<9&4294967295|U>>>23),U=_+(E^k&(F^E))+O[3]+4107603335&4294967295,_=F+(U<<14&4294967295|U>>>18),U=k+(F^E&(_^F))+O[8]+1163531501&4294967295,k=_+(U<<20&4294967295|U>>>12),U=E+(_^F&(k^_))+O[13]+2850285829&4294967295,E=k+(U<<5&4294967295|U>>>27),U=F+(k^_&(E^k))+O[2]+4243563512&4294967295,F=E+(U<<9&4294967295|U>>>23),U=_+(E^k&(F^E))+O[7]+1735328473&4294967295,_=F+(U<<14&4294967295|U>>>18),U=k+(F^E&(_^F))+O[12]+2368359562&4294967295,k=_+(U<<20&4294967295|U>>>12),U=E+(k^_^F)+O[5]+4294588738&4294967295,E=k+(U<<4&4294967295|U>>>28),U=F+(E^k^_)+O[8]+2272392833&4294967295,F=E+(U<<11&4294967295|U>>>21),U=_+(F^E^k)+O[11]+1839030562&4294967295,_=F+(U<<16&4294967295|U>>>16),U=k+(_^F^E)+O[14]+4259657740&4294967295,k=_+(U<<23&4294967295|U>>>9),U=E+(k^_^F)+O[1]+2763975236&4294967295,E=k+(U<<4&4294967295|U>>>28),U=F+(E^k^_)+O[4]+1272893353&4294967295,F=E+(U<<11&4294967295|U>>>21),U=_+(F^E^k)+O[7]+4139469664&4294967295,_=F+(U<<16&4294967295|U>>>16),U=k+(_^F^E)+O[10]+3200236656&4294967295,k=_+(U<<23&4294967295|U>>>9),U=E+(k^_^F)+O[13]+681279174&4294967295,E=k+(U<<4&4294967295|U>>>28),U=F+(E^k^_)+O[0]+3936430074&4294967295,F=E+(U<<11&4294967295|U>>>21),U=_+(F^E^k)+O[3]+3572445317&4294967295,_=F+(U<<16&4294967295|U>>>16),U=k+(_^F^E)+O[6]+76029189&4294967295,k=_+(U<<23&4294967295|U>>>9),U=E+(k^_^F)+O[9]+3654602809&4294967295,E=k+(U<<4&4294967295|U>>>28),U=F+(E^k^_)+O[12]+3873151461&4294967295,F=E+(U<<11&4294967295|U>>>21),U=_+(F^E^k)+O[15]+530742520&4294967295,_=F+(U<<16&4294967295|U>>>16),U=k+(_^F^E)+O[2]+3299628645&4294967295,k=_+(U<<23&4294967295|U>>>9),U=E+(_^(k|~F))+O[0]+4096336452&4294967295,E=k+(U<<6&4294967295|U>>>26),U=F+(k^(E|~_))+O[7]+1126891415&4294967295,F=E+(U<<10&4294967295|U>>>22),U=_+(E^(F|~k))+O[14]+2878612391&4294967295,_=F+(U<<15&4294967295|U>>>17),U=k+(F^(_|~E))+O[5]+4237533241&4294967295,k=_+(U<<21&4294967295|U>>>11),U=E+(_^(k|~F))+O[12]+1700485571&4294967295,E=k+(U<<6&4294967295|U>>>26),U=F+(k^(E|~_))+O[3]+2399980690&4294967295,F=E+(U<<10&4294967295|U>>>22),U=_+(E^(F|~k))+O[10]+4293915773&4294967295,_=F+(U<<15&4294967295|U>>>17),U=k+(F^(_|~E))+O[1]+2240044497&4294967295,k=_+(U<<21&4294967295|U>>>11),U=E+(_^(k|~F))+O[8]+1873313359&4294967295,E=k+(U<<6&4294967295|U>>>26),U=F+(k^(E|~_))+O[15]+4264355552&4294967295,F=E+(U<<10&4294967295|U>>>22),U=_+(E^(F|~k))+O[6]+2734768916&4294967295,_=F+(U<<15&4294967295|U>>>17),U=k+(F^(_|~E))+O[13]+1309151649&4294967295,k=_+(U<<21&4294967295|U>>>11),U=E+(_^(k|~F))+O[4]+4149444226&4294967295,E=k+(U<<6&4294967295|U>>>26),U=F+(k^(E|~_))+O[11]+3174756917&4294967295,F=E+(U<<10&4294967295|U>>>22),U=_+(E^(F|~k))+O[2]+718787259&4294967295,_=F+(U<<15&4294967295|U>>>17),U=k+(F^(_|~E))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(_+(U<<21&4294967295|U>>>11))&4294967295,S.g[2]=S.g[2]+_&4294967295,S.g[3]=S.g[3]+F&4294967295}n.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var k=E-this.blockSize,O=this.B,_=this.h,F=0;F<E;){if(_==0)for(;F<=k;)i(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<E;)if(O[_++]=S.charCodeAt(F++),_==this.blockSize){i(this,O),_=0;break}}else for(;F<E;)if(O[_++]=S[F++],_==this.blockSize){i(this,O),_=0;break}}this.h=_,this.o+=E},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var k=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=k&255,k/=256;for(this.u(S),S=Array(16),E=k=0;4>E;++E)for(var O=0;32>O;O+=8)S[k++]=this.g[E]>>>O&255;return S};function s(S,E){var k=a;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=E(S)}function A(S,E){this.h=E;for(var k=[],O=!0,_=S.length-1;0<=_;_--){var F=S[_]|0;O&&F==E||(k[_]=F,O=!1)}this.g=k}var a={};function o(S){return-128<=S&&128>S?s(S,function(E){return new A([E|0],0>E?-1:0)}):new A([S|0],0>S?-1:0)}function l(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return T(l(-S));for(var E=[],k=1,O=0;S>=k;O++)E[O]=S/k|0,k*=4294967296;return new A(E,0)}function c(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return T(c(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=l(Math.pow(E,8)),O=d,_=0;_<S.length;_+=8){var F=Math.min(8,S.length-_),U=parseInt(S.substring(_,_+F),E);8>F?(F=l(Math.pow(E,F)),O=O.j(F).add(l(U))):(O=O.j(k),O=O.add(l(U)))}return O}var d=o(0),p=o(1),g=o(16777216);t=A.prototype,t.m=function(){if(x(this))return-T(this).m();for(var S=0,E=1,k=0;k<this.g.length;k++){var O=this.i(k);S+=(0<=O?O:4294967296+O)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(x(this))return"-"+T(this).toString(S);for(var E=l(Math.pow(S,6)),k=this,O="";;){var _=L(k,E).g;k=w(k,_.j(E));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=_,v(k))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=w(this,S),x(S)?-1:v(S)?0:1};function T(S){for(var E=S.g.length,k=[],O=0;O<E;O++)k[O]=~S.g[O];return new A(k,~S.h).add(p)}t.abs=function(){return x(this)?T(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],O=0,_=0;_<=E;_++){var F=O+(this.i(_)&65535)+(S.i(_)&65535),U=(F>>>16)+(this.i(_)>>>16)+(S.i(_)>>>16);O=U>>>16,F&=65535,U&=65535,k[_]=U<<16|F}return new A(k,k[k.length-1]&-2147483648?-1:0)};function w(S,E){return S.add(T(E))}t.j=function(S){if(v(this)||v(S))return d;if(x(this))return x(S)?T(this).j(T(S)):T(T(this).j(S));if(x(S))return T(this.j(T(S)));if(0>this.l(g)&&0>S.l(g))return l(this.m()*S.m());for(var E=this.g.length+S.g.length,k=[],O=0;O<2*E;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var _=0;_<S.g.length;_++){var F=this.i(O)>>>16,U=this.i(O)&65535,Y=S.i(_)>>>16,ue=S.i(_)&65535;k[2*O+2*_]+=U*ue,B(k,2*O+2*_),k[2*O+2*_+1]+=F*ue,B(k,2*O+2*_+1),k[2*O+2*_+1]+=U*Y,B(k,2*O+2*_+1),k[2*O+2*_+2]+=F*Y,B(k,2*O+2*_+2)}for(O=0;O<E;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=E;O<2*E;O++)k[O]=0;return new A(k,0)};function B(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function C(S,E){this.g=S,this.h=E}function L(S,E){if(v(E))throw Error("division by zero");if(v(S))return new C(d,d);if(x(S))return E=L(T(S),E),new C(T(E.g),T(E.h));if(x(E))return E=L(S,T(E)),new C(T(E.g),E.h);if(30<S.g.length){if(x(S)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var k=p,O=E;0>=O.l(S);)k=D(k),O=D(O);var _=M(k,1),F=M(O,1);for(O=M(O,2),k=M(k,2);!v(O);){var U=F.add(O);0>=U.l(S)&&(_=_.add(k),F=U),O=M(O,1),k=M(k,1)}return E=w(S,_.j(E)),new C(_,E)}for(_=d;0<=S.l(E);){for(k=Math.max(1,Math.floor(S.m()/E.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=l(k),U=F.j(E);x(U)||0<U.l(S);)k-=O,F=l(k),U=F.j(E);v(F)&&(F=p),_=_.add(F),S=w(S,U)}return new C(_,S)}t.A=function(S){return L(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],O=0;O<E;O++)k[O]=this.i(O)&S.i(O);return new A(k,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],O=0;O<E;O++)k[O]=this.i(O)|S.i(O);return new A(k,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),k=[],O=0;O<E;O++)k[O]=this.i(O)^S.i(O);return new A(k,this.h^S.h)};function D(S){for(var E=S.g.length+1,k=[],O=0;O<E;O++)k[O]=S.i(O)<<1|S.i(O-1)>>>31;return new A(k,S.h)}function M(S,E){var k=E>>5;E%=32;for(var O=S.g.length-k,_=[],F=0;F<O;F++)_[F]=0<E?S.i(F+k)>>>E|S.i(F+k+1)<<32-E:S.i(F+k);return new A(_,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,QS=n,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=l,A.fromString=c,Wl=A}).apply(typeof Z5<"u"?Z5:typeof self<"u"?self:typeof window<"u"?window:{});var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LS,dh,PS,zg,vy,RS,DS,OS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,I,R){return h==Array.prototype||h==Object.prototype||(h[I]=R.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zp=="object"&&Zp];for(var I=0;I<h.length;++I){var R=h[I];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=r(this);function i(h,I){if(I)e:{var R=n;h=h.split(".");for(var J=0;J<h.length-1;J++){var ve=h[J];if(!(ve in R))break e;R=R[ve]}h=h[h.length-1],J=R[h],I=I(J),I!=J&&I!=null&&e(R,h,{configurable:!0,writable:!0,value:I})}}function s(h,I){h instanceof String&&(h+="");var R=0,J=!1,ve={next:function(){if(!J&&R<h.length){var Ie=R++;return{value:I(Ie,h[Ie]),done:!1}}return J=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}i("Array.prototype.values",function(h){return h||function(){return s(this,function(I,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},a=this||self;function o(h){var I=typeof h;return I=I!="object"?I:h?Array.isArray(h)?"array":I:"null",I=="array"||I=="object"&&typeof h.length=="number"}function l(h){var I=typeof h;return I=="object"&&h!=null||I=="function"}function c(h,I,R){return h.call.apply(h.bind,arguments)}function d(h,I,R){if(!h)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,J),h.apply(I,ve)}}return function(){return h.apply(I,arguments)}}function p(h,I,R){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,p.apply(null,arguments)}function g(h,I){var R=Array.prototype.slice.call(arguments,1);return function(){var J=R.slice();return J.push.apply(J,arguments),h.apply(this,J)}}function v(h,I){function R(){}R.prototype=I.prototype,h.aa=I.prototype,h.prototype=new R,h.prototype.constructor=h,h.Qb=function(J,ve,Ie){for(var Ge=Array(arguments.length-2),St=2;St<arguments.length;St++)Ge[St-2]=arguments[St];return I.prototype[ve].apply(J,Ge)}}function x(h){const I=h.length;if(0<I){const R=Array(I);for(let J=0;J<I;J++)R[J]=h[J];return R}return[]}function T(h,I){for(let R=1;R<arguments.length;R++){const J=arguments[R];if(o(J)){const ve=h.length||0,Ie=J.length||0;h.length=ve+Ie;for(let Ge=0;Ge<Ie;Ge++)h[ve+Ge]=J[Ge]}else h.push(J)}}class w{constructor(I,R){this.i=I,this.j=R,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function B(h){return/^[\s\xa0]*$/.test(h)}function C(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function L(h){return L[" "](h),h}L[" "]=function(){};var D=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function M(h,I,R){for(const J in h)I.call(R,h[J],J,h)}function S(h,I){for(const R in h)I.call(void 0,h[R],R,h)}function E(h){const I={};for(const R in h)I[R]=h[R];return I}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,I){let R,J;for(let ve=1;ve<arguments.length;ve++){J=arguments[ve];for(R in J)h[R]=J[R];for(let Ie=0;Ie<k.length;Ie++)R=k[Ie],Object.prototype.hasOwnProperty.call(J,R)&&(h[R]=J[R])}}function _(h){var I=1;h=h.split(":");const R=[];for(;0<I&&h.length;)R.push(h.shift()),I--;return h.length&&R.push(h.join(":")),R}function F(h){a.setTimeout(()=>{throw h},0)}function U(){var h=P;let I=null;return h.g&&(I=h.g,h.g=h.g.next,h.g||(h.h=null),I.next=null),I}class Y{constructor(){this.h=this.g=null}add(I,R){const J=ue.get();J.set(I,R),this.h?this.h.next=J:this.g=J,this.h=J}}var ue=new w(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(I,R){this.h=I,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let K,$=!1,P=new Y,G=()=>{const h=a.Promise.resolve(void 0);K=()=>{h.then(ne)}};var ne=()=>{for(var h;h=U();){try{h.h.call(h.g)}catch(R){F(R)}var I=ue;I.j(h),100>I.h&&(I.h++,h.next=I.g,I.g=h)}$=!1};function N(){this.s=this.s,this.C=this.C}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,I){this.type=h,this.g=this.target=I,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,I=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const R=()=>{};a.addEventListener("test",R,I),a.removeEventListener("test",R,I)}catch{}return h}();function ee(h,I){if(j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var R=this.type=h.type,J=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=I,I=h.relatedTarget){if(D){e:{try{L(I.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(I=null)}}else R=="mouseover"?I=h.fromElement:R=="mouseout"&&(I=h.toElement);this.relatedTarget=I,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ee.aa.h.call(this)}}v(ee,j);var re={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),ge=0;function ye(h,I,R,J,ve){this.listener=h,this.proxy=null,this.src=I,this.type=R,this.capture=!!J,this.ha=ve,this.key=++ge,this.da=this.fa=!1}function Fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ke(h){this.src=h,this.g={},this.h=0}ke.prototype.add=function(h,I,R,J,ve){var Ie=h.toString();h=this.g[Ie],h||(h=this.g[Ie]=[],this.h++);var Ge=Ne(h,I,J,ve);return-1<Ge?(I=h[Ge],R||(I.fa=!1)):(I=new ye(I,this.src,Ie,!!J,ve),I.fa=R,h.push(I)),I};function Oe(h,I){var R=I.type;if(R in h.g){var J=h.g[R],ve=Array.prototype.indexOf.call(J,I,void 0),Ie;(Ie=0<=ve)&&Array.prototype.splice.call(J,ve,1),Ie&&(Fe(I),h.g[R].length==0&&(delete h.g[R],h.h--))}}function Ne(h,I,R,J){for(var ve=0;ve<h.length;++ve){var Ie=h[ve];if(!Ie.da&&Ie.listener==I&&Ie.capture==!!R&&Ie.ha==J)return ve}return-1}var je="closure_lm_"+(1e6*Math.random()|0),xe={};function Ae(h,I,R,J,ve){if(Array.isArray(I)){for(var Ie=0;Ie<I.length;Ie++)Ae(h,I[Ie],R,J,ve);return null}return R=Ke(R),h&&h[oe]?h.K(I,R,l(J)?!!J.capture:!1,ve):mt(h,I,R,!1,J,ve)}function mt(h,I,R,J,ve,Ie){if(!I)throw Error("Invalid event type");var Ge=l(ve)?!!ve.capture:!!ve,St=Pe(h);if(St||(h[je]=St=new ke(h)),R=St.add(I,R,J,Ge,Ie),R.proxy)return R;if(J=ae(),R.proxy=J,J.src=h,J.listener=R,h.addEventListener)W||(ve=Ge),ve===void 0&&(ve=!1),h.addEventListener(I.toString(),J,ve);else if(h.attachEvent)h.attachEvent(be(I.toString()),J);else if(h.addListener&&h.removeListener)h.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ae(){function h(R){return I.call(h.src,h.listener,R)}const I=Se;return h}function pe(h,I,R,J,ve){if(Array.isArray(I))for(var Ie=0;Ie<I.length;Ie++)pe(h,I[Ie],R,J,ve);else J=l(J)?!!J.capture:!!J,R=Ke(R),h&&h[oe]?(h=h.i,I=String(I).toString(),I in h.g&&(Ie=h.g[I],R=Ne(Ie,R,J,ve),-1<R&&(Fe(Ie[R]),Array.prototype.splice.call(Ie,R,1),Ie.length==0&&(delete h.g[I],h.h--)))):h&&(h=Pe(h))&&(I=h.g[I.toString()],h=-1,I&&(h=Ne(I,R,J,ve)),(R=-1<h?I[h]:null)&&Ce(R))}function Ce(h){if(typeof h!="number"&&h&&!h.da){var I=h.src;if(I&&I[oe])Oe(I.i,h);else{var R=h.type,J=h.proxy;I.removeEventListener?I.removeEventListener(R,J,h.capture):I.detachEvent?I.detachEvent(be(R),J):I.addListener&&I.removeListener&&I.removeListener(J),(R=Pe(I))?(Oe(R,h),R.h==0&&(R.src=null,I[je]=null)):Fe(h)}}}function be(h){return h in xe?xe[h]:xe[h]="on"+h}function Se(h,I){if(h.da)h=!0;else{I=new ee(I,this);var R=h.listener,J=h.ha||h.src;h.fa&&Ce(h),h=R.call(J,I)}return h}function Pe(h){return h=h[je],h instanceof ke?h:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(h){return typeof h=="function"?h:(h[Qe]||(h[Qe]=function(I){return h.handleEvent(I)}),h[Qe])}function Me(){N.call(this),this.i=new ke(this),this.M=this,this.F=null}v(Me,N),Me.prototype[oe]=!0,Me.prototype.removeEventListener=function(h,I,R,J){pe(this,h,I,R,J)};function ze(h,I){var R,J=h.F;if(J)for(R=[];J;J=J.F)R.push(J);if(h=h.M,J=I.type||I,typeof I=="string")I=new j(I,h);else if(I instanceof j)I.target=I.target||h;else{var ve=I;I=new j(J,h),O(I,ve)}if(ve=!0,R)for(var Ie=R.length-1;0<=Ie;Ie--){var Ge=I.g=R[Ie];ve=ot(Ge,J,!0,I)&&ve}if(Ge=I.g=h,ve=ot(Ge,J,!0,I)&&ve,ve=ot(Ge,J,!1,I)&&ve,R)for(Ie=0;Ie<R.length;Ie++)Ge=I.g=R[Ie],ve=ot(Ge,J,!1,I)&&ve}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var h=this.i,I;for(I in h.g){for(var R=h.g[I],J=0;J<R.length;J++)Fe(R[J]);delete h.g[I],h.h--}}this.F=null},Me.prototype.K=function(h,I,R,J){return this.i.add(String(h),I,!1,R,J)},Me.prototype.L=function(h,I,R,J){return this.i.add(String(h),I,!0,R,J)};function ot(h,I,R,J){if(I=h.i.g[String(I)],!I)return!0;I=I.concat();for(var ve=!0,Ie=0;Ie<I.length;++Ie){var Ge=I[Ie];if(Ge&&!Ge.da&&Ge.capture==R){var St=Ge.listener,Ot=Ge.ha||Ge.src;Ge.fa&&Oe(h.i,Ge),ve=St.call(Ot,J)!==!1&&ve}}return ve&&!J.defaultPrevented}function At(h,I,R){if(typeof h=="function")R&&(h=p(h,R));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:a.setTimeout(h,I||0)}function pt(h){h.g=At(()=>{h.g=null,h.i&&(h.i=!1,pt(h))},h.l);const I=h.h;h.h=null,h.m.apply(null,I)}class ce extends N{constructor(I,R){super(),this.m=I,this.l=R,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(h){N.call(this),this.h=h,this.g={}}v(Je,N);var Xe=[];function it(h){M(h.g,function(I,R){this.g.hasOwnProperty(R)&&Ce(I)},h),h.g={}}Je.prototype.N=function(){Je.aa.N.call(this),it(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var et=a.JSON.stringify,lt=a.JSON.parse,Pt=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function ct(){}ct.prototype.h=null;function Lt(h){return h.h||(h.h=h.i())}function or(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ti(){j.call(this,"d")}v(Ti,j);function hr(){j.call(this,"c")}v(hr,j);var yt={},Kt=null;function Xi(){return Kt=Kt||new Me}yt.La="serverreachability";function Jr(h){j.call(this,yt.La,h)}v(Jr,j);function Dn(h){const I=Xi();ze(I,new Jr(I))}yt.STAT_EVENT="statevent";function ki(h,I){j.call(this,yt.STAT_EVENT,h),this.stat=I}v(ki,j);function ht(h){const I=Xi();ze(I,new ki(I,h))}yt.Ma="timingevent";function hi(h,I){j.call(this,yt.Ma,h),this.size=I}v(hi,j);function On(h,I){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},I)}function Xr(){this.g=!0}Xr.prototype.xa=function(){this.g=!1};function Or(h,I,R,J,ve,Ie){h.info(function(){if(h.g)if(Ie)for(var Ge="",St=Ie.split("&"),Ot=0;Ot<St.length;Ot++){var Ft=St[Ot].split("=");if(1<Ft.length){var Xt=Ft[0];Ft=Ft[1];var cr=Xt.split("_");Ge=2<=cr.length&&cr[1]=="type"?Ge+(Xt+"="+Ft+"&"):Ge+(Xt+"=redacted&")}}else Ge=null;else Ge=Ie;return"XMLHTTP REQ ("+J+") [attempt "+ve+"]: "+I+`
`+R+`
`+Ge})}function Tr(h,I,R,J,ve,Ie,Ge){h.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+ve+"]: "+I+`
`+R+`
`+Ie+" "+Ge})}function Yr(h,I,R,J){h.info(function(){return"XMLHTTP TEXT ("+I+"): "+Bs(h,R)+(J?" "+J:"")})}function Qo(h,I){h.info(function(){return"TIMEOUT: "+I})}Xr.prototype.info=function(){};function Bs(h,I){if(!h.g)return I;if(!I)return null;try{var R=JSON.parse(I);if(R){for(h=0;h<R.length;h++)if(Array.isArray(R[h])){var J=R[h];if(!(2>J.length)){var ve=J[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ie=ve[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var Ge=1;Ge<ve.length;Ge++)ve[Ge]=""}}}}return et(R)}catch{return I}}var Mn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function ni(){}v(ni,ct),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ri=new ni;function Mr(h,I,R,J){this.j=h,this.i=I,this.l=R,this.R=J||1,this.U=new Je(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ui}function Ui(){this.i=null,this.g="",this.h=!1}var Js={},Xs={};function Ys(h,I,R){h.L=1,h.v=jA(ii(I)),h.m=R,h.P=!0,PA(h,null)}function PA(h,I){h.F=Date.now(),Lo(h),h.A=ii(h.v);var R=h.A,J=h.R;Array.isArray(J)||(J=[String(J)]),Et(R.i,"t",J),h.C=0,R=h.j.J,h.h=new Ui,h.g=H(h.j,R?I:null,!h.m),0<h.O&&(h.M=new ce(p(h.Y,h,h.g),h.O)),I=h.U,R=h.g,J=h.ca;var ve="readystatechange";Array.isArray(ve)||(ve&&(Xe[0]=ve.toString()),ve=Xe);for(var Ie=0;Ie<ve.length;Ie++){var Ge=Ae(R,ve[Ie],J||I.handleEvent,!1,I.h||I);if(!Ge)break;I.g[Ge.key]=Ge}I=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,I)):(h.u="GET",h.g.ea(h.A,h.u,null,I)),Dn(),Or(h.i,h.u,h.A,h.l,h.R,h.m)}Mr.prototype.ca=function(h){h=h.target;const I=this.M;I&&An(h)==3?I.j():this.Y(h)},Mr.prototype.Y=function(h){try{if(h==this.g)e:{const cr=An(this.g);var I=this.g.Ba();const Fs=this.g.Z();if(!(3>cr)&&(cr!=3||this.g&&(this.h.h||this.g.oa()||kc(this.g)))){this.J||cr!=4||I==7||(I==8||0>=Fs?Dn(3):Dn(2)),Zs(this);var R=this.g.Z();this.X=R;t:if(RA(this)){var J=kc(this.g);h="";var ve=J.length,Ie=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),eA(this);var Ge="";break t}this.h.i=new a.TextDecoder}for(I=0;I<ve;I++)this.h.h=!0,h+=this.h.i.decode(J[I],{stream:!(Ie&&I==ve-1)});J.length=0,this.h.g+=h,this.C=0,Ge=this.h.g}else Ge=this.g.oa();if(this.o=R==200,Tr(this.i,this.u,this.A,this.l,this.R,cr,R),this.o){if(this.T&&!this.K){t:{if(this.g){var St,Ot=this.g;if((St=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(St)){var Ft=St;break t}}Ft=null}if(R=Ft)Yr(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DA(this,R);else{this.o=!1,this.s=3,ht(12),Cs(this),eA(this);break e}}if(this.P){R=!0;let xn;for(;!this.J&&this.C<Ge.length;)if(xn=Cc(this,Ge),xn==Xs){cr==4&&(this.s=4,ht(14),R=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Js){this.s=4,ht(15),Yr(this.i,this.l,Ge,"[Invalid Chunk]"),R=!1;break}else Yr(this.i,this.l,xn,null),DA(this,xn);if(RA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||Ge.length!=0||this.h.h||(this.s=1,ht(16),R=!1),this.o=this.o&&R,!R)Yr(this.i,this.l,Ge,"[Invalid Chunked Response]"),Cs(this),eA(this);else if(0<Ge.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+Ge.length),$o(Xt),Xt.M=!0,ht(11))}}else Yr(this.i,this.l,Ge,null),DA(this,Ge);cr==4&&Cs(this),this.o&&!this.J&&(cr==4?sA(this.j,this):(this.o=!1,Lo(this)))}else nA(this.g),R==400&&0<Ge.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Cs(this),eA(this)}}}catch{}finally{}};function RA(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Cc(h,I){var R=h.C,J=I.indexOf(`
`,R);return J==-1?Xs:(R=Number(I.substring(R,J)),isNaN(R)?Js:(J+=1,J+R>I.length?Xs:(I=I.slice(J,J+R),h.C=J+R,I)))}Mr.prototype.cancel=function(){this.J=!0,Cs(this)};function Lo(h){h.S=Date.now()+h.I,bc(h,h.I)}function bc(h,I){if(h.B!=null)throw Error("WatchDog timer not null");h.B=On(p(h.ba,h),I)}function Zs(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Mr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Qo(this.i,this.A),this.L!=2&&(Dn(),ht(17)),Cs(this),this.s=2,eA(this)):bc(this,this.S-h)};function eA(h){h.j.G==0||h.J||sA(h.j,h)}function Cs(h){Zs(h);var I=h.M;I&&typeof I.ma=="function"&&I.ma(),h.M=null,it(h.U),h.g&&(I=h.g,h.g=null,I.abort(),I.ma())}function DA(h,I){try{var R=h.j;if(R.G!=0&&(R.g==h||al(R.h,h))){if(!h.K&&al(R.h,h)&&R.G==3){try{var J=R.Da.g.parse(I)}catch{J=null}if(Array.isArray(J)&&J.length==3){var ve=J;if(ve[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<h.F)Ss(R),zo(R);else break e;WA(R),ht(18)}}else R.za=ve[1],0<R.za-R.T&&37500>ve[2]&&R.F&&R.v==0&&!R.C&&(R.C=On(p(R.Za,R),6e3));if(1>=OA(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else jn(R,11)}else if((h.K||R.g==h)&&Ss(R),!B(I))for(ve=R.Da.g.parse(I),I=0;I<ve.length;I++){let Ft=ve[I];if(R.T=Ft[0],Ft=Ft[1],R.G==2)if(Ft[0]=="c"){R.K=Ft[1],R.ia=Ft[2];const Xt=Ft[3];Xt!=null&&(R.la=Xt,R.j.info("VER="+R.la));const cr=Ft[4];cr!=null&&(R.Aa=cr,R.j.info("SVER="+R.Aa));const Fs=Ft[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(J=1.5*Fs,R.L=J,R.j.info("backChannelRequestTimeoutMs_="+J)),J=R;const xn=h.g;if(xn){const AA=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(AA){var Ie=J.h;Ie.g||AA.indexOf("spdy")==-1&&AA.indexOf("quic")==-1&&AA.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(vr(Ie,Ie.h),Ie.h=null))}if(J.D){const oA=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;oA&&(J.ya=oA,tr(J.I,J.D,oA))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-h.F,R.j.info("Handshake RTT: "+R.R+"ms")),J=R;var Ge=h;if(J.qa=y(J,J.J?J.ia:null,J.W),Ge.K){ll(J.h,Ge);var St=Ge,Ot=J.L;Ot&&(St.I=Ot),St.B&&(Zs(St),Lo(St)),J.g=Ge}else qo(J);0<R.i.length&&Wo(R)}else Ft[0]!="stop"&&Ft[0]!="close"||jn(R,7);else R.G==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?jn(R,7):Is(R):Ft[0]!="noop"&&R.l&&R.l.ta(Ft),R.v=0)}}Dn(4)}catch{}}var Ed=class{constructor(h,I){this.g=h,this.map=I}};function ol(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function OA(h){return h.h?1:h.g?h.g.size:0}function al(h,I){return h.h?h.h==I:h.g?h.g.has(I):!1}function vr(h,I){h.g?h.g.add(I):h.h=I}function ll(h,I){h.h&&h.h==I?h.h=null:h.g&&h.g.has(I)&&h.g.delete(I)}ol.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function cl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let I=h.i;for(const R of h.g.values())I=I.concat(R.D);return I}return x(h.i)}function Ec(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(o(h)){for(var I=[],R=h.length,J=0;J<R;J++)I.push(h[J]);return I}I=[],R=0;for(J in h)I[R++]=h[J];return I}function ul(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(o(h)||typeof h=="string"){var I=[];h=h.length;for(var R=0;R<h;R++)I.push(R);return I}I=[],R=0;for(const J in h)I[R++]=J;return I}}}function _c(h,I){if(h.forEach&&typeof h.forEach=="function")h.forEach(I,void 0);else if(o(h)||typeof h=="string")Array.prototype.forEach.call(h,I,void 0);else for(var R=ul(h),J=Ec(h),ve=J.length,Ie=0;Ie<ve;Ie++)I.call(void 0,J[Ie],R&&R[Ie],h)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Po(h,I){if(h){h=h.split("&");for(var R=0;R<h.length;R++){var J=h[R].indexOf("="),ve=null;if(0<=J){var Ie=h[R].substring(0,J);ve=h[R].substring(J+1)}else Ie=h[R];I(Ie,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function kr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof kr){this.h=h.h,MA(this,h.j),this.o=h.o,this.g=h.g,Ro(this,h.s),this.l=h.l;var I=h.i,R=new tA;R.i=I.i,I.g&&(R.g=new Map(I.g),R.h=I.h),dl(this,R),this.m=h.m}else h&&(I=String(h).match(pi))?(this.h=!1,MA(this,I[1]||"",!0),this.o=HA(I[2]||""),this.g=HA(I[3]||"",!0),Ro(this,I[4]),this.l=HA(I[5]||"",!0),dl(this,I[6]||"",!0),this.m=HA(I[7]||"")):(this.h=!1,this.i=new tA(null,this.h))}kr.prototype.toString=function(){var h=[],I=this.j;I&&h.push(bs(I,Ic,!0),":");var R=this.g;return(R||I=="file")&&(h.push("//"),(I=this.o)&&h.push(bs(I,Ic,!0),"@"),h.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&h.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&h.push("/"),h.push(bs(R,R.charAt(0)=="/"?xs:Id,!0))),(R=this.i.toString())&&h.push("?",R),(R=this.m)&&h.push("#",bs(R,Oo)),h.join("")};function ii(h){return new kr(h)}function MA(h,I,R){h.j=R?HA(I,!0):I,h.j&&(h.j=h.j.replace(/:$/,""))}function Ro(h,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);h.s=I}else h.s=null}function dl(h,I,R){I instanceof tA?(h.i=I,Sd(h.i,h.h)):(R||(I=bs(I,Do)),h.i=new tA(I,h.h))}function tr(h,I,R){h.i.set(I,R)}function jA(h){return tr(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function HA(h,I){return h?I?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function bs(h,I,R){return typeof h=="string"?(h=encodeURI(h).replace(I,_d),R&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _d(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ic=/[#\/\?@]/g,Id=/[#\?:]/g,xs=/[#\?]/g,Do=/[#\?@]/g,Oo=/#/g;function tA(h,I){this.h=this.g=null,this.i=h||null,this.j=!!I}function wr(h){h.g||(h.g=new Map,h.h=0,h.i&&Po(h.i,function(I,R){h.add(decodeURIComponent(I.replace(/\+/g," ")),R)}))}t=tA.prototype,t.add=function(h,I){wr(this),this.i=null,h=rA(this,h);var R=this.g.get(h);return R||this.g.set(h,R=[]),R.push(I),this.h+=1,this};function Sc(h,I){wr(h),I=rA(h,I),h.g.has(I)&&(h.i=null,h.h-=h.g.get(I).length,h.g.delete(I))}function hl(h,I){return wr(h),I=rA(h,I),h.g.has(I)}t.forEach=function(h,I){wr(this),this.g.forEach(function(R,J){R.forEach(function(ve){h.call(I,ve,J,this)},this)},this)},t.na=function(){wr(this);const h=Array.from(this.g.values()),I=Array.from(this.g.keys()),R=[];for(let J=0;J<I.length;J++){const ve=h[J];for(let Ie=0;Ie<ve.length;Ie++)R.push(I[J])}return R},t.V=function(h){wr(this);let I=[];if(typeof h=="string")hl(this,h)&&(I=I.concat(this.g.get(rA(this,h))));else{h=Array.from(this.g.values());for(let R=0;R<h.length;R++)I=I.concat(h[R])}return I},t.set=function(h,I){return wr(this),this.i=null,h=rA(this,h),hl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[I]),this.h+=1,this},t.get=function(h,I){return h?(h=this.V(h),0<h.length?String(h[0]):I):I};function Et(h,I,R){Sc(h,I),0<R.length&&(h.i=null,h.g.set(rA(h,I),x(R)),h.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],I=Array.from(this.g.keys());for(var R=0;R<I.length;R++){var J=I[R];const Ie=encodeURIComponent(String(J)),Ge=this.V(J);for(J=0;J<Ge.length;J++){var ve=Ie;Ge[J]!==""&&(ve+="="+encodeURIComponent(String(Ge[J]))),h.push(ve)}}return this.i=h.join("&")};function rA(h,I){return I=String(I),h.j&&(I=I.toLowerCase()),I}function Sd(h,I){I&&!h.j&&(wr(h),h.i=null,h.g.forEach(function(R,J){var ve=J.toLowerCase();J!=ve&&(Sc(this,J),Et(this,ve,R))},h)),h.j=I}function Yi(h,I){const R=new Xr;if(a.Image){const J=new Image;J.onload=g(Ni,R,"TestLoadImage: loaded",!0,I,J),J.onerror=g(Ni,R,"TestLoadImage: error",!1,I,J),J.onabort=g(Ni,R,"TestLoadImage: abort",!1,I,J),J.ontimeout=g(Ni,R,"TestLoadImage: timeout",!1,I,J),a.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=h}else I(!1)}function Fc(h,I){const R=new Xr,J=new AbortController,ve=setTimeout(()=>{J.abort(),Ni(R,"TestPingServer: timeout",!1,I)},1e4);fetch(h,{signal:J.signal}).then(Ie=>{clearTimeout(ve),Ie.ok?Ni(R,"TestPingServer: ok",!0,I):Ni(R,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(ve),Ni(R,"TestPingServer: error",!1,I)})}function Ni(h,I,R,J,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),J(R)}catch{}}function Mo(){this.g=new Pt}function fl(h,I,R){const J=R||"";try{_c(h,function(ve,Ie){let Ge=ve;l(ve)&&(Ge=et(ve)),I.push(J+Ie+"="+encodeURIComponent(Ge))})}catch(ve){throw I.push(J+"type="+encodeURIComponent("_badmap")),ve}}function jo(h){this.l=h.Ub||null,this.j=h.eb||!1}v(jo,ct),jo.prototype.g=function(){return new Ho(this.l,this.j)},jo.prototype.i=function(h){return function(){return h}}({});function Ho(h,I){Me.call(this),this.D=h,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ho,Me),t=Ho.prototype,t.open=function(h,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=I,this.readyState=1,Qi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(I.body=h),(this.D||a).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var I=h.value?h.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!h.done}))&&(this.response=this.responseText+=I)}h.done?Es(this):Qi(this),this.readyState==3&&Tc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Es(this))},t.Qa=function(h){this.g&&(this.response=h,Es(this))},t.ga=function(){this.g&&Es(this)};function Es(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Qi(h)}t.setRequestHeader=function(h,I){this.u.append(h,I)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],I=this.h.entries();for(var R=I.next();!R.done;)R=R.value,h.push(R[0]+": "+R[1]),R=I.next();return h.join(`\r
`)};function Qi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function _s(h){let I="";return M(h,function(R,J){I+=J,I+=":",I+=R,I+=`\r
`}),I}function pl(h,I,R){e:{for(J in R){var J=!1;break e}J=!0}J||(R=_s(R),typeof h=="string"?R!=null&&encodeURIComponent(String(R)):tr(h,I,R))}function Jt(h){Me.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Jt,Me);var gl=/^https?$/i,Vo=["POST","PUT"];t=Jt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,I,R,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);I=I?I.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?Lt(this.o):Lt(ri),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(I,String(h),!0),this.B=!1}catch(Ie){ml(this,Ie);return}if(h=R||"",R=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var ve in J)R.set(ve,J[ve]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ie of J.keys())R.set(Ie,J.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(R.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),ve=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Vo,I,void 0))||J||ve||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,Ge]of R)this.g.setRequestHeader(Ie,Ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Li(this),this.u=!0,this.g.send(h),this.u=!1}catch(Ie){ml(this,Ie)}};function ml(h,I){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=I,h.m=5,vl(h),VA(h)}function vl(h){h.A||(h.A=!0,ze(h,"complete"),ze(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ze(this,"complete"),ze(this,"abort"),VA(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),VA(this,!0)),Jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wl(this):this.bb())},t.bb=function(){wl(this)};function wl(h){if(h.h&&typeof A<"u"&&(!h.v[1]||An(h)!=4||h.Z()!=2)){if(h.u&&An(h)==4)At(h.Ea,0,h);else if(ze(h,"readystatechange"),An(h)==4){h.h=!1;try{const Ge=h.Z();e:switch(Ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var R;if(!(R=I)){var J;if(J=Ge===0){var ve=String(h.D).match(pi)[1]||null;!ve&&a.self&&a.self.location&&(ve=a.self.location.protocol.slice(0,-1)),J=!gl.test(ve?ve.toLowerCase():"")}R=J}if(R)ze(h,"complete"),ze(h,"success");else{h.m=6;try{var Ie=2<An(h)?h.g.statusText:""}catch{Ie=""}h.l=Ie+" ["+h.Z()+"]",vl(h)}}finally{VA(h)}}}}function VA(h,I){if(h.g){Li(h);const R=h.g,J=h.v[0]?()=>{}:null;h.g=null,h.v=null,I||ze(h,"ready");try{R.onreadystatechange=J}catch{}}}function Li(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function An(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var I=this.g.responseText;return h&&I.indexOf(h)==0&&(I=I.substring(h.length)),lt(I)}};function kc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function nA(h){const I={};h=(h.g&&2<=An(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<h.length;J++){if(B(h[J]))continue;var R=_(h[J]);const ve=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const Ie=I[ve]||[];I[ve]=Ie,Ie.push(R)}S(I,function(J){return J.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bn(h,I,R){return R&&R.internalChannelParams&&R.internalChannelParams[h]||I}function Ko(h){this.Aa=0,this.i=[],this.j=new Xr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bn("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bn("baseRetryDelayMs",5e3,h),this.cb=bn("retryDelaySeedMs",1e4,h),this.Wa=bn("forwardChannelMaxRetries",2,h),this.wa=bn("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ol(h&&h.concurrentRequestLimit),this.Da=new Mo,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ko.prototype,t.la=8,t.G=1,t.connect=function(h,I,R,J){ht(0),this.W=h,this.H=I||{},R&&J!==void 0&&(this.H.OSID=R,this.H.OAID=J),this.F=this.X,this.I=y(this,null,this.W),Wo(this)};function Is(h){if(KA(h),h.G==3){var I=h.U++,R=ii(h.I);if(tr(R,"SID",h.K),tr(R,"RID",I),tr(R,"TYPE","terminate"),iA(h,R),I=new Mr(h,h.j,I),I.L=2,I.v=jA(ii(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(I.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=I.v,R=!0),R||(I.g=H(I.j,null),I.g.ea(I.v)),I.F=Date.now(),Lo(I)}Xo(h)}function zo(h){h.g&&($o(h),h.g.cancel(),h.g=null)}function KA(h){zo(h),h.u&&(a.clearTimeout(h.u),h.u=null),Ss(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Wo(h){if(!xc(h.h)&&!h.s){h.s=!0;var I=h.Ga;K||G(),$||(K(),$=!0),P.add(I,h),h.B=0}}function yl(h,I){return OA(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=I.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=On(p(h.Ga,h,I),Jo(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ve=new Mr(this,this.j,h);let Ie=this.o;if(this.S&&(Ie?(Ie=E(Ie),O(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(ve.H=Ie,Ie=null),this.P)e:{for(var I=0,R=0;R<this.i.length;R++){t:{var J=this.i[R];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(I+=J,4096<I){I=R;break e}if(I===4096||R===this.i.length-1){I=R+1;break e}}I=1e3}else I=1e3;I=zA(this,ve,I),R=ii(this.I),tr(R,"RID",h),tr(R,"CVER",22),this.D&&tr(R,"X-HTTP-Session-Id",this.D),iA(this,R),Ie&&(this.O?I="headers="+encodeURIComponent(String(_s(Ie)))+"&"+I:this.m&&pl(R,this.m,Ie)),vr(this.h,ve),this.Ua&&tr(R,"TYPE","init"),this.P?(tr(R,"$req",I),tr(R,"SID","null"),ve.T=!0,Ys(ve,R,null)):Ys(ve,R,I),this.G=2}}else this.G==3&&(h?Go(this,h):this.i.length==0||xc(this.h)||Go(this))};function Go(h,I){var R;I?R=I.l:R=h.U++;const J=ii(h.I);tr(J,"SID",h.K),tr(J,"RID",R),tr(J,"AID",h.T),iA(h,J),h.m&&h.o&&pl(J,h.m,h.o),R=new Mr(h,h.j,R,h.B+1),h.m===null&&(R.H=h.o),I&&(h.i=I.D.concat(h.i)),I=zA(h,R,1e3),R.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),vr(h.h,R),Ys(R,J,I)}function iA(h,I){h.H&&M(h.H,function(R,J){tr(I,J,R)}),h.l&&_c({},function(R,J){tr(I,J,R)})}function zA(h,I,R){R=Math.min(h.i.length,R);var J=h.l?p(h.l.Na,h.l,h):null;e:{var ve=h.i;let Ie=-1;for(;;){const Ge=["count="+R];Ie==-1?0<R?(Ie=ve[0].g,Ge.push("ofs="+Ie)):Ie=0:Ge.push("ofs="+Ie);let St=!0;for(let Ot=0;Ot<R;Ot++){let Ft=ve[Ot].g;const Xt=ve[Ot].map;if(Ft-=Ie,0>Ft)Ie=Math.max(0,ve[Ot].g-100),St=!1;else try{fl(Xt,Ge,"req"+Ft+"_")}catch{J&&J(Xt)}}if(St){J=Ge.join("&");break e}}}return h=h.i.splice(0,R),I.D=h,J}function qo(h){if(!h.g&&!h.u){h.Y=1;var I=h.Fa;K||G(),$||(K(),$=!0),P.add(I,h),h.v=0}}function WA(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=On(p(h.Fa,h),Jo(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=On(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),zo(this),Uc(this))};function $o(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Uc(h){h.g=new Mr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var I=ii(h.qa);tr(I,"RID","rpc"),tr(I,"SID",h.K),tr(I,"AID",h.T),tr(I,"CI",h.F?"0":"1"),!h.F&&h.ja&&tr(I,"TO",h.ja),tr(I,"TYPE","xmlhttp"),iA(h,I),h.m&&h.o&&pl(I,h.m,h.o),h.L&&(h.g.I=h.L);var R=h.g;h=h.ia,R.L=1,R.v=jA(ii(I)),R.m=null,R.P=!0,PA(R,h)}t.Za=function(){this.C!=null&&(this.C=null,zo(this),WA(this),ht(19))};function Ss(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function sA(h,I){var R=null;if(h.g==I){Ss(h),$o(h),h.g=null;var J=2}else if(al(h.h,I))R=I.D,ll(h.h,I),J=1;else return;if(h.G!=0){if(I.o)if(J==1){R=I.m?I.m.length:0,I=Date.now()-I.F;var ve=h.B;J=Xi(),ze(J,new hi(J,R)),Wo(h)}else qo(h);else if(ve=I.s,ve==3||ve==0&&0<I.X||!(J==1&&yl(h,I)||J==2&&WA(h)))switch(R&&0<R.length&&(I=h.h,I.i=I.i.concat(R)),ve){case 1:jn(h,5);break;case 4:jn(h,10);break;case 3:jn(h,6);break;default:jn(h,2)}}}function Jo(h,I){let R=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(R*=2),R*I}function jn(h,I){if(h.j.info("Error code "+I),I==2){var R=p(h.fb,h),J=h.Xa;const ve=!J;J=new kr(J||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||MA(J,"https"),jA(J),ve?Yi(J.toString(),R):Fc(J.toString(),R)}else ht(2);h.G=0,h.l&&h.l.sa(I),Xo(h),KA(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Xo(h){if(h.G=0,h.ka=[],h.l){const I=cl(h.h);(I.length!=0||h.i.length!=0)&&(T(h.ka,I),T(h.ka,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.ra()}}function y(h,I,R){var J=R instanceof kr?ii(R):new kr(R);if(J.g!="")I&&(J.g=I+"."+J.g),Ro(J,J.s);else{var ve=a.location;J=ve.protocol,I=I?I+"."+ve.hostname:ve.hostname,ve=+ve.port;var Ie=new kr(null);J&&MA(Ie,J),I&&(Ie.g=I),ve&&Ro(Ie,ve),R&&(Ie.l=R),J=Ie}return R=h.D,I=h.ya,R&&I&&tr(J,R,I),tr(J,"VER",h.la),iA(h,J),J}function H(h,I,R){if(I&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=h.Ca&&!h.pa?new Jt(new jo({eb:R})):new Jt(h.pa),I.Ha(h.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function se(){}t=se.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function de(){}de.prototype.g=function(h,I){return new we(h,I)};function we(h,I){Me.call(this),this.g=new Ko(I),this.l=h,this.h=I&&I.messageUrlParams||null,h=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(h?h["X-WebChannel-Content-Type"]=I.messageContentType:h={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(h?h["X-WebChannel-Client-Profile"]=I.va:h={"X-WebChannel-Client-Profile":I.va}),this.g.S=h,(h=I&&I.Sb)&&!B(h)&&(this.g.m=h),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!B(I)&&(this.g.D=I,h=this.h,h!==null&&I in h&&(h=this.h,I in h&&delete h[I])),this.j=new rt(this)}v(we,Me),we.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},we.prototype.close=function(){Is(this.g)},we.prototype.o=function(h){var I=this.g;if(typeof h=="string"){var R={};R.__data__=h,h=R}else this.u&&(R={},R.__data__=et(h),h=R);I.i.push(new Ed(I.Ya++,h)),I.G==3&&Wo(I)},we.prototype.N=function(){this.g.l=null,delete this.j,Is(this.g),delete this.g,we.aa.N.call(this)};function Ue(h){Ti.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var I=h.__sm__;if(I){e:{for(const R in I){h=R;break e}h=void 0}(this.i=h)&&(h=this.i,I=I!==null&&h in I?I[h]:void 0),this.data=I}else this.data=h}v(Ue,Ti);function We(){hr.call(this),this.status=1}v(We,hr);function rt(h){this.g=h}v(rt,se),rt.prototype.ua=function(){ze(this.g,"a")},rt.prototype.ta=function(h){ze(this.g,new Ue(h))},rt.prototype.sa=function(h){ze(this.g,new We)},rt.prototype.ra=function(){ze(this.g,"b")},de.prototype.createWebChannel=de.prototype.g,we.prototype.send=we.prototype.o,we.prototype.open=we.prototype.m,we.prototype.close=we.prototype.close,OS=function(){return new de},DS=function(){return Xi()},RS=yt,vy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mn.NO_ERROR=0,Mn.TIMEOUT=8,Mn.HTTP_ERROR=6,zg=Mn,fi.COMPLETE="complete",PS=fi,or.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",Me.prototype.listen=Me.prototype.K,dh=or,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,LS=Jt}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});const ex="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new zf("@firebase/firestore");function Xd(){return ac.logLevel}function vt(t,...e){if(ac.logLevel<=Rt.DEBUG){const r=e.map(LB);ac.debug(`Firestore (${fd}): ${t}`,...r)}}function bo(t,...e){if(ac.logLevel<=Rt.ERROR){const r=e.map(LB);ac.error(`Firestore (${fd}): ${t}`,...r)}}function Yu(t,...e){if(ac.logLevel<=Rt.WARN){const r=e.map(LB);ac.warn(`Firestore (${fd}): ${t}`,...r)}}function LB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t="Unexpected state"){const e=`FIRESTORE (${fd}) INTERNAL ASSERTION FAILED: `+t;throw bo(e),new Error(e)}function Ar(t,e){t||It()}function Ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends Bn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Jn.UNAUTHENTICATED))}shutdown(){}}class bD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class xD{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ar(this.o===void 0);let n=this.i;const i=o=>this.i!==n?(n=this.i,r(o)):Promise.resolve();let s=new ja;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ja,e.enqueueRetryable(()=>i(this.currentUser))};const A=()=>{const o=s;e.enqueueRetryable(async()=>{await o.promise,await i(this.currentUser)})},a=o=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(o=>a(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?a(o):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ja)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ar(typeof n.accessToken=="string"),new MS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ar(e===null||typeof e=="string"),new Jn(e)}}class ED{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _D{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new ED(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ID{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Ar(this.o===void 0);const n=s=>{s.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const A=s.token!==this.R;return this.R=s.token,vt("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ar(typeof r.token=="string"),this.R=r.token,new ID(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=FD(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function qt(t,e){return t<e?-1:t>e?1:0}function Zu(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new wt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new wt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new wt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new hn(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new hn(0,0))}static max(){return new kt(new hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,r,n){r===void 0?r=0:r>e.length&&It(),n===void 0?n=e.length-r:n>e.length-r&&It(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Cf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Cf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),A=r.get(i);if(s<A)return-1;if(s>A)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Lr extends Cf{construct(e,r,n){return new Lr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new wt($e.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Lr(r)}static emptyPath(){return new Lr([])}}const TD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Cf{construct(e,r,n){return new kn(e,r,n)}static isValidIdentifier(e){return TD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kn(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new wt($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let A=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new wt($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[i+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new wt($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=o,i+=2}else a==="`"?(A=!A,i++):a!=="."||A?(n+=a,i++):(s(),i++)}if(s(),A)throw new wt($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(r)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.path=e}static fromPath(e){return new bt(Lr.fromString(e))}static fromName(e){return new bt(Lr.fromString(e).popFirst(5))}static empty(){return new bt(Lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Lr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new Lr(e.slice()))}}function kD(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(n===1e9?new hn(r+1,0):new hn(r,n));return new $a(i,bt.empty(),e)}function UD(t){return new $a(t.readTime,t.key,-1)}class $a{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new $a(kt.min(),bt.empty(),-1)}static max(){return new $a(kt.max(),bt.empty(),-1)}}function ND(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=bt.comparator(t.documentKey,e.documentKey),r!==0?r:qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(t){if(t.code!==$e.FAILED_PRECONDITION||t.message!==QD)throw t;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new qe((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof qe?r:qe.resolve(r)}catch(r){return qe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):qe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):qe.reject(r)}static resolve(e){return new qe((r,n)=>{r(e)})}static reject(e){return new qe((r,n)=>{n(e)})}static waitFor(e){return new qe((r,n)=>{let i=0,s=0,A=!1;e.forEach(a=>{++i,a.next(()=>{++s,A&&s===i&&r()},o=>n(o))}),A=!0,s===i&&r()})}static or(e){let r=qe.resolve(!1);for(const n of e)r=r.next(i=>i?qe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new qe((n,i)=>{const s=e.length,A=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;r(e[l]).next(c=>{A[l]=c,++a,a===s&&n(A)},c=>i(c))}})}static doWhile(e,r){return new qe((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function PD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function qf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}PB.oe=-1;function jm(t){return t==null}function j0(t){return t===0&&1/t==-1/0}function RD(t){return typeof t=="number"&&Number.isInteger(t)&&!j0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function pd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function HS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,r){this.comparator=e,this.root=r||Fn.EMPTY}insert(e,r){return new Fr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eg(this.root,e,this.comparator,!0)}}class eg{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Fn.RED,this.left=i??Fn.EMPTY,this.right=s??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Fn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Fn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Fn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new rx(this.data.getIterator())}getIteratorFrom(e){return new rx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Qn(this.comparator);return r.data=e,r}}class rx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new Ms([])}unionWith(e){let r=new Qn(kn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ms(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VS("Invalid base64 string: "+s):s}}(e);return new Pn(r)}static fromUint8Array(e){const r=function(i){let s="";for(let A=0;A<i.length;++A)s+=String.fromCharCode(i[A]);return s}(e);return new Pn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const DD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(t){if(Ar(!!t),typeof t=="string"){let e=0;const r=DD.exec(t);if(Ar(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:zr(t.seconds),nanos:zr(t.nanos)}}function zr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lc(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function DB(t){const e=t.mapValue.fields.__previous_value__;return RB(e)?DB(e):e}function bf(t){const e=Ja(t.mapValue.fields.__local_write_time__.timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,r,n,i,s,A,a,o,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=A,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class xf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new xf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg={mapValue:{}};function cc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RB(t)?4:jD(t)?9007199254740991:MD(t)?10:11:It()}function FA(t,e){if(t===e)return!0;const r=cc(t);if(r!==cc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bf(t).isEqual(bf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const A=Ja(i.timestampValue),a=Ja(s.timestampValue);return A.seconds===a.seconds&&A.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return lc(i.bytesValue).isEqual(lc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return zr(i.geoPointValue.latitude)===zr(s.geoPointValue.latitude)&&zr(i.geoPointValue.longitude)===zr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return zr(i.integerValue)===zr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const A=zr(i.doubleValue),a=zr(s.doubleValue);return A===a?j0(A)===j0(a):isNaN(A)&&isNaN(a)}return!1}(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],FA);case 10:case 11:return function(i,s){const A=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tx(A)!==tx(a))return!1;for(const o in A)if(A.hasOwnProperty(o)&&(a[o]===void 0||!FA(A[o],a[o])))return!1;return!0}(t,e);default:return It()}}function Ef(t,e){return(t.values||[]).find(r=>FA(r,e))!==void 0}function ed(t,e){if(t===e)return 0;const r=cc(t),n=cc(e);if(r!==n)return qt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return qt(t.booleanValue,e.booleanValue);case 2:return function(s,A){const a=zr(s.integerValue||s.doubleValue),o=zr(A.integerValue||A.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return nx(t.timestampValue,e.timestampValue);case 4:return nx(bf(t),bf(e));case 5:return qt(t.stringValue,e.stringValue);case 6:return function(s,A){const a=lc(s),o=lc(A);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(s,A){const a=s.split("/"),o=A.split("/");for(let l=0;l<a.length&&l<o.length;l++){const c=qt(a[l],o[l]);if(c!==0)return c}return qt(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,A){const a=qt(zr(s.latitude),zr(A.latitude));return a!==0?a:qt(zr(s.longitude),zr(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ix(t.arrayValue,e.arrayValue);case 10:return function(s,A){var a,o,l,c;const d=s.fields||{},p=A.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(o=p.value)===null||o===void 0?void 0:o.arrayValue,x=qt(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return x!==0?x:ix(g,v)}(t.mapValue,e.mapValue);case 11:return function(s,A){if(s===tg.mapValue&&A===tg.mapValue)return 0;if(s===tg.mapValue)return 1;if(A===tg.mapValue)return-1;const a=s.fields||{},o=Object.keys(a),l=A.fields||{},c=Object.keys(l);o.sort(),c.sort();for(let d=0;d<o.length&&d<c.length;++d){const p=qt(o[d],c[d]);if(p!==0)return p;const g=ed(a[o[d]],l[c[d]]);if(g!==0)return g}return qt(o.length,c.length)}(t.mapValue,e.mapValue);default:throw It()}}function nx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qt(t,e);const r=Ja(t),n=Ja(e),i=qt(r.seconds,n.seconds);return i!==0?i:qt(r.nanos,n.nanos)}function ix(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=ed(r[i],n[i]);if(s)return s}return qt(r.length,n.length)}function td(t){return wy(t)}function wy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ja(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return lc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return bt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=wy(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const A of n)s?s=!1:i+=",",i+=`${A}:${wy(r.fields[A])}`;return i+"}"}(t.mapValue):It()}function yy(t){return!!t&&"integerValue"in t}function OB(t){return!!t&&"arrayValue"in t}function sx(t){return!!t&&"nullValue"in t}function Ax(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wg(t){return!!t&&"mapValue"in t}function MD(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Ph(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pd(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Ph(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ph(t.arrayValue.values[r]);return e}return Object.assign({},t)}function jD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Wg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ph(r)}setAll(e){let r=kn.emptyPath(),n={},i=[];e.forEach((A,a)=>{if(!r.isImmediateParentOf(a)){const o=this.getFieldsMap(r);this.applyChanges(o,n,i),n={},i=[],r=a.popLast()}A?n[a.lastSegment()]=Ph(A):i.push(a.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Wg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return FA(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Wg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){pd(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new us(Ph(this.value))}}function KS(t){const e=[];return pd(t.fields,(r,n)=>{const i=new kn([r]);if(Wg(n)){const s=KS(n.mapValue).fields;if(s.length===0)e.push(i);else for(const A of s)e.push(i.child(A))}else e.push(i)}),new Ms(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,r,n,i,s,A,a){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=A,this.documentState=a}static newInvalidDocument(e){return new Zn(e,0,kt.min(),kt.min(),kt.min(),us.empty(),0)}static newFoundDocument(e,r,n,i){return new Zn(e,1,r,kt.min(),n,i,0)}static newNoDocument(e,r){return new Zn(e,2,r,kt.min(),kt.min(),us.empty(),0)}static newUnknownDocument(e,r){return new Zn(e,3,r,kt.min(),kt.min(),us.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,r){this.position=e,this.inclusive=r}}function ox(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],A=t.position[i];if(s.field.isKeyField()?n=bt.comparator(bt.fromName(A.referenceValue),r.key):n=ed(A,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function ax(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!FA(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,r="asc"){this.field=e,this.dir=r}}function HD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{}class un extends zS{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new KD(e,r,n):r==="array-contains"?new GD(e,n):r==="in"?new qD(e,n):r==="not-in"?new $D(e,n):r==="array-contains-any"?new JD(e,n):new un(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new zD(e,n):new WD(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ed(r,this.value)):r!==null&&cc(this.value)===cc(r)&&this.matchesComparison(ed(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class TA extends zS{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new TA(e,r)}matches(e){return WS(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WS(t){return t.op==="and"}function GS(t){return VD(t)&&WS(t)}function VD(t){for(const e of t.filters)if(e instanceof TA)return!1;return!0}function By(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+td(t.value);if(GS(t))return t.filters.map(e=>By(e)).join(",");{const e=t.filters.map(r=>By(r)).join(",");return`${t.op}(${e})`}}function qS(t,e){return t instanceof un?function(n,i){return i instanceof un&&n.op===i.op&&n.field.isEqual(i.field)&&FA(n.value,i.value)}(t,e):t instanceof TA?function(n,i){return i instanceof TA&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,A,a)=>s&&qS(A,i.filters[a]),!0):!1}(t,e):void It()}function $S(t){return t instanceof un?function(r){return`${r.field.canonicalString()} ${r.op} ${td(r.value)}`}(t):t instanceof TA?function(r){return r.op.toString()+" {"+r.getFilters().map($S).join(" ,")+"}"}(t):"Filter"}class KD extends un{constructor(e,r,n){super(e,r,n),this.key=bt.fromName(n.referenceValue)}matches(e){const r=bt.comparator(e.key,this.key);return this.matchesComparison(r)}}class zD extends un{constructor(e,r){super(e,"in",r),this.keys=JS("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class WD extends un{constructor(e,r){super(e,"not-in",r),this.keys=JS("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function JS(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>bt.fromName(n.referenceValue))}class GD extends un{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return OB(r)&&Ef(r.arrayValue,this.value)}}class qD extends un{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ef(this.value.arrayValue,r)}}class $D extends un{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ef(this.value.arrayValue,r)}}class JD extends un{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!OB(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ef(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,r=null,n=[],i=[],s=null,A=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=A,this.endAt=a,this.ue=null}}function lx(t,e=null,r=[],n=[],i=null,s=null,A=null){return new XD(t,e,r,n,i,s,A)}function MB(t){const e=Ut(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>By(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),jm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>td(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>td(n)).join(",")),e.ue=r}return e.ue}function jB(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!HD(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!qS(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ax(t.startAt,e.startAt)&&ax(t.endAt,e.endAt)}function Cy(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,r=null,n=[],i=[],s=null,A="F",a=null,o=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=A,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function YD(t,e,r,n,i,s,A,a){return new Hm(t,e,r,n,i,s,A,a)}function Vm(t){return new Hm(t)}function cx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZD(t){return t.collectionGroup!==null}function Rh(t){const e=Ut(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let a=new Qn(kn.comparator);return A.filters.forEach(o=>{o.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new V0(s,n))}),r.has(kn.keyField().canonicalString())||e.ce.push(new V0(kn.keyField(),n))}return e.ce}function CA(t){const e=Ut(t);return e.le||(e.le=e6(e,Rh(t))),e.le}function e6(t,e){if(t.limitType==="F")return lx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new V0(i.field,s)});const r=t.endAt?new H0(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new H0(t.startAt.position,t.startAt.inclusive):null;return lx(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function by(t,e,r){return new Hm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Km(t,e){return jB(CA(t),CA(e))&&t.limitType===e.limitType}function XS(t){return`${MB(CA(t))}|lt:${t.limitType}`}function nu(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>$S(i)).join(", ")}]`),jm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>td(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>td(i)).join(",")),`Target(${n})`}(CA(t))}; limitType=${t.limitType})`}function zm(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):bt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Rh(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(A,a,o){const l=ox(A,a,o);return A.inclusive?l<=0:l<0}(n.startAt,Rh(n),i)||n.endAt&&!function(A,a,o){const l=ox(A,a,o);return A.inclusive?l>=0:l>0}(n.endAt,Rh(n),i))}(t,e)}function t6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YS(t){return(e,r)=>{let n=!1;for(const i of Rh(t)){const s=r6(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function r6(t,e,r){const n=t.field.isKeyField()?bt.comparator(e.key,r.key):function(s,A,a){const o=A.data.field(s),l=a.data.field(s);return o!==null&&l!==null?ed(o,l):It()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pd(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return HS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Fr(bt.comparator);function xo(){return n6}const ZS=new Fr(bt.comparator);function hh(...t){let e=ZS;for(const r of t)e=e.insert(r.key,r);return e}function eF(t){let e=ZS;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ml(){return Dh()}function tF(){return Dh()}function Dh(){return new gd(t=>t.toString(),(t,e)=>t.isEqual(e))}const i6=new Fr(bt.comparator),s6=new Qn(bt.comparator);function Ht(...t){let e=s6;for(const r of t)e=e.add(r);return e}const A6=new Qn(qt);function o6(){return A6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j0(e)?"-0":e}}function rF(t){return{integerValue:""+t}}function a6(t,e){return RD(e)?rF(e):HB(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this._=void 0}}function l6(t,e,r){return t instanceof K0?function(i,s){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&RB(s)&&(s=DB(s)),s&&(A.fields.__previous_value__=s),{mapValue:A}}(r,e):t instanceof _f?iF(t,e):t instanceof If?sF(t,e):function(i,s){const A=nF(i,s),a=ux(A)+ux(i.Pe);return yy(A)&&yy(i.Pe)?rF(a):HB(i.serializer,a)}(t,e)}function c6(t,e,r){return t instanceof _f?iF(t,e):t instanceof If?sF(t,e):r}function nF(t,e){return t instanceof z0?function(n){return yy(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class K0 extends Wm{}class _f extends Wm{constructor(e){super(),this.elements=e}}function iF(t,e){const r=AF(e);for(const n of t.elements)r.some(i=>FA(i,n))||r.push(n);return{arrayValue:{values:r}}}class If extends Wm{constructor(e){super(),this.elements=e}}function sF(t,e){let r=AF(e);for(const n of t.elements)r=r.filter(i=>!FA(i,n));return{arrayValue:{values:r}}}class z0 extends Wm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function ux(t){return zr(t.integerValue||t.doubleValue)}function AF(t){return OB(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function u6(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof _f&&i instanceof _f||n instanceof If&&i instanceof If?Zu(n.elements,i.elements,FA):n instanceof z0&&i instanceof z0?FA(n.Pe,i.Pe):n instanceof K0&&i instanceof K0}(t.transform,e.transform)}class d6{constructor(e,r){this.version=e,this.transformResults=r}}class bA{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new bA}static exists(e){return new bA(void 0,e)}static updateTime(e){return new bA(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gm{}function oF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VB(t.key,bA.none()):new $f(t.key,t.data,bA.none());{const r=t.data,n=us.empty();let i=new Qn(kn.comparator);for(let s of e.fields)if(!i.has(s)){let A=r.field(s);A===null&&s.length>1&&(s=s.popLast(),A=r.field(s)),A===null?n.delete(s):n.set(s,A),i=i.add(s)}return new vc(t.key,n,new Ms(i.toArray()),bA.none())}}function h6(t,e,r){t instanceof $f?function(i,s,A){const a=i.value.clone(),o=hx(i.fieldTransforms,s,A.transformResults);a.setAll(o),s.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,r):t instanceof vc?function(i,s,A){if(!Gg(i.precondition,s))return void s.convertToUnknownDocument(A.version);const a=hx(i.fieldTransforms,s,A.transformResults),o=s.data;o.setAll(aF(i)),o.setAll(a),s.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,r):function(i,s,A){s.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,r)}function Oh(t,e,r,n){return t instanceof $f?function(s,A,a,o){if(!Gg(s.precondition,A))return a;const l=s.value.clone(),c=fx(s.fieldTransforms,o,A);return l.setAll(c),A.convertToFoundDocument(A.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof vc?function(s,A,a,o){if(!Gg(s.precondition,A))return a;const l=fx(s.fieldTransforms,o,A),c=A.data;return c.setAll(aF(s)),c.setAll(l),A.convertToFoundDocument(A.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,A,a){return Gg(s.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):a}(t,e,r)}function f6(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=nF(n.transform,i||null);s!=null&&(r===null&&(r=us.empty()),r.set(n.field,s))}return r||null}function dx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Zu(n,i,(s,A)=>u6(s,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $f extends Gm{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vc extends Gm{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aF(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function hx(t,e,r){const n=new Map;Ar(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],A=s.transform,a=e.data.field(s.field);n.set(s.field,c6(A,a,r[i]))}return n}function fx(t,e,r){const n=new Map;for(const i of t){const s=i.transform,A=r.data.field(i.field);n.set(i.field,l6(s,A,e))}return n}class VB extends Gm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p6 extends Gm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&h6(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Oh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Oh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=tF();return this.mutations.forEach(i=>{const s=e.get(i.key),A=s.overlayedDocument;let a=this.applyToLocalView(A,s.mutatedFields);a=r.has(i.key)?null:a;const o=oF(A,a);o!==null&&n.set(i.key,o),A.isValidDocument()||A.convertToNoDocument(kt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ht())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(r,n)=>dx(r,n))&&Zu(this.baseMutations,e.baseMutations,(r,n)=>dx(r,n))}}class KB{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ar(e.mutations.length===n.length);let i=function(){return i6}();const s=e.mutations;for(let A=0;A<s.length;A++)i=i.insert(s[A].key,n[A].version);return new KB(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,Vt;function w6(t){switch(t){default:return It();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}function lF(t){if(t===void 0)return bo("GRPC error has no .code"),$e.UNKNOWN;switch(t){case tn.OK:return $e.OK;case tn.CANCELLED:return $e.CANCELLED;case tn.UNKNOWN:return $e.UNKNOWN;case tn.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case tn.INTERNAL:return $e.INTERNAL;case tn.UNAVAILABLE:return $e.UNAVAILABLE;case tn.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case tn.NOT_FOUND:return $e.NOT_FOUND;case tn.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case tn.ABORTED:return $e.ABORTED;case tn.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case tn.DATA_LOSS:return $e.DATA_LOSS;default:return It()}}(Vt=tn||(tn={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new Wl([4294967295,4294967295],0);function px(t){const e=y6().encode(t),r=new QS;return r.update(e),new Uint8Array(r.digest())}function gx(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wl([r,n],0),new Wl([i,s],0)]}class zB{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new fh(`Invalid padding: ${r}`);if(n<0)throw new fh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new fh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new fh(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Wl.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Wl.fromNumber(n)));return i.compare(B6)===1&&(i=new Wl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=px(e),[n,i]=gx(r);for(let s=0;s<this.hashCount;s++){const A=this.Ee(n,i,s);if(!this.de(A))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),A=new zB(s,i,r);return n.forEach(a=>A.insert(a)),A}insert(e){if(this.Ie===0)return;const r=px(e),[n,i]=gx(r);for(let s=0;s<this.hashCount;s++){const A=this.Ee(n,i,s);this.Ae(A)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Jf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new qm(kt.min(),i,new Fr(qt),xo(),Ht())}}class Jf{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Jf(n,r,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class cF{constructor(e,r){this.targetId=e,this.me=r}}class uF{constructor(e,r,n=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class mx{constructor(){this.fe=0,this.ge=wx(),this.pe=Pn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ht(),r=Ht(),n=Ht();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:It()}}),new Jf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=wx()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ar(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class C6{constructor(e){this.Le=e,this.Be=new Map,this.ke=xo(),this.qe=vx(),this.Qe=new Fr(qt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:It()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Cy(s))if(n===0){const A=new bt(s.path);this.Ue(r,A,Zn.newNoDocument(A,kt.min()))}else Ar(n===1);else{const A=this.Ye(r);if(A!==n){const a=this.Ze(e),o=a?this.Xe(a,e,A):1;if(o!==0){this.je(r);const l=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let A,a;try{A=lc(n).toUint8Array()}catch(o){if(o instanceof VS)return Yu("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new zB(A,i,s)}catch(o){return Yu(o instanceof fh?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const A=this.Le.tt(),a=`projects/${A.projectId}/databases/${A.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,A)=>{const a=this.Je(A);if(a){if(s.current&&Cy(a.target)){const o=new bt(a.target.path);this.ke.get(o)!==null||this.it(A,o)||this.Ue(A,o,Zn.newNoDocument(o,e))}s.be&&(r.set(A,s.ve()),s.Ce())}});let n=Ht();this.qe.forEach((s,A)=>{let a=!0;A.forEachWhile(o=>{const l=this.Je(o);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(s))}),this.ke.forEach((s,A)=>A.setReadTime(e));const i=new qm(e,r,this.Qe,this.ke,n);return this.ke=xo(),this.qe=vx(),this.Qe=new Fr(qt),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new mx,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Qn(qt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||vt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mx),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function vx(){return new Fr(bt.comparator)}function wx(){return new Fr(bt.comparator)}const b6={asc:"ASCENDING",desc:"DESCENDING"},x6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E6={and:"AND",or:"OR"};class _6{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function xy(t,e){return t.useProto3Json||jm(e)?e:{value:e}}function W0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I6(t,e){return W0(t,e.toTimestamp())}function xA(t){return Ar(!!t),kt.fromTimestamp(function(r){const n=Ja(r);return new hn(n.seconds,n.nanos)}(t))}function WB(t,e){return Ey(t,e).canonicalString()}function Ey(t,e){const r=function(i){return new Lr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function hF(t){const e=Lr.fromString(t);return Ar(vF(e)),e}function _y(t,e){return WB(t.databaseId,e.path)}function bw(t,e){const r=hF(e);if(r.get(1)!==t.databaseId.projectId)throw new wt($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new wt($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new bt(pF(r))}function fF(t,e){return WB(t.databaseId,e)}function S6(t){const e=hF(t);return e.length===4?Lr.emptyPath():pF(e)}function Iy(t){return new Lr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pF(t){return Ar(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yx(t,e,r){return{name:_y(t,e),fields:r.value.mapValue.fields}}function F6(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:It()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Ar(c===void 0||typeof c=="string"),Pn.fromBase64String(c||"")):(Ar(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Pn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,a=A&&function(l){const c=l.code===void 0?$e.UNKNOWN:lF(l.code);return new wt(c,l.message||"")}(A);r=new uF(n,i,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=bw(t,n.document.name),s=xA(n.document.updateTime),A=n.document.createTime?xA(n.document.createTime):kt.min(),a=new us({mapValue:{fields:n.document.fields}}),o=Zn.newFoundDocument(i,s,A,a),l=n.targetIds||[],c=n.removedTargetIds||[];r=new qg(l,c,o.key,o)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=bw(t,n.document),s=n.readTime?xA(n.readTime):kt.min(),A=Zn.newNoDocument(i,s),a=n.removedTargetIds||[];r=new qg([],a,A.key,A)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=bw(t,n.document),s=n.removedTargetIds||[];r=new qg([],s,i,null)}else{if(!("filter"in e))return It();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,A=new v6(i,s),a=n.targetId;r=new cF(a,A)}}return r}function T6(t,e){let r;if(e instanceof $f)r={update:yx(t,e.key,e.value)};else if(e instanceof VB)r={delete:_y(t,e.key)};else if(e instanceof vc)r={update:yx(t,e.key,e.data),updateMask:O6(e.fieldMask)};else{if(!(e instanceof p6))return It();r={verify:_y(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,A){const a=A.transform;if(a instanceof K0)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _f)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof If)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof z0)return{fieldPath:A.field.canonicalString(),increment:a.Pe};throw It()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:I6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:It()}(t,e.precondition)),r}function k6(t,e){return t&&t.length>0?(Ar(e!==void 0),t.map(r=>function(i,s){let A=i.updateTime?xA(i.updateTime):xA(s);return A.isEqual(kt.min())&&(A=xA(s)),new d6(A,i.transformResults||[])}(r,e))):[]}function U6(t,e){return{documents:[fF(t,e.path)]}}function N6(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=fF(t,i);const s=function(l){if(l.length!==0)return mF(TA.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const A=function(l){if(l.length!==0)return l.map(c=>function(p){return{field:iu(p.field),direction:P6(p.dir)}}(c))}(e.orderBy);A&&(r.structuredQuery.orderBy=A);const a=xy(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function Q6(t){let e=S6(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ar(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];r.where&&(s=function(d){const p=gF(d);return p instanceof TA&&GS(p)?p.getFilters():[p]}(r.where));let A=[];r.orderBy&&(A=function(d){return d.map(p=>function(v){return new V0(su(v.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(r.orderBy));let a=null;r.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,jm(p)?null:p}(r.limit));let o=null;r.startAt&&(o=function(d){const p=!!d.before,g=d.values||[];return new H0(g,p)}(r.startAt));let l=null;return r.endAt&&(l=function(d){const p=!d.before,g=d.values||[];return new H0(g,p)}(r.endAt)),YD(e,i,A,s,a,"F",o,l)}function L6(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function gF(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=su(r.unaryFilter.field);return un.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=su(r.unaryFilter.field);return un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=su(r.unaryFilter.field);return un.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=su(r.unaryFilter.field);return un.create(A,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(t):t.fieldFilter!==void 0?function(r){return un.create(su(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return TA.create(r.compositeFilter.filters.map(n=>gF(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return It()}}(r.compositeFilter.op))}(t):It()}function P6(t){return b6[t]}function R6(t){return x6[t]}function D6(t){return E6[t]}function iu(t){return{fieldPath:t.canonicalString()}}function su(t){return kn.fromServerFormat(t.fieldPath)}function mF(t){return t instanceof un?function(r){if(r.op==="=="){if(Ax(r.value))return{unaryFilter:{field:iu(r.field),op:"IS_NAN"}};if(sx(r.value))return{unaryFilter:{field:iu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Ax(r.value))return{unaryFilter:{field:iu(r.field),op:"IS_NOT_NAN"}};if(sx(r.value))return{unaryFilter:{field:iu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iu(r.field),op:R6(r.op),value:r.value}}}(t):t instanceof TA?function(r){const n=r.getFilters().map(i=>mF(i));return n.length===1?n[0]:{compositeFilter:{op:D6(r.op),filters:n}}}(t):It()}function O6(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function vF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,r,n,i,s=kt.min(),A=kt.min(),a=Pn.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.ct=e}}function j6(t){const e=Q6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?by(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this.un=new V6}addToCollectionParentIndex(e,r){return this.un.add(r),qe.resolve()}getCollectionParents(e,r){return qe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return qe.resolve()}deleteFieldIndex(e,r){return qe.resolve()}deleteAllFieldIndexes(e){return qe.resolve()}createTargetIndexes(e,r){return qe.resolve()}getDocumentsMatchingTarget(e,r){return qe.resolve(null)}getIndexType(e,r){return qe.resolve(0)}getFieldIndexes(e,r){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,r){return qe.resolve($a.min())}getMinOffsetFromCollectionGroup(e,r){return qe.resolve($a.min())}updateCollectionGroup(e,r,n){return qe.resolve()}updateIndexEntries(e,r){return qe.resolve()}}class V6{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Qn(Lr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Qn(Lr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new rd(0)}static kn(){return new rd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.changes=new gd(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?qe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Oh(n.mutation,i,Ms.empty(),hn.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ht()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ht()){const i=Ml();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let A=hh();return s.forEach((a,o)=>{A=A.insert(a,o.overlayedDocument)}),A}))}getOverlayedDocuments(e,r){const n=Ml();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ht()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((A,a)=>{r.set(A,a)})})}computeViews(e,r,n,i){let s=xo();const A=Dh(),a=function(){return Dh()}();return r.forEach((o,l)=>{const c=n.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof vc)?s=s.insert(l.key,l):c!==void 0?(A.set(l.key,c.mutation.getFieldMask()),Oh(c.mutation,l,c.mutation.getFieldMask(),hn.now())):A.set(l.key,Ms.empty())}),this.recalculateAndSaveOverlays(e,s).next(o=>(o.forEach((l,c)=>A.set(l,c)),r.forEach((l,c)=>{var d;return a.set(l,new z6(c,(d=A.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,r){const n=Dh();let i=new Fr((A,a)=>A-a),s=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(A=>{for(const a of A)a.keys().forEach(o=>{const l=r.get(o);if(l===null)return;let c=n.get(o)||Ms.empty();c=a.applyToLocalView(l,c),n.set(o,c);const d=(i.get(a.batchId)||Ht()).add(o);i=i.insert(a.batchId,d)})}).next(()=>{const A=[],a=i.getReverseIterator();for(;a.hasNext();){const o=a.getNext(),l=o.key,c=o.value,d=tF();c.forEach(p=>{if(!s.has(p)){const g=oF(r.get(p),n.get(p));g!==null&&d.set(p,g),s=s.add(p)}}),A.push(this.documentOverlayCache.saveOverlays(e,l,d))}return qe.waitFor(A)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(A){return bt.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):ZD(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const A=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):qe.resolve(Ml());let a=-1,o=s;return A.next(l=>qe.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?qe.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{o=o.insert(c,p)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,o,l,Ht())).next(c=>({batchId:a,changes:eF(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new bt(r)).next(n=>{let i=hh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let A=hh();return this.indexManager.getCollectionParents(e,s).next(a=>qe.forEach(a,o=>{const l=function(d,p){return new Hm(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,o.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(c=>{c.forEach((d,p)=>{A=A.insert(d,p)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(A=>(s=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(A=>{s.forEach((o,l)=>{const c=l.getKey();A.get(c)===null&&(A=A.insert(c,Zn.newInvalidDocument(c)))});let a=hh();return A.forEach((o,l)=>{const c=s.get(o);c!==void 0&&Oh(c.mutation,l,Ms.empty(),hn.now()),zm(r,l)&&(a=a.insert(o,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return qe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:xA(i.createTime)}}(r)),qe.resolve()}getNamedQuery(e,r){return qe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:j6(i.bundledQuery),readTime:xA(i.readTime)}}(r)),qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.overlays=new Fr(bt.comparator),this.Ir=new Map}getOverlay(e,r){return qe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ml();return qe.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),qe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),qe.resolve()}getOverlaysForCollection(e,r,n){const i=Ml(),s=r.length+1,A=new bt(r.child("")),a=this.overlays.getIteratorFrom(A);for(;a.hasNext();){const o=a.getNext().value,l=o.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&o.largestBatchId>n&&i.set(o.getKey(),o)}return qe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Fr((l,c)=>l-c);const A=this.overlays.getIterator();for(;A.hasNext();){const l=A.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let c=s.get(l.largestBatchId);c===null&&(c=Ml(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Ml(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return qe.resolve(a)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const A=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,A)}this.overlays=this.overlays.insert(n.key,new m6(r,n));let s=this.Ir.get(r);s===void 0&&(s=Ht(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return qe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(){this.Tr=new Qn(vn.Er),this.dr=new Qn(vn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new vn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new vn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new bt(new Lr([])),n=new vn(r,e),i=new vn(r,e+1),s=[];return this.dr.forEachInRange([n,i],A=>{this.Vr(A),s.push(A.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new bt(new Lr([])),n=new vn(r,e),i=new vn(r,e+1);let s=Ht();return this.dr.forEachInRange([n,i],A=>{s=s.add(A.key)}),s}containsKey(e){const r=new vn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class vn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return bt.comparator(e.key,r.key)||qt(e.wr,r.wr)}static Ar(e,r){return qt(e.wr,r.wr)||bt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Qn(vn.Er)}checkEmpty(e){return qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new g6(s,r,n,i);this.mutationQueue.push(A);for(const a of i)this.br=this.br.add(new vn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return qe.resolve(A)}lookupMutationBatch(e,r){return qe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return qe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new vn(r,0),i=new vn(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],A=>{const a=this.Dr(A.wr);s.push(a)}),qe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Qn(qt);return r.forEach(i=>{const s=new vn(i,0),A=new vn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,A],a=>{n=n.add(a.wr)})}),qe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;bt.isDocumentKey(s)||(s=s.child(""));const A=new vn(new bt(s),0);let a=new Qn(qt);return this.br.forEachWhile(o=>{const l=o.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(a=a.add(o.wr)),!0)},A),qe.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ar(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return qe.forEach(r.mutations,i=>{const s=new vn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new vn(r,0),i=this.br.firstAfterOrEqual(n);return qe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,qe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.Mr=e,this.docs=function(){return new Fr(bt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,A=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:A}),this.size+=A-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return qe.resolve(n?n.document.mutableCopy():Zn.newInvalidDocument(r))}getEntries(e,r){let n=xo();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Zn.newInvalidDocument(i))}),qe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=xo();const A=r.path,a=new bt(A.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:l,value:{document:c}}=o.getNext();if(!A.isPrefixOf(l.path))break;l.path.length>A.length+1||ND(UD(c),n)<=0||(i.has(c.key)||zm(r,c))&&(s=s.insert(c.key,c.mutableCopy()))}return qe.resolve(s)}getAllFromCollectionGroup(e,r,n,i){It()}Or(e,r){return qe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Y6(this)}getSize(e){return qe.resolve(this.size)}}class Y6 extends K6{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),qe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.persistence=e,this.Nr=new gd(r=>MB(r),jB),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new GB,this.targetCount=0,this.kr=rd.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),qe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new rd(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,qe.resolve()}updateTargetData(e,r){return this.Kn(r),qe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((A,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(A),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),qe.waitFor(s).next(()=>i)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return qe.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),qe.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(A=>{s.push(i.markPotentiallyOrphaned(e,A))}),qe.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),qe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return qe.resolve(n)}containsKey(e,r){return qe.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,r){this.qr={},this.overlays={},this.Qr=new PB(0),this.Kr=!1,this.Kr=!0,this.$r=new $6,this.referenceDelegate=e(this),this.Ur=new Z6(this),this.indexManager=new H6,this.remoteDocumentCache=function(i){return new X6(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new M6(r),this.Gr=new G6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new q6,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new J6(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){vt("MemoryPersistence","Starting transaction:",e);const i=new tO(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return qe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class tO extends LD{constructor(e){super(),this.currentSequenceNumber=e}}class qB{constructor(e){this.persistence=e,this.Jr=new GB,this.Yr=null}static Zr(e){return new qB(e)}get Xr(){if(this.Yr)return this.Yr;throw It()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),qe.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),qe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),qe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Xr,n=>{const i=bt.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,kt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return qe.or([()=>qe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Ht(),i=Ht();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $B(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return iR()?8:PD(Gt())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(A=>{s.result=A}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(A=>{s.result=A})}).next(()=>{if(s.result)return;const A=new rO;return this.Xi(e,r,A).next(a=>{if(s.result=a,this.zi)return this.es(e,r,A,a.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Xd()<=Rt.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",nu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),qe.resolve()):(Xd()<=Rt.DEBUG&&vt("QueryEngine","Query:",nu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Xd()<=Rt.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",nu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,CA(r))):qe.resolve())}Yi(e,r){if(cx(r))return qe.resolve(null);let n=CA(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=by(r,null,"F"),n=CA(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const A=Ht(...s);return this.Ji.getDocuments(e,A).next(a=>this.indexManager.getMinOffset(e,n).next(o=>{const l=this.ts(r,a);return this.ns(r,l,A,o.readTime)?this.Yi(e,by(r,null,"F")):this.rs(e,l,r,o)}))})))}Zi(e,r,n,i){return cx(r)||i.isEqual(kt.min())?qe.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const A=this.ts(r,s);return this.ns(r,A,n,i)?qe.resolve(null):(Xd()<=Rt.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nu(r)),this.rs(e,A,r,kD(i,-1)).next(a=>a))})}ts(e,r){let n=new Qn(YS(e));return r.forEach((i,s)=>{zm(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return Xd()<=Rt.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",nu(r)),this.Ji.getDocumentsMatchingQuery(e,r,$a.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(A=>{s=s.insert(A.key,A)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Fr(qt),this._s=new gd(s=>MB(s),jB),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function sO(t,e,r,n){return new iO(t,e,r,n)}async function wF(t,e){const r=Ut(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const A=[],a=[];let o=Ht();for(const l of i){A.push(l.batchId);for(const c of l.mutations)o=o.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)o=o.add(c.key)}return r.localDocuments.getDocuments(n,o).next(l=>({hs:l,removedBatchIds:A,addedBatchIds:a}))})})}function AO(t,e){const r=Ut(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,o,l,c){const d=l.batch,p=d.keys();let g=qe.resolve();return p.forEach(v=>{g=g.next(()=>c.getEntry(o,v)).next(x=>{const T=l.docVersions.get(v);Ar(T!==null),x.version.compareTo(T)<0&&(d.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),c.addEntry(x)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(o,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let o=Ht();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(o=o.add(a.batch.mutations[l].key));return o}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function yF(t){const e=Ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function oO(t,e){const r=Ut(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const A=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const a=[];e.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;a.push(r.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(s,c.addedDocuments,d)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Pn.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,n)),i=i.insert(d,g),function(x,T,w){return x.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,c)&&a.push(r.Ur.updateTargetData(s,g))});let o=xo(),l=Ht();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(aO(s,A,e.documentUpdates).next(c=>{o=c.Ps,l=c.Is})),!n.isEqual(kt.min())){const c=r.Ur.getLastRemoteSnapshotVersion(s).next(d=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));a.push(c)}return qe.waitFor(a).next(()=>A.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,o,l)).next(()=>o)}).then(s=>(r.os=i,s))}function aO(t,e,r){let n=Ht(),i=Ht();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let A=xo();return r.forEach((a,o)=>{const l=s.get(a);o.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),o.isNoDocument()&&o.version.isEqual(kt.min())?(e.removeEntry(a,o.readTime),A=A.insert(a,o)):!l.isValidDocument()||o.version.compareTo(l.version)>0||o.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(o),A=A.insert(a,o)):vt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",o.version)}),{Ps:A,Is:i}})}function lO(t,e){const r=Ut(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function cO(t,e){const r=Ut(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,qe.resolve(i)):r.Ur.allocateTargetId(n).next(A=>(i=new Ea(e,A,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Sy(t,e,r){const n=Ut(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,A=>n.persistence.referenceDelegate.removeTarget(A,i))}catch(A){if(!qf(A))throw A;vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Bx(t,e,r){const n=Ut(t);let i=kt.min(),s=Ht();return n.persistence.runTransaction("Execute query","readwrite",A=>function(o,l,c){const d=Ut(o),p=d._s.get(c);return p!==void 0?qe.resolve(d.os.get(p)):d.Ur.getTargetData(l,c)}(n,A,CA(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(A,a.targetId).next(o=>{s=o})}).next(()=>n.ss.getDocumentsMatchingQuery(A,e,r?i:kt.min(),r?s:Ht())).next(a=>(uO(n,t6(e),a),{documents:a,Ts:s})))}function uO(t,e,r){let n=t.us.get(e)||kt.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class Cx{constructor(){this.activeTargetIds=o6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dO{constructor(){this.so=new Cx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cx,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg=null;function xw(){return rg===null?rg=function(){return 268435456+Math.round(2147483648*Math.random())}():rg++,"0x"+rg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class gO extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,A){const a=xw(),o=this.xo(r,n.toUriEncodedString());vt("RestConnection",`Sending RPC '${r}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,A),this.No(r,o,l,i).then(c=>(vt("RestConnection",`Received RPC '${r}' ${a}: `,c),c),c=>{throw Yu("RestConnection",`RPC '${r}' ${a} failed with error: `,c,"url: ",o,"request:",i),c})}Lo(r,n,i,s,A,a){return this.Mo(r,n,i,s,A)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fd}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,A)=>r[A]=s),i&&i.headers.forEach((s,A)=>r[A]=s)}xo(r,n){const i=fO[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=xw();return new Promise((A,a)=>{const o=new LS;o.setWithCredentials(!0),o.listenOnce(PS.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case zg.NO_ERROR:const c=o.getResponseJson();vt(Kn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),A(c);break;case zg.TIMEOUT:vt(Kn,`RPC '${e}' ${s} timed out`),a(new wt($e.DEADLINE_EXCEEDED,"Request time out"));break;case zg.HTTP_ERROR:const d=o.getStatus();if(vt(Kn,`RPC '${e}' ${s} failed with status:`,d,"response text:",o.getResponseText()),d>0){let p=o.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(T){const w=T.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(w)>=0?w:$e.UNKNOWN}(g.status);a(new wt(v,g.message))}else a(new wt($e.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new wt($e.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{vt(Kn,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);vt(Kn,`RPC '${e}' ${s} sending request:`,i),o.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=xw(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=OS(),a=DS(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,r,n),o.encodeInitMessageHeaders=!0;const c=s.join("");vt(Kn,`Creating RPC '${e}' stream ${i}: ${c}`,o);const d=A.createWebChannel(c,o);let p=!1,g=!1;const v=new pO({Io:T=>{g?vt(Kn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(p||(vt(Kn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),vt(Kn,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},To:()=>d.close()}),x=(T,w,B)=>{T.listen(w,C=>{try{B(C)}catch(L){setTimeout(()=>{throw L},0)}})};return x(d,dh.EventType.OPEN,()=>{g||(vt(Kn,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),x(d,dh.EventType.CLOSE,()=>{g||(g=!0,vt(Kn,`RPC '${e}' stream ${i} transport closed`),v.So())}),x(d,dh.EventType.ERROR,T=>{g||(g=!0,Yu(Kn,`RPC '${e}' stream ${i} transport errored:`,T),v.So(new wt($e.UNAVAILABLE,"The operation could not be completed")))}),x(d,dh.EventType.MESSAGE,T=>{var w;if(!g){const B=T.data[0];Ar(!!B);const C=B,L=C.error||((w=C[0])===null||w===void 0?void 0:w.error);if(L){vt(Kn,`RPC '${e}' stream ${i} received error:`,L);const D=L.status;let M=function(k){const O=tn[k];if(O!==void 0)return lF(O)}(D),S=L.message;M===void 0&&(M=$e.INTERNAL,S="Unknown error status: "+D+" with message "+L.message),g=!0,v.So(new wt(M,S)),d.close()}else vt(Kn,`RPC '${e}' stream ${i} received:`,B),v.bo(B)}}),x(a,RS.STAT_EVENT,T=>{T.stat===vy.PROXY?vt(Kn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===vy.NOPROXY&&vt(Kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Ew(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t){return new _6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&vt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,r,n,i,s,A,a,o){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new BF(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===$e.RESOURCE_EXHAUSTED?(bo(r.toString()),bo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===$e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new wt($e.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mO extends CF{constructor(e,r,n,i,s,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,A),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=F6(this.serializer,e),n=function(s){if(!("targetChange"in s))return kt.min();const A=s.targetChange;return A.targetIds&&A.targetIds.length?kt.min():A.readTime?xA(A.readTime):kt.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Iy(this.serializer),r.addTarget=function(s,A){let a;const o=A.target;if(a=Cy(o)?{documents:U6(s,o)}:{query:N6(s,o)._t},a.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){a.resumeToken=dF(s,A.resumeToken);const l=xy(s,A.expectedCount);l!==null&&(a.expectedCount=l)}else if(A.snapshotVersion.compareTo(kt.min())>0){a.readTime=W0(s,A.snapshotVersion.toTimestamp());const l=xy(s,A.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const n=L6(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Iy(this.serializer),r.removeTarget=e,this.a_(r)}}class vO extends CF{constructor(e,r,n,i,s,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,A),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Ar(!!e.streamToken),this.lastStreamToken=e.streamToken,Ar(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ar(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=k6(e.writeResults,e.commitTime),n=xA(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Iy(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>T6(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new wt($e.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,A])=>this.connection.Mo(e,Ey(r,n),i,s,A)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new wt($e.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,a])=>this.connection.Lo(e,Ey(r,n),i,A,a,s)).catch(A=>{throw A.name==="FirebaseError"?(A.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new wt($e.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yO{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(bo(r),this.D_=!1):vt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(A=>{n.enqueueAndForget(async()=>{wc(this)&&(vt("RemoteStore","Restarting streams for network reachability change."),await async function(o){const l=Ut(o);l.L_.add(4),await Xf(l),l.q_.set("Unknown"),l.L_.delete(4),await Jm(l)}(this))})}),this.q_=new yO(n,i)}}async function Jm(t){if(wc(t))for(const e of t.B_)await e(!0)}async function Xf(t){for(const e of t.B_)await e(!1)}function bF(t,e){const r=Ut(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),ZB(r)?YB(r):md(r).r_()&&XB(r,e))}function JB(t,e){const r=Ut(t),n=md(r);r.N_.delete(e),n.r_()&&xF(r,e),r.N_.size===0&&(n.r_()?n.o_():wc(r)&&r.q_.set("Unknown"))}function XB(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}md(t).A_(e)}function xF(t,e){t.Q_.xe(e),md(t).R_(e)}function YB(t){t.Q_=new C6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),md(t).start(),t.q_.v_()}function ZB(t){return wc(t)&&!md(t).n_()&&t.N_.size>0}function wc(t){return Ut(t).L_.size===0}function EF(t){t.Q_=void 0}async function CO(t){t.q_.set("Online")}async function bO(t){t.N_.forEach((e,r)=>{XB(t,e)})}async function xO(t,e){EF(t),ZB(t)?(t.q_.M_(e),YB(t)):t.q_.set("Unknown")}async function EO(t,e,r){if(t.q_.set("Online"),e instanceof uF&&e.state===2&&e.cause)try{await async function(i,s){const A=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,A),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(n){vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await G0(t,n)}else if(e instanceof qg?t.Q_.Ke(e):e instanceof cF?t.Q_.He(e):t.Q_.We(e),!r.isEqual(kt.min()))try{const n=await yF(t.localStore);r.compareTo(n)>=0&&await function(s,A){const a=s.Q_.rt(A);return a.targetChanges.forEach((o,l)=>{if(o.resumeToken.approximateByteSize()>0){const c=s.N_.get(l);c&&s.N_.set(l,c.withResumeToken(o.resumeToken,A))}}),a.targetMismatches.forEach((o,l)=>{const c=s.N_.get(o);if(!c)return;s.N_.set(o,c.withResumeToken(Pn.EMPTY_BYTE_STRING,c.snapshotVersion)),xF(s,o);const d=new Ea(c.target,o,l,c.sequenceNumber);XB(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){vt("RemoteStore","Failed to raise snapshot:",n),await G0(t,n)}}async function G0(t,e,r){if(!qf(e))throw e;t.L_.add(1),await Xf(t),t.q_.set("Offline"),r||(r=()=>yF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{vt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Jm(t)})}function _F(t,e){return e().catch(r=>G0(t,r,e))}async function Xm(t){const e=Ut(t),r=Xa(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_O(e);)try{const i=await lO(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,IO(e,i)}catch(i){await G0(e,i)}IF(e)&&SF(e)}function _O(t){return wc(t)&&t.O_.length<10}function IO(t,e){t.O_.push(e);const r=Xa(t);r.r_()&&r.V_&&r.m_(e.mutations)}function IF(t){return wc(t)&&!Xa(t).n_()&&t.O_.length>0}function SF(t){Xa(t).start()}async function SO(t){Xa(t).p_()}async function FO(t){const e=Xa(t);for(const r of t.O_)e.m_(r.mutations)}async function TO(t,e,r){const n=t.O_.shift(),i=KB.from(n,e,r);await _F(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xm(t)}async function kO(t,e){e&&Xa(t).V_&&await async function(n,i){if(function(A){return w6(A)&&A!==$e.ABORTED}(i.code)){const s=n.O_.shift();Xa(n).s_(),await _F(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xm(n)}}(t,e),IF(t)&&SF(t)}async function xx(t,e){const r=Ut(t);r.asyncQueue.verifyOperationInProgress(),vt("RemoteStore","RemoteStore received new credentials");const n=wc(r);r.L_.add(3),await Xf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Jm(r)}async function UO(t,e){const r=Ut(t);e?(r.L_.delete(2),await Jm(r)):e||(r.L_.add(2),await Xf(r),r.q_.set("Unknown"))}function md(t){return t.K_||(t.K_=function(r,n,i){const s=Ut(r);return s.w_(),new mO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:CO.bind(null,t),Ro:bO.bind(null,t),mo:xO.bind(null,t),d_:EO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ZB(t)?YB(t):t.q_.set("Unknown")):(await t.K_.stop(),EF(t))})),t.K_}function Xa(t){return t.U_||(t.U_=function(r,n,i){const s=Ut(r);return s.w_(),new vO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:SO.bind(null,t),mo:kO.bind(null,t),f_:FO.bind(null,t),g_:TO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Xm(t)):(await t.U_.stop(),t.O_.length>0&&(vt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const A=Date.now()+n,a=new eC(e,r,A,i,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tC(t,e){if(bo("AsyncQueue",`${e}: ${t}`),qf(t))return new wt($e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||bt.comparator(r.key,n.key):(r,n)=>bt.comparator(r.key,n.key),this.keyedMap=hh(),this.sortedSet=new Fr(this.comparator)}static emptySet(e){return new Qu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Qu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Qu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.W_=new Fr(bt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):It():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class nd{constructor(e,r,n,i,s,A,a,o,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=A,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const A=[];return r.forEach(a=>{A.push({type:0,doc:a})}),new nd(e,r,Qu.emptySet(r),A,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class QO{constructor(){this.queries=_x(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ut(r),s=i.queries;i.queries=_x(),s.forEach((A,a)=>{for(const o of a.j_)o.onError(n)})})(this,new wt($e.ABORTED,"Firestore shutting down"))}}function _x(){return new gd(t=>XS(t),Km)}async function FF(t,e){const r=Ut(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new NO,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(A){const a=tC(A,`Initialization of query '${nu(e.query)}' failed`);return void e.onError(a)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&rC(r)}async function TF(t,e){const r=Ut(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const A=s.j_.indexOf(e);A>=0&&(s.j_.splice(A,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function LO(t,e){const r=Ut(t);let n=!1;for(const i of e){const s=i.query,A=r.queries.get(s);if(A){for(const a of A.j_)a.X_(i)&&(n=!0);A.z_=i}}n&&rC(r)}function PO(t,e,r){const n=Ut(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function rC(t){t.Y_.forEach(e=>{e.next()})}var Fy,Ix;(Ix=Fy||(Fy={})).ea="default",Ix.Cache="cache";class kF{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new nd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=nd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.key=e}}class NF{constructor(e){this.key=e}}class RO{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ht(),this.mutatedKeys=Ht(),this.Aa=YS(e),this.Ra=new Qu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Ex,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,A=i,a=!1;const o=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const p=i.get(c),g=zm(this.query,d)?d:null,v=!!p&&this.mutatedKeys.has(p.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;p&&g?p.data.isEqual(g.data)?v!==x&&(n.track({type:3,doc:g}),T=!0):this.ga(p,g)||(n.track({type:2,doc:g}),T=!0,(o&&this.Aa(g,o)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!p&&g?(n.track({type:0,doc:g}),T=!0):p&&!g&&(n.track({type:1,doc:p}),T=!0,(o||l)&&(a=!0)),T&&(g?(A=A.add(g),s=x?s.add(c):s.delete(c)):(A=A.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const c=this.query.limitType==="F"?A.last():A.first();A=A.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{Ra:A,fa:n,ns:a,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((c,d)=>function(g,v){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return x(g)-x(v)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const a=r&&!i?this.ya():[],o=this.da.size===0&&this.current&&!i?1:0,l=o!==this.Ea;return this.Ea=o,A.length!==0||l?{snapshot:new nd(this.query,e.Ra,s,A,e.mutatedKeys,o===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ex,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ht(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new NF(n))}),this.da.forEach(n=>{e.has(n)||r.push(new UF(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ht();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return nd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class DO{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class OO{constructor(e){this.key=e,this.va=!1}}class MO{constructor(e,r,n,i,s,A){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new gd(a=>XS(a),Km),this.Ma=new Map,this.xa=new Set,this.Oa=new Fr(bt.comparator),this.Na=new Map,this.La=new GB,this.Ba={},this.ka=new Map,this.qa=rd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function jO(t,e,r=!0){const n=OF(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await QF(n,e,r,!0),i}async function HO(t,e){const r=OF(t);await QF(r,e,!0,!1)}async function QF(t,e,r,n){const i=await cO(t.localStore,CA(e)),s=i.targetId,A=t.sharedClientState.addLocalQueryTarget(s,r);let a;return n&&(a=await VO(t,e,s,A==="current",i.resumeToken)),t.isPrimaryClient&&r&&bF(t.remoteStore,i),a}async function VO(t,e,r,n,i){t.Ka=(d,p,g)=>async function(x,T,w,B){let C=T.view.ma(w);C.ns&&(C=await Bx(x.localStore,T.query,!1).then(({documents:S})=>T.view.ma(S,C)));const L=B&&B.targetChanges.get(T.targetId),D=B&&B.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(C,x.isPrimaryClient,L,D);return Fx(x,T.targetId,M.wa),M.snapshot}(t,d,p,g);const s=await Bx(t.localStore,e,!0),A=new RO(e,s.Ts),a=A.ma(s.documents),o=Jf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=A.applyChanges(a,t.isPrimaryClient,o);Fx(t,r,l.wa);const c=new DO(e,r,A);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function KO(t,e,r){const n=Ut(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(A=>!Km(A,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Sy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&JB(n.remoteStore,i.targetId),Ty(n,i.targetId)}).catch(Gf)):(Ty(n,i.targetId),await Sy(n.localStore,i.targetId,!0))}async function zO(t,e){const r=Ut(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),JB(r.remoteStore,n.targetId))}async function WO(t,e,r){const n=ZO(t);try{const i=await function(A,a){const o=Ut(A),l=hn.now(),c=a.reduce((g,v)=>g.add(v.key),Ht());let d,p;return o.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=xo(),x=Ht();return o.cs.getEntries(g,c).next(T=>{v=T,v.forEach((w,B)=>{B.isValidDocument()||(x=x.add(w))})}).next(()=>o.localDocuments.getOverlayedDocuments(g,v)).next(T=>{d=T;const w=[];for(const B of a){const C=f6(B,d.get(B.key).overlayedDocument);C!=null&&w.push(new vc(B.key,C,KS(C.value.mapValue),bA.exists(!0)))}return o.mutationQueue.addMutationBatch(g,l,w,a)}).next(T=>{p=T;const w=T.applyToLocalDocumentSet(d,x);return o.documentOverlayCache.saveOverlays(g,T.batchId,w)})}).then(()=>({batchId:p.batchId,changes:eF(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(A,a,o){let l=A.Ba[A.currentUser.toKey()];l||(l=new Fr(qt)),l=l.insert(a,o),A.Ba[A.currentUser.toKey()]=l}(n,i.batchId,r),await Yf(n,i.changes),await Xm(n.remoteStore)}catch(i){const s=tC(i,"Failed to persist write");r.reject(s)}}async function LF(t,e){const r=Ut(t);try{const n=await oO(r.localStore,e);e.targetChanges.forEach((i,s)=>{const A=r.Na.get(s);A&&(Ar(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?A.va=!0:i.modifiedDocuments.size>0?Ar(A.va):i.removedDocuments.size>0&&(Ar(A.va),A.va=!1))}),await Yf(r,n,e)}catch(n){await Gf(n)}}function Sx(t,e,r){const n=Ut(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,A)=>{const a=A.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(A,a){const o=Ut(A);o.onlineState=a;let l=!1;o.queries.forEach((c,d)=>{for(const p of d.j_)p.Z_(a)&&(l=!0)}),l&&rC(o)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function GO(t,e,r){const n=Ut(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let A=new Fr(bt.comparator);A=A.insert(s,Zn.newNoDocument(s,kt.min()));const a=Ht().add(s),o=new qm(kt.min(),new Map,new Fr(qt),A,a);await LF(n,o),n.Oa=n.Oa.remove(s),n.Na.delete(e),nC(n)}else await Sy(n.localStore,e,!1).then(()=>Ty(n,e,r)).catch(Gf)}async function qO(t,e){const r=Ut(t),n=e.batch.batchId;try{const i=await AO(r.localStore,e);RF(r,n,null),PF(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Yf(r,i)}catch(i){await Gf(i)}}async function $O(t,e,r){const n=Ut(t);try{const i=await function(A,a){const o=Ut(A);return o.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return o.mutationQueue.lookupMutationBatch(l,a).next(d=>(Ar(d!==null),c=d.keys(),o.mutationQueue.removeMutationBatch(l,d))).next(()=>o.mutationQueue.performConsistencyCheck(l)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>o.localDocuments.getDocuments(l,c))})}(n.localStore,e);RF(n,e,r),PF(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Yf(n,i)}catch(i){await Gf(i)}}function PF(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function RF(t,e,r){const n=Ut(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Ty(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||DF(t,n)})}function DF(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(JB(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),nC(t))}function Fx(t,e,r){for(const n of r)n instanceof UF?(t.La.addReference(n.key,e),JO(t,n)):n instanceof NF?(vt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||DF(t,n.key)):It()}function JO(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(vt("SyncEngine","New document in limbo: "+r),t.xa.add(n),nC(t))}function nC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new bt(Lr.fromString(e)),n=t.qa.next();t.Na.set(n,new OO(r)),t.Oa=t.Oa.insert(r,n),bF(t.remoteStore,new Ea(CA(Vm(r.path)),n,"TargetPurposeLimboResolution",PB.oe))}}async function Yf(t,e,r){const n=Ut(t),i=[],s=[],A=[];n.Fa.isEmpty()||(n.Fa.forEach((a,o)=>{A.push(n.Ka(o,e,r).then(l=>{var c;if((l||r)&&n.isPrimaryClient){const d=l?!l.fromCache:(c=r==null?void 0:r.targetChanges.get(o.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(o.targetId,d?"current":"not-current")}if(l){i.push(l);const d=$B.Wi(o.targetId,l);s.push(d)}}))}),await Promise.all(A),n.Ca.d_(i),await async function(o,l){const c=Ut(o);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>qe.forEach(l,p=>qe.forEach(p.$i,g=>c.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>qe.forEach(p.Ui,g=>c.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!qf(d))throw d;vt("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const p=d.targetId;if(!d.fromCache){const g=c.os.get(p),v=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(p,x)}}}(n.localStore,s))}async function XO(t,e){const r=Ut(t);if(!r.currentUser.isEqual(e)){vt("SyncEngine","User change. New user:",e.toKey());const n=await wF(r.localStore,e);r.currentUser=e,function(s,A){s.ka.forEach(a=>{a.forEach(o=>{o.reject(new wt($e.CANCELLED,A))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Yf(r,n.hs)}}function YO(t,e){const r=Ut(t),n=r.Na.get(e);if(n&&n.va)return Ht().add(n.key);{let i=Ht();const s=r.Ma.get(e);if(!s)return i;for(const A of s){const a=r.Fa.get(A);i=i.unionWith(a.view.Va)}return i}}function OF(t){const e=Ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GO.bind(null,e),e.Ca.d_=LO.bind(null,e.eventManager),e.Ca.$a=PO.bind(null,e.eventManager),e}function ZO(t){const e=Ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,e),e}class q0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$m(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return sO(this.persistence,new nO,e.initialUser,this.serializer)}Ga(e){return new eO(qB.Zr,this.serializer)}Wa(e){return new dO}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}q0.provider={build:()=>new q0};class ky{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Sx(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=XO.bind(null,this.syncEngine),await UO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QO}()}createDatastore(e){const r=$m(e.databaseInfo.databaseId),n=function(s){return new gO(s)}(e.databaseInfo);return function(s,A,a,o){return new wO(s,A,a,o)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,A,a){return new BO(n,i,s,A,a)}(this.localStore,this.datastore,e.asyncQueue,r=>Sx(this.syncEngine,r,0),function(){return bx.D()?new bx:new hO}())}createSyncEngine(e,r){return function(i,s,A,a,o,l,c){const d=new MO(i,s,A,a,o,l);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Ut(i);vt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Xf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}ky.provider={build:()=>new ky};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):bo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Jn.UNAUTHENTICATED,this.clientId=jS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async A=>{vt("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(n,A=>(vt("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=tC(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function _w(t,e){t.asyncQueue.verifyOperationInProgress(),vt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await wF(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Tx(t,e){t.asyncQueue.verifyOperationInProgress();const r=await tM(t);vt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>xx(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>xx(e.remoteStore,i)),t._onlineComponents=e}async function tM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){vt("FirestoreClient","Using user provided OfflineComponentProvider");try{await _w(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===$e.FAILED_PRECONDITION||i.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Yu("Error using user provided cache. Falling back to memory cache: "+r),await _w(t,new q0)}}else vt("FirestoreClient","Using default OfflineComponentProvider"),await _w(t,new q0);return t._offlineComponents}async function jF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(vt("FirestoreClient","Using user provided OnlineComponentProvider"),await Tx(t,t._uninitializedComponentsProvider._online)):(vt("FirestoreClient","Using default OnlineComponentProvider"),await Tx(t,new ky))),t._onlineComponents}function rM(t){return jF(t).then(e=>e.syncEngine)}async function Uy(t){const e=await jF(t),r=e.eventManager;return r.onListen=jO.bind(null,e.syncEngine),r.onUnlisten=KO.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=HO.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=zO.bind(null,e.syncEngine),r}function nM(t,e,r={}){const n=new ja;return t.asyncQueue.enqueueAndForget(async()=>function(s,A,a,o,l){const c=new MF({next:p=>{c.Za(),A.enqueueAndForget(()=>TF(s,d));const g=p.docs.has(a);!g&&p.fromCache?l.reject(new wt($e.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&o&&o.source==="server"?l.reject(new wt($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),d=new kF(Vm(a.path),c,{includeMetadataChanges:!0,_a:!0});return FF(s,d)}(await Uy(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e,r){if(!r)throw new wt($e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sM(t,e,r,n){if(e===!0&&n===!0)throw new wt($e.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Ux(t){if(!bt.isDocumentKey(t))throw new wt($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iC(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":It()}function po(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new wt($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=iC(t);throw new wt($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new wt($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new wt($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HF((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new wt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new wt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new wt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sC{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new wt($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nx(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new CD;switch(n.type){case"firstParty":return new _D(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new wt($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=kx.get(r);n&&(vt("ComponentProvider","Removing Datastore"),kx.delete(r),n.terminate())}(this),Promise.resolve()}}function AM(t,e,r,n={}){var i;const s=(t=po(t,sC))._getSettings(),A=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==A&&Yu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:A,ssl:!1})),n.mockUserToken){let a,o;if(typeof n.mockUserToken=="string")a=n.mockUserToken,o=Jn.MOCK_USER;else{a=rR(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new wt($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new Jn(l)}t._authCredentials=new bD(new MS(a,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ym(this.firestore,e,this._query)}}class Wi{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wi(this.firestore,e,this._key)}}class Sf extends Ym{constructor(e,r,n){super(e,r,Vm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wi(this.firestore,null,new bt(e))}withConverter(e){return new Sf(this.firestore,e,this._path)}}function Ul(t,e,...r){if(t=Nt(t),arguments.length===1&&(e=jS.newId()),iM("doc","path",e),t instanceof sC){const n=Lr.fromString(e,...r);return Ux(n),new Wi(t,null,new bt(n))}{if(!(t instanceof Wi||t instanceof Sf))throw new wt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Lr.fromString(e,...r));return Ux(n),new Wi(t.firestore,t instanceof Sf?t.converter:null,new bt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new BF(this,"async_queue_retry"),this.Vu=()=>{const n=Ew();n&&vt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ew();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ew();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new ja;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qf(e))throw e;vt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(A){let a=A.message||"";return A.stack&&(a=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),a}(n);throw bo("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=eC.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&It()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Lx(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class id extends sC{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Qx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qx(e),this._firestoreClient=void 0,await e}}}function oM(t,e){const r=typeof t=="object"?t:NB(),n=typeof t=="string"?t:"(default)",i=Wf(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=eR("firestore");s&&AM(i,...s)}return i}function AC(t){if(t._terminated)throw new wt($e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aM(t),t._firestoreClient}function aM(t){var e,r,n;const i=t._freezeSettings(),s=function(a,o,l,c){return new OD(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,HF(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const o=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sd(Pn.fromBase64String(e))}catch(r){throw new wt($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new sd(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new wt($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new wt($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new wt($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=/^__.*__$/;class cM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new vc(e,this.data,this.fieldMask,r,this.fieldTransforms):new $f(e,this.data,r,this.fieldTransforms)}}function KF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class cC{constructor(e,r,n,i,s,A){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(KF(this.Cu)&&lM.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class uM{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||$m(e)}Qu(e,r,n,i=!1){return new cC({Cu:e,methodName:r,qu:n,path:kn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dM(t){const e=t._freezeSettings(),r=$m(t._databaseId);return new uM(t._databaseId,!!e.ignoreUndefinedProperties,r)}function hM(t,e,r,n,i,s={}){const A=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);qF("Data must be an object, but it was:",A,n);const a=WF(n,A);let o,l;if(s.merge)o=new Ms(A.fieldMask),l=A.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const p=fM(e,d,r);if(!A.contains(p))throw new wt($e.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);gM(c,p)||c.push(p)}o=new Ms(c),l=A.fieldTransforms.filter(d=>o.covers(d.field))}else o=null,l=A.fieldTransforms;return new cM(new us(a),o,l)}function zF(t,e){if(GF(t=Nt(t)))return qF("Unsupported field value:",e,t),WF(t,e);if(t instanceof VF)return function(n,i){if(!KF(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let A=0;for(const a of n){let o=zF(a,i.Lu(A));o==null&&(o={nullValue:"NULL_VALUE"}),s.push(o),A++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return a6(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=hn.fromDate(n);return{timestampValue:W0(i.serializer,s)}}if(n instanceof hn){const s=new hn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:W0(i.serializer,s)}}if(n instanceof aC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof sd)return{bytesValue:dF(i.serializer,n._byteString)};if(n instanceof Wi){const s=i.databaseId,A=n.firestore._databaseId;if(!A.isEqual(s))throw i.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WB(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof lC)return function(A,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(o=>{if(typeof o!="number")throw a.Bu("VectorValues must only contain numeric values.");return HB(a.serializer,o)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${iC(n)}`)}(t,e)}function WF(t,e){const r={};return HS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pd(t,(n,i)=>{const s=zF(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function GF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hn||t instanceof aC||t instanceof sd||t instanceof Wi||t instanceof VF||t instanceof lC)}function qF(t,e,r){if(!GF(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=iC(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function fM(t,e,r){if((e=Nt(e))instanceof oC)return e._internalPath;if(typeof e=="string")return $F(t,e);throw $0("Field path arguments must be of type string or ",t,!1,void 0,r)}const pM=new RegExp("[~\\*/\\[\\]]");function $F(t,e,r){if(e.search(pM)>=0)throw $0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new oC(...e.split("."))._internalPath}catch{throw $0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function $0(t,e,r,n,i){const s=n&&!n.isEmpty(),A=i!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let o="";return(s||A)&&(o+=" (found",s&&(o+=` in field ${n}`),A&&(o+=` in document ${i}`),o+=")"),new wt($e.INVALID_ARGUMENT,a+t+o)}function gM(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(XF("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class mM extends JF{data(){return super.data()}}function XF(t,e){return typeof e=="string"?$F(t,e):e instanceof oC?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new wt($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wM{convertValue(e,r="none"){switch(cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(lc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw It()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return pd(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(A=>zr(A.doubleValue));return new lC(s)}convertGeoPoint(e){return new aC(zr(e.latitude),zr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=DB(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const r=Ja(e);return new hn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Lr.fromString(e);Ar(vF(n));const i=new xf(n.get(1),n.get(3)),s=new bt(n.popFirst(5));return i.isEqual(r)||bo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YF extends JF{constructor(e,r,n,i,s,A){super(e,r,n,i,A),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new $g(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(XF("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class $g extends YF{data(e={}){return super.data(e)}}class BM{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new ph(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new $g(this._firestore,this._userDataWriter,n.key,n,new ph(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new wt($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let A=0;return i._snapshot.docChanges.map(a=>{const o=new $g(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ph(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:A++}})}{let A=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const o=new $g(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ph(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=A.indexOf(a.doc.key),A=A.delete(a.doc.key)),a.type!==1&&(A=A.add(a.doc),c=A.indexOf(a.doc.key)),{type:CM(a.type),doc:o,oldIndex:l,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function CM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){t=po(t,Wi);const e=po(t.firestore,id);return nM(AC(e),t._key).then(r=>tT(e,t,r))}class ZF extends wM{constructor(e){super(),this.firestore=e}convertBytes(e){return new sd(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Wi(this.firestore,null,r)}}function Iw(t,e,r){t=po(t,Wi);const n=po(t.firestore,id),i=yM(t.converter,e);return eT(n,[hM(dM(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,bA.none())])}function bM(t){return eT(po(t.firestore,id),[new VB(t._key,bA.none())])}function xM(t,...e){var r,n,i;t=Nt(t);let s={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||Lx(e[A])||(s=e[A],A++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Lx(e[A])){const d=e[A];e[A]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[A+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[A+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let o,l,c;if(t instanceof Wi)l=po(t.firestore,id),c=Vm(t._key.path),o={next:d=>{e[A]&&e[A](tT(l,t,d))},error:e[A+1],complete:e[A+2]};else{const d=po(t,Ym);l=po(d.firestore,id),c=d._query;const p=new ZF(l);o={next:g=>{e[A]&&e[A](new BM(l,p,d,g))},error:e[A+1],complete:e[A+2]},vM(t._query)}return function(p,g,v,x){const T=new MF(x),w=new kF(g,T,v);return p.asyncQueue.enqueueAndForget(async()=>FF(await Uy(p),w)),()=>{T.Za(),p.asyncQueue.enqueueAndForget(async()=>TF(await Uy(p),w))}}(AC(l),c,a,o)}function eT(t,e){return function(n,i){const s=new ja;return n.asyncQueue.enqueueAndForget(async()=>WO(await rM(n),i,s)),s.promise}(AC(t),e)}function tT(t,e,r){const n=r.docs.get(e._key),i=new ZF(t);return new YF(t,i,e._key,n,new ph(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){fd=i})(Ji),SA(new Ks("firestore",(n,{instanceIdentifier:i,options:s})=>{const A=n.getProvider("app").getImmediate(),a=new id(new xD(n.getProvider("auth-internal")),new SD(n.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new wt($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xf(l.options.projectId,c)}(A,i),A);return s=Object.assign({useFetchStreams:r},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Si(ex,"4.7.3",e),Si(ex,"4.7.3","esm2017")})();var EM="firebase",_M="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(EM,_M,"app");function vd(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function rT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IM=rT,nT=new UA("auth","Firebase",rT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new zf("@firebase/auth");function SM(t,...e){J0.logLevel<=Rt.WARN&&J0.warn(`Auth (${Ji}): ${t}`,...e)}function Jg(t,...e){J0.logLevel<=Rt.ERROR&&J0.error(`Auth (${Ji}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,...e){throw uC(t,...e)}function EA(t,...e){return uC(t,...e)}function iT(t,e,r){const n=Object.assign(Object.assign({},IM()),{[e]:r});return new UA("auth","Firebase",n).create(e,{appName:t.name})}function Gl(t){return iT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uC(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return nT.create(t,...e)}function _t(t,e,...r){if(!t)throw uC(e,...r)}function oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jg(e),new Error(e)}function _o(t,e){t||oo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FM(){return Rx()==="http:"||Rx()==="https:"}function Rx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FM()||SB()||"connection"in navigator)?navigator.onLine:!0}function kM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=class{constructor(e,r){this.shortDelay=e,this.longDelay=r,_o(r>e,"Short delay should be less than long delay!"),this.isMobile=wS()||Om()}get(){return TM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t,e){_o(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sT=class{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new Zf(3e4,6e4);function hC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wd(t,e,r,n,i={}){return AT(t,i,async()=>{let s={},A={};n&&(e==="GET"?A=n:s={body:JSON.stringify(n)});const a=Ws(Object.assign({key:t.config.apiKey},A)).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:o},s);return BS()||(l.referrerPolicy="no-referrer"),sT.fetch()(oT(t,t.config.apiHost,r,a),l)})}async function AT(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},UM),e);try{const i=new LM(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const A=await s.json();if("needConfirmation"in A)throw ng(t,"account-exists-with-different-credential",A);if(s.ok&&!("errorMessage"in A))return A;{const a=s.ok?A.errorMessage:A.error.message,[o,l]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw ng(t,"credential-already-in-use",A);if(o==="EMAIL_EXISTS")throw ng(t,"email-already-in-use",A);if(o==="USER_DISABLED")throw ng(t,"user-disabled",A);const c=n[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw iT(t,c,l);Eo(t,c)}}catch(i){if(i instanceof Bn)throw i;Eo(t,"network-request-failed",{message:String(i)})}}async function QM(t,e,r,n,i={}){const s=await wd(t,e,r,n,i);return"mfaPendingCredential"in s&&Eo(t,"multi-factor-auth-required",{_serverResponse:s}),s}function oT(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?dC(t.config,i):`${t.config.apiScheme}://${i}`}let LM=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(EA(this.auth,"network-request-failed")),NM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ng(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=EA(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e){return wd(t,"POST","/v1/accounts:delete",e)}async function aT(t,e){return wd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RM(t,e=!1){const r=Nt(t),n=await r.getIdToken(e),i=fC(n);_t(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,A=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Mh(Sw(i.auth_time)),issuedAtTime:Mh(Sw(i.iat)),expirationTime:Mh(Sw(i.exp)),signInProvider:A||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Sw(t){return Number(t)*1e3}function fC(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Jg("JWT malformed, contained fewer than 3 sections"),null;try{const i=EB(r);return i?JSON.parse(i):(Jg("Failed to decode base64 JWT payload"),null)}catch(i){return Jg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Dx(t){const e=fC(t);return _t(e,"internal-error"),_t(typeof e.exp<"u","internal-error"),_t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Bn&&DM(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function DM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OM=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qy=class{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mh(this.lastLoginAt),this.creationTime=Mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Ff(t,aT(r,{idToken:n}));_t(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const A=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lT(s.providerUserInfo):[],a=jM(t.providerData,A),o=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function MM(t){const e=Nt(t);await X0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jM(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function lT(t){return t.map(e=>{var{providerId:r}=e,n=vd(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(t,e){const r=await AT(t,{},async()=>{const n=Ws({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,A=oT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sT.fetch()(A,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function VM(t,e){return wd(t,"POST","/v2/accounts:revokeToken",hC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fw=class Ly{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken<"u","internal-error"),_t(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){_t(e.length!==0,"internal-error");const r=Dx(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await HM(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,A=new Ly;return n&&(_t(typeof n=="string","internal-error",{appName:e}),A.refreshToken=n),i&&(_t(typeof i=="string","internal-error",{appName:e}),A.accessToken=i),s&&(_t(typeof s=="number","internal-error",{appName:e}),A.expirationTime=s),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ly,this.toJSON())}_performRefresh(){return oo("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t,e){_t(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let Y0=class gh{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=vd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Ff(this,this.stsTokenManager.getToken(this.auth,e));return _t(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return RM(this,e)}reload(){return MM(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new gh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await X0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(Gl(this.auth));const e=await this.getIdToken();return await Ff(this,PM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,A,a,o,l,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(i=r.email)!==null&&i!==void 0?i:void 0,g=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,v=(A=r.photoURL)!==null&&A!==void 0?A:void 0,x=(a=r.tenantId)!==null&&a!==void 0?a:void 0,T=(o=r._redirectEventId)!==null&&o!==void 0?o:void 0,w=(l=r.createdAt)!==null&&l!==void 0?l:void 0,B=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:C,emailVerified:L,isAnonymous:D,providerData:M,stsTokenManager:S}=r;_t(C&&S,e,"internal-error");const E=Fw.fromJSON(this.name,S);_t(typeof C=="string",e,"internal-error"),ca(d,e.name),ca(p,e.name),_t(typeof L=="boolean",e,"internal-error"),_t(typeof D=="boolean",e,"internal-error"),ca(g,e.name),ca(v,e.name),ca(x,e.name),ca(T,e.name),ca(w,e.name),ca(B,e.name);const k=new gh({uid:C,auth:e,email:p,emailVerified:L,displayName:d,isAnonymous:D,photoURL:v,phoneNumber:g,tenantId:x,stsTokenManager:E,createdAt:w,lastLoginAt:B});return M&&Array.isArray(M)&&(k.providerData=M.map(O=>Object.assign({},O))),T&&(k._redirectEventId=T),k}static async _fromIdTokenResponse(e,r,n=!1){const i=new Fw;i.updateFromServerResponse(r);const s=new gh({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await X0(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];_t(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lT(i.providerUserInfo):[],A=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fw;a.updateFromIdToken(n);const o=new gh({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:A}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(o,l),o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new Map;function ao(t){_o(t instanceof Function,"Expected a class definition");let e=Ox.get(t);return e?(_o(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ox.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cT=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}};cT.type="NONE";const Mx=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e,r){return`firebase:${t}:${e}:${r}`}let jx=class Yg{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Xg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xg("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Y0._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Yg(ao(Mx),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||ao(Mx);const A=Xg(n,e.config.apiKey,e.name);let a=null;for(const l of r)try{const c=await l._get(A);if(c){const d=Y0._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const o=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!o.length?new Yg(s,e,n):(s=o[0],a&&await s._set(A,a.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(A)}catch{}})),new Yg(s,e,n))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(mT(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||hT(e))&&!e.includes("edge/"))return"Chrome";if(pT(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function uT(t=Gt()){return/firefox\//i.test(t)}function dT(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hT(t=Gt()){return/crios\//i.test(t)}function fT(t=Gt()){return/iemobile/i.test(t)}function pT(t=Gt()){return/android/i.test(t)}function gT(t=Gt()){return/blackberry/i.test(t)}function mT(t=Gt()){return/webos/i.test(t)}function pC(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KM(t=Gt()){var e;return pC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zM(){return FB()&&document.documentMode===10}function vT(t=Gt()){return pC(t)||pT(t)||mT(t)||gT(t)||/windows phone/i.test(t)||fT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e=[]){let r;switch(t){case"Browser":r=Hx(Gt());break;case"Worker":r=`${Hx(Gt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ji}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WM=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((A,a)=>{try{const o=e(s);A(o)}catch(o){a(o)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e={}){return wd(t,"GET","/v2/passwordPolicy",hC(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=6;let $M=class{constructor(e){var r,n,i,s;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=A.minPasswordLength)!==null&&r!==void 0?r:qM,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,A,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(r=o.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(n=o.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(i=o.containsLowercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(s=o.containsUppercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(A=o.containsNumericCharacter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JM=class{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vx(this),this.idTokenSubscription=new Vx(this),this.beforeStateQueue=new WM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ao(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await jx.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await aT(this,{idToken:e}),n=await Y0._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Zt(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=i==null?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!A||A===a)&&(o!=null&&o.user)&&(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(A){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await X0(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(Gl(this));const r=e?Nt(e):null;return r&&_t(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(Gl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(Gl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GM(this),r=new $M(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new UA("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await VM(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ao(e)||this._popupRedirectResolver;_t(r,this,"argument-error"),this.redirectPersistenceManager=await jx.create(this,[ao(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(a,this,"internal-error"),a.then(()=>{A||s(this.currentUser)}),typeof r=="function"){const o=e.addObserver(r,n,i);return()=>{A=!0,o()}}else{const o=e.addObserver(r);return()=>{A=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&SM(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}};function gC(t){return Nt(t)}let Vx=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=TB(r=>this.observer=r)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XM(t){mC=t}function YM(t){return mC.loadJS(t)}function ZM(){return mC.gapiScript}function ej(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){const r=Wf(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(O0(s,e??{}))return i;Eo(i,"already-initialized")}return r.initialize({options:e})}function rj(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ao);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function nj(t,e,r){const n=gC(t);_t(n._canInitEmulator,n,"emulator-config-failed"),_t(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=yT(e),{host:A,port:a}=ij(e),o=a===null?"":`:${a}`;n.config.emulator={url:`${s}//${A}${o}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:A,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),sj()}function yT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ij(t){const e=yT(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:Kx(n.substr(s.length+1))}}else{const[s,A]=n.split(":");return{host:s,port:Kx(A)}}}function Kx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sj(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BT=class{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return oo("not implemented")}_getIdTokenResponse(e){return oo("not implemented")}_linkToIdToken(e,r){return oo("not implemented")}_getReauthenticationResolver(e){return oo("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t,e){return QM(t,"POST","/v1/accounts:signInWithIdp",hC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="http://localhost";let Zm=class Py extends BT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Py(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Eo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=vd(r,["providerId","signInMethod"]);if(!n||!i)return null;const A=new Py(n,i);return A.idToken=s.idToken||void 0,A.accessToken=s.accessToken||void 0,A.secret=s.secret,A.nonce=s.nonce,A.pendingToken=s.pendingToken||null,A}_getIdTokenResponse(e){const r=this.buildRequest();return Lu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Lu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Lu(e,r)}buildRequest(){const e={requestUri:Aj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ws(r)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CT=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep=class extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bT=class Au extends ep{constructor(){super("facebook.com")}static credential(e){return Zm._fromParams({providerId:Au.PROVIDER_ID,signInMethod:Au.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Au.credentialFromTaggedObject(e)}static credentialFromError(e){return Au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Au.credential(e.oauthAccessToken)}catch{return null}}};bT.FACEBOOK_SIGN_IN_METHOD="facebook.com";bT.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xT=class ou extends ep{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Zm._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ou.credentialFromTaggedObject(e)}static credentialFromError(e){return ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ou.credential(r,n)}catch{return null}}};xT.GOOGLE_SIGN_IN_METHOD="google.com";xT.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ET=class au extends ep{constructor(){super("github.com")}static credential(e){return Zm._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return au.credentialFromTaggedObject(e)}static credentialFromError(e){return au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return au.credential(e.oauthAccessToken)}catch{return null}}};ET.GITHUB_SIGN_IN_METHOD="github.com";ET.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _T=class lu extends ep{constructor(){super("twitter.com")}static credential(e,r){return Zm._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return lu.credential(r,n)}catch{return null}}};_T.TWITTER_SIGN_IN_METHOD="twitter.com";_T.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vC=class Ry{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await Y0._fromIdTokenResponse(e,n,i),A=zx(n);return new Ry({user:s,providerId:A,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=zx(n);return new Ry({user:e,providerId:i,_tokenResponse:n,operationType:r})}};function zx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oj=class Dy extends Bn{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Dy.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Dy(e,r,n,i)}};function IT(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?oj._fromErrorAndOperation(t,s,e,n):s})}async function aj(t,e,r=!1){const n=await Ff(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return vC._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e,r=!1){const{auth:n}=t;if(Zt(n.app))return Promise.reject(Gl(n));const i="reauthenticate";try{const s=await Ff(t,IT(n,i,e,t),r);_t(s.idToken,n,"internal-error");const A=fC(s.idToken);_t(A,n,"internal-error");const{sub:a}=A;return _t(t.uid===a,n,"user-mismatch"),vC._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Eo(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e,r=!1){if(Zt(t.app))return Promise.reject(Gl(t));const n="signIn",i=await IT(t,n,e),s=await vC._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}function uj(t,e,r,n){return Nt(t).onIdTokenChanged(e,r,n)}function dj(t,e,r){return Nt(t).beforeAuthStateChanged(e,r)}const Z0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ST=class{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Z0,"1"),this.storage.removeItem(Z0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=1e3,fj=10;let FT=class extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((A,a,o)=>{this.notifyListeners(A,o)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const A=this.storage.getItem(n);!r&&this.localCache[n]===A||this.notifyListeners(n,A)},s=this.storage.getItem(n);zM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fj):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}};FT.type="LOCAL";const pj=FT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TT=class extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}};TT.type="SESSION";const kT=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UT=class NT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new NT(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,A=this.handlersMap[i];if(!(A!=null&&A.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(A).map(async l=>l(r.origin,s)),o=await gj(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};UT.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mj=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,A;return new Promise((a,o)=>{const l=wC("",20);i.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);A={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"));break}}},this.handlers.add(A),i.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return window}function vj(t){_A().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof _A().WorkerGlobalScope<"u"&&typeof _A().importScripts=="function"}async function wj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Bj(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebaseLocalStorageDb",Cj=1,em="firebaseLocalStorage",PT="fbase_key";let tp=class{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}};function ev(t,e){return t.transaction([em],e?"readwrite":"readonly").objectStore(em)}function bj(){const t=indexedDB.deleteDatabase(LT);return new tp(t).toPromise()}function Oy(){const t=indexedDB.open(LT,Cj);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(em,{keyPath:PT})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(em)?e(n):(n.close(),await bj(),e(await Oy()))})})}async function Wx(t,e,r){const n=ev(t,!0).put({[PT]:e,value:r});return new tp(n).toPromise()}async function xj(t,e){const r=ev(t,!1).get(e),n=await new tp(r).toPromise();return n===void 0?null:n.value}function Gx(t,e){const r=ev(t,!0).delete(e);return new tp(r).toPromise()}const Ej=800,_j=3;let RT=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Oy(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>_j)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=UT._getInstance(Bj()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await wj(),!this.activeServiceWorker)return;this.sender=new mj(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Oy();return await Wx(e,Z0,"1"),await Gx(e,Z0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wx(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>xj(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gx(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ev(i,!1).getAll();return new tp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ej)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};RT.type="LOCAL";const Ij=RT;new Zf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t,e){return e?ao(e):(_t(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yC=class extends BT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Lu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}};function Fj(t){return cj(t.auth,new yC(t),t.bypassAuthState)}function Tj(t){const{auth:e,user:r}=t;return _t(r,e,"internal-error"),lj(r,new yC(t),t.bypassAuthState)}async function kj(t){const{auth:e,user:r}=t;return _t(r,e,"internal-error"),aj(r,new yC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DT=class{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:A,type:a}=e;if(A){this.reject(A);return}const o={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fj;case"linkViaPopup":case"linkViaRedirect":return kj;case"reauthViaPopup":case"reauthViaRedirect":return Tj;default:Eo(this.auth,"internal-error")}}resolve(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new Zf(2e3,1e4);let Nj=class mh extends DT{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,mh.currentPopupAction&&mh.currentPopupAction.cancel(),mh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){_o(this.filter.length===1,"Popup operations only handle one event");const e=wC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(EA(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(EA(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(EA(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Uj.get())};e()}};Nj.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="pendingRedirect",Zg=new Map;let Lj=class extends DT{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Zg.get(this.auth._key());if(!e){try{const n=await Pj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Zg.set(this.auth._key(),e)}return this.bypassAuthState||Zg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function Pj(t,e){const r=Oj(e),n=Dj(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Rj(t,e){Zg.set(t._key(),e)}function Dj(t){return ao(t._redirectPersistence)}function Oj(t){return Xg(Qj,t.config.apiKey,t.name)}async function Mj(t,e,r=!1){if(Zt(t.app))return Promise.reject(Gl(t));const n=gC(t),i=Sj(n,e),A=await new Lj(n,i,r).execute();return A&&!r&&(delete A.user._redirectEventId,await n._persistUserIfCurrent(A.user),await n._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=10*60*1e3;let Hj=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vj(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!OT(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(EA(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jj&&this.cachedEventUids.clear(),this.cachedEventUids.has(qx(e))}saveEventToCache(e){this.cachedEventUids.add(qx(e)),this.lastProcessedEventTime=Date.now()}};function qx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Vj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,e={}){return wd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wj=/^https?/;async function Gj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kj(t);for(const r of e)try{if(qj(r))return}catch{}Eo(t,"unauthorized-domain")}function qj(t){const e=Ny(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&A.hostname===n}if(!Wj.test(r))return!1;if(zj.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=new Zf(3e4,6e4);function $x(){const t=_A().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Jj(t){return new Promise((e,r)=>{var n,i,s;function A(){$x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$x(),r(EA(t,"network-request-failed"))},timeout:$j.get()})}if(!((i=(n=_A().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_A().gapi)===null||s===void 0)&&s.load)A();else{const a=ej("iframefcb");return _A()[a]=()=>{gapi.load?A():r(EA(t,"network-request-failed"))},YM(`${ZM()}?onload=${a}`).catch(o=>r(o))}}).catch(e=>{throw e0=null,e})}let e0=null;function Xj(t){return e0=e0||Jj(t),e0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new Zf(5e3,15e3),Zj="__/auth/iframe",e8="emulator/auth/iframe",t8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n8(t){const e=t.config;_t(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?dC(e,e8):`https://${t.config.authDomain}/${Zj}`,n={apiKey:e.apiKey,appName:t.name,v:Ji},i=r8.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Ws(n).slice(1)}`}async function i8(t){const e=await Xj(t),r=_A().gapi;return _t(r,t,"internal-error"),e.open({where:document.body,url:n8(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t8,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const A=EA(t,"network-request-failed"),a=_A().setTimeout(()=>{s(A)},Yj.get());function o(){_A().clearTimeout(a),i(n)}n.ping(o).then(o,()=>{s(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A8=500,o8=600,a8="_blank",l8="http://localhost";let Jx=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function c8(t,e,r,n=A8,i=o8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),A=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const o=Object.assign(Object.assign({},s8),{width:n.toString(),height:i.toString(),top:s,left:A}),l=Gt().toLowerCase();r&&(a=hT(l)?a8:r),uT(l)&&(e=e||l8,o.scrollbars="yes");const c=Object.entries(o).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(KM(l)&&a!=="_self")return u8(e||"",a),new Jx(null);const d=window.open(e||"",a,c);_t(d,t,"popup-blocked");try{d.focus()}catch{}return new Jx(d)}function u8(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8="__/auth/handler",h8="emulator/auth/handler",f8=encodeURIComponent("fac");async function Xx(t,e,r,n,i,s){_t(t.config.authDomain,t,"auth-domain-config-required"),_t(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ji,eventId:i};if(e instanceof CT){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",CS(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))A[c]=d}if(e instanceof ep){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(A.scopes=c.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const o=await t._getAppCheckToken(),l=o?`#${f8}=${encodeURIComponent(o)}`:"";return`${p8(t)}?${Ws(a).slice(1)}${l}`}function p8({config:t}){return t.emulator?dC(t,h8):`https://${t.authDomain}/${d8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="webStorageSupport";let g8=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=Mj,this._overrideRedirectResult=Rj}async _openPopup(e,r,n,i){var s;_o((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const A=await Xx(e,r,n,Ny(),i);return c8(e,A,wC())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await Xx(e,r,n,Ny(),i);return vj(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(_o(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await i8(e),n=new Hj(e);return r.register("authEvent",i=>(_t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Tw,{type:Tw},i=>{var s;const A=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Tw];A!==void 0&&r(!!A),Eo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Gj(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return vT()||dT()||pC()}};const m8=g8;var Yx="@firebase/auth",Zx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v8=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y8(t){SA(new Ks("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=n.options;_t(A&&!A.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wT(t)},l=new JM(n,i,s,o);return rj(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),SA(new Ks("auth-internal",e=>{const r=gC(e.getProvider("auth").getImmediate());return(n=>new v8(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(Yx,Zx,w8(t)),Si(Yx,Zx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=5*60,C8=_B("authIdTokenMaxAge")||B8;let eE=null;const b8=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>C8)return;const i=r==null?void 0:r.token;eE!==i&&(eE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function x8(t=NB()){const e=Wf(t,"auth");if(e.isInitialized())return e.getImmediate();const r=tj(t,{popupRedirectResolver:m8,persistence:[Ij,pj,kT]}),n=_B("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const A=b8(s.toString());dj(r,A,()=>A(r.currentUser)),uj(r,a=>A(a))}}const i=mS("auth");return i&&nj(r,`http://${i}`),r}function E8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XM({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=EA("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",E8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y8("Browser");const _8={VITE_FIREBASE_API_KEY:"AIzaSyA-lCfZRMFfLjdG4vg3JnPWMAXq_6zgl5I",VITE_FIREBASE_APP_ID:"1:323355347910:web:c81f2813dce5ee9373c0c7",VITE_FIREBASE_AUTH_DOMAIN:"zameny-b6c3f.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"323355347910",VITE_FIREBASE_PROJECT_ID:"zameny-b6c3f",VITE_FIREBASE_STORAGE_BUCKET:"zameny-b6c3f.firebasestorage.app"},Gc=_8,I8={apiKey:Gc.VITE_FIREBASE_API_KEY,authDomain:Gc.VITE_FIREBASE_AUTH_DOMAIN,projectId:Gc.VITE_FIREBASE_PROJECT_ID,storageBucket:Gc.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:Gc.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:Gc.VITE_FIREBASE_APP_ID},MT=Mm(I8),Nl=oM(MT),t0=x8(MT);var nt=(t=>(t.First="1 ",t.Second="2 ",t))(nt||{}),ds=(t=>(t.Monday="",t.Tuesday="",t.Wednesday="",t.Thursday="",t.Friday="",t))(ds||{});const yi=["","","","",""],lo={"1 ":[1,2,3,4,5,6,7],"2 ":[0,1,2,3,4,5,6]},tE=["","","/","","","",""," "],jT=[{shift:nt.First,period:1,start:"08:00",end:"08:45",day:"default"},{shift:nt.First,period:2,start:"08:55",end:"09:40",day:"default"},{shift:nt.First,period:3,start:"09:50",end:"10:35",day:"default"},{shift:nt.First,period:4,start:"10:55",end:"11:40",day:"default"},{shift:nt.First,period:5,start:"11:50",end:"12:35",day:"default"},{shift:nt.First,period:6,start:"12:40",end:"13:25",day:"default"},{shift:nt.First,period:7,start:"13:30",end:"14:15",day:"default"},{shift:nt.Second,period:0,start:"13:30",end:"14:15",day:"default"},{shift:nt.Second,period:1,start:"14:20",end:"15:05",day:"default"},{shift:nt.Second,period:2,start:"15:15",end:"16:00",day:"default"},{shift:nt.Second,period:3,start:"16:10",end:"16:55",day:"default"},{shift:nt.Second,period:4,start:"17:05",end:"17:50",day:"default"},{shift:nt.Second,period:5,start:"18:00",end:"18:45",day:"default"},{shift:nt.Second,period:6,start:"18:50",end:"19:35",day:"default"}],Tn={subjects:[{id:"s1",name:"",color:"#e0e7ff",difficulty:11,requiredRoomType:""},{id:"s2",name:" ",color:"#dcfce7",difficulty:10,requiredRoomType:""}],teachers:[],classes:[{id:"c1",name:"5",shift:nt.First,studentsCount:25},{id:"c2",name:"6",shift:nt.Second,studentsCount:28}],rooms:[{id:"r1",name:"101",capacity:30,type:""}],schedule:[],substitutions:[],bellSchedule:jT,settings:{telegramToken:"",publicScheduleId:null,feedbackChatId:""}},kw="schoolData",Uw="main",Nw="publicSchedules",ql={save:async t=>{try{const e=Ul(Nl,kw,Uw);await Iw(e,t)}catch(e){throw console.error("Error saving to cloud:",e),e}},load:async()=>{try{const t=Ul(Nl,kw,Uw),e=await Px(t);if(e.exists()){const r=e.data(),n={...Tn,...r};return r.settings&&(n.settings={...Tn.settings,...r.settings}),n}else{console.log("No data found, initializing cloud DB...");const r=Ul(Nl,kw,Uw);return await Iw(r,Tn),Tn}}catch(t){return console.error("Error loading from cloud:",t),Tn}},exportJson:t=>{const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=`gymnasium_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n)},setPublicData:async(t,e)=>{try{const r={subjects:e.subjects,teachers:e.teachers.map(i=>({id:i.id,name:i.name,subjectIds:i.subjectIds,shifts:i.shifts,unavailableDates:[],telegramChatId:"",birthDate:void 0,absenceReasons:void 0})),classes:e.classes,rooms:e.rooms,schedule:e.schedule,substitutions:e.substitutions,bellSchedule:e.bellSchedule,settings:{telegramToken:"",feedbackChatId:"",publicScheduleId:e.settings.publicScheduleId}},n=Ul(Nl,Nw,t);await Iw(n,r)}catch(r){throw console.error("Error publishing schedule:",r),r}},getPublicData:async t=>{try{const e=Ul(Nl,Nw,t),r=await Px(e);return r.exists()?r.data():null}catch(e){return console.error("Error loading public schedule:",e),null}},deletePublicData:async t=>{try{const e=Ul(Nl,Nw,t);await bM(e)}catch(e){throw console.error("Error deleting public schedule:",e),e}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e,r){this._delegate=e,this.firebase=r,yf(e,new Ks("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),QB(this._delegate)))}_getService(e,r=Ga){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((n=i.getComponent())===null||n===void 0?void 0:n.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:r})}_removeServiceInstance(e,r=Ga){this._delegate.container.getProvider(e).clearInstance(r)}_addComponent(e){yf(this._delegate,e)}_addOrOverwriteComponent(e){IS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},rE=new UA("app-compat","Firebase",F8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){const e={},r={__esModule:!0,initializeApp:s,app:i,registerVersion:Si,setLogLevel:kS,onLog:TS,apps:null,SDK_VERSION:Ji,INTERNAL:{registerComponent:a,removeApp:n,useAsService:o,modularAPIs:BD}};r.default=r,Object.defineProperty(r,"apps",{get:A});function n(l){delete e[l]}function i(l){if(l=l||Ga,!z5(e,l))throw rE.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,c={}){const d=Mm(l,c);if(z5(e,d.name))return e[d.name];const p=new t(d,r);return e[d.name]=p,p}function A(){return Object.keys(e).map(l=>e[l])}function a(l){const c=l.name,d=c.replace("-compat","");if(SA(l)&&l.type==="PUBLIC"){const p=(g=i())=>{if(typeof g[d]!="function")throw rE.create("invalid-app-argument",{appName:c});return g[d]()};l.serviceProps!==void 0&&R0(p,l.serviceProps),r[d]=p,t.prototype[d]=function(...g){return this._getService.bind(this,c).apply(this,l.multipleInstances?g:[])}}return l.type==="PUBLIC"?r[d]:null}function o(l,c){return c==="serverAuth"?null:c}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){const t=T8(S8);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:HT,extendNamespace:e,createSubscribe:TB,ErrorFactory:UA,deepExtend:R0});function e(r){R0(t,r)}return t}const k8=HT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new zf("@firebase/app-compat"),U8="@firebase/app-compat",N8="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){Si(U8,N8,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=gS();if(t.firebase!==void 0){nE.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&nE.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const BC=k8;Q8();const Yd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},qc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function VT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P8=L8,R8=VT,KT=new UA("auth","Firebase",VT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new zf("@firebase/auth");function D8(t,...e){tm.logLevel<=Rt.WARN&&tm.warn(`Auth (${Ji}): ${t}`,...e)}function r0(t,...e){tm.logLevel<=Rt.ERROR&&tm.error(`Auth (${Ji}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw bC(t,...e)}function fn(t,...e){return bC(t,...e)}function CC(t,e,r){const n=Object.assign(Object.assign({},R8()),{[e]:r});return new UA("auth","Firebase",n).create(e,{appName:t.name})}function Cn(t){return CC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yd(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Rn(t,"argument-error"),CC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bC(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return KT.create(t,...e)}function Ze(t,e,...r){if(!t)throw bC(e,...r)}function vA(t){const e="INTERNAL ASSERTION FAILED: "+t;throw r0(e),new Error(e)}function zs(t,e){t||vA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xC(){return iE()==="http:"||iE()==="https:"}function iE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xC()||SB()||"connection"in navigator)?navigator.onLine:!0}function M8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,r){this.shortDelay=e,this.longDelay=r,zs(r>e,"Short delay should be less than long delay!"),this.isMobile=wS()||Om()}get(){return O8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e){zs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=new rp(3e4,6e4);function Rr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dr(t,e,r,n,i={}){return WT(t,i,async()=>{let s={},A={};n&&(e==="GET"?A=n:s={body:JSON.stringify(n)});const a=Ws(Object.assign({key:t.config.apiKey},A)).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:o},s);return BS()||(l.referrerPolicy="no-referrer"),zT.fetch()(GT(t,t.config.apiHost,r,a),l)})}async function WT(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},j8),e);try{const i=new K8(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const A=await s.json();if("needConfirmation"in A)throw vh(t,"account-exists-with-different-credential",A);if(s.ok&&!("errorMessage"in A))return A;{const a=s.ok?A.errorMessage:A.error.message,[o,l]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(t,"credential-already-in-use",A);if(o==="EMAIL_EXISTS")throw vh(t,"email-already-in-use",A);if(o==="USER_DISABLED")throw vh(t,"user-disabled",A);const c=n[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw CC(t,c,l);Rn(t,c)}}catch(i){if(i instanceof Bn)throw i;Rn(t,"network-request-failed",{message:String(i)})}}async function Uo(t,e,r,n,i={}){const s=await Dr(t,e,r,n,i);return"mfaPendingCredential"in s&&Rn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function GT(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?EC(t.config,i):`${t.config.apiScheme}://${i}`}function V8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(fn(this.auth,"network-request-failed")),H8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=fn(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){return t!==void 0&&t.getResponse!==void 0}function AE(t){return t!==void 0&&t.enterprise!==void 0}class z8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return V8(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W8(t){return(await Dr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function G8(t,e){return Dr(t,"GET","/v2/recaptchaConfig",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q8(t,e){return Dr(t,"POST","/v1/accounts:delete",e)}async function $8(t,e){return Dr(t,"POST","/v1/accounts:update",e)}async function qT(t,e){return Dr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J8(t,e=!1){const r=Nt(t),n=await r.getIdToken(e),i=tv(n);Ze(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,A=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:jh(Qw(i.auth_time)),issuedAtTime:jh(Qw(i.iat)),expirationTime:jh(Qw(i.exp)),signInProvider:A||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Qw(t){return Number(t)*1e3}function tv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return r0("JWT malformed, contained fewer than 3 sections"),null;try{const i=EB(r);return i?JSON.parse(i):(r0("Failed to decode base64 JWT payload"),null)}catch(i){return r0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oE(t){const e=tv(t);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Bn&&X8(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function X8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=jh(this.lastLoginAt),this.creationTime=jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Io(t,qT(r,{idToken:n}));Ze(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const A=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$T(s.providerUserInfo):[],a=eH(t.providerData,A),o=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new My(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Z8(t){const e=Nt(t);await kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eH(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function $T(t){return t.map(e=>{var{providerId:r}=e,n=vd(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(t,e){const r=await WT(t,{},async()=>{const n=Ws({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,A=GT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zT.fetch()(A,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function rH(t,e){return Dr(t,"POST","/v2/accounts:revokeToken",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const r=oE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await tH(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,A=new Pu;return n&&(Ze(typeof n=="string","internal-error",{appName:e}),A.refreshToken=n),i&&(Ze(typeof i=="string","internal-error",{appName:e}),A.accessToken=i),s&&(Ze(typeof s=="number","internal-error",{appName:e}),A.expirationTime=s),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pu,this.toJSON())}_performRefresh(){return vA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t,e){Ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class co{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=vd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new My(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Io(this,this.stsTokenManager.getToken(this.auth,e));return Ze(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return J8(this,e)}reload(){return Z8(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new co(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await kf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(Cn(this.auth));const e=await this.getIdToken();return await Io(this,q8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,A,a,o,l,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(i=r.email)!==null&&i!==void 0?i:void 0,g=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,v=(A=r.photoURL)!==null&&A!==void 0?A:void 0,x=(a=r.tenantId)!==null&&a!==void 0?a:void 0,T=(o=r._redirectEventId)!==null&&o!==void 0?o:void 0,w=(l=r.createdAt)!==null&&l!==void 0?l:void 0,B=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:C,emailVerified:L,isAnonymous:D,providerData:M,stsTokenManager:S}=r;Ze(C&&S,e,"internal-error");const E=Pu.fromJSON(this.name,S);Ze(typeof C=="string",e,"internal-error"),ua(d,e.name),ua(p,e.name),Ze(typeof L=="boolean",e,"internal-error"),Ze(typeof D=="boolean",e,"internal-error"),ua(g,e.name),ua(v,e.name),ua(x,e.name),ua(T,e.name),ua(w,e.name),ua(B,e.name);const k=new co({uid:C,auth:e,email:p,emailVerified:L,displayName:d,isAnonymous:D,photoURL:v,phoneNumber:g,tenantId:x,stsTokenManager:E,createdAt:w,lastLoginAt:B});return M&&Array.isArray(M)&&(k.providerData=M.map(O=>Object.assign({},O))),T&&(k._redirectEventId=T),k}static async _fromIdTokenResponse(e,r,n=!1){const i=new Pu;i.updateFromServerResponse(r);const s=new co({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await kf(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ze(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$T(i.providerUserInfo):[],A=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Pu;a.updateFromIdToken(n);const o=new co({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:A}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new My(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;function Vi(t){zs(t instanceof Function,"Expected a class definition");let e=aE.get(t);return e?(zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}JT.type="NONE";const Ad=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t,e,r){return`firebase:${t}:${e}:${r}`}class Ru{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=$l(this.userKey,i.apiKey,s),this.fullPersistenceKey=$l("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?co._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ru(Vi(Ad),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Vi(Ad);const A=$l(n,e.config.apiKey,e.name);let a=null;for(const l of r)try{const c=await l._get(A);if(c){const d=co._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const o=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!o.length?new Ru(s,e,n):(s=o[0],a&&await s._set(A,a.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(A)}catch{}})),new Ru(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ek(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tk(e))return"Blackberry";if(rk(e))return"Webos";if(YT(e))return"Safari";if((e.includes("chrome/")||ZT(e))&&!e.includes("edge/"))return"Chrome";if(np(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function XT(t=Gt()){return/firefox\//i.test(t)}function YT(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZT(t=Gt()){return/crios\//i.test(t)}function ek(t=Gt()){return/iemobile/i.test(t)}function np(t=Gt()){return/android/i.test(t)}function tk(t=Gt()){return/blackberry/i.test(t)}function rk(t=Gt()){return/webos/i.test(t)}function ip(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nH(t=Gt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function iH(t=Gt()){var e;return ip(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sH(){return FB()&&document.documentMode===10}function nk(t=Gt()){return ip(t)||np(t)||rk(t)||tk(t)||/windows phone/i.test(t)||ek(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e=[]){let r;switch(t){case"Browser":r=lE(Gt());break;case"Worker":r=`${lE(Gt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ji}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((A,a)=>{try{const o=e(s);A(o)}catch(o){a(o)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(t,e={}){return Dr(t,"GET","/v2/passwordPolicy",Rr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=6;class lH{constructor(e){var r,n,i,s;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=A.minPasswordLength)!==null&&r!==void 0?r:aH,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,A,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(r=o.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(n=o.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(i=o.containsLowercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(s=o.containsUppercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(A=o.containsNumericCharacter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new AH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Vi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ru.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await qT(this,{idToken:e}),n=await co._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Zt(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=i==null?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!A||A===a)&&(o!=null&&o.user)&&(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(A){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await kf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(Cn(this));const r=e?Nt(e):null;return r&&Ze(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(Cn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(Cn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oH(this),r=new lH(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new UA("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await rH(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Vi(e)||this._popupRedirectResolver;Ze(r,this,"argument-error"),this.redirectPersistenceManager=await Ru.create(this,[Vi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(a,this,"internal-error"),a.then(()=>{A||s(this.currentUser)}),typeof r=="function"){const o=e.addObserver(r,n,i);return()=>{A=!0,o()}}else{const o=e.addObserver(r);return()=>{A=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ik(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&D8(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Pr(t){return Nt(t)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=TB(r=>this.observer=r)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uH(t){sp=t}function _C(t){return sp.loadJS(t)}function dH(){return sp.recaptchaV2Script}function hH(){return sp.recaptchaEnterpriseScript}function fH(){return sp.gapiScript}function sk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const pH="recaptcha-enterprise",gH="NO_RECAPTCHA";class mH{constructor(e){this.type=pH,this.auth=Pr(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(A,a)=>{G8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new z8(o);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,A(l.siteKey)}}).catch(o=>{a(o)})})}function i(s,A,a){const o=window.grecaptcha;AE(o)?o.enterprise.ready(()=>{o.enterprise.execute(s,{action:e}).then(l=>{A(l)}).catch(()=>{A(gH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,A)=>{n(this.auth).then(a=>{if(!r&&AE(window.grecaptcha))i(a,s,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let o=hH();o.length!==0&&(o+=a),_C(o).then(()=>{i(a,s,A)}).catch(l=>{A(l)})}}).catch(a=>{A(a)})})}}async function uE(t,e,r,n=!1){const i=new mH(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const A=Object.assign({},e);return n?Object.assign(A,{captchaResp:s}):Object.assign(A,{captchaResponse:s}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function Uf(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uE(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await uE(t,e,r,r==="getOobCode");return n(t,A)}else return Promise.reject(s)})}function vH(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function wH(t,e,r){const n=Pr(t);Ze(n._canInitEmulator,n,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),s=Ak(e),{host:A,port:a}=yH(e),o=a===null?"":`:${a}`;n.config.emulator={url:`${s}//${A}${o}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:A,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BH()}function Ak(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yH(t){const e=Ak(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:dE(n.substr(s.length+1))}}else{const[s,A]=n.split(":");return{host:s,port:dE(A)}}}function dE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BH(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return vA("not implemented")}_getIdTokenResponse(e){return vA("not implemented")}_linkToIdToken(e,r){return vA("not implemented")}_getReauthenticationResolver(e){return vA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(t,e){return Dr(t,"POST","/v1/accounts:resetPassword",Rr(t,e))}async function CH(t,e){return Dr(t,"POST","/v1/accounts:update",e)}async function bH(t,e){return Dr(t,"POST","/v1/accounts:signUp",e)}async function xH(t,e){return Dr(t,"POST","/v1/accounts:update",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EH(t,e){return Uo(t,"POST","/v1/accounts:signInWithPassword",Rr(t,e))}async function rv(t,e){return Dr(t,"POST","/v1/accounts:sendOobCode",Rr(t,e))}async function _H(t,e){return rv(t,e)}async function IH(t,e){return rv(t,e)}async function SH(t,e){return rv(t,e)}async function FH(t,e){return rv(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TH(t,e){return Uo(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}async function kH(t,e){return Uo(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends Bd{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Nf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Nf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uf(e,r,"signInWithPassword",EH);case"emailLink":return TH(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uf(e,n,"signUpPassword",bH);case"emailLink":return kH(e,{idToken:r,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return Uo(t,"POST","/v1/accounts:signInWithIdp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH="http://localhost";class kA extends Bd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new kA(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Rn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=vd(r,["providerId","signInMethod"]);if(!n||!i)return null;const A=new kA(n,i);return A.idToken=s.idToken||void 0,A.accessToken=s.accessToken||void 0,A.secret=s.secret,A.nonce=s.nonce,A.pendingToken=s.pendingToken||null,A}_getIdTokenResponse(e){const r=this.buildRequest();return go(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,go(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,go(e,r)}buildRequest(){const e={requestUri:UH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ws(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NH(t,e){return Dr(t,"POST","/v1/accounts:sendVerificationCode",Rr(t,e))}async function QH(t,e){return Uo(t,"POST","/v1/accounts:signInWithPhoneNumber",Rr(t,e))}async function LH(t,e){const r=await Uo(t,"POST","/v1/accounts:signInWithPhoneNumber",Rr(t,e));if(r.temporaryProof)throw vh(t,"account-exists-with-different-credential",r);return r}const PH={USER_NOT_FOUND:"user-not-found"};async function RH(t,e){const r=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Uo(t,"POST","/v1/accounts:signInWithPhoneNumber",Rr(t,r),PH)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Bd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,r){return new Jl({verificationId:e,verificationCode:r})}static _fromTokenResponse(e,r){return new Jl({phoneNumber:e,temporaryProof:r})}_getIdTokenResponse(e){return QH(e,this._makeVerificationRequest())}_linkToIdToken(e,r){return LH(e,Object.assign({idToken:r},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return RH(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:r,verificationId:n,verificationCode:i}=this.params;return e&&r?{temporaryProof:e,phoneNumber:r}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:r,verificationCode:n,phoneNumber:i,temporaryProof:s}=e;return!n&&!r&&!i&&!s?null:new Jl({verificationId:r,verificationCode:n,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OH(t){const e=_u(uh(t)).link,r=e?_u(uh(e)).deep_link_id:null,n=_u(uh(t)).deep_link_id;return(n?_u(uh(n)).link:null)||n||r||e||t}class nv{constructor(e){var r,n,i,s,A,a;const o=_u(uh(e)),l=(r=o.apiKey)!==null&&r!==void 0?r:null,c=(n=o.oobCode)!==null&&n!==void 0?n:null,d=DH((i=o.mode)!==null&&i!==void 0?i:null);Ze(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(s=o.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(A=o.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(a=o.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=OH(e);try{return new nv(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,r){return Nf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=nv.parseLink(r);return Ze(n,"argument-error"),Nf._fromEmailAndCode(e,n.code,n.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends No{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Du extends Cd{static credentialFromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;return Ze("providerId"in r&&"signInMethod"in r,"argument-error"),kA._fromParams(r)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ze(e.idToken||e.accessToken,"argument-error"),kA._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Du.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Du.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:s,nonce:A,providerId:a}=e;if(!n&&!i&&!r&&!s||!a)return null;try{return new Du(a)._credential({idToken:r,accessToken:n,nonce:A,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends Cd{constructor(){super("facebook.com")}static credential(e){return kA._fromParams({providerId:fA.PROVIDER_ID,signInMethod:fA.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fA.credentialFromTaggedObject(e)}static credentialFromError(e){return fA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fA.credential(e.oauthAccessToken)}catch{return null}}}fA.FACEBOOK_SIGN_IN_METHOD="facebook.com";fA.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return kA._fromParams({providerId:pA.PROVIDER_ID,signInMethod:pA.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return pA.credentialFromTaggedObject(e)}static credentialFromError(e){return pA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return pA.credential(r,n)}catch{return null}}}pA.GOOGLE_SIGN_IN_METHOD="google.com";pA.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA extends Cd{constructor(){super("github.com")}static credential(e){return kA._fromParams({providerId:gA.PROVIDER_ID,signInMethod:gA.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gA.credentialFromTaggedObject(e)}static credentialFromError(e){return gA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gA.credential(e.oauthAccessToken)}catch{return null}}}gA.GITHUB_SIGN_IN_METHOD="github.com";gA.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH="http://localhost";class od extends Bd{constructor(e,r){super(e,e),this.pendingToken=r}_getIdTokenResponse(e){const r=this.buildRequest();return go(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,go(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,go(e,r)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:s}=r;return!n||!i||!s||n!==i?null:new od(n,s)}static _create(e,r){return new od(e,r)}buildRequest(){return{requestUri:MH,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="saml.";class rm extends No{constructor(e){Ze(e.startsWith(jH),"argument-error"),super(e)}static credentialFromResult(e){return rm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return rm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const r=od.fromJSON(e);return Ze(r,"argument-error"),r}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:r,providerId:n}=e;if(!r||!n)return null;try{return od._create(n,r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends Cd{constructor(){super("twitter.com")}static credential(e,r){return kA._fromParams({providerId:mA.PROVIDER_ID,signInMethod:mA.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return mA.credentialFromTaggedObject(e)}static credentialFromError(e){return mA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return mA.credential(r,n)}catch{return null}}}mA.TWITTER_SIGN_IN_METHOD="twitter.com";mA.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t,e){return Uo(t,"POST","/v1/accounts:signUp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await co._fromIdTokenResponse(e,n,i),A=hE(n);return new ys({user:s,providerId:A,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=hE(n);return new ys({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function hE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HH(t){var e;if(Zt(t.app))return Promise.reject(Cn(t));const r=Pr(t);if(await r._initializationPromise,!((e=r.currentUser)===null||e===void 0)&&e.isAnonymous)return new ys({user:r.currentUser,providerId:null,operationType:"signIn"});const n=await ak(r,{returnSecureToken:!0}),i=await ys._fromIdTokenResponse(r,"signIn",n,!0);return await r._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends Bn{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,nm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new nm(e,r,n,i)}}function lk(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nm._fromErrorAndOperation(t,s,e,n):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VH(t,e){const r=Nt(t);await iv(!0,r,e);const{providerUserInfo:n}=await $8(r.auth,{idToken:await r.getIdToken(),deleteProvider:[e]}),i=ck(n||[]);return r.providerData=r.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(r.phoneNumber=null),await r.auth._persistUserIfCurrent(r),r}async function IC(t,e,r=!1){const n=await Io(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return ys._forOperation(t,"link",n)}async function iv(t,e,r){await kf(e);const n=ck(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";Ze(n.has(r)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(t,e,r=!1){const{auth:n}=t;if(Zt(n.app))return Promise.reject(Cn(n));const i="reauthenticate";try{const s=await Io(t,lk(n,i,e,t),r);Ze(s.idToken,n,"internal-error");const A=tv(s.idToken);Ze(A,n,"internal-error");const{sub:a}=A;return Ze(t.uid===a,n,"user-mismatch"),ys._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rn(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e,r=!1){if(Zt(t.app))return Promise.reject(Cn(t));const n="signIn",i=await lk(t,n,e),s=await ys._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function sv(t,e){return dk(Pr(t),e)}async function hk(t,e){const r=Nt(t);return await iv(!1,r,e.providerId),IC(r,e)}async function fk(t,e){return uk(Nt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KH(t,e){return Uo(t,"POST","/v1/accounts:signInWithCustomToken",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(t,e){if(Zt(t.app))return Promise.reject(Cn(t));const r=Pr(t),n=await KH(r,{token:e,returnSecureToken:!0}),i=await ys._fromIdTokenResponse(r,"signIn",n);return await r._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,r){this.factorId=e,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}static _fromServerResponse(e,r){return"phoneInfo"in r?SC._fromServerResponse(e,r):"totpInfo"in r?FC._fromServerResponse(e,r):Rn(e,"internal-error")}}class SC extends Ap{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,r){return new SC(r)}}class FC extends Ap{constructor(e){super("totp",e)}static _fromServerResponse(e,r){return new FC(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t,e,r){var n;Ze(((n=r.url)===null||n===void 0?void 0:n.length)>0,t,"invalid-continue-uri"),Ze(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Ze(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(Ze(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(t){const e=Pr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WH(t,e,r){const n=Pr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&Av(n,i,r),await Uf(n,i,"getOobCode",IH)}async function GH(t,e,r){await ok(Nt(t),{oobCode:e,newPassword:r}).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&TC(t),n})}async function qH(t,e){await xH(Nt(t),{oobCode:e})}async function pk(t,e){const r=Nt(t),n=await ok(r,{oobCode:e}),i=n.requestType;switch(Ze(i,r,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ze(n.newEmail,r,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ze(n.mfaInfo,r,"internal-error");default:Ze(n.email,r,"internal-error")}let s=null;return n.mfaInfo&&(s=Ap._fromServerResponse(Pr(r),n.mfaInfo)),{data:{email:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.newEmail:n.email)||null,previousEmail:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.email:n.newEmail)||null,multiFactorInfo:s},operation:i}}async function $H(t,e){const{data:r}=await pk(Nt(t),e);return r.email}async function JH(t,e,r){if(Zt(t.app))return Promise.reject(Cn(t));const n=Pr(t),A=await Uf(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ak).catch(o=>{throw o.code==="auth/password-does-not-meet-requirements"&&TC(t),o}),a=await ys._fromIdTokenResponse(n,"signIn",A);return await n._updateCurrentUser(a.user),a}function XH(t,e,r){return Zt(t.app)?Promise.reject(Cn(t)):sv(Nt(t),sl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&TC(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YH(t,e,r){const n=Pr(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(A,a){Ze(a.handleCodeInApp,n,"argument-error"),a&&Av(n,A,a)}s(i,r),await Uf(n,i,"getOobCode",SH)}function ZH(t,e){const r=nv.parseLink(e);return(r==null?void 0:r.operation)==="EMAIL_SIGNIN"}async function e7(t,e,r){if(Zt(t.app))return Promise.reject(Cn(t));const n=Nt(t),i=sl.credentialWithLink(e,r||Tf());return Ze(i._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),sv(n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(t,e){return Dr(t,"POST","/v1/accounts:createAuthUri",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7(t,e){const r=xC()?Tf():"http://localhost",n={identifier:e,continueUri:r},{signinMethods:i}=await t7(Nt(t),n);return i||[]}async function n7(t,e){const r=Nt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Av(r.auth,i,e);const{email:s}=await _H(r.auth,i);s!==t.email&&await t.reload()}async function i7(t,e,r){const n=Nt(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};r&&Av(n.auth,s,r);const{email:A}=await FH(n.auth,s);A!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7(t,e){return Dr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A7(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Nt(t),s={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},A=await Io(n,s7(n.auth,s));n.displayName=A.displayName||null,n.photoURL=A.photoUrl||null;const a=n.providerData.find(({providerId:o})=>o==="password");a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(A)}function o7(t,e){const r=Nt(t);return Zt(r.auth.app)?Promise.reject(Cn(r.auth)):gk(r,e,null)}function a7(t,e){return gk(Nt(t),null,e)}async function gk(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),r&&(s.password=r);const A=await Io(t,CH(n,s));await t._updateTokensIfNecessary(A,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t){var e,r;if(!t)return null;const{providerId:n}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!n&&(t!=null&&t.idToken)){const A=(r=(e=tv(t.idToken))===null||e===void 0?void 0:e.firebase)===null||r===void 0?void 0:r.sign_in_provider;if(A){const a=A!=="anonymous"&&A!=="custom"?A:null;return new Ou(s,a)}}if(!n)return null;switch(n){case"facebook.com":return new c7(s,i);case"github.com":return new u7(s,i);case"google.com":return new d7(s,i);case"twitter.com":return new h7(s,i,t.screenName||null);case"custom":case"anonymous":return new Ou(s,null);default:return new Ou(s,n,i)}}class Ou{constructor(e,r,n={}){this.isNewUser=e,this.providerId=r,this.profile=n}}class mk extends Ou{constructor(e,r,n,i){super(e,r,n),this.username=i}}class c7 extends Ou{constructor(e,r){super(e,"facebook.com",r)}}class u7 extends mk{constructor(e,r){super(e,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)}}class d7 extends Ou{constructor(e,r){super(e,"google.com",r)}}class h7 extends mk{constructor(e,r,n){super(e,"twitter.com",r,n)}}function f7(t){const{user:e,_tokenResponse:r}=t;return e.isAnonymous&&!r?{providerId:null,isNewUser:!1,profile:null}:l7(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,r,n){this.type=e,this.credential=r,this.user=n}static _fromIdtoken(e,r){return new jl("enroll",e,r)}static _fromMfaPendingCredential(e){return new jl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var r,n;if(e!=null&&e.multiFactorSession){if(!((r=e.multiFactorSession)===null||r===void 0)&&r.pendingCredential)return jl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((n=e.multiFactorSession)===null||n===void 0)&&n.idToken)return jl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,r,n){this.session=e,this.hints=r,this.signInResolver=n}static _fromError(e,r){const n=Pr(e),i=r.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Ap._fromServerResponse(n,a));Ze(i.mfaPendingCredential,n,"internal-error");const A=jl._fromMfaPendingCredential(i.mfaPendingCredential);return new kC(A,s,async a=>{const o=await a._process(n,A);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:o.idToken,refreshToken:o.refreshToken});switch(r.operationType){case"signIn":const c=await ys._fromIdTokenResponse(n,r.operationType,l);return await n._updateCurrentUser(c.user),c;case"reauthenticate":return Ze(r.user,n,"internal-error"),ys._forOperation(r.user,r.operationType,l);default:Rn(n,"internal-error")}})}async resolveSignIn(e){const r=e;return this.signInResolver(r)}}function p7(t,e){var r;const n=Nt(t),i=e;return Ze(e.customData.operationType,n,"argument-error"),Ze((r=i.customData._serverResponse)===null||r===void 0?void 0:r.mfaPendingCredential,n,"argument-error"),kC._fromError(n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t,e){return Dr(t,"POST","/v2/accounts/mfaEnrollment:start",Rr(t,e))}function m7(t,e){return Dr(t,"POST","/v2/accounts/mfaEnrollment:finalize",Rr(t,e))}function v7(t,e){return Dr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Rr(t,e))}class UC{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(r=>{r.mfaInfo&&(this.enrolledFactors=r.mfaInfo.map(n=>Ap._fromServerResponse(e.auth,n)))})}static _fromUser(e){return new UC(e)}async getSession(){return jl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,r){const n=e,i=await this.getSession(),s=await Io(this.user,n._process(this.user.auth,i,r));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const r=typeof e=="string"?e:e.uid,n=await this.user.getIdToken();try{const i=await Io(this.user,v7(this.user.auth,{idToken:n,mfaEnrollmentId:r}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==r),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Lw=new WeakMap;function w7(t){const e=Nt(t);return Lw.has(e)||Lw.set(e,UC._fromUser(e)),Lw.get(e)}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=1e3,B7=10;class wk extends vk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((A,a,o)=>{this.notifyListeners(A,o)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const A=this.storage.getItem(n);!r&&this.localCache[n]===A||this.notifyListeners(n,A)},s=this.storage.getItem(n);sH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,B7):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},y7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}wk.type="LOCAL";const NC=wk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk extends vk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}yk.type="SESSION";const uc=yk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new ov(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,A=this.handlersMap[i];if(!(A!=null&&A.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(A).map(async l=>l(r.origin,s)),o=await C7(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ov.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,A;return new Promise((a,o)=>{const l=op("",20);i.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);A={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"));break}}},this.handlers.add(A),i.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return window}function x7(t){rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}async function E7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I7(){return QC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="firebaseLocalStorageDb",S7=1,sm="firebaseLocalStorage",Ck="fbase_key";class ap{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function av(t,e){return t.transaction([sm],e?"readwrite":"readonly").objectStore(sm)}function F7(){const t=indexedDB.deleteDatabase(Bk);return new ap(t).toPromise()}function jy(){const t=indexedDB.open(Bk,S7);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(sm,{keyPath:Ck})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(sm)?e(n):(n.close(),await F7(),e(await jy()))})})}async function fE(t,e,r){const n=av(t,!0).put({[Ck]:e,value:r});return new ap(n).toPromise()}async function T7(t,e){const r=av(t,!1).get(e),n=await new ap(r).toPromise();return n===void 0?null:n.value}function pE(t,e){const r=av(t,!0).delete(e);return new ap(r).toPromise()}const k7=800,U7=3;class bk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jy(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>U7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ov._getInstance(I7()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await E7(),!this.activeServiceWorker)return;this.sender=new b7(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jy();return await fE(e,im,"1"),await pE(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>T7(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>pE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=av(i,!1).getAll();return new ap(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bk.type="LOCAL";const Qf=bk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t,e){return Dr(t,"POST","/v2/accounts/mfaSignIn:start",Rr(t,e))}function Q7(t,e){return Dr(t,"POST","/v2/accounts/mfaSignIn:finalize",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=500,P7=6e4,ig=1e12;class R7{constructor(e){this.auth=e,this.counter=ig,this._widgets=new Map}render(e,r){const n=this.counter;return this._widgets.set(n,new D7(e,this.auth.name,r||{})),this.counter++,n}reset(e){var r;const n=e||ig;(r=this._widgets.get(n))===null||r===void 0||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||ig;return((r=this._widgets.get(n))===null||r===void 0?void 0:r.getResponse())||""}async execute(e){var r;const n=e||ig;return(r=this._widgets.get(n))===null||r===void 0||r.execute(),""}}class D7{constructor(e,r,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Ze(i,"argument-error",{appName:r}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=O7(50);const{callback:e,"expired-callback":r}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,r)try{r()}catch{}this.isVisible&&this.execute()},P7)},L7))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function O7(t){const e=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<t;n++)e.push(r.charAt(Math.floor(Math.random()*r.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=sk("rcb"),M7=new rp(3e4,6e4);class j7{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=rn().grecaptcha)===null||e===void 0)&&e.render)}load(e,r=""){return Ze(H7(r),e,"argument-error"),this.shouldResolveImmediately(r)&&sE(rn().grecaptcha)?Promise.resolve(rn().grecaptcha):new Promise((n,i)=>{const s=rn().setTimeout(()=>{i(fn(e,"network-request-failed"))},M7.get());rn()[Pw]=()=>{rn().clearTimeout(s),delete rn()[Pw];const a=rn().grecaptcha;if(!a||!sE(a)){i(fn(e,"internal-error"));return}const o=a.render;a.render=(l,c)=>{const d=o(l,c);return this.counter++,d},this.hostLanguage=r,n(a)};const A=`${dH()}?${Ws({onload:Pw,render:"explicit",hl:r})}`;_C(A).catch(()=>{clearTimeout(s),i(fn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var r;return!!(!((r=rn().grecaptcha)===null||r===void 0)&&r.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function H7(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class V7{async load(e){return new R7(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="recaptcha",K7={theme:"light",type:"image"};let z7=class{constructor(e,r,n=Object.assign({},K7)){this.parameters=n,this.type=xk,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pr(e),this.isInvisible=this.parameters.size==="invisible",Ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof r=="string"?document.getElementById(r):r;Ze(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new V7:new j7,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),r=this.getAssertedRecaptcha(),n=r.getResponse(e);return n||new Promise(i=>{const s=A=>{A&&(this.tokenChangeListeners.delete(s),i(A))};this.tokenChangeListeners.add(s),this.isInvisible&&r.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ze(!this.parameters.sitekey,this.auth,"argument-error"),Ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return r=>{if(this.tokenChangeListeners.forEach(n=>n(r)),typeof e=="function")e(r);else if(typeof e=="string"){const n=rn()[e];typeof n=="function"&&n(r)}}}assertNotDestroyed(){Ze(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const r=document.createElement("div");e.appendChild(r),e=r}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ze(xC()&&!QC(),this.auth,"internal-error"),await W7(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await W8(this.auth);Ze(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function W7(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,r){this.verificationId=e,this.onConfirmation=r}confirm(e){const r=Jl._fromVerification(this.verificationId,e);return this.onConfirmation(r)}}async function G7(t,e,r){if(Zt(t.app))return Promise.reject(Cn(t));const n=Pr(t),i=await lv(n,e,Nt(r));return new LC(i,s=>sv(n,s))}async function q7(t,e,r){const n=Nt(t);await iv(!1,n,"phone");const i=await lv(n.auth,e,Nt(r));return new LC(i,s=>hk(n,s))}async function $7(t,e,r){const n=Nt(t);if(Zt(n.auth.app))return Promise.reject(Cn(n.auth));const i=await lv(n.auth,e,Nt(r));return new LC(i,s=>fk(n,s))}async function lv(t,e,r){var n;const i=await r.verify();try{Ze(typeof i=="string",t,"argument-error"),Ze(r.type===xk,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const A=s.session;if("phoneNumber"in s)return Ze(A.type==="enroll",t,"internal-error"),(await g7(t,{idToken:A.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{Ze(A.type==="signin",t,"internal-error");const a=((n=s.multiFactorHint)===null||n===void 0?void 0:n.uid)||s.multiFactorUid;return Ze(a,t,"missing-multi-factor-info"),(await N7(t,{mfaPendingCredential:A.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:A}=await NH(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return A}}finally{r._reset()}}async function J7(t,e){const r=Nt(t);if(Zt(r.auth.app))return Promise.reject(Cn(r.auth));await IC(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=class n0{constructor(e){this.providerId=n0.PROVIDER_ID,this.auth=Pr(e)}verifyPhoneNumber(e,r){return lv(this.auth,e,Nt(r))}static credential(e,r){return Jl._fromVerification(e,r)}static credentialFromResult(e){const r=e;return n0.credentialFromTaggedObject(r)}static credentialFromError(e){return n0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:r,temporaryProof:n}=e;return r&&n?Jl._fromTokenResponse(r,n):null}};dc.PROVIDER_ID="phone";dc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t,e){return e?Vi(e):(Ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends Bd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,r){return go(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function X7(t){return dk(t.auth,new PC(t),t.bypassAuthState)}function Y7(t){const{auth:e,user:r}=t;return Ze(r,e,"internal-error"),uk(r,new PC(t),t.bypassAuthState)}async function Z7(t){const{auth:e,user:r}=t;return Ze(r,e,"internal-error"),IC(r,new PC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:A,type:a}=e;if(A){this.reject(A);return}const o={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X7;case"linkViaPopup":case"linkViaRedirect":return Z7;case"reauthViaPopup":case"reauthViaRedirect":return Y7;default:Rn(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new rp(2e3,1e4);async function tV(t,e,r){if(Zt(t.app))return Promise.reject(fn(t,"operation-not-supported-in-this-environment"));const n=Pr(t);yd(t,e,No);const i=yc(n,r);return new uo(n,"signInViaPopup",e,i).executeNotNull()}async function rV(t,e,r){const n=Nt(t);if(Zt(n.auth.app))return Promise.reject(fn(n.auth,"operation-not-supported-in-this-environment"));yd(n.auth,e,No);const i=yc(n.auth,r);return new uo(n.auth,"reauthViaPopup",e,i,n).executeNotNull()}async function nV(t,e,r){const n=Nt(t);yd(n.auth,e,No);const i=yc(n.auth,r);return new uo(n.auth,"linkViaPopup",e,i,n).executeNotNull()}class uo extends Ek{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eV.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="pendingRedirect",Hh=new Map;class sV extends Ek{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const n=await AV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AV(t,e){const r=Ik(e),n=_k(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}async function RC(t,e){return _k(t)._set(Ik(e),"true")}function oV(){Hh.clear()}function DC(t,e){Hh.set(t._key(),e)}function _k(t){return Vi(t._redirectPersistence)}function Ik(t){return $l(iV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e,r){return lV(t,e,r)}async function lV(t,e,r){if(Zt(t.app))return Promise.reject(Cn(t));const n=Pr(t);yd(t,e,No),await n._initializationPromise;const i=yc(n,r);return await RC(i,n),i._openRedirect(n,e,"signInViaRedirect")}function cV(t,e,r){return uV(t,e,r)}async function uV(t,e,r){const n=Nt(t);if(yd(n.auth,e,No),Zt(n.auth.app))return Promise.reject(Cn(n.auth));await n.auth._initializationPromise;const i=yc(n.auth,r);await RC(i,n.auth);const s=await Sk(n);return i._openRedirect(n.auth,e,"reauthViaRedirect",s)}function dV(t,e,r){return hV(t,e,r)}async function hV(t,e,r){const n=Nt(t);yd(n.auth,e,No),await n.auth._initializationPromise;const i=yc(n.auth,r);await iv(!1,n,e.providerId),await RC(i,n.auth);const s=await Sk(n);return i._openRedirect(n.auth,e,"linkViaRedirect",s)}async function fV(t,e){return await Pr(t)._initializationPromise,cv(t,e,!1)}async function cv(t,e,r=!1){if(Zt(t.app))return Promise.reject(Cn(t));const n=Pr(t),i=yc(n,e),A=await new sV(n,i,r).execute();return A&&!r&&(delete A.user._redirectEventId,await n._persistUserIfCurrent(A.user),await n._setRedirectUser(null,e)),A}async function Sk(t){const e=op(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=10*60*1e3;class Fk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gV(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!Tk(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(fn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pV&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(t,e={}){return Dr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vV=/^https?/;async function wV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kk(t);for(const r of e)try{if(yV(r))return}catch{}Rn(t,"unauthorized-domain")}function yV(t){const e=Tf(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&A.hostname===n}if(!vV.test(r))return!1;if(mV.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new rp(3e4,6e4);function mE(){const t=rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function CV(t){return new Promise((e,r)=>{var n,i,s;function A(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),r(fn(t,"network-request-failed"))},timeout:BV.get()})}if(!((i=(n=rn().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=rn().gapi)===null||s===void 0)&&s.load)A();else{const a=sk("iframefcb");return rn()[a]=()=>{gapi.load?A():r(fn(t,"network-request-failed"))},_C(`${fH()}?onload=${a}`).catch(o=>r(o))}}).catch(e=>{throw i0=null,e})}let i0=null;function bV(t){return i0=i0||CV(t),i0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new rp(5e3,15e3),EV="__/auth/iframe",_V="emulator/auth/iframe",IV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FV(t){const e=t.config;Ze(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?EC(e,_V):`https://${t.config.authDomain}/${EV}`,n={apiKey:e.apiKey,appName:t.name,v:Ji},i=SV.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Ws(n).slice(1)}`}async function TV(t){const e=await bV(t),r=rn().gapi;return Ze(r,t,"internal-error"),e.open({where:document.body,url:FV(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IV,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const A=fn(t,"network-request-failed"),a=rn().setTimeout(()=>{s(A)},xV.get());function o(){rn().clearTimeout(a),i(n)}n.ping(o).then(o,()=>{s(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UV=500,NV=600,QV="_blank",LV="http://localhost";class vE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PV(t,e,r,n=UV,i=NV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),A=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const o=Object.assign(Object.assign({},kV),{width:n.toString(),height:i.toString(),top:s,left:A}),l=Gt().toLowerCase();r&&(a=ZT(l)?QV:r),XT(l)&&(e=e||LV,o.scrollbars="yes");const c=Object.entries(o).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(iH(l)&&a!=="_self")return RV(e||"",a),new vE(null);const d=window.open(e||"",a,c);Ze(d,t,"popup-blocked");try{d.focus()}catch{}return new vE(d)}function RV(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="__/auth/handler",OV="emulator/auth/handler",MV=encodeURIComponent("fac");async function Hy(t,e,r,n,i,s){Ze(t.config.authDomain,t,"auth-domain-config-required"),Ze(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ji,eventId:i};if(e instanceof No){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",CS(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))A[c]=d}if(e instanceof Cd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(A.scopes=c.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const o=await t._getAppCheckToken(),l=o?`#${MV}=${encodeURIComponent(o)}`:"";return`${jV(t)}?${Ws(a).slice(1)}${l}`}function jV({config:t}){return t.emulator?EC(t,OV):`https://${t.authDomain}/${DV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="webStorageSupport";class HV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uc,this._completeRedirectFn=cv,this._overrideRedirectResult=DC}async _openPopup(e,r,n,i){var s;zs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const A=await Hy(e,r,n,Tf(),i);return PV(e,A,op())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await Hy(e,r,n,Tf(),i);return x7(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(zs(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await TV(e),n=new Fk(e);return r.register("authEvent",i=>(Ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Rw,{type:Rw},i=>{var s;const A=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Rw];A!==void 0&&r(!!A),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=wV(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return nk()||YT()||ip()}}const VV=HV;class KV{constructor(e){this.factorId=e}_process(e,r,n){switch(r.type){case"enroll":return this._finalizeEnroll(e,r.credential,n);case"signin":return this._finalizeSignIn(e,r.credential);default:return vA("unexpected MultiFactorSessionType")}}}class OC extends KV{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new OC(e)}_finalizeEnroll(e,r,n){return m7(e,{idToken:r,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,r){return Q7(e,{mfaPendingCredential:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Uk{constructor(){}static assertion(e){return OC._fromCredential(e)}}Uk.FACTOR_ID="phone";var wE="@firebase/auth",yE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GV(t){SA(new Ks("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=n.options;Ze(A&&!A.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ik(t)},l=new cH(n,i,s,o);return vH(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),SA(new Ks("auth-internal",e=>{const r=Pr(e.getProvider("auth").getImmediate());return(n=>new zV(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(wE,yE,WV(t)),Si(wE,yE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=5*60;_B("authIdTokenMaxAge");function $V(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uH({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=fn("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",$V().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GV("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=2e3;async function XV(t,e,r){var n;const{BuildInfo:i}=hc();zs(e.sessionId,"AuthEvent did not contain a session ID");const s=await r9(e.sessionId),A={};return ip()?A.ibi=i.packageName:np()?A.apn=i.packageName:Rn(t,"operation-not-supported-in-this-environment"),i.displayName&&(A.appDisplayName=i.displayName),A.sessionId=s,Hy(t,r,e.type,void 0,(n=e.eventId)!==null&&n!==void 0?n:void 0,A)}async function YV(t){const{BuildInfo:e}=hc(),r={};ip()?r.iosBundleId=e.packageName:np()?r.androidPackageName=e.packageName:Rn(t,"operation-not-supported-in-this-environment"),await kk(t,r)}function ZV(t){const{cordova:e}=hc();return new Promise(r=>{e.plugins.browsertab.isAvailable(n=>{let i=null;n?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,nH()?"_blank":"_system","location=yes"),r(i)})})}async function e9(t,e,r){const{cordova:n}=hc();let i=()=>{};try{await new Promise((s,A)=>{let a=null;function o(){var d;s();const p=(d=n.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof p=="function"&&p(),typeof(r==null?void 0:r.close)=="function"&&r.close()}function l(){a||(a=window.setTimeout(()=>{A(fn(t,"redirect-cancelled-by-user"))},JV))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(o),document.addEventListener("resume",l,!1),np()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(o),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function t9(t){var e,r,n,i,s,A,a,o,l,c;const d=hc();Ze(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ze(typeof((r=d==null?void 0:d.BuildInfo)===null||r===void 0?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ze(typeof((s=(i=(n=d==null?void 0:d.cordova)===null||n===void 0?void 0:n.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ze(typeof((o=(a=(A=d==null?void 0:d.cordova)===null||A===void 0?void 0:A.plugins)===null||a===void 0?void 0:a.browsertab)===null||o===void 0?void 0:o.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ze(typeof((c=(l=d==null?void 0:d.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function r9(t){const e=n9(t),r=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(r)).map(i=>i.toString(16).padStart(2,"0")).join("")}function n9(t){if(zs(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=20;class s9 extends Fk{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(r=>r(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function A9(t,e,r=null){return{type:e,eventId:r,urlResponse:null,sessionId:l9(),postBody:null,tenantId:t.tenantId,error:fn(t,"no-auth-event")}}function o9(t,e){return Vy()._set(Ky(t),e)}async function BE(t){const e=await Vy()._get(Ky(t));return e&&await Vy()._remove(Ky(t)),e}function a9(t,e){var r,n;const i=u9(e);if(i.includes("/__/auth/callback")){const s=s0(i),A=s.firebaseError?c9(decodeURIComponent(s.firebaseError)):null,a=(n=(r=A==null?void 0:A.code)===null||r===void 0?void 0:r.split("auth/"))===null||n===void 0?void 0:n[1],o=a?fn(a):null;return o?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function l9(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<i9;r++){const n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function Vy(){return Vi(NC)}function Ky(t){return $l("authEvent",t.config.apiKey,t.name)}function c9(t){try{return JSON.parse(t)}catch{return null}}function u9(t){const e=s0(t),r=e.link?decodeURIComponent(e.link):void 0,n=s0(r).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return s0(i).link||i||n||r||t}function s0(t){if(!(t!=null&&t.includes("?")))return{};const[e,...r]=t.split("?");return _u(r.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=500;class h9{constructor(){this._redirectPersistence=uc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cv,this._overrideRedirectResult=DC}async _initialize(e){const r=e._key();let n=this.eventManagers.get(r);return n||(n=new s9(e),this.eventManagers.set(r,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,r,n,i){t9(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),oV(),await this._originValidation(e);const A=A9(e,n,i);await o9(e,A);const a=await XV(e,A,r),o=await ZV(a);return e9(e,s,o)}_isIframeWebStorageSupported(e,r){throw new Error("Method not implemented.")}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=YV(e)),this.originValidationPromises[r]}attachCallbackListeners(e,r){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=hc(),A=setTimeout(async()=>{await BE(e),r.onEvent(CE())},d9),a=async c=>{clearTimeout(A);const d=await BE(e);let p=null;d&&(c!=null&&c.url)&&(p=a9(d,c.url)),r.onEvent(p||CE())};typeof n<"u"&&typeof n.subscribe=="function"&&n.subscribe(null,a);const o=i,l=`${s.packageName.toLowerCase()}://`;hc().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(l)&&a({url:c}),typeof o=="function")try{o(c)}catch(d){console.error(d)}}}}const f9=h9;function CE(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t,e){Pr(t)._logFramework(e)}var g9="@firebase/auth-compat",m9="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=1e3;function Vh(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function w9(){return Vh()==="http:"||Vh()==="https:"}function Nk(t=Gt()){return!!((Vh()==="file:"||Vh()==="ionic:"||Vh()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function y9(){return Om()||IB()}function B9(){return FB()&&(document==null?void 0:document.documentMode)===11}function C9(t=Gt()){return/Edge\/\d+/.test(t)}function b9(t=Gt()){return B9()||C9(t)}function Qk(){try{const t=self.localStorage,e=op();if(t)return t.setItem(e,"1"),t.removeItem(e),b9()?D0():!0}catch{return MC()&&D0()}return!1}function MC(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dw(){return(w9()||SB()||Nk())&&!y9()&&Qk()&&!MC()}function Lk(){return Nk()&&typeof document<"u"}async function x9(){return Lk()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},v9);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function E9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji={LOCAL:"local",NONE:"none",SESSION:"session"},Zd=Ze,Pk="persistence";function _9(t,e){if(Zd(Object.values(ji).includes(e),t,"invalid-persistence-type"),Om()){Zd(e!==ji.SESSION,t,"unsupported-persistence-type");return}if(IB()){Zd(e===ji.NONE,t,"unsupported-persistence-type");return}if(MC()){Zd(e===ji.NONE||e===ji.LOCAL&&D0(),t,"unsupported-persistence-type");return}Zd(e===ji.NONE||Qk(),t,"unsupported-persistence-type")}async function zy(t){await t._initializationPromise;const e=Rk(),r=$l(Pk,t.config.apiKey,t.name);e&&e.setItem(r,t._getPersistence())}function I9(t,e){const r=Rk();if(!r)return[];const n=$l(Pk,t,e);switch(r.getItem(n)){case ji.NONE:return[Ad];case ji.LOCAL:return[Qf,uc];case ji.SESSION:return[uc];default:return[]}}function Rk(){var t;try{return((t=E9())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=Ze;class _a{constructor(){this.browserResolver=Vi(VV),this.cordovaResolver=Vi(f9),this.underlyingResolver=null,this._redirectPersistence=uc,this._completeRedirectFn=cv,this._overrideRedirectResult=DC}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,r,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,r,n,i)}async _openRedirect(e,r,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,r,n,i)}_isIframeWebStorageSupported(e,r){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,r)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Lk()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return S9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await x9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){return t.unwrap()}function F9(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){return Ok(t)}function k9(t,e){var r;const n=(r=e.customData)===null||r===void 0?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new U9(t,p7(t,e))}else if(n){const i=Ok(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function Ok(t){const{_tokenResponse:e}=t instanceof Bn?t.customData:t;if(!e)return null;if(!(t instanceof Bn)&&"temporaryProof"in e&&"phoneNumber"in e)return dc.credentialFromResult(t);const r=e.providerId;if(!r||r===Yd.PASSWORD)return null;let n;switch(r){case Yd.GOOGLE:n=pA;break;case Yd.FACEBOOK:n=fA;break;case Yd.GITHUB:n=gA;break;case Yd.TWITTER:n=mA;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:A,pendingToken:a,nonce:o}=e;return!s&&!A&&!i&&!a?null:a?r.startsWith("saml.")?od._create(r,a):kA._fromParams({providerId:r,signInMethod:r,pendingToken:a,idToken:i,accessToken:s}):new Du(r).credential({idToken:i,accessToken:s,rawNonce:o})}return t instanceof Bn?n.credentialFromError(t):n.credentialFromResult(t)}function Bi(t,e){return e.catch(r=>{throw r instanceof Bn&&k9(t,r),r}).then(r=>{const n=r.operationType,i=r.user;return{operationType:n,credential:T9(r),additionalUserInfo:f7(r),user:ho.getOrCreate(i)}})}async function Wy(t,e){const r=await e;return{verificationId:r.verificationId,confirm:n=>Bi(t,r.confirm(n))}}class U9{constructor(e,r){this.resolver=r,this.auth=F9(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Bi(Dk(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._delegate=e,this.multiFactor=w7(e)}static getOrCreate(e){return ho.USER_MAP.has(e)||ho.USER_MAP.set(e,new ho(e)),ho.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Bi(this.auth,hk(this._delegate,e))}async linkWithPhoneNumber(e,r){return Wy(this.auth,q7(this._delegate,e,r))}async linkWithPopup(e){return Bi(this.auth,nV(this._delegate,e,_a))}async linkWithRedirect(e){return await zy(Pr(this.auth)),dV(this._delegate,e,_a)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Bi(this.auth,fk(this._delegate,e))}reauthenticateWithPhoneNumber(e,r){return Wy(this.auth,$7(this._delegate,e,r))}reauthenticateWithPopup(e){return Bi(this.auth,rV(this._delegate,e,_a))}async reauthenticateWithRedirect(e){return await zy(Pr(this.auth)),cV(this._delegate,e,_a)}sendEmailVerification(e){return n7(this._delegate,e)}async unlink(e){return await VH(this._delegate,e),this}updateEmail(e){return o7(this._delegate,e)}updatePassword(e){return a7(this._delegate,e)}updatePhoneNumber(e){return J7(this._delegate,e)}updateProfile(e){return A7(this._delegate,e)}verifyBeforeUpdateEmail(e,r){return i7(this._delegate,e,r)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ho.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=Ze;class Gy{constructor(e,r){if(this.app=e,r.isInitialized()){this._delegate=r.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:n}=e.options;eh(n,"invalid-api-key",{appName:e.name}),eh(n,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?_a:void 0;this._delegate=r.initialize({options:{persistence:N9(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(P8),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ho.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,r){wH(this._delegate,e,r)}applyActionCode(e){return qH(this._delegate,e)}checkActionCode(e){return pk(this._delegate,e)}confirmPasswordReset(e,r){return GH(this._delegate,e,r)}async createUserWithEmailAndPassword(e,r){return Bi(this._delegate,JH(this._delegate,e,r))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return r7(this._delegate,e)}isSignInWithEmailLink(e){return ZH(this._delegate,e)}async getRedirectResult(){eh(Dw(),this._delegate,"operation-not-supported-in-this-environment");const e=await fV(this._delegate,_a);return e?Bi(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){p9(this._delegate,e)}onAuthStateChanged(e,r,n){const{next:i,error:s,complete:A}=bE(e,r,n);return this._delegate.onAuthStateChanged(i,s,A)}onIdTokenChanged(e,r,n){const{next:i,error:s,complete:A}=bE(e,r,n);return this._delegate.onIdTokenChanged(i,s,A)}sendSignInLinkToEmail(e,r){return YH(this._delegate,e,r)}sendPasswordResetEmail(e,r){return WH(this._delegate,e,r||void 0)}async setPersistence(e){_9(this._delegate,e);let r;switch(e){case ji.SESSION:r=uc;break;case ji.LOCAL:r=await Vi(Qf)._isAvailable()?Qf:NC;break;case ji.NONE:r=Ad;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(r)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Bi(this._delegate,HH(this._delegate))}signInWithCredential(e){return Bi(this._delegate,sv(this._delegate,e))}signInWithCustomToken(e){return Bi(this._delegate,zH(this._delegate,e))}signInWithEmailAndPassword(e,r){return Bi(this._delegate,XH(this._delegate,e,r))}signInWithEmailLink(e,r){return Bi(this._delegate,e7(this._delegate,e,r))}signInWithPhoneNumber(e,r){return Wy(this._delegate,G7(this._delegate,e,r))}async signInWithPopup(e){return eh(Dw(),this._delegate,"operation-not-supported-in-this-environment"),Bi(this._delegate,tV(this._delegate,e,_a))}async signInWithRedirect(e){return eh(Dw(),this._delegate,"operation-not-supported-in-this-environment"),await zy(this._delegate),aV(this._delegate,e,_a)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return $H(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Gy.Persistence=ji;function bE(t,e,r){let n=t;typeof t!="function"&&({next:n,error:e,complete:r}=t);const i=n;return{next:A=>i(A&&ho.getOrCreate(A)),error:e,complete:r}}function N9(t,e){const r=I9(t,e);if(typeof self<"u"&&!r.includes(Qf)&&r.push(Qf),typeof window<"u")for(const n of[NC,uc])r.includes(n)||r.push(n);return r.includes(Ad)||r.push(Ad),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.providerId="phone",this._delegate=new dc(Dk(BC.auth()))}static credential(e,r){return dc.credential(e,r)}verifyPhoneNumber(e,r){return this._delegate.verifyPhoneNumber(e,r)}unwrap(){return this._delegate}}jC.PHONE_SIGN_IN_METHOD=dc.PHONE_SIGN_IN_METHOD;jC.PROVIDER_ID=dc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=Ze;class L9{constructor(e,r,n=BC.app()){var i;Q9((i=n.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new z7(n.auth(),e,r),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="auth-compat";function R9(t){t.INTERNAL.registerComponent(new Ks(P9,e=>{const r=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Gy(r,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qc.EMAIL_SIGNIN,PASSWORD_RESET:qc.PASSWORD_RESET,RECOVER_EMAIL:qc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:qc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:qc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:qc.VERIFY_EMAIL}},EmailAuthProvider:sl,FacebookAuthProvider:fA,GithubAuthProvider:gA,GoogleAuthProvider:pA,OAuthProvider:Du,SAMLAuthProvider:rm,PhoneAuthProvider:jC,PhoneMultiFactorGenerator:Uk,RecaptchaVerifier:L9,TwitterAuthProvider:mA,Auth:Gy,AuthCredential:Bd,Error:Bn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(g9,m9)}R9(BC);const Mk=le.createContext(void 0),D9="admin@gymnasium22.com",O9="teacher@gymnasium22.com",M9=({children:t})=>{const[e,r]=le.useState(null),[n,i]=le.useState(null),[s,A]=le.useState(!0);le.useEffect(()=>{const l=t0.onAuthStateChanged(c=>{r(c),c?c.email===D9?i("admin"):c.email===O9?i("teacher"):(i(null),t0.signOut()):i(null),A(!1)});return()=>l()},[]);const a=async()=>{await t0.signOut(),i(null)},o=()=>{i("guest"),A(!1)};return f.jsx(Mk.Provider,{value:{user:e,role:n,loading:s,logout:a,setGuestRole:o},children:t})},uv=()=>{const t=le.useContext(Mk);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},jk=le.createContext(void 0),Hk=({children:t,initialData:e})=>{const{role:r}=uv(),n=r!=="admin",[i,s]=le.useState(Tn),[A,a]=le.useState(!0),[o,l]=le.useState([]),[c,d]=le.useState(-1);le.useEffect(()=>{if(e)s(e),l([e]),d(0),a(!1);else{a(!0);const w=Ul(Nl,"schoolData","main"),B=xM(w,C=>{if(C.exists()){const L=C.data(),D={...Tn,...L};D.teachers||(D.teachers=[]),D.teachers=D.teachers.map(M=>({shifts:[nt.First,nt.Second],telegramChatId:"",...M})),D.schedule||(D.schedule=[]),D.substitutions||(D.substitutions=[]),D.bellSchedule||(D.bellSchedule=jT),D.settings?D.settings={...Tn.settings,...D.settings}:D.settings=Tn.settings,s(D),l(M=>{const S=M[M.length-1];return!S||JSON.stringify(S)!==JSON.stringify(D)?[...M,D].slice(-50):M}),d(M=>M<0?0:M+1)}else s(Tn),l([Tn]),d(0);a(!1)},C=>{console.error("Firebase sync error:",C),a(!1)});return()=>B()}},[e]);const p=le.useCallback(async(w,B=!0)=>{if(n){console.warn("Attempted to save in Read-Only mode");return}const C={...i,...w};await ql.save(C)},[i,n]),g=le.useCallback(async()=>{if(!n&&c>0){const w=o[c-1];await ql.save(w)}},[o,c,n]),v=le.useCallback(async()=>{if(!n&&c<o.length-1){const w=o[c+1];await ql.save(w)}},[o,c,n]),x=le.useCallback(async()=>{await p(Tn)},[p]),T=le.useMemo(()=>({data:i,isLoading:A,saveData:p,resetData:x,undo:g,redo:v,canUndo:!n&&c>0,canRedo:!n&&c<o.length-1,isReadOnly:n}),[i,A,p,x,g,v,c,n]);return f.jsx(jk.Provider,{value:T,children:t})},lp=()=>{const t=le.useContext(jk);if(!t)throw new Error("useFullData must be used within DataProvider");return t},Vk=le.createContext(void 0),Kk=le.createContext(void 0),zk=({children:t})=>{const{data:e,saveData:r}=lp(),n=le.useMemo(()=>({subjects:e.subjects,teachers:e.teachers,classes:e.classes,rooms:e.rooms,bellSchedule:e.bellSchedule,settings:e.settings}),[e.subjects,e.teachers,e.classes,e.rooms,e.bellSchedule,e.settings]),i=le.useCallback(async(A,a)=>{await r(A,a)},[r]),s=le.useMemo(()=>({...n,saveStaticData:i}),[n,i]);return f.jsx(Vk.Provider,{value:s,children:t})},Wk=({children:t})=>{const{data:e,saveData:r}=lp(),n=le.useMemo(()=>({schedule:e.schedule,substitutions:e.substitutions}),[e.schedule,e.substitutions]),i=le.useCallback(async(A,a)=>{await r(A,a)},[r]),s=le.useMemo(()=>({...n,saveScheduleData:i}),[n,i]);return f.jsx(Kk.Provider,{value:s,children:t})},Al=()=>{const t=le.useContext(Vk);if(!t)throw new Error("useStaticData must be used within StaticDataProvider");const e=lp();return{...t,isLoading:e.isLoading,undo:e.undo,redo:e.redo,canUndo:e.canUndo,canRedo:e.canRedo,resetData:e.resetData,isReadOnly:e.isReadOnly}},bd=()=>{const t=le.useContext(Kk);if(!t)throw new Error("useScheduleData must be used within ScheduleDataProvider");const e=lp();return{...t,isLoading:e.isLoading,undo:e.undo,redo:e.redo,canUndo:e.canUndo,canRedo:e.canRedo,resetData:e.resetData,isReadOnly:e.isReadOnly}},j9=lp,H9={Home:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Calendar:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Repeat:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"17 1 21 5 17 9"}),f.jsx("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),f.jsx("polyline",{points:"7 23 3 19 7 15"}),f.jsx("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]}),BookOpen:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),f.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Settings:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"3"}),f.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),BarChart2:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),f.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),f.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),Download:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"7 10 12 15 17 10"}),f.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Menu:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),f.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),X:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Plus:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Trash2:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"3 6 5 6 21 6"}),f.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Edit2:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),Users:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),GraduationCap:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),f.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]}),Clock:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]}),CheckCircle:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),Sun:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"5"}),f.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),f.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),f.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),f.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),f.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),f.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),f.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),f.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Moon:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Search:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Filter:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),RotateCcw:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"1 4 1 10 7 10"}),f.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),RotateCw:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"23 4 23 10 17 10"}),f.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),Printer:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),Loader:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),Share2:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"18",cy:"5",r:"3"}),f.jsx("circle",{cx:"6",cy:"12",r:"3"}),f.jsx("circle",{cx:"18",cy:"19",r:"3"}),f.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),f.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),AlertTriangle:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),f.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),f.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),Copy:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),Clipboard:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]}),PieChart:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),f.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),List:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),f.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),f.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),f.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),f.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),Gift:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"20 12 20 22 4 22 4 12"}),f.jsx("rect",{x:"2",y:"7",width:"20",height:"5"}),f.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"7"}),f.jsx("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),f.jsx("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"})]}),Save:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),f.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),f.jsx("polyline",{points:"7 3 7 8 15 8"})]}),FileSpreadsheet:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("path",{d:"M8 13h2"}),f.jsx("path",{d:"M8 17h2"}),f.jsx("path",{d:"M14 13h2"}),f.jsx("path",{d:"M14 17h2"})]}),Activity:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),TrendingUp:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),f.jsx("polyline",{points:"17 6 23 6 23 12"})]}),Table:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-7z"}),f.jsx("path",{d:"M3 9h18"}),f.jsx("path",{d:"M12 21V9"})]}),Image:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),f.jsx("circle",{cx:"9",cy:"9",r:"2"}),f.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),Upload:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),History:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 3v5h5"}),f.jsx("path",{d:"M3.05 13A9 9 0 1 0 6 5.3L3 8"}),f.jsx("path",{d:"M12 7v5l4 2"})]}),UserX:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),f.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]}),ArrowRight:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),f.jsx("polyline",{points:"12 5 19 12 12 19"})]}),Star:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),GripVertical:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"9",cy:"12",r:"1"}),f.jsx("circle",{cx:"9",cy:"5",r:"1"}),f.jsx("circle",{cx:"9",cy:"19",r:"1"}),f.jsx("circle",{cx:"15",cy:"12",r:"1"}),f.jsx("circle",{cx:"15",cy:"5",r:"1"}),f.jsx("circle",{cx:"15",cy:"19",r:"1"})]}),DoorOpen:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M13 4h3a2 2 0 0 1 2 2v14"}),f.jsx("path",{d:"M2 20h3"}),f.jsx("path",{d:"M13 20h9"}),f.jsx("path",{d:"M10 20v-6a2 2 0 0 1 2-2h1v1"}),f.jsx("path",{d:"M13 12h1"}),f.jsx("path",{d:"M5 20v-6a2 2 0 0 1 2-2h1v1"}),f.jsx("path",{d:"M8 12h1"}),f.jsx("path",{d:"M4 20v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v8"})]}),Bell:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),f.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),Briefcase:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),f.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),User:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),CheckSquare:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"9 11 12 14 22 4"}),f.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),QrCode:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),f.jsx("path",{d:"M17 17h.01"}),f.jsx("path",{d:"M12 17h.01"}),f.jsx("path",{d:"M14 14h.01"}),f.jsx("path",{d:"M17 14h.01"}),f.jsx("path",{d:"M14 12h.01"}),f.jsx("path",{d:"M19 12h.01"}),f.jsx("path",{d:"M12 19h.01"}),f.jsx("path",{d:"M19 19h.01"})]}),Eraser:t=>f.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M22 21h-4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2zm-4-4L6 4m0 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8"})}),Columns:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 3h8a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),f.jsx("path",{d:"M2 3h8a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"})]}),Rows:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 12H3"}),f.jsx("path",{d:"M21 6H3"}),f.jsx("path",{d:"M21 18H3"})]}),Send:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),f.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),Eye:t=>f.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})},Ve=({name:t,size:e=24,className:r="",...n})=>{const i=H9[t];return i?f.jsx(i,{width:e,height:e,className:r,...n}):(console.warn(`Icon '${t}' not found.`),null)},Mu=({isOpen:t,onClose:e,title:r,children:n,maxWidth:i="max-w-lg"})=>t?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4 animate-fade-in no-print",children:f.jsxs("div",{className:`bg-white dark:bg-dark-800 rounded-2xl shadow-2xl w-full ${i} flex flex-col max-h-[90vh] transition-colors duration-300`,children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100 dark:border-slate-700",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white tracking-tight",children:r}),f.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(Ve,{name:"X",size:24})})]}),f.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:n})]})}):null,V9=({x:t,y:e,onClose:r,actions:n})=>{if(le.useEffect(()=>{const s=()=>r();return window.addEventListener("click",s),()=>window.removeEventListener("click",s)},[r]),t===null||e===null)return null;const i={top:e,left:t};return window.innerWidth-t<200&&(i.left=t-200),f.jsx("div",{className:"fixed z-[100] bg-white dark:bg-slate-800 shadow-xl rounded-xl border border-slate-100 dark:border-slate-700 py-2 w-56 context-menu no-print",style:i,children:n.map((s,A)=>f.jsxs("button",{onClick:a=>{a.stopPropagation(),s.onClick(),r()},className:`w-full text-left px-4 py-2.5 text-sm font-bold flex items-center gap-3 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${s.color||"text-slate-700 dark:text-slate-200"}`,children:[s.icon&&f.jsx(Ve,{name:s.icon,size:16}),s.label]},A))})},K9=()=>{const{bellSchedule:t}=Al(),[e,r]=le.useState("..."),[n,i]=le.useState(""),[s,A]=le.useState(0),[a,o]=le.useState("bg-slate-500"),[l,c]=le.useState("");return le.useEffect(()=>{const d=()=>{const g=new Date,v=g.getDay(),T=[null,ds.Monday,ds.Tuesday,ds.Wednesday,ds.Thursday,ds.Friday,null][v];if(c(T||""),!T){r(" "),i(" "),o("bg-slate-400"),A(0);return}const w=g.getHours()*60+g.getMinutes();let B=t.filter(D=>D.day===T);B.length===0&&(B=t.filter(D=>D.day==="default"));let C=null;const L=D=>{const[M,S]=D.split(":").map(Number);return M*60+S};for(const D of B){const M=L(D.start),S=L(D.end);if(w>=M&&w<S){C={...D,duration:S-M,passed:w-M};break}}if(C)r(`${C.period} `),i(`${C.shift===nt.First?"1 ":"2 "}  . ${C.duration-C.passed} `),A(C.passed/C.duration*100),o("bg-indigo-600");else{let D=1/0,M=null;for(const S of B){const E=L(S.start);E>w&&E-w<D&&(D=E-w,M=S)}M&&D<30?(r(""),i(` ${D}  ${M.period} `),o("bg-amber-500"),A(100-D/20*100)):(r(" "),i(" "),o("bg-slate-400"),A(0))}};d();const p=setInterval(d,6e4);return()=>clearInterval(p)},[t]),f.jsxs("div",{className:"mx-4 mt-auto mb-4 p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 flex flex-col gap-3 relative overflow-hidden group",children:[f.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${a}`}),f.jsxs("div",{className:"flex justify-between items-start z-10",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider mb-0.5",children:l}),f.jsx("div",{className:"text-lg font-black text-slate-800 dark:text-white leading-none mb-1",children:e}),f.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:n})]}),f.jsx("div",{className:`w-8 h-8 rounded-full ${a} bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center text-${a.replace("bg-","")}`,children:f.jsx(Ve,{name:"Clock",size:16,className:a.replace("bg-","text-")})})]}),s>0&&f.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden mt-1",children:f.jsx("div",{className:`h-full ${a} transition-all duration-1000`,style:{width:`${s}%`}})})]})},sg=({children:t,className:e=""})=>{const r=Pl.Children.toArray(t);return f.jsx("div",{className:e,children:r.map((n,i)=>f.jsx("div",{style:{animation:`fadeIn 0.3s ease-out forwards ${i*.05}s`,opacity:0},children:n},i))})},Ow=({items:t,max:e,barClassName:r="bg-indigo-500"})=>f.jsx("div",{className:"space-y-3",children:t.map((n,i)=>f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("div",{className:"w-32 truncate font-medium text-slate-700 dark:text-slate-300",title:n.label,children:n.label}),f.jsx("div",{className:"flex-1 h-4 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${r} transition-all duration-500`,style:{width:`${n.value/e*100}%`}})}),f.jsx("div",{className:"w-12 text-right font-bold text-slate-800 dark:text-slate-200",children:n.value})]},i))}),z9=()=>{const{subjects:t,teachers:e,classes:r,rooms:n,bellSchedule:i,settings:s}=Al(),{schedule:A,substitutions:a}=bd(),o=hd(),[l,c]=le.useState(localStorage.getItem("gym_notes")||""),[d]=le.useState(new Date),[p,g]=le.useState(""),[v,x]=le.useState(null),[T,w]=le.useState(!1),[B,C]=le.useState(""),[L,D]=le.useState(!1),[M,S]=le.useState(""),[E,k]=le.useState(!1);le.useEffect(()=>{if(localStorage.setItem("gym_notes",l),l){C("");const P=setTimeout(()=>C(""),2e3);return()=>clearTimeout(P)}},[l]);const O=P=>new Date(P.getTime()-P.getTimezoneOffset()*6e4).toISOString().split("T")[0],_=le.useMemo(()=>O(d),[d]),F=le.useMemo(()=>{const P=d.getDay();return P===0||P===6?null:yi[P-1]},[d]),U=le.useMemo(()=>{const P=new Date;return P.setHours(0,0,0,0),e.filter(G=>G.birthDate).map(G=>{const ne=new Date(G.birthDate);let N=new Date(P.getFullYear(),ne.getMonth(),ne.getDate());N<P&&N.setFullYear(P.getFullYear()+1);const j=Math.ceil((N.getTime()-P.getTime())/(1e3*60*60*24));return{...G,diff:j,age:P.getFullYear()-ne.getFullYear()}}).filter(G=>G.diff<=30).sort((G,ne)=>G.diff-ne.diff)},[e]),Y=le.useMemo(()=>{const P=e.length,G=e.filter(W=>W.unavailableDates.includes(_)),ne=G.length,N=P-ne;return{presentPercent:P>0?Math.round(N/P*100):0,absentCount:ne,totalTeachers:P,absentTeachersList:G}},[e,_]),ue=le.useMemo(()=>{const P=new Date(d);for(P.setDate(d.getDate()+1);P.getDay()===0||P.getDay()===6;)P.setDate(P.getDate()+1);const ne=[null,"","","","","",null][P.getDay()];if(!ne)return[];const N=[];return r.forEach(j=>{const W=A.filter(ee=>ee.classId===j.id&&ee.day===ne);W.length===0?N.push({class:j.name,issue:`   ${ne}`}):W.length<4&&N.push({class:j.name,issue:`  (${W.length})`}),W.forEach(ee=>{if(A.some(oe=>oe.id!==ee.id&&oe.day===ne&&oe.period===ee.period&&oe.shift===ee.shift&&oe.teacherId===ee.teacherId)&&N.push({class:j.name,issue:`  (${ee.period} )`}),ee.roomId){const oe=n.find(ge=>ge.id===ee.roomId);oe&&oe.capacity<j.studentsCount&&N.push({class:j.name,issue:`: ${oe.name} (${ee.period} )`})}})}),N.filter((j,W,ee)=>ee.findIndex(re=>re.class===j.class&&re.issue===j.issue)===W).slice(0,10)},[A,r,e,n,d]),te=le.useMemo(()=>{if(!F)return 0;let P=0;const G=A.filter(ne=>ne.day===F);for(const ne of G){const N=e.find(j=>j.id===ne.teacherId);if(N&&N.unavailableDates.includes(_)){const j=a.find(W=>W.scheduleItemId===ne.id&&W.date===_);(!j||j.replacementTeacherId==="cancelled"||j.replacementTeacherId==="conducted")&&P++}}return P},[A,e,a,_,F]),K=()=>{var ye;if(!p){x(null);return}const P=new Date,ne=[null,ds.Monday,ds.Tuesday,ds.Wednesday,ds.Thursday,ds.Friday,null][P.getDay()];if(!ne){x({status:"",detail:"  ",color:"text-slate-500"});return}const N=Fe=>{const[ke,Oe]=Fe.split(":").map(Number);return ke*60+Oe},j=P.getHours()*60+P.getMinutes();let W=i.filter(Fe=>Fe.day===ne);W.length===0&&(W=i.filter(Fe=>Fe.day==="default"));const ee=W.find(Fe=>{const ke=N(Fe.start),Oe=N(Fe.end);return j>=ke&&j<=Oe}),re=p.toLowerCase(),oe=e.find(Fe=>Fe.name.toLowerCase().includes(re)),ge=r.find(Fe=>Fe.name.toLowerCase().includes(re));if(!oe&&!ge){x({status:" ",detail:" ",color:"text-red-500"});return}if(oe){if(oe.unavailableDates.includes(_)){x({status:"",detail:((ye=oe.absenceReasons)==null?void 0:ye[_])||"/",color:"text-red-500",icon:"UserX",items:[]});return}if(!ee){x({status:" /  ",detail:" ",color:"text-amber-500",icon:"Clock",items:[]});return}const Fe=A.filter(Ne=>Ne.teacherId===oe.id&&Ne.day===ne&&Ne.period===ee.period),ke=a.filter(Ne=>Ne.date===_&&Ne.replacementTeacherId===oe.id).map(Ne=>A.find(je=>je.id===Ne.scheduleItemId)).filter(Ne=>!!Ne&&Ne.day===ne&&Ne.period===ee.period);let Oe=[];Fe.forEach(Ne=>{var xe,Ae,mt;const je=a.find(ae=>ae.date===_&&ae.scheduleItemId===Ne.id);if(!je||je.replacementTeacherId===oe.id){const ae=((xe=n.find(be=>be.id===((je==null?void 0:je.replacementRoomId)||Ne.roomId)))==null?void 0:xe.name)||(je==null?void 0:je.replacementRoomId)||Ne.roomId||" .",pe=(Ae=t.find(be=>be.id===Ne.subjectId))==null?void 0:Ae.name,Ce=(mt=r.find(be=>be.id===Ne.classId))==null?void 0:mt.name;Oe.push({room:ae,subject:pe,entityName:Ce,direction:Ne.direction,isSubstitution:!!(je&&je.replacementTeacherId===oe.id),originalTeacherName:null})}}),ke.forEach(Ne=>{var pe,Ce,be;const je=a.find(Se=>Se.date===_&&Se.scheduleItemId===Ne.id&&Se.replacementTeacherId===oe.id);if(!je)return;const xe=((pe=n.find(Se=>Se.id===(je.replacementRoomId||Ne.roomId)))==null?void 0:pe.name)||je.replacementRoomId||Ne.roomId||" .",Ae=(Ce=t.find(Se=>Se.id===Ne.subjectId))==null?void 0:Ce.name,mt=(be=r.find(Se=>Se.id===Ne.classId))==null?void 0:be.name,ae=e.find(Se=>Se.id===je.originalTeacherId);Oe.push({room:xe,subject:Ae,entityName:mt,direction:Ne.direction,isSubstitution:!0,originalTeacherName:ae==null?void 0:ae.name})}),Oe.length>0?x({status:` ${ee.period}`,detail:"",color:"text-emerald-600",icon:"MapPin",items:Oe}):x({status:"",detail:` ( ${ee.period}) `,color:"text-blue-500",icon:"User",items:[]})}else if(ge){if(!ee){x({status:"",detail:" ",color:"text-amber-500",icon:"Clock",items:[]});return}const Fe=A.filter(ke=>ke.classId===ge.id&&ke.day===ne&&ke.period===ee.period);if(Fe.length>0){const ke=Fe.map(je=>{var Pe,Qe,Ke,Me,ze;const xe=a.find(ot=>ot.scheduleItemId===je.id&&ot.date===_);if(xe&&xe.replacementTeacherId==="cancelled")return{cancelled:!0,subject:(Pe=t.find(ot=>ot.id===je.subjectId))==null?void 0:Pe.name};const Ae=!!(xe&&xe.replacementTeacherId!=="conducted"&&xe.replacementTeacherId!=="cancelled"),mt=Ae?xe.replacementTeacherId:je.teacherId,ae=(xe==null?void 0:xe.replacementRoomId)||je.roomId,pe=(Qe=e.find(ot=>ot.id===mt))==null?void 0:Qe.name,Ce=((Ke=n.find(ot=>ot.id===ae))==null?void 0:Ke.name)||ae||" .",be=(Me=t.find(ot=>ot.id===je.subjectId))==null?void 0:Me.name,Se=Ae?(ze=e.find(ot=>ot.id===xe.originalTeacherId))==null?void 0:ze.name:null;return{room:Ce,subject:be,entityName:pe,direction:je.direction,isSubstitution:Ae,originalTeacherName:Se}}),Oe=ke.filter(je=>!je.cancelled),Ne=ke.filter(je=>!!je.cancelled);Oe.length>0?x({status:` ${ee.period}`,detail:"",color:"text-emerald-600",icon:"MapPin",items:Oe}):Ne.length>0?x({status:" ",detail:Ne.map(je=>je.subject).join(", "),color:"text-red-500",icon:"X",items:[]}):x({status:" ",detail:" ",color:"text-blue-500",icon:"BookOpen",items:[]})}else x({status:" ",detail:" ",color:"text-blue-500",icon:"BookOpen",items:[]})}},$=async()=>{if(!M.trim()){alert(",   .");return}if(!(s!=null&&s.telegramToken)||!(s!=null&&s.feedbackChatId)){alert("     .");return}k(!0);const P=` *   :*

${M}`;try{const ne=await(await fetch(`https://api.telegram.org/bot${s.telegramToken}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:s.feedbackChatId,text:P,parse_mode:"Markdown"})})).json();if(ne.ok)alert("!   ."),D(!1),S("");else throw new Error(ne.description)}catch(G){console.error("   Telegram:",G),alert(`   . : ${G}`)}finally{k(!1)}};return f.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[f.jsxs("header",{className:"mb-6 flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-black text-slate-800 dark:text-white",children:"  "}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:d.toLocaleDateString("ru-RU",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),f.jsxs("button",{onClick:()=>D(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition text-sm",children:[f.jsx(Ve,{name:"Send",size:16}),"  "]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full relative overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 p-2 rounded-lg",children:f.jsx(Ve,{name:"Search",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" ?"})]}),f.jsxs("div",{className:"flex gap-2 mb-4",children:[f.jsx("input",{placeholder:"  ...",value:p,onChange:P=>g(P.target.value),onKeyDown:P=>P.key==="Enter"&&K(),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm outline-none dark:text-white"}),f.jsx("button",{onClick:K,className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl transition-colors",children:f.jsx(Ve,{name:"Search",size:20})})]}),v&&f.jsxs("div",{className:"mt-auto p-3 bg-slate-50 dark:bg-slate-700/30 rounded-xl border border-slate-100 dark:border-slate-700 animate-fade-in",children:[f.jsxs("div",{className:`text-xs font-bold uppercase mb-2 flex items-center gap-2 ${v.color}`,children:[f.jsx(Ve,{name:v.icon||"Info",size:14})," ",v.status]}),v.items&&v.items.length>0?f.jsx("div",{className:"space-y-2",children:v.items.map((P,G)=>f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-2 rounded-lg border border-slate-100 dark:border-slate-600 text-xs shadow-sm",children:[P.direction&&f.jsx("div",{className:"text-[10px] font-bold text-indigo-500 mb-0.5",children:P.direction}),f.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200",children:P.subject}),P.isSubstitution&&f.jsx("div",{className:"text-[10px] font-bold text-orange-500",children:P.originalTeacherName?` ( ${P.originalTeacherName})`:" "}),f.jsxs("div",{className:"flex justify-between items-center mt-1 text-slate-500 dark:text-slate-400",children:[f.jsx("span",{children:P.entityName}),f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1.5 rounded font-mono",children:P.room})]})]},G))}):f.jsx("div",{className:"font-bold text-slate-800 dark:text-white text-sm leading-snug",children:v.detail})]})]}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 p-2 rounded-lg",children:f.jsx(Ve,{name:"AlertTriangle",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "})]}),f.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:te>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-5xl font-black text-red-500 mb-2",children:te}),f.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"   "}),f.jsxs("button",{onClick:()=>o("/substitutions"),className:"px-6 py-2 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition shadow-lg shadow-red-200 dark:shadow-none flex items-center gap-2",children:[f.jsx(Ve,{name:"ArrowRight",size:16}),"   "]})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ve,{name:"CheckCircle",size:48,className:"mb-4 text-emerald-400"}),f.jsx("p",{className:"text-sm text-slate-400",children:"  ,  "})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 p-2 rounded-lg",children:f.jsx(Ve,{name:"PieChart",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:""})]}),f.jsx("button",{onClick:()=>w(!T),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:T?" ":" ",children:f.jsx(Ve,{name:T?"PieChart":"List",size:20})})]}),T?f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar animate-fade-in",children:Y.absentTeachersList.length>0?f.jsx("div",{className:"space-y-2",children:Y.absentTeachersList.map(P=>{var G;return f.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-50 dark:border-slate-700 pb-1 mb-1 last:border-0",children:[f.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:P.name}),f.jsx("span",{className:"text-xs text-red-500 font-bold whitespace-nowrap",children:((G=P.absenceReasons)==null?void 0:G[O(d)])||""})]},P.id)})}):f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400",children:[f.jsx(Ve,{name:"CheckCircle",size:32,className:"text-emerald-400 mb-2"}),f.jsx("p",{className:"text-sm",children:"   "})]})}):f.jsxs("div",{className:"flex items-center justify-between flex-1 animate-fade-in",children:[f.jsxs("div",{className:"relative w-24 h-24",children:[f.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full transform -rotate-90",children:[f.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#f1f5f9",strokeWidth:"4",className:"dark:stroke-slate-700"}),f.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#10b981",strokeWidth:"4",strokeDasharray:`${Y.presentPercent}, 100`})]}),f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[f.jsx("span",{className:"text-xs text-slate-400 font-bold",children:"."}),f.jsxs("span",{className:"font-black text-slate-700 dark:text-white",children:[Y.presentPercent,"%"]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-3xl font-black text-red-500",children:Y.absentCount}),f.jsxs("div",{className:"text-xs text-slate-400 font-bold uppercase leading-tight",children:["",f.jsx("br",{}),""]})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400 p-2 rounded-lg",children:f.jsx(Ve,{name:"Gift",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "})]}),f.jsx("div",{className:"flex-1 overflow-y-auto max-h-40 custom-scrollbar space-y-3",children:U.length?U.map(P=>f.jsxs("div",{className:"flex justify-between text-sm text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:P.name}),f.jsx("span",{className:"font-bold text-slate-400",children:P.diff===0?"!":`${P.diff} .`})]},P.id)):f.jsx("div",{className:"text-slate-400 text-sm text-center",children:" "})})]}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-2 rounded-lg",children:f.jsx(Ve,{name:"AlertTriangle",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:""})]}),f.jsx("div",{className:"flex-1 overflow-y-auto max-h-40 custom-scrollbar space-y-2",children:ue.length?ue.map((P,G)=>f.jsxs("div",{className:"flex justify-between text-sm text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:P.class}),f.jsx("span",{className:"text-amber-600 text-xs font-bold",children:P.issue})]},G)):f.jsx("div",{className:"text-slate-400 text-sm text-center",children:"  "})})]}),f.jsxs("div",{className:"md:col-span-2 lg:col-span-4 bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col relative group",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 p-2 rounded-lg",children:f.jsx(Ve,{name:"CheckSquare",size:20})}),f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "})]}),f.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{navigator.clipboard.writeText(l),alert("")},className:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded font-bold text-slate-500 hover:text-indigo-600",children:""}),f.jsx("button",{onClick:()=>{confirm(" ?")&&c("")},className:"text-xs bg-red-50 dark:bg-red-900/30 px-2 py-1 rounded font-bold text-red-500 hover:text-red-700",children:""})]})]}),f.jsxs("div",{className:"relative flex-1",children:[f.jsx("textarea",{className:"w-full h-48 p-6 rounded-xl bg-yellow-50 dark:bg-slate-700 border border-yellow-200 dark:border-slate-600 outline-none font-medium text-slate-700 dark:text-slate-200 resize-none focus:ring-4 ring-yellow-100 dark:ring-slate-600/50 transition-shadow leading-relaxed shadow-inner",placeholder:"   ...",value:l,onChange:P=>c(P.target.value),style:{backgroundImage:"linear-gradient(transparent, transparent 27px, #e5e7eb 28px)",backgroundSize:"100% 28px",lineHeight:"28px"}}),B&&f.jsxs("div",{className:"absolute bottom-4 right-4 text-[10px] font-bold uppercase tracking-widest text-slate-400 animate-fade-in flex items-center gap-1",children:[f.jsx(Ve,{name:"Save",size:12})," ",B]})]})]})]}),f.jsx(Mu,{isOpen:L,onClose:()=>D(!1),title:"   ",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"       ?  !      ."}),f.jsx("textarea",{value:M,onChange:P=>S(P.target.value),rows:6,className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500 resize-y",placeholder:" ..."}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:$,disabled:E,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none flex items-center gap-2 disabled:opacity-50",children:[E?f.jsx(Ve,{name:"Loader",size:16,className:"animate-spin"}):f.jsx(Ve,{name:"Send",size:16}),E?"...":""]})})]})})]})};var Gk={},qk={},$k={},dv={};Object.defineProperty(dv,"__esModule",{value:!0});function W9(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()}dv.default=W9;var HC={};Object.defineProperty(HC,"__esModule",{value:!0});var G9=dv,q9=" and ";function $9(t){return typeof t=="string"?t:Object.entries(t).map(function(e){var r=e[0],n=e[1],i=G9.default(r),s=n;return typeof s=="boolean"?s?i:"not "+i:(typeof s=="number"&&/[height|width]$/.test(i)&&(s=s+"px"),"("+i+": "+s+")")}).join(q9)}HC.default=$9;var VC={};Object.defineProperty(VC,"__esModule",{value:!0});function J9(){}VC.default=J9;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=t.queryObjectToString=t.camelToHyphen=void 0;var e=dv;Object.defineProperty(t,"camelToHyphen",{enumerable:!0,get:function(){return e.default}});var r=HC;Object.defineProperty(t,"queryObjectToString",{enumerable:!0,get:function(){return r.default}});var n=VC;Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return n.default}})})($k);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.useMediaLayout=t.useMedia=t.mockMediaQueryList=void 0;var e=le,r=$k;t.mockMediaQueryList={media:"",matches:!1,onchange:r.noop,addListener:r.noop,removeListener:r.noop,addEventListener:r.noop,removeEventListener:r.noop,dispatchEvent:function(i){return!0}};var n=function(i){return function(s,A){A===void 0&&(A=!1);var a=e.useState(A),o=a[0],l=a[1],c=r.queryObjectToString(s);return i(function(){var d=!0,p=typeof window>"u"?t.mockMediaQueryList:window.matchMedia(c),g=function(){d&&l(!!p.matches)};return p.addListener(g),l(p.matches),function(){d=!1,p.removeListener(g)}},[c]),o}};t.useMedia=n(e.useEffect),t.useMediaLayout=n(e.useLayoutEffect),t.default=t.useMedia})(qk);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.useMediaLayout=t.useMedia=t.default=void 0;var e=qk;Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"useMedia",{enumerable:!0,get:function(){return e.useMedia}}),Object.defineProperty(t,"useMediaLayout",{enumerable:!0,get:function(){return e.useMediaLayout}})})(Gk);const X9=z_(Gk),Jk=({readOnly:t=!1})=>{const{subjects:e,teachers:r,classes:n,rooms:i}=Al(),{schedule:s,saveScheduleData:A,canUndo:a,canRedo:o,undo:l,redo:c,isReadOnly:d}=bd(),p=t||d,[g,v]=le.useState(nt.First),[x,T]=le.useState(ds.Monday),[w,B]=le.useState(!1),[C,L]=le.useState({}),[D,M]=le.useState("class"),[S,E]=le.useState(""),[k,O]=le.useState(""),[_,F]=le.useState(""),[U,Y]=le.useState(!1),[ue,te]=le.useState({visible:!1,x:0,y:0,item:null,cell:null}),[K,$]=le.useState(null),[P,G]=le.useState([]),[ne,N]=le.useState(null),[j,W]=le.useState(null),ee=X9({maxWidth:767}),[re,oe]=le.useState(!0),[ge,ye]=le.useState(!1),[Fe,ke]=le.useState({isOpen:!1,type:"",day:"",classId:""}),Oe=lo[g],Ne=()=>D==="week"?lo[g].map(ce=>({id:ce.toString(),name:`${ce} `})):D==="class"?S?n.filter(ce=>ce.id===S&&ce.shift===g):n.filter(ce=>ce.shift===g):D==="teacher"?S?r.filter(ce=>ce.id===S):r:D==="subject"?S?e.filter(ce=>ce.id===S):e:[],je=(ce,Je)=>{let Xe=[];if(D==="week"){const it=parseInt(ce),et=Je;Xe=s.filter(lt=>lt.shift===g&&lt.period===it&&lt.day===et),S&&(Xe=Xe.filter(lt=>lt.classId===S))}else{const it=Je;D==="class"&&(Xe=s.filter(et=>et.classId===ce&&et.period===it&&et.day===x&&et.shift===g)),D==="teacher"&&(Xe=s.filter(et=>et.teacherId===ce&&et.period===it&&et.day===x&&et.shift===g)),D==="subject"&&(Xe=s.filter(et=>et.subjectId===ce&&et.period===it&&et.day===x&&et.shift===g))}return k&&(Xe=Xe.filter(it=>{if(!it.roomId)return!1;const et=i.find(Pt=>Pt.id===it.roomId);return(et?et.name:it.roomId).toLowerCase().includes(k.toLowerCase())})),_&&(Xe=Xe.filter(it=>{var et;return(et=it.direction)==null?void 0:et.toLowerCase().includes(_.toLowerCase())})),Xe},xe=ce=>{const Je=[],Xe=s.filter(lt=>lt.id!==ce.id&&lt.day===ce.day&&lt.period===ce.period&&lt.shift===ce.shift);return Xe.find(lt=>lt.teacherId===ce.teacherId)&&Je.push("teacher"),Xe.find(lt=>!(lt.classId!==ce.classId||lt.direction&&ce.direction&&lt.direction!==ce.direction))&&Je.push("class"),ce.roomId&&Xe.find(Pt=>Pt.roomId===ce.roomId)&&Je.push("room"),Je},Ae=(ce,Je,Xe)=>{const it=[],et=n.find(ct=>ct.id===ce),lt=e.find(ct=>ct.id===Je),Pt=i.find(ct=>ct.id===Xe);return Pt&&(et&&Pt.capacity<et.studentsCount&&it.push(`  !   ${et.studentsCount} .,     ${Pt.capacity}.`),lt&&lt.requiredRoomType&&lt.requiredRoomType!==""&&Pt.type!==lt.requiredRoomType&&it.push(`   !   "${lt.requiredRoomType}",   "${Pt.type}".`)),it},mt=ce=>{const Je=Ae(ce.classId,ce.subjectId,ce.roomId);G(Je)},ae=ce=>{p||(L(ce),mt(ce),B(!0))},pe=(ce,Je,Xe=x)=>{if(p)return;const it={period:Je,day:Xe,shift:g,id:Math.random().toString(36).substr(2,9)};D==="class"&&(it.classId=ce),D==="teacher"&&(it.teacherId=ce),D==="subject"&&(it.subjectId=ce),D==="week"&&(it.period=parseInt(ce),it.day=Xe,S&&n.find(et=>et.id===S)&&(it.classId=S)),L(it),G([]),B(!0)},Ce=async ce=>{const Je=s.filter(Xe=>Xe.id!==(ce||C.id));await A({schedule:Je}),B(!1)},be=(ce,Je,Xe)=>{p||(ce.preventDefault(),ce.stopPropagation(),te({visible:!0,x:ce.clientX,y:ce.clientY,item:Je,cell:Xe}))},Se=(ce,Je)=>{if(p)return;N(Je),ce.dataTransfer.effectAllowed="move";const Xe=ce.target;setTimeout(()=>Xe.classList.add("dragging"),0)},Pe=ce=>{ce.target.classList.remove("dragging"),N(null),W(null)},Qe=(ce,Je)=>{ce.preventDefault(),!p&&W(`${Je.rowId}-${Je.colKey}`)},Ke=async(ce,Je)=>{if(ce.preventDefault(),!ne||p)return;const Xe={...ne};D==="week"?(Xe.period=parseInt(Je.rowId),Xe.day=Je.colKey):(Xe.period=Je.colKey,Xe.day=x,D==="class"&&(Xe.classId=Je.rowId),D==="teacher"&&(Xe.teacherId=Je.rowId),D==="subject"&&(Xe.subjectId=Je.rowId));let it=s.map(et=>et.id===Xe.id?Xe:et);await A({schedule:it}),N(null),W(null)},Me=[];ue.item?Me.push({label:"",icon:"Copy",onClick:()=>$(ue.item)},{label:"",icon:"Trash2",color:"text-red-600",onClick:()=>Ce(ue.item.id)}):ue.cell&&(K&&Me.push({label:"",icon:"Clipboard",onClick:async()=>{const ce={...K,id:Math.random().toString(36).substr(2,9),day:x,shift:g,period:ue.cell.colKey};D==="week"&&(ce.day=ue.cell.colKey,ce.period=parseInt(ue.cell.rowId)),D==="class"?ce.classId=ue.cell.rowId:D==="teacher"?ce.teacherId=ue.cell.rowId:D==="subject"&&(ce.subjectId=ue.cell.rowId);let Je=[...s,ce];await A({schedule:Je}),$(null)}}),Me.push({label:" ",icon:"Plus",onClick:()=>pe(ue.cell.rowId,ue.cell.colKey,D==="week"?ue.cell.colKey:x)})),C.subjectId&&r.filter(ce=>ce.subjectIds.includes(C.subjectId)),C.subjectId&&r.filter(ce=>!ce.subjectIds.includes(C.subjectId)),le.useMemo(()=>{var ce,Je,Xe;if(p&&S){if(D==="teacher")return(ce=r.find(it=>it.id===S))==null?void 0:ce.name;if(D==="class")return(Je=n.find(it=>it.id===S))==null?void 0:Je.name;if(D==="subject")return(Xe=e.find(it=>it.id===S))==null?void 0:Xe.name}return""},[S,D,r,n,e,p]);const ze=Ne(),ot=D==="week"?yi:Oe,At=(ce,Je,Xe)=>p&&ce.length===0?null:f.jsxs("div",{className:"h-full flex flex-col gap-1",children:[ce.map(it=>{const et=e.find(er=>er.id===it.subjectId),lt=r.find(er=>er.id===it.teacherId),Pt=n.find(er=>er.id===it.classId),ct=xe(it),Lt=i.find(er=>er.id===it.roomId),or=Lt?Lt.name:it.roomId;return f.jsxs("div",{draggable:!p,onDragStart:p?void 0:er=>Se(er,it),onDragEnd:p?void 0:Pe,onClick:p?void 0:()=>ae(it),onContextMenu:p?void 0:er=>be(er,it,null),className:`rounded-lg p-2 text-xs shadow-sm ${p?"":"hover:shadow-md cursor-grab active:cursor-grabbing"} border flex flex-col gap-0.5 flex-1 relative group transition-transform ${ct.length>0?"border-red-300 bg-red-50 dark:bg-red-900/20 ring-1 ring-red-200":"border-slate-100 dark:border-slate-600"}`,style:ct.length===0&&(et!=null&&et.color)?{backgroundColor:`${et.color}40`}:{},children:[f.jsxs("div",{className:"flex justify-between items-center gap-1",children:[f.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 line-clamp-1",children:D==="subject"||D==="week"?Pt==null?void 0:Pt.name:et==null?void 0:et.name}),it.direction&&f.jsx("span",{className:"text-[9px] px-1 rounded bg-white/80 dark:bg-black/30 font-bold text-slate-600 dark:text-slate-300",children:it.direction})]}),D==="week"&&f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200 line-clamp-1",children:et==null?void 0:et.name}),f.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[f.jsxs("div",{className:"text-slate-600 dark:text-slate-400 text-[10px] flex items-center gap-1 leading-tight overflow-hidden",title:lt==null?void 0:lt.name,children:[f.jsx(Ve,{name:D==="teacher"?"GraduationCap":"User",size:10,className:"shrink-0"}),f.jsx("span",{className:"truncate",children:D==="teacher"?Pt==null?void 0:Pt.name:lt==null?void 0:lt.name})]}),or&&f.jsx("div",{className:"text-[9px] font-mono text-slate-400 bg-white/50 dark:bg-black/20 rounded px-1 flex items-center gap-0.5 shrink-0",title:Lt?`: ${Lt.capacity}, : ${Lt.type}`:"",children:or})]}),ct.length>0&&f.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px] font-bold",title:`: ${ct.join(", ")}`,children:"!"})]},it.id)}),!p&&ce.length<3&&f.jsx("button",{onClick:()=>pe(Xe,Je,D==="week"?Je:x),className:"w-full rounded-lg border-2 border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-300 dark:text-slate-600 hover:border-indigo-300 hover:text-indigo-400 transition-colors mt-auto h-6",children:f.jsx(Ve,{name:"Plus",size:16})})]}),pt=()=>{if(!S)return f.jsx("div",{className:"p-8 text-center text-slate-400 dark:text-slate-500",children:" ,       ."});const ce=s.filter(Je=>Je.day===x&&Je.shift===g&&(D==="class"&&Je.classId===S||D==="teacher"&&Je.teacherId===S||D==="subject"&&Je.subjectId===S)).sort((Je,Xe)=>Je.period-Xe.period);return ce.length===0?f.jsxs("div",{className:"p-8 text-center text-slate-400 dark:text-slate-500",children:["   ",x,"  ",g,"."]}):f.jsx("div",{className:"p-4 space-y-4",children:ce.map(Je=>{const Xe=e.find(Lt=>Lt.id===Je.subjectId),it=r.find(Lt=>Lt.id===Je.teacherId),et=n.find(Lt=>Lt.id===Je.classId),lt=i.find(Lt=>Lt.id===Je.roomId),Pt=lt?lt.name:Je.roomId,ct=xe(Je);return f.jsxs("div",{onClick:p?void 0:()=>ae(Je),className:`rounded-xl p-4 shadow-sm border ${ct.length>0?"border-red-300 bg-red-50 dark:bg-red-900/20 ring-1 ring-red-200":"border-slate-100 dark:border-slate-600 bg-white dark:bg-dark-800"} transition-colors ${p?"":"cursor-pointer"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("span",{className:"text-sm font-bold text-slate-800 dark:text-slate-100",children:[Je.period," "]}),ct.length>0&&f.jsx("span",{className:"bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",title:`: ${ct.join(", ")}`,children:"!"})]}),f.jsxs("div",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400 mb-1",children:[Xe==null?void 0:Xe.name," ",Je.direction&&`(${Je.direction})`]}),f.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[et==null?void 0:et.name,"  ",it==null?void 0:it.name]}),Pt&&f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[": ",Pt]})]},Je.id)})})};return f.jsxs("div",{className:"h-full flex flex-col",children:[ue.visible&&f.jsx(V9,{x:ue.x,y:ue.y,onClose:()=>te({...ue,visible:!1}),actions:Me}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mb-6 flex flex-col xl:flex-row gap-4 items-start xl:items-center justify-between no-print",children:[f.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>v(nt.First),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${g===nt.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),f.jsx("button",{onClick:()=>v(nt.Second),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${g===nt.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]}),D!=="week"&&f.jsx("div",{className:"flex overflow-x-auto pb-1 gap-1 max-w-[40vw] hide-scrollbar",children:yi.map(ce=>f.jsx("button",{onClick:()=>T(ce),className:`whitespace-nowrap px-4 py-2 rounded-xl text-sm font-bold transition-all ${x===ce?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:ce},ce))}),!p&&f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:l,disabled:!a,className:"p-2 text-slate-500 disabled:opacity-30 hover:bg-white dark:hover:bg-slate-600 rounded-lg transition",children:f.jsx(Ve,{name:"RotateCcw",size:18})}),f.jsx("button",{onClick:c,disabled:!o,className:"p-2 text-slate-500 disabled:opacity-30 hover:bg-white dark:hover:bg-slate-600 rounded-lg transition",children:f.jsx(Ve,{name:"RotateCw",size:18})})]})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full xl:w-auto",children:[f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[f.jsx("button",{onClick:()=>{M("class"),E("")},className:`p-2 rounded-md ${D==="class"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:" ",children:f.jsx(Ve,{name:"GraduationCap",size:18})}),f.jsx("button",{onClick:()=>{M("teacher"),E("")},className:`p-2 rounded-md ${D==="teacher"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:" ",children:f.jsx(Ve,{name:"Users",size:18})}),f.jsx("button",{onClick:()=>{M("subject"),E("")},className:`p-2 rounded-md ${D==="subject"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:" ",children:f.jsx(Ve,{name:"BookOpen",size:18})}),f.jsx("button",{onClick:()=>{var ce;M("week"),E(((ce=n[0])==null?void 0:ce.id)||"")},className:`p-2 rounded-md ${D==="week"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:"",children:f.jsx(Ve,{name:"Calendar",size:18})})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-1.5 pl-3 flex-1",children:[f.jsx(Ve,{name:"Filter",size:16,className:"text-slate-400"}),f.jsxs("select",{value:S,onChange:ce=>E(ce.target.value),className:"bg-transparent text-sm font-bold text-slate-700 dark:text-slate-200 outline-none w-full xl:w-32",children:[f.jsxs("option",{value:"",children:[" ",D==="class"?"":D==="teacher"?"":D==="week"?" ()":""]}),(D==="class"||D==="week")&&n.filter(ce=>ce.shift===g).map(ce=>f.jsx("option",{value:ce.id,children:ce.name},ce.id)),D==="teacher"&&r.map(ce=>f.jsx("option",{value:ce.id,children:ce.name},ce.id)),D==="subject"&&e.map(ce=>f.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),f.jsx("input",{placeholder:"...",value:k,onChange:ce=>O(ce.target.value),className:"w-20 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-2 text-xs font-bold"}),f.jsx("input",{placeholder:"...",value:_,onChange:ce=>F(ce.target.value),className:"w-20 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-2 text-xs font-bold"}),!p&&f.jsxs("button",{onClick:()=>ye(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-red-200 dark:shadow-none transition-all",children:[f.jsx(Ve,{name:"List",size:16})," . ."]}),(S||D==="week")&&f.jsx("button",{onClick:()=>Y(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none transition-all",children:f.jsx(Ve,{name:"Printer",size:16})})]})]}),ee&&!p&&S&&f.jsx("div",{className:"flex justify-center mb-4 no-print",children:f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>oe(!1),className:`flex-1 py-1 px-3 text-xs font-bold rounded-md ${re?"text-slate-500 dark:text-slate-400":"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white"}`,title:" ",children:f.jsx(Ve,{name:"Columns",size:16})}),f.jsx("button",{onClick:()=>oe(!0),className:`flex-1 py-1 px-3 text-xs font-bold rounded-md ${re?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,title:" ",children:f.jsx(Ve,{name:"Rows",size:16})})]})}),f.jsx("div",{className:"flex-1 bg-white dark:bg-dark-800 rounded-2xl shadow-xl shadow-slate-200/50 dark:shadow-none border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col transition-colors duration-300 no-print",children:f.jsx("div",{className:"overflow-auto flex-1 custom-scrollbar",children:ee&&re&&!p&&S?pt():f.jsxs("table",{className:"w-full border-collapse min-w-[1000px]",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0 z-20",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 border-b border-r border-slate-100 dark:border-slate-600 text-left text-xs font-extrabold text-slate-400 uppercase w-40 sticky left-0 bg-slate-50 dark:bg-slate-700 z-30",children:D==="week"?"":D==="class"?"":D==="teacher"?"":""}),ot.map(ce=>f.jsx("th",{className:"p-4 border-b border-slate-100 dark:border-slate-600 text-center text-xs font-extrabold text-slate-400 uppercase min-w-[160px]",children:D==="week"?ce:`${ce} `},ce))]})}),f.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-700",children:ze.length>0?ze.map(ce=>f.jsxs("tr",{children:[f.jsx("td",{className:"p-4 border-r border-slate-100 dark:border-slate-600 font-black text-lg text-slate-700 dark:text-slate-200 sticky left-0 bg-white dark:bg-dark-800 z-10 text-left",children:ce.name}),ot.map(Je=>{const Xe=je(ce.id,Je),it=`${ce.id}-${Je}`;return f.jsx("td",{className:`p-2 border-r border-slate-50 dark:border-slate-700 h-28 align-top transition-colors ${j===it?"drag-over":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,onContextMenu:p?void 0:et=>be(et,null,{rowId:ce.id,colKey:Je}),onDragOver:p?void 0:et=>Qe(et,{rowId:ce.id,colKey:Je}),onDrop:p?void 0:et=>Ke(et,{rowId:ce.id,colKey:Je}),children:At(Xe,Je,ce.id)},Je)})]},ce.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:8,className:"p-8 text-center text-slate-400 dark:text-slate-500",children:"   "})})})]})})})]})},Y9=()=>{var K,$;const{subjects:t,teachers:e,classes:r,rooms:n,bellSchedule:i,saveStaticData:s}=Al(),[A,a]=le.useState("teachers"),[o,l]=le.useState(!1),[c,d]=le.useState(null),[p,g]=le.useState({}),[v,x]=le.useState({}),[T,w]=le.useState({}),[B,C]=le.useState({}),[L,D]=le.useState("default"),[M,S]=le.useState(null),E=P=>{d(P||null),A==="teachers"?g(P?e.find(G=>G.id===P):{subjectIds:[],unavailableDates:[],shifts:[nt.First,nt.Second],telegramChatId:""}):A==="subjects"?x(P?t.find(G=>G.id===P):{color:"#e0e7ff",difficulty:5,requiredRoomType:""}):A==="classes"?w(P?r.find(G=>G.id===P):{shift:nt.First,studentsCount:25}):A==="rooms"&&C(P?n.find(G=>G.id===P):{capacity:30,type:""}),l(!0)},k=async()=>{const P=()=>Math.random().toString(36).substr(2,9);if(A==="teachers"){if(!p.name)return;let G=[...e];c?G=G.map(ne=>ne.id===c?{...ne,...p}:ne):G.push({...p,id:P(),unavailableDates:[]}),await s({teachers:G})}else if(A==="subjects"){if(!v.name)return;let G=[...t];c?G=G.map(ne=>ne.id===c?{...ne,...v}:ne):G.push({...v,id:P()}),await s({subjects:G})}else if(A==="classes"){if(!T.name)return;let G=[...r];c?G=G.map(ne=>ne.id===c?{...ne,...T}:ne):G.push({...T,id:P()}),await s({classes:G})}else if(A==="rooms"){if(!B.name)return;let G=[...n];c?G=G.map(ne=>ne.id===c?{...ne,...B}:ne):G.push({...B,id:P()}),await s({rooms:G})}l(!1)},O=async P=>{window.confirm(" ?")&&(A==="teachers"&&await s({teachers:e.filter(G=>G.id!==P)}),A==="subjects"&&await s({subjects:t.filter(G=>G.id!==P)}),A==="classes"&&await s({classes:r.filter(G=>G.id!==P)}),A==="rooms"&&await s({rooms:n.filter(G=>G.id!==P)}))},_=(P,G)=>{S(G),P.dataTransfer.effectAllowed="move"},F=P=>{P.preventDefault()},U=async(P,G)=>{if(M===null||M===G)return;let ne=[];A==="teachers"?ne=[...e]:A==="subjects"?ne=[...t]:A==="classes"?ne=[...r]:ne=[...n];const N=ne.splice(M,1)[0];ne.splice(G,0,N),A==="teachers"?await s({teachers:ne}):A==="subjects"?await s({subjects:ne}):A==="classes"?await s({classes:ne}):await s({rooms:ne}),S(null)},Y=(P,G)=>{const ne=L;let N=i.find(j=>j.shift===P&&j.period===G&&j.day===ne);if(!N&&ne!=="default"){const j=i.find(W=>W.shift===P&&W.period===G&&W.day==="default");return j?{...j,start:"",end:"",isInherited:!0}:{start:"",end:"",isInherited:!1}}return N||{start:"",end:""}},ue=async(P,G,ne,N)=>{let j=[...i];const W=L,ee=j.findIndex(re=>re.shift===P&&re.period===G&&re.day===W);ee>=0?j[ee]={...j[ee],[ne]:N}:j.push({shift:P,period:G,[ne]:N,start:"00:00",end:"00:00",day:W}),await s({bellSchedule:j})},te=P=>{const G=p.shifts||[];G.includes(P)?g({...p,shifts:G.filter(ne=>ne!==P)}):g({...p,shifts:[...G,P]})};return f.jsxs("div",{className:"max-w-7xl mx-auto w-full h-full flex flex-col",children:[f.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8 shrink-0",children:[f.jsx("div",{className:"flex p-1 bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-x-auto",children:[{id:"teachers",icon:"Users",label:""},{id:"subjects",icon:"BookOpen",label:""},{id:"classes",icon:"GraduationCap",label:""},{id:"rooms",icon:"DoorOpen",label:""},{id:"bells",icon:"Bell",label:""}].map(P=>f.jsxs("button",{onClick:()=>a(P.id),className:`px-5 py-2.5 rounded-lg text-sm font-bold flex items-center gap-2 transition-all ${A===P.id?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[f.jsx(Ve,{name:P.icon,size:18})," ",P.label]},P.id))}),A!=="bells"&&f.jsxs("button",{onClick:()=>E(),className:"flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none font-semibold",children:[f.jsx(Ve,{name:"Plus",size:20})," "]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 custom-scrollbar pr-2",children:[A==="teachers"&&f.jsx(sg,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((P,G)=>{var ne,N;return f.jsxs("div",{draggable:!0,onDragStart:j=>_(j,G),onDragOver:F,onDrop:j=>U(j,G),className:"bg-white dark:bg-dark-800 p-5 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group flex flex-col cursor-grab active:cursor-grabbing",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ve,{name:"GripVertical",className:"text-slate-300 dark:text-slate-600",size:16}),f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:P.name})]}),f.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>E(P.id),className:"p-2 text-slate-600 dark:text-slate-300 hover:text-indigo-600 bg-slate-50 dark:bg-slate-700 rounded-full",children:f.jsx(Ve,{name:"Edit2",size:16})}),f.jsx("button",{onClick:()=>O(P.id),className:"p-2 text-slate-600 dark:text-slate-300 hover:text-red-600 bg-slate-50 dark:bg-slate-700 rounded-full",children:f.jsx(Ve,{name:"Trash2",size:16})})]})]}),f.jsx("div",{className:"text-xs text-slate-500 mb-2",children:P.birthDate?`: ${new Date(P.birthDate).toLocaleDateString("ru-RU")}`:""}),f.jsxs("div",{className:"flex gap-2 mb-3",children:[((ne=P.shifts)==null?void 0:ne.includes(nt.First))&&f.jsx("span",{className:"text-[10px] bg-indigo-50 text-indigo-700 px-2 py-0.5 rounded font-bold",children:"1 "}),((N=P.shifts)==null?void 0:N.includes(nt.Second))&&f.jsx("span",{className:"text-[10px] bg-purple-50 text-purple-700 px-2 py-0.5 rounded font-bold",children:"2 "})]}),f.jsx("div",{className:"flex flex-wrap gap-1 mt-auto pl-7",children:P.subjectIds.map(j=>{const W=t.find(ee=>ee.id===j);return W?f.jsx("span",{className:"text-xs px-2 py-1 rounded-md font-medium",style:{backgroundColor:W.color,color:"#334155"},children:W.name},j):null})})]},P.id)})}),A==="subjects"&&f.jsx(sg,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((P,G)=>f.jsxs("div",{draggable:!0,onDragStart:ne=>_(ne,G),onDragOver:F,onDrop:ne=>U(ne,G),className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between group cursor-grab active:cursor-grabbing border-l-4",style:{borderLeftColor:P.color},children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ve,{name:"GripVertical",className:"text-slate-300 dark:text-slate-600",size:16}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200",children:P.name}),f.jsxs("div",{className:"text-xs text-slate-400",children:[": ",P.difficulty,"  ",P.requiredRoomType]})]})]}),f.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>E(P.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-indigo-600",children:f.jsx(Ve,{name:"Edit2",size:16})}),f.jsx("button",{onClick:()=>O(P.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-red-600",children:f.jsx(Ve,{name:"Trash2",size:16})})]})]},P.id))}),A==="classes"&&f.jsx(sg,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:r.map((P,G)=>f.jsxs("div",{draggable:!0,onDragStart:ne=>_(ne,G),onDragOver:F,onDrop:ne=>U(ne,G),className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm text-center group hover:shadow-md transition-all relative cursor-grab active:cursor-grabbing",children:[f.jsx("div",{className:"absolute left-2 top-2 text-slate-300 dark:text-slate-600",children:f.jsx(Ve,{name:"GripVertical",size:14})}),f.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-slate-100 mb-1",children:P.name}),f.jsxs("div",{className:"text-xs text-slate-500 mb-1",children:[P.studentsCount||0," "]}),f.jsxs("div",{className:`text-xs font-bold px-2 py-0.5 rounded-full inline-block ${P.shift===nt.First?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:[P.shift===nt.First?"I":"II"," "]}),f.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>E(P.id),className:"p-1 text-slate-600 dark:text-slate-300 hover:text-indigo-600",children:f.jsx(Ve,{name:"Edit2",size:14})}),f.jsx("button",{onClick:()=>O(P.id),className:"p-1 text-slate-600 dark:text-slate-300 hover:text-red-600",children:f.jsx(Ve,{name:"Trash2",size:14})})]})]},P.id))}),A==="rooms"&&f.jsx(sg,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map((P,G)=>f.jsxs("div",{draggable:!0,onDragStart:ne=>_(ne,G),onDragOver:F,onDrop:ne=>U(ne,G),className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between group cursor-grab active:cursor-grabbing",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ve,{name:"GripVertical",className:"text-slate-300 dark:text-slate-600",size:16}),f.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-2 rounded-lg text-indigo-600",children:f.jsx(Ve,{name:"DoorOpen",size:20})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200",children:P.name}),f.jsxs("div",{className:"text-xs text-slate-400",children:[": ",P.capacity,"  ",P.type]})]})]}),f.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>E(P.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-indigo-600",children:f.jsx(Ve,{name:"Edit2",size:16})}),f.jsx("button",{onClick:()=>O(P.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-red-600",children:f.jsx(Ve,{name:"Trash2",size:16})})]})]},P.id))}),A==="bells"&&f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-1 rounded-xl flex gap-1",children:["default","",""].map(P=>f.jsx("button",{onClick:()=>D(P),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all ${L===P?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:P==="default"?"":P===""?"":""},P))})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[nt.First,nt.Second].map(P=>f.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:`p-4 font-bold text-lg text-white ${P===nt.First?"bg-indigo-600":"bg-purple-600"}`,children:P}),f.jsx("div",{className:"p-6 space-y-3",children:lo[P].map(G=>{const ne=Y(P,G);return f.jsxs("div",{className:`flex items-center gap-4 p-2 rounded-xl transition-colors ${ne.isInherited?"bg-slate-50/50 dark:bg-slate-800/50 opacity-60":"bg-slate-50 dark:bg-slate-700/50"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-white dark:bg-slate-600 flex items-center justify-center font-black text-slate-500 dark:text-slate-300 shadow-sm",children:G}),f.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[f.jsx("input",{type:"time",className:"flex-1 border-none bg-transparent font-bold text-slate-800 dark:text-white text-center focus:ring-0",value:ne.start,onChange:N=>ue(P,G,"start",N.target.value)}),f.jsx("span",{className:"text-slate-300",children:""}),f.jsx("input",{type:"time",className:"flex-1 border-none bg-transparent font-bold text-slate-800 dark:text-white text-center focus:ring-0",value:ne.end,onChange:N=>ue(P,G,"end",N.target.value)})]})]},G)})})]},P))})]})]}),f.jsx(Mu,{isOpen:o,onClose:()=>l(!1),title:"",children:f.jsxs("div",{className:"space-y-4",children:[A==="teachers"&&f.jsxs(f.Fragment,{children:[f.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:" ",value:p.name||"",onChange:P=>g({...p,name:P.target.value})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" "}),f.jsx("input",{type:"date",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:p.birthDate||"",onChange:P=>g({...p,birthDate:P.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Telegram Chat ID"}),f.jsx("input",{type:"text",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:p.telegramChatId||"",onChange:P=>g({...p,telegramChatId:P.target.value}),placeholder:"12345678"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:""}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"rounded text-indigo-600 focus:ring-indigo-500",checked:(K=p.shifts)==null?void 0:K.includes(nt.First),onChange:()=>te(nt.First)}),f.jsx("span",{className:"text-sm font-medium dark:text-slate-300",children:"1 "})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"rounded text-purple-600 focus:ring-purple-500",checked:($=p.shifts)==null?void 0:$.includes(nt.Second),onChange:()=>te(nt.Second)}),f.jsx("span",{className:"text-sm font-medium dark:text-slate-300",children:"2 "})]})]})]}),f.jsx("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mt-2",children:""}),f.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto custom-scrollbar border border-slate-100 dark:border-slate-700 p-2 rounded-xl",children:t.map(P=>{var G;return f.jsxs("label",{className:"flex items-center gap-2 p-1 rounded hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"rounded text-indigo-600 focus:ring-indigo-500",checked:(G=p.subjectIds)==null?void 0:G.includes(P.id),onChange:ne=>{const N=p.subjectIds||[];g({...p,subjectIds:ne.target.checked?[...N,P.id]:N.filter(j=>j!==P.id)})}}),f.jsx("span",{className:"text-sm dark:text-slate-300",children:P.name})]},P.id)})})]}),A==="subjects"&&f.jsxs(f.Fragment,{children:[f.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:" ",value:v.name||"",onChange:P=>x({...v,name:P.target.value})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:":"}),f.jsx("input",{type:"color",className:"w-20 h-10 cursor-pointer bg-transparent",value:v.color||"#ffffff",onChange:P=>x({...v,color:P.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" ( 1-12)"}),f.jsx("input",{type:"number",min:"1",max:"12",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:v.difficulty||5,onChange:P=>x({...v,difficulty:parseInt(P.target.value)})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"  "}),f.jsx("select",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:v.requiredRoomType,onChange:P=>x({...v,requiredRoomType:P.target.value}),children:tE.map(P=>f.jsx("option",{value:P,children:P},P))})]})]}),A==="classes"&&f.jsxs(f.Fragment,{children:[f.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:"  (5)",value:T.name||"",onChange:P=>w({...T,name:P.target.value})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" "}),f.jsx("input",{type:"number",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:T.studentsCount||25,onChange:P=>w({...T,studentsCount:parseInt(P.target.value)})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:()=>w({...T,shift:nt.First}),className:`p-3 rounded-xl border text-sm font-bold transition-all ${T.shift===nt.First?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400":"border-slate-200 dark:border-slate-600 text-slate-500 dark:text-slate-400"}`,children:"1 "}),f.jsx("button",{onClick:()=>w({...T,shift:nt.Second}),className:`p-3 rounded-xl border text-sm font-bold transition-all ${T.shift===nt.Second?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400":"border-slate-200 dark:border-slate-600 text-slate-500 dark:text-slate-400"}`,children:"2 "})]})]}),A==="rooms"&&f.jsxs(f.Fragment,{children:[f.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:"/ (. 101)",value:B.name||"",onChange:P=>C({...B,name:P.target.value})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" ()"}),f.jsx("input",{type:"number",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:B.capacity||30,onChange:P=>C({...B,capacity:parseInt(P.target.value)})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" "}),f.jsx("select",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:B.type,onChange:P=>C({...B,type:P.target.value}),children:tE.map(P=>f.jsx("option",{value:P,children:P},P))})]})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx("button",{onClick:k,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none",children:""})})]})})]})},Z9=()=>{const{subjects:t,teachers:e,classes:r,rooms:n,settings:i,saveStaticData:s}=Al(),{schedule:A,substitutions:a,saveScheduleData:o}=bd(),l=il(),[c,d]=le.useState(new Date().toISOString().split("T")[0]),[p,g]=le.useState(!1),[v,x]=le.useState(null),[T,w]=le.useState(!1),[B,C]=le.useState(!1),[L,D]=le.useState(null),[M,S]=le.useState(""),[E,k]=le.useState(!1),[O,_]=le.useState(""),[F,U]=le.useState(""),[Y,ue]=le.useState("all"),[te,K]=le.useState(""),[$,P]=le.useState(""),[G,ne]=le.useState("");le.useEffect(()=>{var ae;(ae=l.state)!=null&&ae.subParams&&(x(l.state.subParams),ne(""),g(!0),window.history.replaceState({},document.title))},[l.state]);const N=le.useMemo(()=>{const ae=new Date(c).getDay();return ae===0||ae===6?null:yi[ae-1]},[c]),j=le.useMemo(()=>e.filter(ae=>{const pe=ae.name.toLowerCase().includes(F.toLowerCase()),Ce=Y==="all"?!0:ae.shifts.includes(Y);return pe&&Ce}),[e,F,Y]),W=le.useMemo(()=>e.filter(ae=>ae.unavailableDates.includes(c)),[e,c]),ee=le.useMemo(()=>{if(!N)return[];const ae=W.map(Qe=>Qe.id),pe=A.filter(Qe=>Qe.day===N&&ae.includes(Qe.teacherId)),be=a.filter(Qe=>Qe.date===c).map(Qe=>Qe.scheduleItemId),Se=A.filter(Qe=>be.includes(Qe.id)),Pe=[...pe];return Se.forEach(Qe=>{Pe.find(Ke=>Ke.id===Qe.id)||Pe.push(Qe)}),Pe.sort((Qe,Ke)=>Qe.period-Ke.period)},[A,N,W,a,c]),re=ae=>{var Ce;const pe=e.find(be=>be.id===ae);D(ae),S(((Ce=pe==null?void 0:pe.absenceReasons)==null?void 0:Ce[c])||""),w(!0)},oe=le.useCallback(async()=>{let ae=[...e];const pe=ae.findIndex(be=>be.id===L);if(pe===-1)return;const Ce={...ae[pe]};Ce.unavailableDates.includes(c)||(Ce.unavailableDates=[...Ce.unavailableDates,c]),Ce.absenceReasons||(Ce.absenceReasons={}),Ce.absenceReasons[c]=M,ae[pe]=Ce,await s({teachers:ae}),w(!1)},[e,L,c,M,s]),ge=le.useCallback(async ae=>{let pe=[...e];const Ce=pe.findIndex(Se=>Se.id===ae);if(Ce===-1)return;const be={...pe[Ce]};be.unavailableDates=be.unavailableDates.filter(Se=>Se!==c),be.absenceReasons&&delete be.absenceReasons[c],pe[Ce]=be,await s({teachers:pe})},[e,c,s]),ye=le.useCallback(async ae=>{if(!v)return;let pe=[...a],Ce=[...e];const be=pe.findIndex(Qe=>Qe.scheduleItemId===v.scheduleItemId&&Qe.date===c),Se=A.find(Qe=>Qe.id===v.scheduleItemId);if(!Se)return;const Pe={id:be>=0?pe[be].id:Math.random().toString(36).substr(2,9),date:c,scheduleItemId:v.scheduleItemId,originalTeacherId:Se.teacherId,replacementTeacherId:ae,replacementRoomId:G||void 0};if(be>=0?pe[be]=Pe:pe.push(Pe),ae!=="conducted"&&ae!=="cancelled"&&ae!==Se.teacherId){const Qe=Ce.findIndex(Ke=>Ke.id===Se.teacherId);Qe>-1&&!Ce[Qe].unavailableDates.includes(c)&&(Ce[Qe]={...Ce[Qe],unavailableDates:[...Ce[Qe].unavailableDates,c],absenceReasons:{...Ce[Qe].absenceReasons,[c]:" "}},await s({teachers:Ce}))}await o({substitutions:pe}),g(!1),K(""),ne("")},[v,c,G,A,a,e,o,s]),Fe=le.useCallback(async ae=>{const pe=a.filter(Ce=>!(Ce.scheduleItemId===ae&&Ce.date===c));await o({substitutions:pe})},[a,c,o]),ke=le.useCallback(()=>{let ae=`*  ${new Date(c).toLocaleDateString("ru-RU")}*
`;const pe=a.some(be=>be.date===c&&be.replacementTeacherId!=="conducted"),Ce=(be,Se)=>{const Qe=ee.filter(Ke=>Ke.shift===Se).filter(Ke=>{const Me=a.find(ze=>ze.scheduleItemId===Ke.id&&ze.date===c);return Me&&Me.replacementTeacherId!=="conducted"});Qe.length>0&&(ae+=`
 *${be.toUpperCase()}*
`,Qe.forEach(Ke=>{var et,lt,Pt;const Me=a.find(ct=>ct.scheduleItemId===Ke.id&&ct.date===c),ze=r.find(ct=>ct.id===Ke.classId),ot=t.find(ct=>ct.id===Ke.subjectId),At=Me?e.find(ct=>ct.id===Me.replacementTeacherId):null,pt=e.find(ct=>ct.id===Ke.teacherId),ce=((et=n.find(ct=>ct.id===Ke.roomId))==null?void 0:et.name)||Ke.roomId||"?",Je=(lt=pt==null?void 0:pt.absenceReasons)==null?void 0:lt[c],Xe=(pt==null?void 0:pt.name)+(Je===" "?" ( )":""),it=Me!=null&&Me.replacementRoomId?((Pt=n.find(ct=>ct.id===Me.replacementRoomId))==null?void 0:Pt.name)||Me.replacementRoomId:null;if(Me)if(Me.replacementTeacherId==="cancelled")ae+=` ${ze==null?void 0:ze.name} (${Ke.period} ): ${ot==null?void 0:ot.name} (${Xe}) ->  
`;else if(Me.replacementTeacherId===Me.originalTeacherId&&it)ae+=` ${ze==null?void 0:ze.name} (${Ke.period} ): ${ot==null?void 0:ot.name} (${pt==null?void 0:pt.name}) ->  ${ce}  ${it}
`;else{let ct=` ${ze==null?void 0:ze.name} (${Ke.period} ): ${ot==null?void 0:ot.name} -> ${At==null?void 0:At.name} ( ${Xe})`;it&&(ct+=`  . ${it}`),ae+=ct+`
`}}))};pe?(Ce(nt.First,nt.First),Ce(nt.Second,nt.Second)):ae+=`
 .`,navigator.clipboard.writeText(ae),alert("     !")},[c,a,ee,r,t,e,n]),Oe=le.useCallback(()=>{let ae=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Gymnasium//Manager//RU
`;a.filter(Pe=>Pe.date===c).forEach(Pe=>{const Qe=A.find(At=>At.id===Pe.scheduleItemId);if(!Qe)return;let Ke="Unknown";if(Pe.replacementTeacherId==="cancelled")Ke=" ";else if(Pe.replacementTeacherId==="conducted")Ke=" ";else{const At=e.find(pt=>pt.id===Pe.replacementTeacherId);At&&(Ke=At.name)}const Me=t.find(At=>At.id===Qe.subjectId),ze=r.find(At=>At.id===Qe.classId),ot=Pe.date.replace(/-/g,"");ae+=`BEGIN:VEVENT
DTSTART;VALUE=DATE:${ot}
SUMMARY:: ${ze==null?void 0:ze.name} - ${Me==null?void 0:Me.name}
DESCRIPTION:: ${Ke}
END:VEVENT
`}),ae+="END:VCALENDAR";const Ce=new Blob([ae],{type:"text/calendar"}),be=URL.createObjectURL(Ce),Se=document.createElement("a");Se.href=be,Se.download="substitutions.ics",document.body.appendChild(Se),Se.click(),document.body.removeChild(Se)},[c,a,A,e,t,r]),Ne=le.useCallback(async()=>{if(!(i!=null&&i.telegramToken)){alert(" Telegram      ''.");return}let ae=`*  ${new Date(c).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}*

`,pe=!1;const Ce=new Set,be=[nt.First,nt.Second];for(const Pe of be){const Ke=ee.filter(Me=>Me.shift===Pe).filter(Me=>a.some(ze=>ze.scheduleItemId===Me.id&&ze.date===c&&ze.replacementTeacherId!=="conducted"));Ke.length>0&&(pe=!0,ae+=` *${Pe.toUpperCase()}*
`,Ke.forEach(Me=>{var Pt,ct;const ze=a.find(Lt=>Lt.scheduleItemId===Me.id&&Lt.date===c);if(!ze)return;const ot=r.find(Lt=>Lt.id===Me.classId),At=t.find(Lt=>Lt.id===Me.subjectId),pt=e.find(Lt=>Lt.id===ze.originalTeacherId),ce=e.find(Lt=>Lt.id===ze.replacementTeacherId),Je=((Pt=n.find(Lt=>Lt.id===Me.roomId))==null?void 0:Pt.name)||Me.roomId||"",Xe=ze.replacementRoomId?((ct=n.find(Lt=>Lt.id===ze.replacementRoomId))==null?void 0:ct.name)||ze.replacementRoomId:Je,it=(pt==null?void 0:pt.name)||"/",et=(ce==null?void 0:ce.name)||"/";let lt=`${Me.period}  (${ot==null?void 0:ot.name} ${At==null?void 0:At.name}${Me.direction?` ${Me.direction}`:""}): `;ze.replacementTeacherId==="cancelled"?lt+=`* * ( ${it})`:ze.replacementTeacherId===ze.originalTeacherId?lt+=`: ${it}.  : ${Je}  ${Xe}`:(lt+=`*${et}* ( *${it}*)`,Je!==Xe?lt+=`. : ${Je}  ${Xe}`:Xe!==""&&(lt+=`. : ${Xe}`)),ae+=`${lt}
`,pt!=null&&pt.telegramChatId&&Ce.add(pt.telegramChatId),ce!=null&&ce.telegramChatId&&Ce.add(ce.telegramChatId)}),ae+=`
`)}if(pe||(ae+=` .
`),W.forEach(Pe=>{const Qe=a.some(Ke=>Ke.date===c&&Ke.originalTeacherId===Pe.id&&Ke.replacementTeacherId!=="cancelled"&&Ke.replacementTeacherId!=="conducted");Pe.telegramChatId&&!Qe&&(Ce.add(Pe.telegramChatId),pe?ae+=`_:  ${Pe.name} ,        /._
`:ae+=`_:  ${Pe.name} ,      ._
`)}),Ce.size===0){alert("    Telegram Chat ID   .");return}const Se=`https://api.telegram.org/bot${i.telegramToken}/sendMessage`;try{const Pe=Array.from(Ce).map(Qe=>fetch(Se,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:Qe,text:ae,parse_mode:"Markdown"})}));await Promise.all(Pe),alert(`   ${Ce.size} !`)}catch(Pe){console.error("    Telegram:",Pe),alert("     Telegram.     .")}},[c,ee,a,r,t,e,n,W,i==null?void 0:i.telegramToken,A]),je=le.useMemo(()=>{if(!v||!N)return[];const ae=c.substring(0,7);return e.filter(pe=>pe.name.toLowerCase().includes(te.toLowerCase())).map(pe=>{const Ce=pe.unavailableDates.includes(c),be=A.some(Ke=>Ke.teacherId===pe.id&&Ke.day===N&&Ke.period===v.period&&Ke.shift===v.shift),Se=pe.subjectIds.includes(v.subjectId),Pe=a.filter(Ke=>Ke.replacementTeacherId===pe.id&&Ke.date.startsWith(ae)).length;let Qe=0;return Ce&&(Qe-=1e3),be&&(Qe-=100),Se&&(Qe+=50),{teacher:pe,isAbsent:Ce,isBusy:be,isSpecialist:Se,score:Qe,subsCount:Pe}}).sort((pe,Ce)=>Ce.score-pe.score)},[e,v,c,te,N,A,a]),xe=le.useMemo(()=>{if(!v)return null;const ae=A.find(Pe=>Pe.id===v.scheduleItemId);if(!ae)return null;const pe=r.find(Pe=>Pe.id===ae.classId),Ce=t.find(Pe=>Pe.id===ae.subjectId),be=e.find(Pe=>Pe.id===ae.teacherId),Se=be==null?void 0:be.unavailableDates.includes(c);return{className:pe==null?void 0:pe.name,subjectName:Ce==null?void 0:Ce.name,teacherName:be==null?void 0:be.name,teacherId:be==null?void 0:be.id,period:ae.period,roomId:ae.roomId,isTeacherAbsent:Se}},[v,A,r,t,e,c]),Ae=le.useMemo(()=>{if(!N||$.length<2)return[];const ae=$.toLowerCase(),pe=e.filter(Se=>Se.name.toLowerCase().includes(ae)),Ce=r.filter(Se=>Se.name.toLowerCase().includes(ae)),be=[];return pe.forEach(Se=>{A.filter(Qe=>Qe.teacherId===Se.id&&Qe.day===N).forEach(Qe=>{const Ke=r.find(ze=>ze.id===Qe.classId),Me=t.find(ze=>ze.id===Qe.subjectId);be.push({...Qe,entityName:Se.name,subInfo:Ke==null?void 0:Ke.name,subjectName:Me==null?void 0:Me.name})})}),Ce.forEach(Se=>{A.filter(Qe=>Qe.classId===Se.id&&Qe.day===N).forEach(Qe=>{if(be.find(ze=>ze.id===Qe.id))return;const Ke=e.find(ze=>ze.id===Qe.teacherId),Me=t.find(ze=>ze.id===Qe.subjectId);be.push({...Qe,entityName:Se.name,subInfo:Ke==null?void 0:Ke.name,subjectName:Me==null?void 0:Me.name})})}),be.sort((Se,Pe)=>Se.period-Pe.period)},[$,N,e,r,A,t]),mt=le.useCallback(async(ae,pe,Ce,be,Se,Pe)=>{const Ke=new Date(Pe).toLocaleDateString("ru-RU",{day:"numeric",month:"long"}),Me=pe.shift===nt.First?"1 ":"2 ",ze=` *  *
${ae.name}

 : ${Ke}
 : ${Me}
 : ${Ce==null?void 0:Ce.name}
1 : ${pe.period}
 : ${be==null?void 0:be.name}
 : ${Se||" "}`;if(i!=null&&i.telegramToken&&ae.telegramChatId)try{const At=await(await fetch(`https://api.telegram.org/bot${i.telegramToken}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:ae.telegramChatId,text:ze,parse_mode:"Markdown"})})).json();At.ok?alert(`   Telegram  ${ae.name}!`):At.description.includes("chat not found")?alert(` Telegram:   .

  ${ae.name}       "" (/start).`):alert(` Telegram: ${At.description}`)}catch(ot){alert("   Telegram (/)."),console.error(ot)}else navigator.share?navigator.share({title:"",text:ze}).catch(()=>{}):(navigator.clipboard.writeText(ze),alert(" ! (Telegram     Chat ID)"))},[i==null?void 0:i.telegramToken]);return f.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[f.jsxs("div",{className:"w-full md:w-80 flex flex-col gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2 block",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx(Ve,{name:"Calendar",className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),f.jsx("input",{type:"date",value:c,onChange:ae=>d(ae.target.value),className:"w-full pl-10 border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm font-bold outline-none focus:border-indigo-500 bg-transparent dark:text-white"})]}),f.jsxs("button",{onClick:()=>k(!E),className:`mt-3 w-full py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 border transition-all ${E?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white border-indigo-200 dark:border-slate-500"}`,children:[f.jsx(Ve,{name:"History",size:16})," ",E?" ":" "]})]}),E?f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex-1 overflow-hidden flex flex-col",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-2",children:""}),f.jsx("input",{placeholder:"  /...",value:O,onChange:ae=>_(ae.target.value),className:"mb-4 w-full bg-slate-100 dark:bg-slate-700 border-none rounded-lg p-2 text-xs"}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2",children:a.filter(ae=>{var pe;return ae.date.includes(O)||((pe=e.find(Ce=>Ce.id===ae.replacementTeacherId))==null?void 0:pe.name.toLowerCase().includes(O.toLowerCase()))}).map(ae=>{const pe=e.find(be=>be.id===ae.replacementTeacherId),Ce=n.find(be=>be.id===ae.replacementRoomId);return f.jsxs("div",{className:"p-2 border border-slate-100 dark:border-slate-700 rounded-lg text-xs",children:[f.jsx("div",{className:"font-bold",children:ae.date}),f.jsx("div",{children:(pe==null?void 0:pe.name)||(ae.replacementTeacherId==="cancelled"?"":"")}),Ce&&f.jsxs("div",{className:"text-indigo-500",children:[". ",Ce.name]})]},ae.id)})})]}):f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex-1 overflow-hidden flex flex-col",children:[f.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[f.jsx(Ve,{name:"UserX",size:18,className:"text-red-500"})," "]}),f.jsxs("div",{className:"mb-3 space-y-2",children:[f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[f.jsx("button",{onClick:()=>ue("all"),className:`flex-1 py-1 text-xs font-bold rounded-md ${Y==="all"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:""}),f.jsx("button",{onClick:()=>ue(nt.First),className:`flex-1 py-1 text-xs font-bold rounded-md ${Y===nt.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),f.jsx("button",{onClick:()=>ue(nt.Second),className:`flex-1 py-1 text-xs font-bold rounded-md ${Y===nt.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Ve,{name:"Search",className:"absolute left-3 top-2.5 text-slate-400",size:14}),f.jsx("input",{placeholder:" ...",value:F,onChange:ae=>U(ae.target.value),className:"w-full pl-8 pr-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-100 dark:border-slate-600 rounded-xl text-xs outline-none focus:ring-1 ring-indigo-500 dark:text-white"})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-1 space-y-2",children:[j.map(ae=>{const pe=ae.unavailableDates.includes(c),Ce=ae.absenceReasons?ae.absenceReasons[c]:"";return f.jsxs("div",{className:`flex flex-col p-3 rounded-xl border transition-all ${pe?"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900":"bg-slate-50 dark:bg-slate-700/50 border-slate-100 dark:border-slate-600"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("span",{className:`text-sm font-medium ${pe?"text-red-700 dark:text-red-400":"text-slate-600 dark:text-slate-300"}`,children:ae.name}),f.jsx("button",{onClick:()=>pe?ge(ae.id):re(ae.id),className:`text-xs px-2 py-1 rounded-lg font-bold transition-colors ${pe?"bg-white dark:bg-dark-800 text-red-600 dark:text-red-400 shadow-sm":"text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:pe?"":""})]}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx("div",{className:"flex gap-1",children:ae.shifts.map(be=>f.jsx("span",{className:"text-[9px] bg-white dark:bg-slate-600 px-1 rounded border border-slate-100 dark:border-slate-500 text-slate-400",children:be===nt.First?"1":"2"},be))}),pe&&f.jsxs("div",{className:"flex items-center gap-1",children:[Ce&&f.jsx("div",{className:"text-[10px] text-red-500 dark:text-red-400 italic",children:Ce}),f.jsx("button",{onClick:()=>re(ae.id),className:"w-6 h-6 flex items-center justify-center bg-white dark:bg-dark-800 text-red-600 dark:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full shadow-sm border border-slate-200 dark:border-slate-600",title:" ",children:f.jsx(Ve,{name:"Edit2",size:14})})]})]})]},ae.id)}),j.length===0&&f.jsx("div",{className:"text-center text-xs text-slate-400 py-4",children:" "})]})]})]}),f.jsxs("div",{className:"flex-1 bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:["  (",ee.length,")"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:Oe,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-xl text-sm font-bold hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",children:[f.jsx(Ve,{name:"Calendar",size:16})," iCal"]}),ee.length>0&&f.jsxs("button",{onClick:ke,className:"flex items-center gap-2 px-3 py-2 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-xl text-sm font-bold hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors",children:[f.jsx(Ve,{name:"Copy",size:16})," "]}),f.jsxs("button",{onClick:Ne,className:"px-4 py-2 bg-blue-500 text-white rounded-xl font-bold hover:bg-blue-600 transition shadow-lg shadow-blue-200 dark:shadow-none flex items-center gap-2",children:[f.jsx(Ve,{name:"Send",size:16})," Telegram"]}),f.jsxs("button",{onClick:()=>{P(""),C(!0)},className:"flex items-center gap-2 px-3 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 rounded-xl text-sm font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:[f.jsx(Ve,{name:"Search",size:16}),"  "]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-4",children:ee.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[f.jsx(Ve,{name:"CheckCircle",size:48,className:"mb-4 text-slate-200 dark:text-slate-700"}),f.jsx("p",{children:" ,     "})]}):ee.map(ae=>{var pt;const pe=a.find(ce=>ce.scheduleItemId===ae.id&&ce.date===c),Ce=pe&&pe.replacementTeacherId!=="cancelled"&&pe.replacementTeacherId!=="conducted"?e.find(ce=>ce.id===pe.replacementTeacherId):null,be=e.find(ce=>ce.id===ae.teacherId),Se=t.find(ce=>ce.id===ae.subjectId),Pe=r.find(ce=>ce.id===ae.classId),Qe=n.find(ce=>ce.id===ae.roomId),Ke=Qe?Qe.name:ae.roomId,Me=pe==null?void 0:pe.replacementRoomId,ze=Me?((pt=n.find(ce=>ce.id===Me))==null?void 0:pt.name)||Me:null;let ot=null;if((pe==null?void 0:pe.replacementTeacherId)==="conducted")ot=f.jsxs("div",{className:"flex items-center gap-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-900 pl-4 pr-2 py-2 rounded-xl",children:[f.jsx("div",{className:"text-blue-700 dark:text-blue-400 font-bold text-sm",children:" "}),f.jsx("button",{onClick:()=>Fe(ae.id),className:"p-2 bg-white dark:bg-dark-800 rounded-lg text-blue-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors shadow-sm",children:f.jsx(Ve,{name:"X",size:16})})]});else if((pe==null?void 0:pe.replacementTeacherId)==="cancelled")ot=f.jsxs("div",{className:"flex items-center gap-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 pl-4 pr-2 py-2 rounded-xl",children:[f.jsx("div",{className:"text-red-700 dark:text-red-400 font-bold text-sm",children:" "}),f.jsx("button",{onClick:()=>Fe(ae.id),className:"p-2 bg-white dark:bg-dark-800 rounded-lg text-red-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors shadow-sm",children:f.jsx(Ve,{name:"X",size:16})})]});else if(Ce||Me){const ce=(pe==null?void 0:pe.replacementTeacherId)===(pe==null?void 0:pe.originalTeacherId)&&Me;ot=f.jsxs("div",{className:"flex items-center gap-3 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-900 pl-4 pr-2 py-2 rounded-xl",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 tracking-wider",children:ce?" ":" "}),f.jsx("div",{className:"font-bold text-emerald-900 dark:text-emerald-200 text-sm",children:ce?"  ":Ce==null?void 0:Ce.name})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>mt(Ce||be,ae,Pe,Se,ze||Ke,c),className:"p-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm transition-all",title:" ",children:f.jsx(Ve,{name:"Send",size:18})}),f.jsx("button",{onClick:()=>Fe(ae.id),className:"p-2 rounded-lg bg-white dark:bg-slate-800 text-red-500 border border-red-100 dark:border-red-900/30 hover:bg-red-50 dark:hover:bg-red-900/20 shadow-sm transition-all",title:" ",children:f.jsx(Ve,{name:"UserX",size:18})})]})]})}else ot=f.jsxs("button",{onClick:()=>{x({scheduleItemId:ae.id,subjectId:ae.subjectId,period:ae.period,shift:ae.shift,classId:ae.classId,teacherId:ae.teacherId,roomId:ae.roomId,day:ae.day}),g(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-3 rounded-xl text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none transition-all flex items-center justify-center gap-2 xl:w-auto w-full",children:["  ",f.jsx(Ve,{name:"ArrowRight",size:16})]});const At=!W.find(ce=>ce.id===ae.teacherId);return f.jsxs("div",{className:"p-4 rounded-xl border border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-700/30 flex flex-col xl:flex-row xl:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-600 flex flex-col items-center justify-center text-indigo-600 dark:text-indigo-400",children:[f.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 leading-none",children:""}),f.jsx("span",{className:"text-xl font-black leading-none mt-1 dark:text-slate-200",children:ae.period})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:Pe==null?void 0:Pe.name}),f.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[f.jsx("span",{className:"text-xs font-bold text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1 rounded",children:ae.shift===nt.First?"1":"2"}),f.jsx("span",{className:"text-slate-400",children:"|"}),f.jsx("span",{children:Se==null?void 0:Se.name})]})]}),f.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[f.jsx("span",{className:At?"font-semibold":"line-through decoration-red-400 decoration-2",children:be==null?void 0:be.name}),Ke&&f.jsxs("span",{className:"text-xs bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-slate-200 dark:border-slate-600 flex items-center gap-1",children:[Ke," ",ze&&f.jsxs("span",{className:"text-indigo-600 font-bold",children:[" ",ze]})]})]})]})]}),ot]},ae.id)})})]}),f.jsxs(Mu,{isOpen:p,onClose:()=>g(!1),title:" ",children:[xe&&f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-3 rounded-xl mb-4 text-sm border border-slate-100 dark:border-slate-600",children:[f.jsxs("div",{className:"font-bold text-slate-700 dark:text-slate-200 mb-1",children:[xe.className,"  ",xe.period," "]}),f.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-slate-400",children:[f.jsx("span",{children:xe.subjectName}),f.jsx("span",{className:xe.isTeacherAbsent?"line-through decoration-red-400":"font-semibold",children:xe.teacherName})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"  ()"}),f.jsxs("select",{value:G,onChange:ae=>ne(ae.target.value),className:"w-full border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm outline-none focus:border-indigo-500 dark:bg-slate-700 dark:text-white",children:[f.jsx("option",{value:"",children:"  "}),n.map(ae=>f.jsxs("option",{value:ae.id,children:[ae.name," (",ae.capacity," )"]},ae.id))]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[f.jsx("button",{onClick:()=>ye("conducted"),className:"p-3 rounded-xl bg-blue-50 text-blue-700 font-bold text-sm hover:bg-blue-100 transition",children:" "}),f.jsx("button",{onClick:()=>ye("cancelled"),className:"p-3 rounded-xl bg-red-50 text-red-700 font-bold text-sm hover:bg-red-100 transition",children:" "})]}),(xe==null?void 0:xe.teacherId)&&!xe.isTeacherAbsent&&f.jsx("button",{onClick:()=>ye(xe.teacherId),className:"w-full p-3 mb-4 rounded-xl bg-emerald-50 text-emerald-700 font-bold text-sm hover:bg-emerald-100 transition border border-emerald-200",children:"   (  )"}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx(Ve,{name:"Search",className:"absolute left-3 top-2.5 text-slate-400",size:14}),f.jsx("input",{autoFocus:!0,placeholder:"  ...",value:te,onChange:ae=>K(ae.target.value),className:"w-full pl-8 pr-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm outline-none focus:border-indigo-500 dark:text-white"})]}),f.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:[je.map(({teacher:ae,isAbsent:pe,isBusy:Ce,isSpecialist:be,subsCount:Se})=>f.jsxs("button",{disabled:pe||Ce,onClick:()=>ye(ae.id),className:`w-full p-3 rounded-xl border flex items-center justify-between transition-all text-left ${pe?"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900 opacity-60":Ce?"bg-orange-50 dark:bg-orange-900/20 border-orange-100 dark:border-orange-900 opacity-60":"bg-white dark:bg-dark-800 border-slate-100 dark:border-slate-700 hover:border-indigo-500 hover:shadow-md"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${be?"bg-emerald-100 text-emerald-700":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300"}`,children:be?f.jsx(Ve,{name:"Star",size:14,fill:"currentColor"}):ae.name[0]}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:ae.name}),f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 flex flex-wrap gap-2",children:[be&&f.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 px-1.5 rounded",children:""}),Ce&&f.jsx("span",{className:"text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20 px-1.5 rounded",children:""}),pe&&f.jsx("span",{className:"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-1.5 rounded",children:""}),f.jsxs("span",{className:`px-1.5 rounded font-medium ${Se>5?"text-amber-600 bg-amber-50 dark:bg-amber-900/20":"text-blue-600 bg-blue-50 dark:bg-blue-900/20"}`,children:["  : ",Se]})]})]})]}),!pe&&!Ce&&f.jsx("div",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded text-xs font-bold",children:""})]},ae.id)),je.length===0&&f.jsx("div",{className:"text-center text-slate-400 text-xs py-4",children:"  "})]})]}),f.jsxs(Mu,{isOpen:B,onClose:()=>C(!1),title:"  ",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"     ,       (  )."}),f.jsxs("div",{className:"relative",children:[f.jsx(Ve,{name:"Search",className:"absolute left-3 top-2.5 text-slate-400",size:14}),f.jsx("input",{autoFocus:!0,placeholder:": 6  ...",value:$,onChange:ae=>P(ae.target.value),className:"w-full pl-8 pr-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm outline-none focus:border-indigo-500 dark:text-white"})]})]}),f.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:[Ae.map(ae=>{var pe;return f.jsxs("button",{onClick:()=>{C(!1),x({scheduleItemId:ae.id,subjectId:ae.subjectId,period:ae.period,shift:ae.shift,classId:ae.classId,teacherId:ae.teacherId,roomId:ae.roomId,day:ae.day}),g(!0)},className:"w-full p-3 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors text-left group",children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:[ae.entityName," ",f.jsxs("span",{className:"font-normal text-slate-500",children:["(",ae.subInfo,")"]})]}),f.jsxs("span",{className:"text-xs font-bold bg-slate-100 dark:bg-slate-600 px-2 py-0.5 rounded",children:[ae.period," "]})]}),f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex gap-2",children:[f.jsx("span",{children:ae.subjectName}),ae.roomId&&f.jsxs("span",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 px-1 rounded",children:[". ",((pe=n.find(Ce=>Ce.id===ae.roomId))==null?void 0:pe.name)||ae.roomId]})]})]},ae.id)}),$.length>1&&Ae.length===0&&f.jsxs("div",{className:"text-center text-slate-400 text-xs py-4",children:["      (",c,")"]})]})]}),f.jsx(Mu,{isOpen:T,onClose:()=>w(!1),title:" ",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("select",{value:M,onChange:ae=>S(ae.target.value),className:"w-full border p-3 rounded-xl outline-none font-bold text-slate-700 dark:text-white dark:bg-slate-700 dark:border-slate-600",children:[f.jsx("option",{children:""}),f.jsx("option",{children:""}),f.jsx("option",{children:""}),f.jsx("option",{children:" "}),f.jsx("option",{children:""}),f.jsx("option",{children:" "})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{onClick:oe,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold",children:""})})]})})]})},eK=()=>{const{subjects:t,teachers:e,rooms:r,settings:n,saveStaticData:i}=Al(),{schedule:s}=bd(),[A,a]=le.useState("teachers"),[o,l]=le.useState(new Date().toISOString().split("T")[0]),[c,d]=le.useState(nt.First),[p,g]=le.useState(1),[v,x]=le.useState(nt.First),[T,w]=le.useState(1),[B,C]=le.useState((n==null?void 0:n.telegramToken)||""),[L,D]=le.useState((n==null?void 0:n.feedbackChatId)||"");le.useEffect(()=>{C((n==null?void 0:n.telegramToken)||""),D((n==null?void 0:n.feedbackChatId)||"")},[n]),le.useEffect(()=>{g(c===nt.First?1:0)},[c]),le.useEffect(()=>{w(v===nt.First?1:0)},[v]);const M=le.useMemo(()=>{const _=new Date(o).getDay();return _===0||_===6?null:yi[_-1]},[o]),S=lo[c],E=le.useMemo(()=>M?e.filter(_=>_.shifts&&!_.shifts.includes(c)||_.unavailableDates.includes(o)?!1:!s.some(U=>U.teacherId===_.id&&U.day===M&&U.period>p&&U.shift===c)).sort((_,F)=>_.name.localeCompare(F.name)):[],[e,o,M,p,c,s]),k=le.useMemo(()=>{if(!M)return[];const _=new Set;return s.forEach(U=>{U.day===M&&U.period===T&&U.shift===v&&U.roomId&&_.add(U.roomId)}),r.filter(U=>!_.has(U.id)).map(U=>U.name)},[s,r,M,T,v]),O=async()=>{await i({settings:{...n,telegramToken:B,feedbackChatId:L}}),alert(" !")};return f.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mb-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-6",children:[f.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[f.jsx(Ve,{name:"Settings",className:"text-indigo-600 dark:text-indigo-400"}),"  "]}),f.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>a("teachers"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${A==="teachers"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),f.jsx("button",{onClick:()=>a("rooms"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${A==="rooms"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),f.jsx("button",{onClick:()=>a("settings"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${A==="settings"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""})]})]}),A!=="settings"&&f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),f.jsx("input",{type:"date",value:o,onChange:_=>l(_.target.value),className:"border border-slate-200 dark:border-slate-600 p-3 rounded-xl font-bold outline-none focus:border-indigo-500 bg-transparent dark:text-white w-full md:w-auto"})]}),A==="teachers"&&f.jsxs("div",{className:"flex flex-wrap gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),f.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>d(nt.First),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${c===nt.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),f.jsx("button",{onClick:()=>d(nt.Second),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${c===nt.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"   "}),f.jsx("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl w-fit",children:S.map(_=>f.jsx("button",{onClick:()=>g(_),className:`w-10 h-10 rounded-lg font-bold text-sm transition-all ${p===_?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:_},_))})]})]}),A==="rooms"&&f.jsxs("div",{className:"flex flex-wrap gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),f.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>x(nt.First),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${v===nt.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),f.jsx("button",{onClick:()=>x(nt.Second),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${v===nt.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:" "}),f.jsx("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl w-fit",children:lo[v].map(_=>f.jsx("button",{onClick:()=>w(_),className:`w-10 h-10 rounded-lg font-bold text-sm transition-all ${T===_?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:_},_))})]})]}),A==="settings"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"Telegram Bot Token"}),f.jsx("input",{type:"password",value:B,onChange:_=>C(_.target.value),className:"w-full border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm outline-none dark:bg-slate-700 dark:text-white",placeholder:"123456789:ABCDefGhIjkLmNoPqRsTuVwXyZ"}),f.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["   @BotFather.        ",f.jsx("b",{children:"/start"}),",   ."]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"Telegram Chat ID   "}),f.jsx("input",{type:"text",value:L,onChange:_=>D(_.target.value),className:"w-full border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm outline-none dark:bg-slate-700 dark:text-white",placeholder:"  Chat ID  ID "}),f.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"            ."})]}),f.jsx("button",{onClick:O,className:"bg-indigo-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-indigo-700 transition",children:""})]})]}),A==="teachers"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[E.map(_=>f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center gap-4 hover:shadow-md transition-all",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 flex items-center justify-center",children:f.jsx(Ve,{name:"CheckCircle",size:24})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:_.name}),f.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_.subjectIds.slice(0,2).map(F=>{const U=t.find(Y=>Y.id===F);return U?f.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:U.name},F):null})})]})]},_.id)),E.length===0&&f.jsxs("div",{className:"col-span-full py-12 text-center text-slate-400",children:["  ,   ",p,"   ",c]})]}),A==="rooms"&&f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[k.map(_=>f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm text-center flex flex-col items-center justify-center hover:border-indigo-500 transition-all",children:[f.jsx(Ve,{name:"DoorOpen",size:24,className:"text-emerald-500 mb-2"}),f.jsx("div",{className:"text-xl font-black text-slate-800 dark:text-white",children:_}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-bold uppercase",children:""})]},_)),k.length===0&&f.jsxs("div",{className:"col-span-full py-12 text-center text-slate-400",children:[f.jsx(Ve,{name:"AlertTriangle",size:48,className:"mx-auto mb-4 text-slate-300 dark:text-slate-600"}),f.jsx("p",{children:"      (   )."})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qy=function(t,e){return qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},qy(t,e)};function Gs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $y=function(){return $y=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$y.apply(this,arguments)};function ai(t,e,r,n){function i(s){return s instanceof r?s:new r(function(A){A(s)})}return new(r||(r=Promise))(function(s,A){function a(c){try{l(n.next(c))}catch(d){A(d)}}function o(c){try{l(n.throw(c))}catch(d){A(d)}}function l(c){c.done?s(c.value):i(c.value).then(a,o)}l((n=n.apply(t,[])).next())})}function $n(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A;return A={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function a(l){return function(c){return o([l,c])}}function o(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ag(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var So=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),hv=function(t,e){return So.fromClientRect(t,e.getBoundingClientRect())},tK=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new So(0,0,n,i)},fv=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Kr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var A=t[i];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},xE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rK=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var og=0;og<xE.length;og++)rK[xE.charCodeAt(og)]=og;var EE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ag=0;ag<EE.length;ag++)wh[EE.charCodeAt(ag)]=ag;var nK=function(t){var e=t.length*.75,r=t.length,n,i=0,s,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=wh[t.charCodeAt(n)],A=wh[t.charCodeAt(n+1)],a=wh[t.charCodeAt(n+2)],o=wh[t.charCodeAt(n+3)],c[i++]=s<<2|A>>4,c[i++]=(A&15)<<4|a>>2,c[i++]=(a&3)<<6|o&63;return l},iK=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},sK=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Xl=5,KC=11,Mw=2,AK=KC-Xl,Xk=65536>>Xl,oK=1<<Xl,jw=oK-1,aK=1024>>Xl,lK=Xk+aK,cK=lK,uK=32,dK=cK+uK,hK=65536>>KC,fK=1<<AK,pK=fK-1,_E=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},gK=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},mK=function(t,e){var r=nK(t),n=Array.isArray(r)?sK(r):new Uint32Array(r),i=Array.isArray(r)?iK(r):new Uint16Array(r),s=24,A=_E(i,s/2,n[4]/2),a=n[5]===2?_E(i,(s+n[4])/2):gK(n,Math.ceil((s+n[4])/4));return new vK(n[0],n[1],n[2],n[3],A,a)},vK=function(){function t(e,r,n,i,s,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Xl],r=(r<<Mw)+(e&jw),this.data[r];if(e<=65535)return r=this.index[Xk+(e-55296>>Xl)],r=(r<<Mw)+(e&jw),this.data[r];if(e<this.highStart)return r=dK-hK+(e>>KC),r=this.index[r],r+=e>>Xl&pK,r=this.index[r],r=(r<<Mw)+(e&jw),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),IE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wK=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lg=0;lg<IE.length;lg++)wK[IE.charCodeAt(lg)]=lg;var yK="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",SE=50,BK=1,Yk=2,Zk=3,CK=4,bK=5,FE=7,eU=8,TE=9,Ia=10,Jy=11,kE=12,Xy=13,xK=14,yh=15,Yy=16,cg=17,th=18,EK=19,UE=20,Zy=21,rh=22,Hw=23,$c=24,Oi=25,Bh=26,Ch=27,Jc=28,_K=29,Ll=30,IK=31,ug=32,dg=33,e2=34,t2=35,r2=36,Lf=37,n2=38,A0=39,o0=40,Vw=41,tU=42,SK=43,FK=[9001,65288],rU="!",jt="",hg="",i2=mK(yK),eo=[Ll,r2],s2=[BK,Yk,Zk,bK],nU=[Ia,eU],NE=[Ch,Bh],TK=s2.concat(nU),QE=[n2,A0,o0,e2,t2],kK=[yh,Xy],UK=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,A){var a=i2.get(s);if(a>SE?(i.push(!0),a-=SE):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(A),r.push(Yy);if(a===CK||a===Jy){if(A===0)return n.push(A),r.push(Ll);var o=r[A-1];return TK.indexOf(o)===-1?(n.push(n[A-1]),r.push(o)):(n.push(A),r.push(Ll))}if(n.push(A),a===IK)return r.push(e==="strict"?Zy:Lf);if(a===tU||a===_K)return r.push(Ll);if(a===SK)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Lf):r.push(Ll);r.push(a)}),[n,r,i]},Kw=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var A=n[s];if(A===e)return!0;if(A!==Ia)break}if(i===Ia)for(var s=r;s>0;){s--;var a=n[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var o=r;o<=n.length;){o++;var A=n[o];if(A===e)return!0;if(A!==Ia)break}if(a!==Ia)break}return!1},LE=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Ia)r--;else return n}return 0},NK=function(t,e,r,n,i){if(r[n]===0)return jt;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return jt;var A=s-1,a=s+1,o=e[s],l=A>=0?e[A]:0,c=e[a];if(o===Yk&&c===Zk)return jt;if(s2.indexOf(o)!==-1)return rU;if(s2.indexOf(c)!==-1||nU.indexOf(c)!==-1)return jt;if(LE(s,e)===eU)return hg;if(i2.get(t[s])===Jy||(o===ug||o===dg)&&i2.get(t[a])===Jy||o===FE||c===FE||o===TE||[Ia,Xy,yh].indexOf(o)===-1&&c===TE||[cg,th,EK,$c,Jc].indexOf(c)!==-1||LE(s,e)===rh||Kw(Hw,rh,s,e)||Kw([cg,th],Zy,s,e)||Kw(kE,kE,s,e))return jt;if(o===Ia)return hg;if(o===Hw||c===Hw)return jt;if(c===Yy||o===Yy)return hg;if([Xy,yh,Zy].indexOf(c)!==-1||o===xK||l===r2&&kK.indexOf(o)!==-1||o===Jc&&c===r2||c===UE||eo.indexOf(c)!==-1&&o===Oi||eo.indexOf(o)!==-1&&c===Oi||o===Ch&&[Lf,ug,dg].indexOf(c)!==-1||[Lf,ug,dg].indexOf(o)!==-1&&c===Bh||eo.indexOf(o)!==-1&&NE.indexOf(c)!==-1||NE.indexOf(o)!==-1&&eo.indexOf(c)!==-1||[Ch,Bh].indexOf(o)!==-1&&(c===Oi||[rh,yh].indexOf(c)!==-1&&e[a+1]===Oi)||[rh,yh].indexOf(o)!==-1&&c===Oi||o===Oi&&[Oi,Jc,$c].indexOf(c)!==-1)return jt;if([Oi,Jc,$c,cg,th].indexOf(c)!==-1)for(var d=s;d>=0;){var p=e[d];if(p===Oi)return jt;if([Jc,$c].indexOf(p)!==-1)d--;else break}if([Ch,Bh].indexOf(c)!==-1)for(var d=[cg,th].indexOf(o)!==-1?A:s;d>=0;){var p=e[d];if(p===Oi)return jt;if([Jc,$c].indexOf(p)!==-1)d--;else break}if(n2===o&&[n2,A0,e2,t2].indexOf(c)!==-1||[A0,e2].indexOf(o)!==-1&&[A0,o0].indexOf(c)!==-1||[o0,t2].indexOf(o)!==-1&&c===o0||QE.indexOf(o)!==-1&&[UE,Bh].indexOf(c)!==-1||QE.indexOf(c)!==-1&&o===Ch||eo.indexOf(o)!==-1&&eo.indexOf(c)!==-1||o===$c&&eo.indexOf(c)!==-1||eo.concat(Oi).indexOf(o)!==-1&&c===rh&&FK.indexOf(t[a])===-1||eo.concat(Oi).indexOf(c)!==-1&&o===th)return jt;if(o===Vw&&c===Vw){for(var g=r[s],v=1;g>0&&(g--,e[g]===Vw);)v++;if(v%2!==0)return jt}return o===ug&&c===dg?jt:hg},QK=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=UK(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[Oi,Ll,tU].indexOf(a)!==-1?Lf:a}));var A=e.wordBreak==="keep-all"?s.map(function(a,o){return a&&t[o]>=19968&&t[o]<=40959}):void 0;return[n,i,A]},LK=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===rU,this.start=n,this.end=i}return t.prototype.slice=function(){return Kr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),PK=function(t,e){var r=fv(t),n=QK(r,e),i=n[0],s=n[1],A=n[2],a=r.length,o=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var c=jt;l<a&&(c=NK(r,s,i,++l,A))===jt;);if(c!==jt||l===a){var d=new LK(r,c,o,l);return o=l,{value:d,done:!1}}return{done:!0,value:null}}}},RK=1,DK=2,cp=4,PE=8,Am=10,RE=47,Kh=92,OK=9,MK=32,fg=34,nh=61,jK=35,HK=36,VK=37,pg=39,gg=40,ih=41,KK=95,Ci=45,zK=33,WK=60,GK=62,qK=64,$K=91,JK=93,XK=61,YK=123,mg=63,ZK=125,DE=124,ez=126,tz=128,OE=65533,zw=42,Hl=43,rz=44,nz=58,iz=59,Pf=46,sz=0,Az=8,oz=11,az=14,lz=31,cz=127,cA=-1,iU=48,sU=97,AU=101,uz=102,dz=117,hz=122,oU=65,aU=69,lU=70,fz=85,pz=90,Xn=function(t){return t>=iU&&t<=57},gz=function(t){return t>=55296&&t<=57343},Xc=function(t){return Xn(t)||t>=oU&&t<=lU||t>=sU&&t<=uz},mz=function(t){return t>=sU&&t<=hz},vz=function(t){return t>=oU&&t<=pz},wz=function(t){return mz(t)||vz(t)},yz=function(t){return t>=tz},vg=function(t){return t===Am||t===OK||t===MK},om=function(t){return wz(t)||yz(t)||t===KK},ME=function(t){return om(t)||Xn(t)||t===Ci},Bz=function(t){return t>=sz&&t<=Az||t===oz||t>=az&&t<=lz||t===cz},va=function(t,e){return t!==Kh?!1:e!==Am},wg=function(t,e,r){return t===Ci?om(e)||va(e,r):om(t)?!0:!!(t===Kh&&va(t,e))},Ww=function(t,e,r){return t===Hl||t===Ci?Xn(e)?!0:e===Pf&&Xn(r):Xn(t===Pf?e:t)},Cz=function(t){var e=0,r=1;(t[e]===Hl||t[e]===Ci)&&(t[e]===Ci&&(r=-1),e++);for(var n=[];Xn(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Kr.apply(void 0,n),10):0;t[e]===Pf&&e++;for(var s=[];Xn(t[e]);)s.push(t[e++]);var A=s.length,a=A?parseInt(Kr.apply(void 0,s),10):0;(t[e]===aU||t[e]===AU)&&e++;var o=1;(t[e]===Hl||t[e]===Ci)&&(t[e]===Ci&&(o=-1),e++);for(var l=[];Xn(t[e]);)l.push(t[e++]);var c=l.length?parseInt(Kr.apply(void 0,l),10):0;return r*(i+a*Math.pow(10,-A))*Math.pow(10,o*c)},bz={type:2},xz={type:3},Ez={type:4},_z={type:13},Iz={type:8},Sz={type:21},Fz={type:9},Tz={type:10},kz={type:11},Uz={type:12},Nz={type:14},yg={type:23},Qz={type:1},Lz={type:25},Pz={type:24},Rz={type:26},Dz={type:27},Oz={type:28},Mz={type:29},jz={type:31},A2={type:32},cU=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(fv(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==A2;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case fg:return this.consumeStringToken(fg);case jK:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(ME(r)||va(n,i)){var s=wg(r,n,i)?DK:RK,A=this.consumeName();return{type:5,value:A,flags:s}}break;case HK:if(this.peekCodePoint(0)===nh)return this.consumeCodePoint(),_z;break;case pg:return this.consumeStringToken(pg);case gg:return bz;case ih:return xz;case zw:if(this.peekCodePoint(0)===nh)return this.consumeCodePoint(),Nz;break;case Hl:if(Ww(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case rz:return Ez;case Ci:var a=e,o=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Ww(a,o,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(wg(a,o,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===Ci&&l===GK)return this.consumeCodePoint(),this.consumeCodePoint(),Pz;break;case Pf:if(Ww(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case RE:if(this.peekCodePoint(0)===zw)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===zw&&(c=this.consumeCodePoint(),c===RE))return this.consumeToken();if(c===cA)return this.consumeToken()}break;case nz:return Rz;case iz:return Dz;case WK:if(this.peekCodePoint(0)===zK&&this.peekCodePoint(1)===Ci&&this.peekCodePoint(2)===Ci)return this.consumeCodePoint(),this.consumeCodePoint(),Lz;break;case qK:var d=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(wg(d,p,g)){var A=this.consumeName();return{type:7,value:A}}break;case $K:return Oz;case Kh:if(va(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case JK:return Mz;case XK:if(this.peekCodePoint(0)===nh)return this.consumeCodePoint(),Iz;break;case YK:return kz;case ZK:return Uz;case dz:case fz:var v=this.peekCodePoint(0),x=this.peekCodePoint(1);return v===Hl&&(Xc(x)||x===mg)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case DE:if(this.peekCodePoint(0)===nh)return this.consumeCodePoint(),Fz;if(this.peekCodePoint(0)===DE)return this.consumeCodePoint(),Sz;break;case ez:if(this.peekCodePoint(0)===nh)return this.consumeCodePoint(),Tz;break;case cA:return A2}return vg(e)?(this.consumeWhiteSpace(),jz):Xn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):om(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Kr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Xc(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===mg&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Kr.apply(void 0,e.map(function(o){return o===mg?iU:o})),16),s=parseInt(Kr.apply(void 0,e.map(function(o){return o===mg?lU:o})),16);return{type:30,start:i,end:s}}var A=parseInt(Kr.apply(void 0,e),16);if(this.peekCodePoint(0)===Ci&&Xc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var a=[];Xc(r)&&a.length<6;)a.push(r),r=this.consumeCodePoint();var s=parseInt(Kr.apply(void 0,a),16);return{type:30,start:A,end:s}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===gg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===gg?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===cA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===pg||r===fg){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===cA||this.peekCodePoint(0)===ih)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yg)}for(;;){var i=this.consumeCodePoint();if(i===cA||i===ih)return{type:22,value:Kr.apply(void 0,e)};if(vg(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===cA||this.peekCodePoint(0)===ih?(this.consumeCodePoint(),{type:22,value:Kr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yg);if(i===fg||i===pg||i===gg||Bz(i))return this.consumeBadUrlRemnants(),yg;if(i===Kh)if(va(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),yg;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;vg(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ih||e===cA)return;va(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Kr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===cA||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===Am)return this._value.splice(0,n),Qz;if(i===Kh){var s=this._value[n+1];s!==cA&&s!==void 0&&(s===Am?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):va(i,s)&&(r+=this.consumeStringSlice(n),r+=Kr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=cp,n=this.peekCodePoint(0);for((n===Hl||n===Ci)&&e.push(this.consumeCodePoint());Xn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Pf&&Xn(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=PE;Xn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===aU||n===AU)&&((i===Hl||i===Ci)&&Xn(s)||Xn(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=PE;Xn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Cz(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),A=this.peekCodePoint(2);if(wg(i,s,A)){var a=this.consumeName();return{type:15,number:r,flags:n,unit:a}}return i===VK?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Xc(e)){for(var r=Kr(e);Xc(this.peekCodePoint(0))&&r.length<6;)r+=Kr(this.consumeCodePoint());vg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||gz(n)||n>1114111?OE:n}return e===cA?OE:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(ME(r))e+=Kr(r);else if(va(r,this.peekCodePoint(0)))e+=Kr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),uU=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new cU;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Vz(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?A2:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),up=function(t){return t.type===15},xd=function(t){return t.type===17},lr=function(t){return t.type===20},Hz=function(t){return t.type===0},o2=function(t,e){return lr(t)&&t.value===e},dU=function(t){return t.type!==31},ad=function(t){return t.type!==31&&t.type!==4},NA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},Vz=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Ya=function(t){return t.type===17||t.type===15},nn=function(t){return t.type===16||Ya(t)},hU=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Un={type:17,number:0,flags:cp},zC={type:16,number:50,flags:cp},Sa={type:16,number:100,flags:cp},bh=function(t,e,r){var n=t[0],i=t[1];return[gr(n,e),gr(typeof i<"u"?i:n,r)]},gr=function(t,e){if(t.type===16)return t.number/100*e;if(up(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},fU="deg",pU="grad",gU="rad",mU="turn",pv={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case fU:return Math.PI*e.number/180;case pU:return Math.PI/200*e.number;case gU:return e.number;case mU:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},vU=function(t){return t.type===15&&(t.unit===fU||t.unit===pU||t.unit===gU||t.unit===mU)},wU=function(t){var e=t.filter(lr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Un,Un];case"to top":case"bottom":return fs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Un,Sa];case"to right":case"left":return fs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Sa,Sa];case"to bottom":case"top":return fs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Sa,Un];case"to left":case"right":return fs(270)}return 0},fs=function(t){return Math.PI*t/180},Ha={name:"color",parse:function(t,e){if(e.type===18){var r=Kz[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Fa(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),A=e.value.substring(3,4);return Fa(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(A+A,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Fa(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),A=e.value.substring(6,8);return Fa(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(A,16)/255)}}if(e.type===20){var a=mo[e.value.toUpperCase()];if(typeof a<"u")return a}return mo.TRANSPARENT}},Va=function(t){return(255&t)===0},mn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},Fa=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},jE=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},HE=function(t,e){var r=e.filter(ad);if(r.length===3){var n=r.map(jE),i=n[0],s=n[1],A=n[2];return Fa(i,s,A,1)}if(r.length===4){var a=r.map(jE),i=a[0],s=a[1],A=a[2],o=a[3];return Fa(i,s,A,o)}return 0};function Gw(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var VE=function(t,e){var r=e.filter(ad),n=r[0],i=r[1],s=r[2],A=r[3],a=(n.type===17?fs(n.number):pv.parse(t,n))/(Math.PI*2),o=nn(i)?i.number/100:0,l=nn(s)?s.number/100:0,c=typeof A<"u"&&nn(A)?gr(A,1):1;if(o===0)return Fa(l*255,l*255,l*255,1);var d=l<=.5?l*(o+1):l+o-l*o,p=l*2-d,g=Gw(p,d,a+1/3),v=Gw(p,d,a),x=Gw(p,d,a-1/3);return Fa(g*255,v*255,x*255,c)},Kz={hsl:VE,hsla:VE,rgb:HE,rgba:HE},zh=function(t,e){return Ha.parse(t,uU.create(e).parseComponentValue())},mo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zz={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(lr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Wz={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gv=function(t,e){var r=Ha.parse(t,e[0]),n=e[1];return n&&nn(n)?{color:r,stop:n}:{color:r,stop:null}},KE=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Un),n.stop===null&&(n.stop=Sa);for(var i=[],s=0,A=0;A<t.length;A++){var a=t[A].stop;if(a!==null){var o=gr(a,e);o>s?i.push(o):i.push(s),s=o}else i.push(null)}for(var l=null,A=0;A<i.length;A++){var c=i[A];if(c===null)l===null&&(l=A);else if(l!==null){for(var d=A-l,p=i[l-1],g=(c-p)/(d+1),v=1;v<=d;v++)i[l+v-1]=g*v;l=null}}return t.map(function(x,T){var w=x.color;return{color:w,stop:Math.max(Math.min(1,i[T]/e),0)}})},Gz=function(t,e,r){var n=e/2,i=r/2,s=gr(t[0],e)-n,A=i-gr(t[1],r);return(Math.atan2(A,s)+Math.PI*2)%(Math.PI*2)},qz=function(t,e,r){var n=typeof t=="number"?t:Gz(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,A=r/2,a=i/2,o=Math.sin(n-Math.PI/2)*a,l=Math.cos(n-Math.PI/2)*a;return[i,s-l,s+l,A-o,A+o]},Ls=function(t,e){return Math.sqrt(t*t+e*e)},zE=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(A,a){var o=a[0],l=a[1],c=Ls(r-o,n-l);return(i?c<A.optimumDistance:c>A.optimumDistance)?{optimumCorner:a,optimumDistance:c}:A},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},$z=function(t,e,r,n,i){var s=0,A=0;switch(t.size){case 0:t.shape===0?s=A=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),A=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=A=Math.min(Ls(e,r),Ls(e,r-i),Ls(e-n,r),Ls(e-n,r-i));else if(t.shape===1){var a=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),o=zE(n,i,e,r,!0),l=o[0],c=o[1];s=Ls(l-e,(c-r)/a),A=a*s}break;case 1:t.shape===0?s=A=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),A=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=A=Math.max(Ls(e,r),Ls(e,r-i),Ls(e-n,r),Ls(e-n,r-i));else if(t.shape===1){var a=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=zE(n,i,e,r,!1),l=d[0],c=d[1];s=Ls(l-e,(c-r)/a),A=a*s}break}return Array.isArray(t.size)&&(s=gr(t.size[0],n),A=t.size.length===2?gr(t.size[1],i):s),[s,A]},Jz=function(t,e){var r=fs(180),n=[];return NA(e).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&A.value==="to"){r=wU(i);return}else if(vU(A)){r=pv.parse(t,A);return}}var a=gv(t,i);n.push(a)}),{angle:r,stops:n,type:1}},Bg=function(t,e){var r=fs(180),n=[];return NA(e).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){r=wU(i);return}else if(vU(A)){r=(pv.parse(t,A)+fs(270))%fs(360);return}}var a=gv(t,i);n.push(a)}),{angle:r,stops:n,type:1}},Xz=function(t,e){var r=fs(180),n=[],i=1,s=0,A=3,a=[];return NA(e).forEach(function(o,l){var c=o[0];if(l===0){if(lr(c)&&c.value==="linear"){i=1;return}else if(lr(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var d=Ha.parse(t,c.values[0]);n.push({stop:Un,color:d})}else if(c.name==="to"){var d=Ha.parse(t,c.values[0]);n.push({stop:Sa,color:d})}else if(c.name==="color-stop"){var p=c.values.filter(ad);if(p.length===2){var d=Ha.parse(t,p[1]),g=p[0];xd(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),i===1?{angle:(r+fs(180))%fs(360),stops:n,type:i}:{size:A,shape:s,stops:n,position:a,type:i}},yU="closest-side",BU="farthest-side",CU="closest-corner",bU="farthest-corner",xU="circle",EU="ellipse",_U="cover",IU="contain",Yz=function(t,e){var r=0,n=3,i=[],s=[];return NA(e).forEach(function(A,a){var o=!0;if(a===0){var l=!1;o=A.reduce(function(d,p){if(l)if(lr(p))switch(p.value){case"center":return s.push(zC),d;case"top":case"left":return s.push(Un),d;case"right":case"bottom":return s.push(Sa),d}else(nn(p)||Ya(p))&&s.push(p);else if(lr(p))switch(p.value){case xU:return r=0,!1;case EU:return r=1,!1;case"at":return l=!0,!1;case yU:return n=0,!1;case _U:case BU:return n=1,!1;case IU:case CU:return n=2,!1;case bU:return n=3,!1}else if(Ya(p)||nn(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return d},o)}if(o){var c=gv(t,A);i.push(c)}}),{size:n,shape:r,stops:i,position:s,type:2}},Cg=function(t,e){var r=0,n=3,i=[],s=[];return NA(e).forEach(function(A,a){var o=!0;if(a===0?o=A.reduce(function(c,d){if(lr(d))switch(d.value){case"center":return s.push(zC),!1;case"top":case"left":return s.push(Un),!1;case"right":case"bottom":return s.push(Sa),!1}else if(nn(d)||Ya(d))return s.push(d),!1;return c},o):a===1&&(o=A.reduce(function(c,d){if(lr(d))switch(d.value){case xU:return r=0,!1;case EU:return r=1,!1;case IU:case yU:return n=0,!1;case BU:return n=1,!1;case CU:return n=2,!1;case _U:case bU:return n=3,!1}else if(Ya(d)||nn(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return c},o)),o){var l=gv(t,A);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},Zz=function(t){return t.type===1},eW=function(t){return t.type===2},WC={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=SU[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function tW(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!SU[t.name])}var SU={"linear-gradient":Jz,"-moz-linear-gradient":Bg,"-ms-linear-gradient":Bg,"-o-linear-gradient":Bg,"-webkit-linear-gradient":Bg,"radial-gradient":Yz,"-moz-radial-gradient":Cg,"-ms-radial-gradient":Cg,"-o-radial-gradient":Cg,"-webkit-radial-gradient":Cg,"-webkit-gradient":Xz},rW={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return ad(n)&&tW(n)}).map(function(n){return WC.parse(t,n)})}},nW={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(lr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},iW={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return NA(e).map(function(r){return r.filter(nn)}).map(hU)}},sW={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return NA(e).map(function(r){return r.filter(lr).map(function(n){return n.value}).join(" ")}).map(AW)}},AW=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ju;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(ju||(ju={}));var oW={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return NA(e).map(function(r){return r.filter(aW)})}},aW=function(t){return lr(t)||nn(t)},mv=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},lW=mv("top"),cW=mv("right"),uW=mv("bottom"),dW=mv("left"),vv=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return hU(r.filter(nn))}}},hW=vv("top-left"),fW=vv("top-right"),pW=vv("bottom-right"),gW=vv("bottom-left"),wv=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},mW=wv("top"),vW=wv("right"),wW=wv("bottom"),yW=wv("left"),yv=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return up(r)?r.number:0}}},BW=yv("top"),CW=yv("right"),bW=yv("bottom"),xW=yv("left"),EW={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_W={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},IW={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(lr).reduce(function(r,n){return r|SW(n.value)},0)}},SW=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},FW={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},TW={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},am;(function(t){t.NORMAL="normal",t.STRICT="strict"})(am||(am={}));var kW={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return am.STRICT;case"normal":default:return am.NORMAL}}},UW={name:"line-height",initialValue:"normal",prefix:!1,type:4},WE=function(t,e){return lr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:nn(t)?gr(t,e):e},NW={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:WC.parse(t,e)}},QW={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},a2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Bv=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},LW=Bv("top"),PW=Bv("right"),RW=Bv("bottom"),DW=Bv("left"),OW={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(lr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},MW={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Cv=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},jW=Cv("top"),HW=Cv("right"),VW=Cv("bottom"),KW=Cv("left"),zW={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},WW={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},GW={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&o2(e[0],"none")?[]:NA(e).map(function(r){for(var n={color:mo.TRANSPARENT,offsetX:Un,offsetY:Un,blur:Un},i=0,s=0;s<r.length;s++){var A=r[s];Ya(A)?(i===0?n.offsetX=A:i===1?n.offsetY=A:n.blur=A,i++):n.color=Ha.parse(t,A)}return n})}},qW={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},$W={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=YW[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},JW=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},XW=function(t){var e=t.filter(function(o){return o.type===17}).map(function(o){return o.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],a=e[13];return e[14],e[15],e.length===16?[r,n,i,s,A,a]:null},YW={matrix:JW,matrix3d:XW},GE={type:16,number:50,flags:cp},ZW=[GE,GE],eG={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(nn);return r.length!==2?ZW:[r[0],r[1]]}},tG={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Wh;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Wh||(Wh={}));var rG={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Wh.BREAK_ALL;case"keep-all":return Wh.KEEP_ALL;case"normal":default:return Wh.NORMAL}}},nG={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(xd(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},FU={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},iG={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return xd(e)?e.number:1}},sG={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},AG={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(lr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},oG={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},aG={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},lG={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(xd(e))return e.number;if(lr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},cG={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(lr).map(function(r){return r.value})}},uG={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},cn=function(t,e){return(t&e)!==0},dG={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},hG={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(dU),s=0;s<i.length;s++){var A=i[s],a=i[s+1];if(A.type===20){var o=a&&xd(a)?a.number:1;n.push({counter:A.value,increment:o})}}return n}},fG={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(dU),i=0;i<n.length;i++){var s=n[i],A=n[i+1];if(lr(s)&&s.value!=="none"){var a=A&&xd(A)?A.number:0;r.push({counter:s.value,reset:a})}}return r}},pG={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(up).map(function(r){return FU.parse(t,r)})}},gG={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(Hz);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var A=i[s].value,a=i[s+1].value;n.push({open:A,close:a})}return n}},qE=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},mG={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&o2(e[0],"none")?[]:NA(e).map(function(r){for(var n={color:255,offsetX:Un,offsetY:Un,blur:Un,spread:Un,inset:!1},i=0,s=0;s<r.length;s++){var A=r[s];o2(A,"inset")?n.inset=!0:Ya(A)?(i===0?n.offsetX=A:i===1?n.offsetY=A:i===2?n.blur=A:n.spread=A,i++):n.color=Ha.parse(t,A)}return n})}},vG={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(lr).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},wG={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},yG={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return up(e)?e.number:0}},BG=function(){function t(e,r){var n,i;this.animationDuration=dt(e,pG,r.animationDuration),this.backgroundClip=dt(e,zz,r.backgroundClip),this.backgroundColor=dt(e,Wz,r.backgroundColor),this.backgroundImage=dt(e,rW,r.backgroundImage),this.backgroundOrigin=dt(e,nW,r.backgroundOrigin),this.backgroundPosition=dt(e,iW,r.backgroundPosition),this.backgroundRepeat=dt(e,sW,r.backgroundRepeat),this.backgroundSize=dt(e,oW,r.backgroundSize),this.borderTopColor=dt(e,lW,r.borderTopColor),this.borderRightColor=dt(e,cW,r.borderRightColor),this.borderBottomColor=dt(e,uW,r.borderBottomColor),this.borderLeftColor=dt(e,dW,r.borderLeftColor),this.borderTopLeftRadius=dt(e,hW,r.borderTopLeftRadius),this.borderTopRightRadius=dt(e,fW,r.borderTopRightRadius),this.borderBottomRightRadius=dt(e,pW,r.borderBottomRightRadius),this.borderBottomLeftRadius=dt(e,gW,r.borderBottomLeftRadius),this.borderTopStyle=dt(e,mW,r.borderTopStyle),this.borderRightStyle=dt(e,vW,r.borderRightStyle),this.borderBottomStyle=dt(e,wW,r.borderBottomStyle),this.borderLeftStyle=dt(e,yW,r.borderLeftStyle),this.borderTopWidth=dt(e,BW,r.borderTopWidth),this.borderRightWidth=dt(e,CW,r.borderRightWidth),this.borderBottomWidth=dt(e,bW,r.borderBottomWidth),this.borderLeftWidth=dt(e,xW,r.borderLeftWidth),this.boxShadow=dt(e,mG,r.boxShadow),this.color=dt(e,EW,r.color),this.direction=dt(e,_W,r.direction),this.display=dt(e,IW,r.display),this.float=dt(e,FW,r.cssFloat),this.fontFamily=dt(e,oG,r.fontFamily),this.fontSize=dt(e,aG,r.fontSize),this.fontStyle=dt(e,uG,r.fontStyle),this.fontVariant=dt(e,cG,r.fontVariant),this.fontWeight=dt(e,lG,r.fontWeight),this.letterSpacing=dt(e,TW,r.letterSpacing),this.lineBreak=dt(e,kW,r.lineBreak),this.lineHeight=dt(e,UW,r.lineHeight),this.listStyleImage=dt(e,NW,r.listStyleImage),this.listStylePosition=dt(e,QW,r.listStylePosition),this.listStyleType=dt(e,a2,r.listStyleType),this.marginTop=dt(e,LW,r.marginTop),this.marginRight=dt(e,PW,r.marginRight),this.marginBottom=dt(e,RW,r.marginBottom),this.marginLeft=dt(e,DW,r.marginLeft),this.opacity=dt(e,iG,r.opacity);var s=dt(e,OW,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=dt(e,MW,r.overflowWrap),this.paddingTop=dt(e,jW,r.paddingTop),this.paddingRight=dt(e,HW,r.paddingRight),this.paddingBottom=dt(e,VW,r.paddingBottom),this.paddingLeft=dt(e,KW,r.paddingLeft),this.paintOrder=dt(e,vG,r.paintOrder),this.position=dt(e,WW,r.position),this.textAlign=dt(e,zW,r.textAlign),this.textDecorationColor=dt(e,sG,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=dt(e,AG,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=dt(e,GW,r.textShadow),this.textTransform=dt(e,qW,r.textTransform),this.transform=dt(e,$W,r.transform),this.transformOrigin=dt(e,eG,r.transformOrigin),this.visibility=dt(e,tG,r.visibility),this.webkitTextStrokeColor=dt(e,wG,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=dt(e,yG,r.webkitTextStrokeWidth),this.wordBreak=dt(e,rG,r.wordBreak),this.zIndex=dt(e,nG,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Va(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return cn(this.display,4)||cn(this.display,33554432)||cn(this.display,268435456)||cn(this.display,536870912)||cn(this.display,67108864)||cn(this.display,134217728)},t}(),CG=function(){function t(e,r){this.content=dt(e,dG,r.content),this.quotes=dt(e,gG,r.quotes)}return t}(),$E=function(){function t(e,r){this.counterIncrement=dt(e,hG,r.counterIncrement),this.counterReset=dt(e,fG,r.counterReset)}return t}(),dt=function(t,e,r){var n=new cU,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new uU(n.read());switch(e.type){case 2:var A=s.parseComponentValue();return e.parse(t,lr(A)?A.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return pv.parse(t,s.parseComponentValue());case"color":return Ha.parse(t,s.parseComponentValue());case"image":return WC.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return Ya(a)?a:Un;case"length-percentage":var o=s.parseComponentValue();return nn(o)?o:Un;case"time":return FU.parse(t,s.parseComponentValue())}break}},bG="data-html2canvas-debug",xG=function(t){var e=t.getAttribute(bG);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},l2=function(t,e){var r=xG(t);return r===1||e===r},QA=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,l2(r,3))debugger;this.styles=new BG(e,window.getComputedStyle(r,null)),d2(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=hv(this.context,r),l2(r,4)&&(this.flags|=16)}return t}(),EG="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",JE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bg=0;bg<JE.length;bg++)xh[JE.charCodeAt(bg)]=bg;var _G=function(t){var e=t.length*.75,r=t.length,n,i=0,s,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=xh[t.charCodeAt(n)],A=xh[t.charCodeAt(n+1)],a=xh[t.charCodeAt(n+2)],o=xh[t.charCodeAt(n+3)],c[i++]=s<<2|A>>4,c[i++]=(A&15)<<4|a>>2,c[i++]=(a&3)<<6|o&63;return l},IG=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},SG=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Yl=5,GC=11,qw=2,FG=GC-Yl,TU=65536>>Yl,TG=1<<Yl,$w=TG-1,kG=1024>>Yl,UG=TU+kG,NG=UG,QG=32,LG=NG+QG,PG=65536>>GC,RG=1<<FG,DG=RG-1,XE=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},OG=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},MG=function(t,e){var r=_G(t),n=Array.isArray(r)?SG(r):new Uint32Array(r),i=Array.isArray(r)?IG(r):new Uint16Array(r),s=24,A=XE(i,s/2,n[4]/2),a=n[5]===2?XE(i,(s+n[4])/2):OG(n,Math.ceil((s+n[4])/4));return new jG(n[0],n[1],n[2],n[3],A,a)},jG=function(){function t(e,r,n,i,s,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Yl],r=(r<<qw)+(e&$w),this.data[r];if(e<=65535)return r=this.index[TU+(e-55296>>Yl)],r=(r<<qw)+(e&$w),this.data[r];if(e<this.highStart)return r=LG-PG+(e>>GC),r=this.index[r],r+=e>>Yl&DG,r=this.index[r],r=(r<<qw)+(e&$w),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),YE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",HG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xg=0;xg<YE.length;xg++)HG[YE.charCodeAt(xg)]=xg;var VG=1,Jw=2,Xw=3,ZE=4,e_=5,KG=7,t_=8,Yw=9,Zw=10,r_=11,n_=12,i_=13,s_=14,e1=15,zG=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},WG=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var A=t[i];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},GG=MG(EG),os="",t1="",qG=function(t){return GG.get(t)},$G=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],A=e[r];if(s===Jw&&A===Xw)return os;if(s===Jw||s===Xw||s===ZE||A===Jw||A===Xw||A===ZE)return t1;if(s===t_&&[t_,Yw,r_,n_].indexOf(A)!==-1||(s===r_||s===Yw)&&(A===Yw||A===Zw)||(s===n_||s===Zw)&&A===Zw||A===i_||A===e_||A===KG||s===VG)return os;if(s===i_&&A===s_){for(;i===e_;)i=e[--n];if(i===s_)return os}if(s===e1&&A===e1){for(var a=0;i===e1;)a++,i=e[--n];if(a%2===0)return os}return t1},JG=function(t){var e=zG(t),r=e.length,n=0,i=0,s=e.map(qG);return{next:function(){if(n>=r)return{done:!0,value:null};for(var A=os;n<r&&(A=$G(e,s,++n))===os;);if(A!==os||n===r){var a=WG.apply(null,e.slice(i,n));return i=n,{value:a,done:!1}}return{done:!0,value:null}}}},XG=function(t){for(var e=JG(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},YG=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},ZG=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=fv(n.data).map(function(o){return Kr(o)}),s=0,A={},a=i.every(function(o,l){r.setStart(n,s),r.setEnd(n,s+o.length);var c=r.getBoundingClientRect();s+=o.length;var d=c.x>A.x||c.y>A.y;return A=c,l===0?!0:d});return t.body.removeChild(e),a},eq=function(){return typeof new Image().crossOrigin<"u"},tq=function(){return typeof new XMLHttpRequest().responseType=="string"},rq=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},A_=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},nq=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var A=c2(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),o_(A).then(function(a){n.drawImage(a,0,0);var o=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",A_(o)?o_(c2(r,r,0,0,l)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),A_(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},c2=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",A=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(i),A},o_=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Sn={get SUPPORT_RANGE_BOUNDS(){var t=YG(document);return Object.defineProperty(Sn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Sn.SUPPORT_RANGE_BOUNDS&&ZG(document);return Object.defineProperty(Sn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=rq(document);return Object.defineProperty(Sn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?nq(document):Promise.resolve(!1);return Object.defineProperty(Sn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=eq();return Object.defineProperty(Sn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=tq();return Object.defineProperty(Sn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Sn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Sn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Gh=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),iq=function(t,e,r,n){var i=oq(e,r),s=[],A=0;return i.forEach(function(a){if(r.textDecorationLine.length||a.trim().length>0)if(Sn.SUPPORT_RANGE_BOUNDS){var o=a_(n,A,a.length).getClientRects();if(o.length>1){var l=qC(a),c=0;l.forEach(function(p){s.push(new Gh(p,So.fromDOMRectList(t,a_(n,c+A,p.length).getClientRects()))),c+=p.length})}else s.push(new Gh(a,So.fromDOMRectList(t,o)))}else{var d=n.splitText(a.length);s.push(new Gh(a,sq(t,n))),n=d}else Sn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));A+=a.length}),s},sq=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=hv(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return So.EMPTY},a_=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},qC=function(t){if(Sn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return XG(t)},Aq=function(t,e){if(Sn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return lq(t,e)},oq=function(t,e){return e.letterSpacing!==0?qC(t):Aq(t,e)},aq=[32,160,4961,65792,65793,4153,4241],lq=function(t,e){for(var r=PK(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var A=i.value.slice(),a=fv(A),o="";a.forEach(function(l){aq.indexOf(l)===-1?o+=Kr(l):(o.length&&n.push(o),n.push(Kr(l)),o="")}),o.length&&n.push(o)}};!(i=r.next()).done;)s();return n},cq=function(){function t(e,r,n){this.text=uq(r.data,n.textTransform),this.textBounds=iq(e,this.text,n,r)}return t}(),uq=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(dq,hq);case 2:return t.toUpperCase();default:return t}},dq=/(^|\s|:|-|\(|\))([a-z])/g,hq=function(t,e,r){return t.length>0?e+r.toUpperCase():t},kU=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(QA),UU=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(QA),NU=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,A=hv(r,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(QA),QU=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(QA),u2=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(QA),fq=[{type:15,flags:0,unit:"px",number:3}],pq=[{type:16,flags:0,number:50}],gq=function(t){return t.width>t.height?new So(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new So(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},mq=function(t){var e=t.type===vq?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},lm="checkbox",cm="radio",vq="password",l_=707406591,$C=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=mq(n),(i.type===lm||i.type===cm)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=gq(i.bounds)),i.type){case lm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=fq;break;case cm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=pq;break}return i}return e}(QA),LU=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(QA),PU=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(QA),RU=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=OU(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?zh(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):mo.TRANSPARENT,A=n.contentWindow.document.body?zh(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):mo.TRANSPARENT;i.backgroundColor=Va(s)?Va(A)?i.styles.backgroundColor:A:s}}catch{}return i}return e}(QA),wq=["OL","UL","MENU"],a0=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,MU(i)&&i.data.trim().length>0)r.textNodes.push(new cq(t,i,r.styles));else if(Iu(i))if(KU(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return a0(t,a,r,n)});else{var A=DU(t,i);A.styles.isVisible()&&(yq(i,A,n)?A.flags|=4:Bq(A.styles)&&(A.flags|=2),wq.indexOf(i.tagName)!==-1&&(A.flags|=8),r.elements.push(A),i.slot,i.shadowRoot?a0(t,i.shadowRoot,A,n):!um(i)&&!jU(i)&&!dm(i)&&a0(t,i,A,n))}},DU=function(t,e){return h2(e)?new kU(t,e):HU(e)?new UU(t,e):jU(e)?new NU(t,e):Cq(e)?new QU(t,e):bq(e)?new u2(t,e):xq(e)?new $C(t,e):dm(e)?new LU(t,e):um(e)?new PU(t,e):VU(e)?new RU(t,e):new QA(t,e)},OU=function(t,e){var r=DU(t,e);return r.flags|=4,a0(t,e,r,r),r},yq=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||JC(t)&&r.styles.isTransparent()},Bq=function(t){return t.isPositioned()||t.isFloating()},MU=function(t){return t.nodeType===Node.TEXT_NODE},Iu=function(t){return t.nodeType===Node.ELEMENT_NODE},d2=function(t){return Iu(t)&&typeof t.style<"u"&&!l0(t)},l0=function(t){return typeof t.className=="object"},Cq=function(t){return t.tagName==="LI"},bq=function(t){return t.tagName==="OL"},xq=function(t){return t.tagName==="INPUT"},Eq=function(t){return t.tagName==="HTML"},jU=function(t){return t.tagName==="svg"},JC=function(t){return t.tagName==="BODY"},HU=function(t){return t.tagName==="CANVAS"},c_=function(t){return t.tagName==="VIDEO"},h2=function(t){return t.tagName==="IMG"},VU=function(t){return t.tagName==="IFRAME"},u_=function(t){return t.tagName==="STYLE"},_q=function(t){return t.tagName==="SCRIPT"},um=function(t){return t.tagName==="TEXTAREA"},dm=function(t){return t.tagName==="SELECT"},KU=function(t){return t.tagName==="SLOT"},d_=function(t){return t.tagName.indexOf("-")>0},Iq=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(a){var o=r.counters[a.counter];o&&a.increment!==0&&(s=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var A=[];return s&&i.forEach(function(a){var o=r.counters[a.counter];A.push(a.counter),o||(o=r.counters[a.counter]=[]),o.push(a.reset)}),A},t}(),h_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},f_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Sq={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Fq={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Yc=function(t,e,r,n,i,s){return t<e||t>r?Rf(t,i,s.length>0):n.integers.reduce(function(A,a,o){for(;t>=a;)t-=a,A+=n.values[o];return A},"")+s},zU=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Vr=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(zU(Math.abs(t),s,n,function(A){return Kr(Math.floor(A%s)+e)})+i)},Il=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return zU(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},cu=1,fa=2,pa=4,Eh=8,to=function(t,e,r,n,i,s){if(t<-9999||t>9999)return Rf(t,4,i.length>0);var A=Math.abs(t),a=i;if(A===0)return e[0]+a;for(var o=0;A>0&&o<=4;o++){var l=A%10;l===0&&cn(s,cu)&&a!==""?a=e[l]+a:l>1||l===1&&o===0||l===1&&o===1&&cn(s,fa)||l===1&&o===1&&cn(s,pa)&&t>100||l===1&&o>1&&cn(s,Eh)?a=e[l]+(o>0?r[o-1]:"")+a:l===1&&o>0&&(a=r[o-1]+a),A=Math.floor(A/10)}return(t<0?n:"")+a},p_="",g_="",m_="",r1="",Rf=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",A=r?" ":"";switch(e){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var a=Vr(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return Il(t,"",i);case 6:return Yc(t,1,3999,h_,3,n).toLowerCase();case 7:return Yc(t,1,3999,h_,3,n);case 8:return Vr(t,945,969,!1,n);case 9:return Vr(t,97,122,!1,n);case 10:return Vr(t,65,90,!1,n);case 11:return Vr(t,1632,1641,!0,n);case 12:case 49:return Yc(t,1,9999,f_,3,n);case 35:return Yc(t,1,9999,f_,3,n).toLowerCase();case 13:return Vr(t,2534,2543,!0,n);case 14:case 30:return Vr(t,6112,6121,!0,n);case 15:return Il(t,"",i);case 16:return Il(t,"",i);case 17:case 48:return to(t,"",p_,"",i,fa|pa|Eh);case 47:return to(t,"",g_,"",i,cu|fa|pa|Eh);case 42:return to(t,"",p_,"",i,fa|pa|Eh);case 41:return to(t,"",g_,"",i,cu|fa|pa|Eh);case 26:return to(t,"","",m_,i,0);case 25:return to(t,"","",m_,i,cu|fa|pa);case 31:return to(t,"","",r1,s,cu|fa|pa);case 33:return to(t,"","",r1,s,0);case 32:return to(t,"","",r1,s,cu|fa|pa);case 18:return Vr(t,2406,2415,!0,n);case 20:return Yc(t,1,19999,Fq,3,n);case 21:return Vr(t,2790,2799,!0,n);case 22:return Vr(t,2662,2671,!0,n);case 22:return Yc(t,1,10999,Sq,3,n);case 23:return Il(t,"");case 24:return Il(t,"");case 27:return Vr(t,3302,3311,!0,n);case 28:return Il(t,"",i);case 29:return Il(t,"",i);case 34:return Vr(t,3792,3801,!0,n);case 37:return Vr(t,6160,6169,!0,n);case 38:return Vr(t,4160,4169,!0,n);case 39:return Vr(t,2918,2927,!0,n);case 40:return Vr(t,1776,1785,!0,n);case 43:return Vr(t,3046,3055,!0,n);case 44:return Vr(t,3174,3183,!0,n);case 45:return Vr(t,3664,3673,!0,n);case 46:return Vr(t,3872,3881,!0,n);case 3:default:return Vr(t,48,57,!0,n)}},WU="data-html2canvas-ignore",v_=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Iq,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=Tq(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,a=i.contentWindow,o=a.document,l=Nq(i).then(function(){return ai(n,void 0,void 0,function(){var c,d;return $n(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(Rq),a&&(a.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==r.top||a.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-r.left,a.scrollY-r.top,0,0))),c=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Uq(o)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(o,d)}).then(function(){return i})]:[2,i]}})})});return o.open(),o.write(Lq(document.doctype)+"<html></html>"),Pq(this.referenceElement.ownerDocument,s,A),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),l},t.prototype.createElementClone=function(e){if(l2(e,2))debugger;if(HU(e))return this.createCanvasClone(e);if(c_(e))return this.createVideoClone(e);if(u_(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return h2(r)&&(h2(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),d_(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return n1(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,A){return A&&typeof A.cssText=="string"?s+A.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),A=i.getContext("2d");if(A)if(!this.options.allowTaint&&s)A.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(a){var o=a.getContextAttributes();(o==null?void 0:o.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Iu(r)||!_q(r)&&!r.hasAttribute(WU)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Iu(r)||!u_(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Iu(s)&&KU(s)&&typeof s.assignedNodes=="function"){var A=s.assignedNodes();A.length&&A.forEach(function(a){return i.appendChildNode(r,a,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(MU(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Iu(e)&&(d2(e)||l0(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),A=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&d2(i)&&(this.clonedReferenceElement=i),JC(i)&&Mq(i);var o=this.counters.parse(new $E(this.context,s)),l=this.resolvePseudoContent(e,i,A,qh.BEFORE);d_(e)&&(r=!0),c_(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var c=this.resolvePseudoContent(e,i,a,qh.AFTER);return c&&i.appendChild(c),this.counters.pop(o),(s&&(this.options.copyStyles||l0(e))&&!VU(e)||r)&&n1(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(um(e)||dm(e))&&(um(i)||dm(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var A=n.content,a=r.ownerDocument;if(!(!a||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new $E(this.context,n));var o=new CG(this.context,n),l=a.createElement("html2canvaspseudoelement");n1(n,l),o.content.forEach(function(d){if(d.type===0)l.appendChild(a.createTextNode(d.value));else if(d.type===22){var p=a.createElement("img");p.src=d.value,p.style.opacity="1",l.appendChild(p)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(lr);g.length&&l.appendChild(a.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var v=d.values.filter(ad),x=v[0],T=v[1];if(x&&lr(x)){var w=s.counters.getCounterValue(x.value),B=T&&lr(T)?a2.parse(s.context,T.value):3;l.appendChild(a.createTextNode(Rf(w,B,!1)))}}else if(d.name==="counters"){var C=d.values.filter(ad),x=C[0],L=C[1],T=C[2];if(x&&lr(x)){var D=s.counters.getCounterValues(x.value),M=T&&lr(T)?a2.parse(s.context,T.value):3,S=L&&L.type===0?L.value:"",E=D.map(function(_){return Rf(_,M,!1)}).join(S);l.appendChild(a.createTextNode(E))}}}else if(d.type===20)switch(d.value){case"open-quote":l.appendChild(a.createTextNode(qE(o.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(qE(o.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(d.value))}}),l.className=f2+" "+p2;var c=i===qh.BEFORE?" "+f2:" "+p2;return l0(r)?r.className.baseValue+=c:r.className+=c,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),qh;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(qh||(qh={}));var Tq=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(WU,"true"),t.body.appendChild(r),r},kq=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Uq=function(t){return Promise.all([].slice.call(t.images,0).map(kq))},Nq=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},Qq=["all","d","content"],n1=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);Qq.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Lq=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Pq=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Rq=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Dq=":before",Oq=":after",f2="___html2canvas___pseudoelement_before",p2="___html2canvas___pseudoelement_after",w_=`{
    content: "" !important;
    display: none !important;
}`,Mq=function(t){jq(t,"."+f2+Dq+w_+`
         .`+p2+Oq+w_)},jq=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},GU=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Hq=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(s1(e)||Wq(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ai(this,void 0,void 0,function(){var r,n,i,s,A=this;return $n(this,function(a){switch(a.label){case 0:return r=GU.isSameOrigin(e),n=!i1(e)&&this._options.useCORS===!0&&Sn.SUPPORT_CORS_IMAGES&&!r,i=!i1(e)&&!r&&!s1(e)&&typeof this._options.proxy=="string"&&Sn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!i1(e)&&!s1(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,l){var c=new Image;c.onload=function(){return o(c)},c.onerror=l,(Gq(s)||n)&&(c.crossOrigin="anonymous"),c.src=s,c.complete===!0&&setTimeout(function(){return o(c)},500),A._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,A){var a=Sn.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")s(o.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(p){return A(p)},!1),d.readAsDataURL(o.response)}else A("Failed to proxy resource "+i+" with status code "+o.status)},o.onerror=A;var l=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),r._options.imageTimeout){var c=r._options.imageTimeout;o.timeout=c,o.ontimeout=function(){return A("Timed out ("+c+"ms) proxying "+i)}}o.send()})},t}(),Vq=/^data:image\/svg\+xml/i,Kq=/^data:image\/.*;base64,/i,zq=/^data:image\/.*/i,Wq=function(t){return Sn.SUPPORT_SVG_DRAWING||!qq(t)},i1=function(t){return zq.test(t)},Gq=function(t){return Kq.test(t)},s1=function(t){return t.substr(0,4)==="blob"},qq=function(t){return t.substr(-3).toLowerCase()==="svg"||Vq.test(t)},at=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Zc=function(t,e,r){return new at(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Eg=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=Zc(this.start,this.startControl,e),i=Zc(this.startControl,this.endControl,e),s=Zc(this.endControl,this.end,e),A=Zc(n,i,e),a=Zc(i,s,e),o=Zc(A,a,e);return r?new t(this.start,n,A,o):new t(o,a,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),cs=function(t){return t.type===1},$q=function(){function t(e){var r=e.styles,n=e.bounds,i=bh(r.borderTopLeftRadius,n.width,n.height),s=i[0],A=i[1],a=bh(r.borderTopRightRadius,n.width,n.height),o=a[0],l=a[1],c=bh(r.borderBottomRightRadius,n.width,n.height),d=c[0],p=c[1],g=bh(r.borderBottomLeftRadius,n.width,n.height),v=g[0],x=g[1],T=[];T.push((s+o)/n.width),T.push((v+d)/n.width),T.push((A+x)/n.height),T.push((l+p)/n.height);var w=Math.max.apply(Math,T);w>1&&(s/=w,A/=w,o/=w,l/=w,d/=w,p/=w,v/=w,x/=w);var B=n.width-o,C=n.height-p,L=n.width-d,D=n.height-x,M=r.borderTopWidth,S=r.borderRightWidth,E=r.borderBottomWidth,k=r.borderLeftWidth,O=gr(r.paddingTop,e.bounds.width),_=gr(r.paddingRight,e.bounds.width),F=gr(r.paddingBottom,e.bounds.width),U=gr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||A>0?br(n.left+k/3,n.top+M/3,s-k/3,A-M/3,Yt.TOP_LEFT):new at(n.left+k/3,n.top+M/3),this.topRightBorderDoubleOuterBox=s>0||A>0?br(n.left+B,n.top+M/3,o-S/3,l-M/3,Yt.TOP_RIGHT):new at(n.left+n.width-S/3,n.top+M/3),this.bottomRightBorderDoubleOuterBox=d>0||p>0?br(n.left+L,n.top+C,d-S/3,p-E/3,Yt.BOTTOM_RIGHT):new at(n.left+n.width-S/3,n.top+n.height-E/3),this.bottomLeftBorderDoubleOuterBox=v>0||x>0?br(n.left+k/3,n.top+D,v-k/3,x-E/3,Yt.BOTTOM_LEFT):new at(n.left+k/3,n.top+n.height-E/3),this.topLeftBorderDoubleInnerBox=s>0||A>0?br(n.left+k*2/3,n.top+M*2/3,s-k*2/3,A-M*2/3,Yt.TOP_LEFT):new at(n.left+k*2/3,n.top+M*2/3),this.topRightBorderDoubleInnerBox=s>0||A>0?br(n.left+B,n.top+M*2/3,o-S*2/3,l-M*2/3,Yt.TOP_RIGHT):new at(n.left+n.width-S*2/3,n.top+M*2/3),this.bottomRightBorderDoubleInnerBox=d>0||p>0?br(n.left+L,n.top+C,d-S*2/3,p-E*2/3,Yt.BOTTOM_RIGHT):new at(n.left+n.width-S*2/3,n.top+n.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||x>0?br(n.left+k*2/3,n.top+D,v-k*2/3,x-E*2/3,Yt.BOTTOM_LEFT):new at(n.left+k*2/3,n.top+n.height-E*2/3),this.topLeftBorderStroke=s>0||A>0?br(n.left+k/2,n.top+M/2,s-k/2,A-M/2,Yt.TOP_LEFT):new at(n.left+k/2,n.top+M/2),this.topRightBorderStroke=s>0||A>0?br(n.left+B,n.top+M/2,o-S/2,l-M/2,Yt.TOP_RIGHT):new at(n.left+n.width-S/2,n.top+M/2),this.bottomRightBorderStroke=d>0||p>0?br(n.left+L,n.top+C,d-S/2,p-E/2,Yt.BOTTOM_RIGHT):new at(n.left+n.width-S/2,n.top+n.height-E/2),this.bottomLeftBorderStroke=v>0||x>0?br(n.left+k/2,n.top+D,v-k/2,x-E/2,Yt.BOTTOM_LEFT):new at(n.left+k/2,n.top+n.height-E/2),this.topLeftBorderBox=s>0||A>0?br(n.left,n.top,s,A,Yt.TOP_LEFT):new at(n.left,n.top),this.topRightBorderBox=o>0||l>0?br(n.left+B,n.top,o,l,Yt.TOP_RIGHT):new at(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||p>0?br(n.left+L,n.top+C,d,p,Yt.BOTTOM_RIGHT):new at(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=v>0||x>0?br(n.left,n.top+D,v,x,Yt.BOTTOM_LEFT):new at(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||A>0?br(n.left+k,n.top+M,Math.max(0,s-k),Math.max(0,A-M),Yt.TOP_LEFT):new at(n.left+k,n.top+M),this.topRightPaddingBox=o>0||l>0?br(n.left+Math.min(B,n.width-S),n.top+M,B>n.width+S?0:Math.max(0,o-S),Math.max(0,l-M),Yt.TOP_RIGHT):new at(n.left+n.width-S,n.top+M),this.bottomRightPaddingBox=d>0||p>0?br(n.left+Math.min(L,n.width-k),n.top+Math.min(C,n.height-E),Math.max(0,d-S),Math.max(0,p-E),Yt.BOTTOM_RIGHT):new at(n.left+n.width-S,n.top+n.height-E),this.bottomLeftPaddingBox=v>0||x>0?br(n.left+k,n.top+Math.min(D,n.height-E),Math.max(0,v-k),Math.max(0,x-E),Yt.BOTTOM_LEFT):new at(n.left+k,n.top+n.height-E),this.topLeftContentBox=s>0||A>0?br(n.left+k+U,n.top+M+O,Math.max(0,s-(k+U)),Math.max(0,A-(M+O)),Yt.TOP_LEFT):new at(n.left+k+U,n.top+M+O),this.topRightContentBox=o>0||l>0?br(n.left+Math.min(B,n.width+k+U),n.top+M+O,B>n.width+k+U?0:o-k+U,l-(M+O),Yt.TOP_RIGHT):new at(n.left+n.width-(S+_),n.top+M+O),this.bottomRightContentBox=d>0||p>0?br(n.left+Math.min(L,n.width-(k+U)),n.top+Math.min(C,n.height+M+O),Math.max(0,d-(S+_)),p-(E+F),Yt.BOTTOM_RIGHT):new at(n.left+n.width-(S+_),n.top+n.height-(E+F)),this.bottomLeftContentBox=v>0||x>0?br(n.left+k+U,n.top+D,Math.max(0,v-(k+U)),x-(E+F),Yt.BOTTOM_LEFT):new at(n.left+k+U,n.top+n.height-(E+F))}return t}(),Yt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Yt||(Yt={}));var br=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),A=r*s,a=n*s,o=t+r,l=e+n;switch(i){case Yt.TOP_LEFT:return new Eg(new at(t,l),new at(t,l-a),new at(o-A,e),new at(o,e));case Yt.TOP_RIGHT:return new Eg(new at(t,e),new at(t+A,e),new at(o,l-a),new at(o,l));case Yt.BOTTOM_RIGHT:return new Eg(new at(o,e),new at(o,e+a),new at(t+A,l),new at(t,l));case Yt.BOTTOM_LEFT:default:return new Eg(new at(o,l),new at(o-A,l),new at(t,e+a),new at(t,e))}},hm=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Jq=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},fm=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Xq=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),_g=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),Yq=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Zq=function(t){return t.type===0},qU=function(t){return t.type===1},e$=function(t){return t.type===2},y_=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},t$=function(t,e,r,n,i){return t.map(function(s,A){switch(A){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},$U=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),JU=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new $q(this.container),this.container.styles.opacity<1&&this.effects.push(new Yq(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Xq(n,i,s))}if(this.container.styles.overflowX!==0){var A=hm(this.curves),a=fm(this.curves);y_(A,a)?this.effects.push(new _g(A,6)):(this.effects.push(new _g(A,2)),this.effects.push(new _g(a,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(o){return!qU(o)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=hm(n.curves),a=fm(n.curves);y_(A,a)||i.unshift(new _g(a,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(o){return cn(o.target,e)})},t}(),g2=function(t,e,r,n){t.container.elements.forEach(function(i){var s=cn(i.flags,4),A=cn(i.flags,2),a=new JU(i,t);cn(i.styles.display,2048)&&n.push(a);var o=cn(i.flags,8)?[]:n;if(s||A){var l=s||i.styles.isPositioned()?r:e,c=new $U(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var p=0;l.negativeZIndex.some(function(v,x){return d>v.element.container.styles.zIndex.order?(p=x,!1):p>0}),l.negativeZIndex.splice(p,0,c)}else if(d>0){var g=0;l.positiveZIndex.some(function(v,x){return d>=v.element.container.styles.zIndex.order?(g=x+1,!1):g>0}),l.positiveZIndex.splice(g,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);g2(a,c,s?c:r,o)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),g2(a,e,r,o);cn(i.flags,8)&&XU(i,o)})},XU=function(t,e){for(var r=t instanceof u2?t.start:1,n=t instanceof u2?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof QU&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Rf(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},r$=function(t){var e=new JU(t,null),r=new $U(e),n=[];return g2(e,r,r,n),XU(e.container,n),r},B_=function(t,e){switch(e){case 0:return ps(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ps(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ps(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ps(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},n$=function(t,e){switch(e){case 0:return ps(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ps(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ps(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return ps(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},i$=function(t,e){switch(e){case 0:return ps(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ps(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ps(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return ps(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},s$=function(t,e){switch(e){case 0:return Ig(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Ig(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Ig(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Ig(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Ig=function(t,e){var r=[];return cs(t)?r.push(t.subdivide(.5,!1)):r.push(t),cs(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},ps=function(t,e,r,n){var i=[];return cs(t)?i.push(t.subdivide(.5,!1)):i.push(t),cs(r)?i.push(r.subdivide(.5,!0)):i.push(r),cs(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),cs(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},YU=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},pm=function(t){var e=t.styles,r=t.bounds,n=gr(e.paddingLeft,r.width),i=gr(e.paddingRight,r.width),s=gr(e.paddingTop,r.width),A=gr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+A))},A$=function(t,e){return t===0?e.bounds:t===2?pm(e):YU(e)},o$=function(t,e){return t===0?e.bounds:t===2?pm(e):YU(e)},A1=function(t,e,r){var n=A$(uu(t.styles.backgroundOrigin,e),t),i=o$(uu(t.styles.backgroundClip,e),t),s=a$(uu(t.styles.backgroundSize,e),r,n),A=s[0],a=s[1],o=bh(uu(t.styles.backgroundPosition,e),n.width-A,n.height-a),l=l$(uu(t.styles.backgroundRepeat,e),o,s,n,i),c=Math.round(n.left+o[0]),d=Math.round(n.top+o[1]);return[l,c,d,A,a]},eu=function(t){return lr(t)&&t.value===ju.AUTO},Sg=function(t){return typeof t=="number"},a$=function(t,e,r){var n=e[0],i=e[1],s=e[2],A=t[0],a=t[1];if(!A)return[0,0];if(nn(A)&&a&&nn(a))return[gr(A,r.width),gr(a,r.height)];var o=Sg(s);if(lr(A)&&(A.value===ju.CONTAIN||A.value===ju.COVER)){if(Sg(s)){var l=r.width/r.height;return l<s!=(A.value===ju.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var c=Sg(n),d=Sg(i),p=c||d;if(eu(A)&&(!a||eu(a))){if(c&&d)return[n,i];if(!o&&!p)return[r.width,r.height];if(p&&o){var g=c?n:i*s,v=d?i:n/s;return[g,v]}var x=c?n:r.width,T=d?i:r.height;return[x,T]}if(o){var w=0,B=0;return nn(A)?w=gr(A,r.width):nn(a)&&(B=gr(a,r.height)),eu(A)?w=B*s:(!a||eu(a))&&(B=w/s),[w,B]}var C=null,L=null;if(nn(A)?C=gr(A,r.width):a&&nn(a)&&(L=gr(a,r.height)),C!==null&&(!a||eu(a))&&(L=c&&d?C/n*i:r.height),L!==null&&eu(A)&&(C=c&&d?L/i*n:r.width),C!==null&&L!==null)return[C,L];throw new Error("Unable to calculate background-size for element")},uu=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},l$=function(t,e,r,n,i){var s=e[0],A=e[1],a=r[0],o=r[1];switch(t){case 2:return[new at(Math.round(n.left),Math.round(n.top+A)),new at(Math.round(n.left+n.width),Math.round(n.top+A)),new at(Math.round(n.left+n.width),Math.round(o+n.top+A)),new at(Math.round(n.left),Math.round(o+n.top+A))];case 3:return[new at(Math.round(n.left+s),Math.round(n.top)),new at(Math.round(n.left+s+a),Math.round(n.top)),new at(Math.round(n.left+s+a),Math.round(n.height+n.top)),new at(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new at(Math.round(n.left+s),Math.round(n.top+A)),new at(Math.round(n.left+s+a),Math.round(n.top+A)),new at(Math.round(n.left+s+a),Math.round(n.top+A+o)),new at(Math.round(n.left+s),Math.round(n.top+A+o))];default:return[new at(Math.round(i.left),Math.round(i.top)),new at(Math.round(i.left+i.width),Math.round(i.top)),new at(Math.round(i.left+i.width),Math.round(i.height+i.top)),new at(Math.round(i.left),Math.round(i.height+i.top))]}},c$="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",C_="Hidden Text",u$=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),i.src=c$,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(C_)),n.appendChild(s),n.appendChild(i);var a=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(C_)),n.style.lineHeight="normal",i.style.verticalAlign="super";var o=i.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:a,middle:o}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),ZU=function(){function t(e,r){this.context=e,this.options=r}return t}(),d$=1e4,h$=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new u$(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),e$(r)&&(this.ctx.globalAlpha=r.opacity),Zq(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),qU(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ai(this,void 0,void 0,function(){var n;return $n(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ai(this,void 0,void 0,function(){return $n(this,function(n){switch(n.label){case 0:if(cn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var A=qC(r.text);A.reduce(function(a,o){return s.ctx.fillText(o,a,r.bounds.top+i),a+s.ctx.measureText(o).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),i=v$(r.fontFamily).join(", "),s=up(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return ai(this,void 0,void 0,function(){var i,s,A,a,o,l,c,d,p=this;return $n(this,function(g){return i=this.createFontStyle(n),s=i[0],A=i[1],a=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(A,a),l=o.baseline,c=o.middle,d=n.paintOrder,r.textBounds.forEach(function(v){d.forEach(function(x){switch(x){case 0:p.ctx.fillStyle=mn(n.color),p.renderTextWithLetterSpacing(v,n.letterSpacing,l);var T=n.textShadow;T.length&&v.text.trim().length&&(T.slice(0).reverse().forEach(function(w){p.ctx.shadowColor=mn(w.color),p.ctx.shadowOffsetX=w.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=w.offsetY.number*p.options.scale,p.ctx.shadowBlur=w.blur.number,p.renderTextWithLetterSpacing(v,n.letterSpacing,l)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=mn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:p.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+l),v.bounds.width,1);break;case 2:p.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:p.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+c),v.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&v.text.trim().length&&(p.ctx.strokeStyle=mn(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+l)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=pm(r),A=fm(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ai(this,void 0,void 0,function(){var n,i,s,A,a,o,B,B,l,c,d,p,L,g,v,D,x,T,w,B,C,L,D;return $n(this,function(M){switch(M.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,A=0,a=n.textNodes,M.label=1;case 1:return A<a.length?(o=a[A],[4,this.renderTextNode(o,s)]):[3,4];case 2:M.sent(),M.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof kU))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return B=M.sent(),this.renderReplacedElement(n,i,B),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof UU&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof NU))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return B=M.sent(),this.renderReplacedElement(n,i,B),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof RU&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:c=M.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),M.label=14;case 14:if(n instanceof $C&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===lm?n.checked&&(this.ctx.save(),this.path([new at(n.bounds.left+d*.39363,n.bounds.top+d*.79),new at(n.bounds.left+d*.16,n.bounds.top+d*.5549),new at(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new at(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new at(n.bounds.left+d*.72983,n.bounds.top+d*.23),new at(n.bounds.left+d*.84,n.bounds.top+d*.34085),new at(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=mn(l_),this.ctx.fill(),this.ctx.restore()):n.type===cm&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=mn(l_),this.ctx.fill(),this.ctx.restore())),f$(n)&&n.value.length){switch(p=this.createFontStyle(s),L=p[0],g=p[1],v=this.fontMetrics.getMetrics(L,g).baseline,this.ctx.font=L,this.ctx.fillStyle=mn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=g$(n.styles.textAlign),D=pm(n),x=0,n.styles.textAlign){case 1:x+=D.width/2;break;case 2:x+=D.width;break}T=D.add(x,0,0,-D.height/2+1),this.ctx.save(),this.path([new at(D.left,D.top),new at(D.left+D.width,D.top),new at(D.left+D.width,D.top+D.height),new at(D.left,D.top+D.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Gh(n.value,T),s.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!cn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];B=void 0,C=w.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return B=M.sent(),this.ctx.drawImage(B,n.bounds.left-(B.width+10),n.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(L=this.createFontStyle(s)[0],this.ctx.font=L,this.ctx.fillStyle=mn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",D=new So(n.bounds.left,n.bounds.top+gr(n.styles.paddingTop,n.bounds.width),n.bounds.width,WE(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Gh(r.listValue,D),s.letterSpacing,WE(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ai(this,void 0,void 0,function(){var n,i,w,s,A,w,a,o,w,l,c,w,d,p,w,g,v,w,x,T,w;return $n(this,function(B){switch(B.label){case 0:if(cn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:B.sent(),n=0,i=r.negativeZIndex,B.label=2;case 2:return n<i.length?(w=i[n],[4,this.renderStack(w)]):[3,5];case 3:B.sent(),B.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:B.sent(),s=0,A=r.nonInlineLevel,B.label=7;case 7:return s<A.length?(w=A[s],[4,this.renderNode(w)]):[3,10];case 8:B.sent(),B.label=9;case 9:return s++,[3,7];case 10:a=0,o=r.nonPositionedFloats,B.label=11;case 11:return a<o.length?(w=o[a],[4,this.renderStack(w)]):[3,14];case 12:B.sent(),B.label=13;case 13:return a++,[3,11];case 14:l=0,c=r.nonPositionedInlineLevel,B.label=15;case 15:return l<c.length?(w=c[l],[4,this.renderStack(w)]):[3,18];case 16:B.sent(),B.label=17;case 17:return l++,[3,15];case 18:d=0,p=r.inlineLevel,B.label=19;case 19:return d<p.length?(w=p[d],[4,this.renderNode(w)]):[3,22];case 20:B.sent(),B.label=21;case 21:return d++,[3,19];case 22:g=0,v=r.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return g<v.length?(w=v[g],[4,this.renderStack(w)]):[3,26];case 24:B.sent(),B.label=25;case 25:return g++,[3,23];case 26:x=0,T=r.positiveZIndex,B.label=27;case 27:return x<T.length?(w=T[x],[4,this.renderStack(w)]):[3,30];case 28:B.sent(),B.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var A=cs(i)?i.start:i;s===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),cs(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var A=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=A.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,i);var o=a.getContext("2d");return o.drawImage(r,0,0,r.width,r.height,0,0,n,i),a},e.prototype.renderBackgroundImage=function(r){return ai(this,void 0,void 0,function(){var n,i,s,A,a,o;return $n(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(c){var d,p,g,O,te,K,U,Y,E,v,O,te,K,U,Y,x,T,w,B,C,L,D,M,S,E,k,O,_,F,U,Y,ue,te,K,$,P,G,ne,N,j,W,ee;return $n(this,function(re){switch(re.label){case 0:if(c.type!==0)return[3,5];d=void 0,p=c.url,re.label=1;case 1:return re.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return d=re.sent(),[3,4];case 3:return re.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return d&&(g=A1(r,n,[d.width,d.height,d.width/d.height]),O=g[0],te=g[1],K=g[2],U=g[3],Y=g[4],E=s.ctx.createPattern(s.resizeImage(d,U,Y),"repeat"),s.renderRepeat(O,E,te,K)),[3,6];case 5:Zz(c)?(v=A1(r,n,[null,null,null]),O=v[0],te=v[1],K=v[2],U=v[3],Y=v[4],x=qz(c.angle,U,Y),T=x[0],w=x[1],B=x[2],C=x[3],L=x[4],D=document.createElement("canvas"),D.width=U,D.height=Y,M=D.getContext("2d"),S=M.createLinearGradient(w,C,B,L),KE(c.stops,T).forEach(function(oe){return S.addColorStop(oe.stop,mn(oe.color))}),M.fillStyle=S,M.fillRect(0,0,U,Y),U>0&&Y>0&&(E=s.ctx.createPattern(D,"repeat"),s.renderRepeat(O,E,te,K))):eW(c)&&(k=A1(r,n,[null,null,null]),O=k[0],_=k[1],F=k[2],U=k[3],Y=k[4],ue=c.position.length===0?[zC]:c.position,te=gr(ue[0],U),K=gr(ue[ue.length-1],Y),$=$z(c,te,K,U,Y),P=$[0],G=$[1],P>0&&G>0&&(ne=s.ctx.createRadialGradient(_+te,F+K,0,_+te,F+K,P),KE(c.stops,P*2).forEach(function(oe){return ne.addColorStop(oe.stop,mn(oe.color))}),s.path(O),s.ctx.fillStyle=ne,P!==G?(N=r.bounds.left+.5*r.bounds.width,j=r.bounds.top+.5*r.bounds.height,W=G/P,ee=1/W,s.ctx.save(),s.ctx.translate(N,j),s.ctx.transform(1,0,0,W,0,0),s.ctx.translate(-N,-j),s.ctx.fillRect(_,ee*(F-j)+j,U,Y*ee),s.ctx.restore()):s.ctx.fill())),re.label=6;case 6:return n--,[2]}})},s=this,A=0,a=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return A<a.length?(o=a[A],[5,i(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return ai(this,void 0,void 0,function(){return $n(this,function(s){return this.path(B_(i,n)),this.ctx.fillStyle=mn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return ai(this,void 0,void 0,function(){var A,a;return $n(this,function(o){switch(o.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return o.sent(),[2];case 2:return A=n$(s,i),this.path(A),this.ctx.fillStyle=mn(r),this.ctx.fill(),a=i$(s,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ai(this,void 0,void 0,function(){var n,i,s,A,a,o,l,c,d=this;return $n(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Va(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=p$(uu(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Va(n.backgroundColor)||(this.ctx.fillStyle=mn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var v=hm(r.curves),x=g.inset?0:d$,T=t$(v,-x+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(v),d.ctx.clip(),d.mask(T)):(d.mask(v),d.ctx.clip(),d.path(T)),d.ctx.shadowOffsetX=g.offsetX.number+x,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=mn(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?mn(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),p.label=2;case 2:a=0,o=0,l=s,p.label=3;case 3:return o<l.length?(c=l[o],c.style!==0&&!Va(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,r.curves)];case 10:p.sent(),p.label=11;case 11:a++,p.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,A){return ai(this,void 0,void 0,function(){var a,o,l,c,d,p,g,v,x,T,w,B,C,L,D,M,D,M;return $n(this,function(S){return this.ctx.save(),a=s$(s,i),o=B_(s,i),A===2&&(this.path(o),this.ctx.clip()),cs(o[0])?(l=o[0].start.x,c=o[0].start.y):(l=o[0].x,c=o[0].y),cs(o[1])?(d=o[1].end.x,p=o[1].end.y):(d=o[1].x,p=o[1].y),i===0||i===2?g=Math.abs(l-d):g=Math.abs(c-p),this.ctx.beginPath(),A===3?this.formatPath(a):this.formatPath(o.slice(0,2)),v=n<3?n*3:n*2,x=n<3?n*2:n,A===3&&(v=n,x=n),T=!0,g<=v*2?T=!1:g<=v*2+x?(w=g/(2*v+x),v*=w,x*=w):(B=Math.floor((g+x)/(v+x)),C=(g-B*v)/(B-1),L=(g-(B+1)*v)/B,x=L<=0||Math.abs(x-C)<Math.abs(x-L)?C:L),T&&(A===3?this.ctx.setLineDash([0,v+x]):this.ctx.setLineDash([v,x])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=mn(r),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(cs(o[0])&&(D=o[3],M=o[0],this.ctx.beginPath(),this.formatPath([new at(D.end.x,D.end.y),new at(M.start.x,M.start.y)]),this.ctx.stroke()),cs(o[1])&&(D=o[1],M=o[2],this.ctx.beginPath(),this.formatPath([new at(D.end.x,D.end.y),new at(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ai(this,void 0,void 0,function(){var n;return $n(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=mn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=r$(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(ZU),f$=function(t){return t instanceof PU||t instanceof LU?!0:t instanceof $C&&t.type!==cm&&t.type!==lm},p$=function(t,e){switch(t){case 0:return hm(e);case 2:return Jq(e);case 1:default:return fm(e)}},g$=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},m$=["-apple-system","system-ui"],v$=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return m$.indexOf(e)===-1}):t},w$=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return ai(this,void 0,void 0,function(){var n,i;return $n(this,function(s){switch(s.label){case 0:return n=c2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,y$(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=mn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(ZU),y$=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},B$=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Ag([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Ag([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Ag([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Ag([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),C$=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new B$({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Hq(this,e)}return t.instanceCount=1,t}(),eN=function(t,e){return e===void 0&&(e={}),b$(t,e)};typeof window<"u"&&GU.setContext(window);var b$=function(t,e){return ai(void 0,void 0,void 0,function(){var r,n,i,s,A,a,o,l,c,d,p,g,v,x,T,w,B,C,L,D,S,M,S,E,k,O,_,F,U,Y,ue,te,K,$,P,G,ne,N,j,W;return $n(this,function(ee){switch(ee.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(E=e.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(O=e.useCORS)!==null&&O!==void 0?O:!1},s=$y({logging:(_=e.logging)!==null&&_!==void 0?_:!0,cache:e.cache},i),A={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:n.innerWidth,windowHeight:(U=e.windowHeight)!==null&&U!==void 0?U:n.innerHeight,scrollX:(Y=e.scrollX)!==null&&Y!==void 0?Y:n.pageXOffset,scrollY:(ue=e.scrollY)!==null&&ue!==void 0?ue:n.pageYOffset},a=new So(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),o=new C$(s,a),l=(te=e.foreignObjectRendering)!==null&&te!==void 0?te:!1,c={allowTaint:(K=e.allowTaint)!==null&&K!==void 0?K:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),d=new v_(o,t,c),p=d.clonedReferenceElement,p?[4,d.toIFrame(r,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=ee.sent(),v=JC(p)||Eq(p)?tK(p.ownerDocument):hv(o,p),x=v.width,T=v.height,w=v.left,B=v.top,C=x$(o,p,e.backgroundColor),L={canvas:e.canvas,backgroundColor:C,scale:(P=($=e.scale)!==null&&$!==void 0?$:n.devicePixelRatio)!==null&&P!==void 0?P:1,x:((G=e.x)!==null&&G!==void 0?G:0)+w,y:((ne=e.y)!==null&&ne!==void 0?ne:0)+B,width:(N=e.width)!==null&&N!==void 0?N:Math.ceil(x),height:(j=e.height)!==null&&j!==void 0?j:Math.ceil(T)},l?(o.logger.debug("Document cloned, using foreign object rendering"),S=new w$(o,L),[4,S.render(p)]):[3,3];case 2:return D=ee.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+w+","+B+" with size "+x+"x"+T+" using computed rendering"),o.logger.debug("Starting DOM parsing"),M=OU(o,p),C===M.styles.backgroundColor&&(M.styles.backgroundColor=mo.TRANSPARENT),o.logger.debug("Starting renderer for element at "+L.x+","+L.y+" with size "+L.width+"x"+L.height),S=new h$(o,L),[4,S.render(M)];case 4:D=ee.sent(),ee.label=5;case 5:return(!((W=e.removeContainer)!==null&&W!==void 0)||W)&&(v_.destroy(g)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,D]}})})},x$=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?zh(t,getComputedStyle(n.documentElement).backgroundColor):mo.TRANSPARENT,s=n.body?zh(t,getComputedStyle(n.body).backgroundColor):mo.TRANSPARENT,A=typeof r=="string"?zh(t,r):r===null?mo.TRANSPARENT:4294967295;return e===n.documentElement?Va(i)?Va(s)?A:s:i:A};const E$=Object.freeze(Object.defineProperty({__proto__:null,default:eN},Symbol.toStringTag,{value:"Module"})),_$="modulepreload",I$=function(t){return"/zamenyVStest/"+t},b_={},m2=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),a=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));i=Promise.allSettled(r.map(o=>{if(o=I$(o),o in b_)return;b_[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":_$,l||(d.as="script"),d.crossOrigin="",d.href=o,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(A){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=A,window.dispatchEvent(a),!a.defaultPrevented)throw A}return i.then(A=>{for(const a of A||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function ir(t){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(t)}var ei=Uint8Array,Ki=Uint16Array,XC=Int32Array,bv=new ei([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xv=new ei([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),v2=new ei([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tN=function(t,e){for(var r=new Ki(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new XC(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},rN=tN(bv,2),nN=rN.b,w2=rN.r;nN[28]=258,w2[258]=28;var iN=tN(xv,0),S$=iN.b,x_=iN.r,y2=new Ki(32768);for(var Br=0;Br<32768;++Br){var da=(Br&43690)>>1|(Br&21845)<<1;da=(da&52428)>>2|(da&13107)<<2,da=(da&61680)>>4|(da&3855)<<4,y2[Br]=((da&65280)>>8|(da&255)<<8)>>1}var IA=function(t,e,r){for(var n=t.length,i=0,s=new Ki(e);i<n;++i)t[i]&&++s[t[i]-1];var A=new Ki(e);for(i=1;i<e;++i)A[i]=A[i-1]+s[i-1]<<1;var a;if(r){a=new Ki(1<<e);var o=15-e;for(i=0;i<n;++i)if(t[i])for(var l=i<<4|t[i],c=e-t[i],d=A[t[i]-1]++<<c,p=d|(1<<c)-1;d<=p;++d)a[y2[d]>>o]=l}else for(a=new Ki(n),i=0;i<n;++i)t[i]&&(a[i]=y2[A[t[i]-1]++]>>15-t[i]);return a},Za=new ei(288);for(var Br=0;Br<144;++Br)Za[Br]=8;for(var Br=144;Br<256;++Br)Za[Br]=9;for(var Br=256;Br<280;++Br)Za[Br]=7;for(var Br=280;Br<288;++Br)Za[Br]=8;var Df=new ei(32);for(var Br=0;Br<32;++Br)Df[Br]=5;var F$=IA(Za,9,0),T$=IA(Za,9,1),k$=IA(Df,5,0),U$=IA(Df,5,1),o1=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Ns=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},a1=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},YC=function(t){return(t+7)/8|0},sN=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ei(t.subarray(e,r))},N$=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Rs=function(t,e,r){var n=new Error(e||N$[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Rs),!r)throw n;return n},Q$=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new ei(0);var A=!r,a=A||e.i!=2,o=e.i;A&&(r=new ei(i*3));var l=function(ke){var Oe=r.length;if(ke>Oe){var Ne=new ei(Math.max(Oe*2,ke));Ne.set(r),r=Ne}},c=e.f||0,d=e.p||0,p=e.b||0,g=e.l,v=e.d,x=e.m,T=e.n,w=i*8;do{if(!g){c=Ns(t,d,1);var B=Ns(t,d+1,3);if(d+=3,B)if(B==1)g=T$,v=U$,x=9,T=5;else if(B==2){var M=Ns(t,d,31)+257,S=Ns(t,d+10,15)+4,E=M+Ns(t,d+5,31)+1;d+=14;for(var k=new ei(E),O=new ei(19),_=0;_<S;++_)O[v2[_]]=Ns(t,d+_*3,7);d+=S*3;for(var F=o1(O),U=(1<<F)-1,Y=IA(O,F,1),_=0;_<E;){var ue=Y[Ns(t,d,U)];d+=ue&15;var C=ue>>4;if(C<16)k[_++]=C;else{var te=0,K=0;for(C==16?(K=3+Ns(t,d,3),d+=2,te=k[_-1]):C==17?(K=3+Ns(t,d,7),d+=3):C==18&&(K=11+Ns(t,d,127),d+=7);K--;)k[_++]=te}}var $=k.subarray(0,M),P=k.subarray(M);x=o1($),T=o1(P),g=IA($,x,1),v=IA(P,T,1)}else Rs(1);else{var C=YC(d)+4,L=t[C-4]|t[C-3]<<8,D=C+L;if(D>i){o&&Rs(0);break}a&&l(p+L),r.set(t.subarray(C,D),p),e.b=p+=L,e.p=d=D*8,e.f=c;continue}if(d>w){o&&Rs(0);break}}a&&l(p+131072);for(var G=(1<<x)-1,ne=(1<<T)-1,N=d;;N=d){var te=g[a1(t,d)&G],j=te>>4;if(d+=te&15,d>w){o&&Rs(0);break}if(te||Rs(2),j<256)r[p++]=j;else if(j==256){N=d,g=null;break}else{var W=j-254;if(j>264){var _=j-257,ee=bv[_];W=Ns(t,d,(1<<ee)-1)+nN[_],d+=ee}var re=v[a1(t,d)&ne],oe=re>>4;re||Rs(3),d+=re&15;var P=S$[oe];if(oe>3){var ee=xv[oe];P+=a1(t,d)&(1<<ee)-1,d+=ee}if(d>w){o&&Rs(0);break}a&&l(p+131072);var ge=p+W;if(p<P){var ye=s-P,Fe=Math.min(P,ge);for(ye+p<0&&Rs(3);p<Fe;++p)r[p]=n[ye+p]}for(;p<ge;++p)r[p]=r[p-P]}}e.l=g,e.p=N,e.b=p,e.f=c,g&&(c=1,e.m=x,e.d=v,e.n=T)}while(!c);return p!=r.length&&A?sN(r,0,p):r.subarray(0,p)},ro=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},sh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},l1=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:oN,l:0};if(i==1){var A=new ei(r[0].s+1);return A[r[0].s]=1,{t:A,l:1}}r.sort(function(D,M){return D.f-M.f}),r.push({s:-1,f:25001});var a=r[0],o=r[1],l=0,c=1,d=2;for(r[0]={s:-1,f:a.f+o.f,l:a,r:o};c!=i-1;)a=r[r[l].f<r[d].f?l++:d++],o=r[l!=c&&r[l].f<r[d].f?l++:d++],r[c++]={s:-1,f:a.f+o.f,l:a,r:o};for(var p=s[0].s,n=1;n<i;++n)s[n].s>p&&(p=s[n].s);var g=new Ki(p+1),v=B2(r[c-1],g,0);if(v>e){var n=0,x=0,T=v-e,w=1<<T;for(s.sort(function(M,S){return g[S.s]-g[M.s]||M.f-S.f});n<i;++n){var B=s[n].s;if(g[B]>e)x+=w-(1<<v-g[B]),g[B]=e;else break}for(x>>=T;x>0;){var C=s[n].s;g[C]<e?x-=1<<e-g[C]++-1:++n}for(;n>=0&&x;--n){var L=s[n].s;g[L]==e&&(--g[L],++x)}v=e}return{t:new ei(g),l:v}},B2=function(t,e,r){return t.s==-1?Math.max(B2(t.l,e,r+1),B2(t.r,e,r+1)):e[t.s]=r},E_=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ki(++e),n=0,i=t[0],s=1,A=function(o){r[n++]=o},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)A(32754);s>2&&(A(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(A(i),--s;s>6;s-=6)A(8304);s>2&&(A(s-3<<5|8208),s=0)}for(;s--;)A(i);s=1,i=t[a]}return{c:r.subarray(0,n),n:e}},Ah=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},AN=function(t,e,r){var n=r.length,i=YC(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},__=function(t,e,r,n,i,s,A,a,o,l,c){ro(e,c++,r),++i[256];for(var d=l1(i,15),p=d.t,g=d.l,v=l1(s,15),x=v.t,T=v.l,w=E_(p),B=w.c,C=w.n,L=E_(x),D=L.c,M=L.n,S=new Ki(19),E=0;E<B.length;++E)++S[B[E]&31];for(var E=0;E<D.length;++E)++S[D[E]&31];for(var k=l1(S,7),O=k.t,_=k.l,F=19;F>4&&!O[v2[F-1]];--F);var U=l+5<<3,Y=Ah(i,Za)+Ah(s,Df)+A,ue=Ah(i,p)+Ah(s,x)+A+14+3*F+Ah(S,O)+2*S[16]+3*S[17]+7*S[18];if(o>=0&&U<=Y&&U<=ue)return AN(e,c,t.subarray(o,o+l));var te,K,$,P;if(ro(e,c,1+(ue<Y)),c+=2,ue<Y){te=IA(p,g,0),K=p,$=IA(x,T,0),P=x;var G=IA(O,_,0);ro(e,c,C-257),ro(e,c+5,M-1),ro(e,c+10,F-4),c+=14;for(var E=0;E<F;++E)ro(e,c+3*E,O[v2[E]]);c+=3*F;for(var ne=[B,D],N=0;N<2;++N)for(var j=ne[N],E=0;E<j.length;++E){var W=j[E]&31;ro(e,c,G[W]),c+=O[W],W>15&&(ro(e,c,j[E]>>5&127),c+=j[E]>>12)}}else te=F$,K=Za,$=k$,P=Df;for(var E=0;E<a;++E){var ee=n[E];if(ee>255){var W=ee>>18&31;sh(e,c,te[W+257]),c+=K[W+257],W>7&&(ro(e,c,ee>>23&31),c+=bv[W]);var re=ee&31;sh(e,c,$[re]),c+=P[re],re>3&&(sh(e,c,ee>>5&8191),c+=xv[re])}else sh(e,c,te[ee]),c+=K[ee]}return sh(e,c,te[256]),c+K[256]},L$=new XC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oN=new ei(0),P$=function(t,e,r,n,i,s){var A=s.z||t.length,a=new ei(n+A+5*(1+Math.ceil(A/7e3))+i),o=a.subarray(n,a.length-i),l=s.l,c=(s.r||0)&7;if(e){c&&(o[0]=s.r>>3);for(var d=L$[e-1],p=d>>13,g=d&8191,v=(1<<r)-1,x=s.p||new Ki(32768),T=s.h||new Ki(v+1),w=Math.ceil(r/3),B=2*w,C=function(je){return(t[je]^t[je+1]<<w^t[je+2]<<B)&v},L=new XC(25e3),D=new Ki(288),M=new Ki(32),S=0,E=0,k=s.i||0,O=0,_=s.w||0,F=0;k+2<A;++k){var U=C(k),Y=k&32767,ue=T[U];if(x[Y]=ue,T[U]=Y,_<=k){var te=A-k;if((S>7e3||O>24576)&&(te>423||!l)){c=__(t,o,0,L,D,M,E,O,F,k-F,c),O=S=E=0,F=k;for(var K=0;K<286;++K)D[K]=0;for(var K=0;K<30;++K)M[K]=0}var $=2,P=0,G=g,ne=Y-ue&32767;if(te>2&&U==C(k-ne))for(var N=Math.min(p,te)-1,j=Math.min(32767,k),W=Math.min(258,te);ne<=j&&--G&&Y!=ue;){if(t[k+$]==t[k+$-ne]){for(var ee=0;ee<W&&t[k+ee]==t[k+ee-ne];++ee);if(ee>$){if($=ee,P=ne,ee>N)break;for(var re=Math.min(ne,ee-2),oe=0,K=0;K<re;++K){var ge=k-ne+K&32767,ye=x[ge],Fe=ge-ye&32767;Fe>oe&&(oe=Fe,ue=ge)}}}Y=ue,ue=x[Y],ne+=Y-ue&32767}if(P){L[O++]=268435456|w2[$]<<18|x_[P];var ke=w2[$]&31,Oe=x_[P]&31;E+=bv[ke]+xv[Oe],++D[257+ke],++M[Oe],_=k+$,++S}else L[O++]=t[k],++D[t[k]]}}for(k=Math.max(k,_);k<A;++k)L[O++]=t[k],++D[t[k]];c=__(t,o,l,L,D,M,E,O,F,k-F,c),l||(s.r=c&7|o[c/8|0]<<3,c-=7,s.h=T,s.p=x,s.i=k,s.w=_)}else{for(var k=s.w||0;k<A+l;k+=65535){var Ne=k+65535;Ne>=A&&(o[c/8|0]=l,Ne=A),c=AN(o,c+1,t.subarray(k,Ne))}s.i=A}return sN(a,0,n+YC(c)+i)},aN=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,A=0;A!=s;){for(var a=Math.min(A+2655,s);A<a;++A)i+=n+=r[A];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},R$=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),A=new ei(s.length+t.length);A.set(s),A.set(t,s.length),t=A,i.w=s.length}return P$(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},lN=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},D$=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=aN();i.p(e.dictionary),lN(t,2,i.d())}},O$=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Rs(6,"invalid zlib data"),(t[1]>>5&1)==1&&Rs(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function C2(t,e){e||(e={});var r=aN();r.p(t);var n=R$(t,e,e.dictionary?6:2,4);return D$(n,e),lN(n,n.length-4,r.d()),n}function M$(t,e){return Q$(t.subarray(O$(t),-4),{i:2},e,e)}var j$=typeof TextDecoder<"u"&&new TextDecoder,H$=0;try{j$.decode(oN,{stream:!0}),H$=1}catch{}var xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function c1(){xt.console&&typeof xt.console.log=="function"&&xt.console.log.apply(xt.console,arguments)}var dr={log:c1,warn:function(t){xt.console&&(typeof xt.console.warn=="function"?xt.console.warn.apply(xt.console,arguments):c1.call(null,arguments))},error:function(t){xt.console&&(typeof xt.console.error=="function"?xt.console.error.apply(xt.console,arguments):c1(t))}};function u1(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ql(n.response,e,r)},n.onerror=function(){dr.error("could not download file")},n.send()}function I_(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Fg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var $h,b2,Ql=xt.saveAs||((typeof window>"u"?"undefined":ir(window))!=="object"||window!==xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=xt.URL||xt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?I_(i.href)?u1(t,e,r):Fg(i,i.target="_blank"):Fg(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Fg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(I_(t))u1(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Fg(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ir(s)!=="object"&&(dr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return u1(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(xt.HTMLElement)||xt.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||i&&s)&&(typeof FileReader>"u"?"undefined":ir(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=A?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},a.readAsDataURL(t)}else{var o=xt.URL||xt.webkitURL,l=o.createObjectURL(t);n?n.location=l:location.href=l,n=null,setTimeout(function(){o.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function cN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,A=i.exec(t);A&&(e=s(A),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),o=this.g.toString(16),l=this.b.toString(16);return a.length==1&&(a="0"+a),o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),"#"+a+o+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d1(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=zn(r,n,i,s,e[0],7,-680876936),s=zn(s,r,n,i,e[1],12,-389564586),i=zn(i,s,r,n,e[2],17,606105819),n=zn(n,i,s,r,e[3],22,-1044525330),r=zn(r,n,i,s,e[4],7,-176418897),s=zn(s,r,n,i,e[5],12,1200080426),i=zn(i,s,r,n,e[6],17,-1473231341),n=zn(n,i,s,r,e[7],22,-45705983),r=zn(r,n,i,s,e[8],7,1770035416),s=zn(s,r,n,i,e[9],12,-1958414417),i=zn(i,s,r,n,e[10],17,-42063),n=zn(n,i,s,r,e[11],22,-1990404162),r=zn(r,n,i,s,e[12],7,1804603682),s=zn(s,r,n,i,e[13],12,-40341101),i=zn(i,s,r,n,e[14],17,-1502002290),r=Wn(r,n=zn(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Wn(s,r,n,i,e[6],9,-1069501632),i=Wn(i,s,r,n,e[11],14,643717713),n=Wn(n,i,s,r,e[0],20,-373897302),r=Wn(r,n,i,s,e[5],5,-701558691),s=Wn(s,r,n,i,e[10],9,38016083),i=Wn(i,s,r,n,e[15],14,-660478335),n=Wn(n,i,s,r,e[4],20,-405537848),r=Wn(r,n,i,s,e[9],5,568446438),s=Wn(s,r,n,i,e[14],9,-1019803690),i=Wn(i,s,r,n,e[3],14,-187363961),n=Wn(n,i,s,r,e[8],20,1163531501),r=Wn(r,n,i,s,e[13],5,-1444681467),s=Wn(s,r,n,i,e[2],9,-51403784),i=Wn(i,s,r,n,e[7],14,1735328473),r=Gn(r,n=Wn(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Gn(s,r,n,i,e[8],11,-2022574463),i=Gn(i,s,r,n,e[11],16,1839030562),n=Gn(n,i,s,r,e[14],23,-35309556),r=Gn(r,n,i,s,e[1],4,-1530992060),s=Gn(s,r,n,i,e[4],11,1272893353),i=Gn(i,s,r,n,e[7],16,-155497632),n=Gn(n,i,s,r,e[10],23,-1094730640),r=Gn(r,n,i,s,e[13],4,681279174),s=Gn(s,r,n,i,e[0],11,-358537222),i=Gn(i,s,r,n,e[3],16,-722521979),n=Gn(n,i,s,r,e[6],23,76029189),r=Gn(r,n,i,s,e[9],4,-640364487),s=Gn(s,r,n,i,e[12],11,-421815835),i=Gn(i,s,r,n,e[15],16,530742520),r=qn(r,n=Gn(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=qn(s,r,n,i,e[7],10,1126891415),i=qn(i,s,r,n,e[14],15,-1416354905),n=qn(n,i,s,r,e[5],21,-57434055),r=qn(r,n,i,s,e[12],6,1700485571),s=qn(s,r,n,i,e[3],10,-1894986606),i=qn(i,s,r,n,e[10],15,-1051523),n=qn(n,i,s,r,e[1],21,-2054922799),r=qn(r,n,i,s,e[8],6,1873313359),s=qn(s,r,n,i,e[15],10,-30611744),i=qn(i,s,r,n,e[6],15,-1560198380),n=qn(n,i,s,r,e[13],21,1309151649),r=qn(r,n,i,s,e[4],6,-145523070),s=qn(s,r,n,i,e[11],10,-1120210379),i=qn(i,s,r,n,e[2],15,718787259),n=qn(n,i,s,r,e[9],21,-343485551),t[0]=Ta(r,t[0]),t[1]=Ta(n,t[1]),t[2]=Ta(i,t[2]),t[3]=Ta(s,t[3])}function Ev(t,e,r,n,i,s){return e=Ta(Ta(e,t),Ta(n,s)),Ta(e<<i|e>>>32-i,r)}function zn(t,e,r,n,i,s,A){return Ev(e&r|~e&n,t,e,i,s,A)}function Wn(t,e,r,n,i,s,A){return Ev(e&n|r&~n,t,e,i,s,A)}function Gn(t,e,r,n,i,s,A){return Ev(e^r^n,t,e,i,s,A)}function qn(t,e,r,n,i,s,A){return Ev(r^(e|~n),t,e,i,s,A)}function uN(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)d1(n,V$(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(d1(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,d1(n,i),n}function V$(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}$h=xt.atob.bind(xt),b2=xt.btoa.bind(xt);var S_="0123456789abcdef".split("");function K$(t){for(var e="",r=0;r<4;r++)e+=S_[t>>8*r+4&15]+S_[t>>8*r&15];return e}function z$(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function x2(t){return uN(t).map(z$).join("")}var W$=function(t){for(var e=0;e<t.length;e++)t[e]=K$(t[e]);return t.join("")}(uN("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ta(t,e){if(W$){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function E2(t,e){var r,n,i,s;if(t!==r){for(var A=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],o=0;o<256;o++)a[o]=o;var l=0;for(o=0;o<256;o++){var c=a[o];l=(l+c+A.charCodeAt(o))%256,a[o]=a[l],a[l]=c}r=t,n=a}else a=n;var d=e.length,p=0,g=0,v="";for(o=0;o<d;o++)g=(g+(c=a[p=(p+1)%256]))%256,a[p]=a[g],a[g]=c,A=a[(a[p]+a[g])%256],v+=String.fromCharCode(e.charCodeAt(o)^A);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F_={print:4,modify:8,copy:16,"annot-forms":32};function du(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(F_.perm!==void 0)throw new Error("Invalid permission: "+a);i+=F_[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),A=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,A),this.P=-(1+(255^i)),this.encryptionKey=x2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=E2(this.encryptionKey,this.padding)}function hu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function T_(t){if(ir(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var A=e[r][s];try{A[0].apply(t,n)}catch(a){xt.console&&dr.error("jsPDF PubSub Error",a.message,a)}A[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Of(t){if(!(this instanceof Of))return new Of(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function dN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ba(t,e,r,n,i){if(!(this instanceof Ba))return new Ba(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,dN.call(this,n,i)}function Vl(t,e,r,n,i){if(!(this instanceof Vl))return new Vl(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,dN.call(this,n,i)}function Ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],A=[],a=1,o=16,l="S",c=null;ir(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(o=t.floatPrecision),l=t.defaultPathOperation||"S"),A=t.filters||(s===!0?["FlateEncode"]:A),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=T_;var v="1.3",x=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(y){v=y};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return T};var w=g.__private__.getPageFormat=function(y){return T[y]};i=i||"a4";var B={COMPAT:"compat",ADVANCED:"advanced"},C=B.COMPAT;function L(){this.saveGraphicsState(),Ae(new ht(ce,0,0,-ce,0,jn()*ce).toString()+" cm"),this.setFontSize(this.getFontSize()/ce),l="n",C=B.ADVANCED}function D(){this.restoreGraphicsState(),l="S",C=B.COMPAT}var M=g.__private__.combineFontStyleAndFontWeight=function(y,H){if(y=="bold"&&H=="normal"||y=="bold"&&H==400||y=="normal"&&H=="italic"||y=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(y=H==400||H==="normal"?y==="italic"?"italic":"normal":H!=700&&H!=="bold"||y!=="normal"?(H==700?"bold":H)+""+y:"bold"),y};g.advancedAPI=function(y){var H=C===B.COMPAT;return H&&L.call(this),typeof y!="function"||(y(this),H&&D.call(this)),this},g.compatAPI=function(y){var H=C===B.ADVANCED;return H&&D.call(this),typeof y!="function"||(y(this),H&&L.call(this)),this},g.isAdvancedAPI=function(){return C===B.ADVANCED};var S,E=function(y){if(C!==B.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=g.roundToPrecision=g.__private__.roundToPrecision=function(y,H){var se=e||H;if(isNaN(y)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(se).replace(/0+$/,"")};S=g.hpf=g.__private__.hpf=typeof o=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return k(y,o)}:o==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return k(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return k(y,16)};var O=g.f2=g.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return k(y,2)},_=g.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return k(y,3)},F=g.scale=g.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return C===B.COMPAT?y*ce:C===B.ADVANCED?y:void 0},U=function(y){return C===B.COMPAT?jn()-y:C===B.ADVANCED?y:void 0},Y=function(y){return F(U(y))};g.__private__.setPrecision=g.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var ue,te="00000000000000000000000000000000",K=g.__private__.getFileId=function(){return te},$=g.__private__.setFileId=function(y){return te=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(wr=new du(c.userPermissions,c.userPassword,c.ownerPassword,te)),te};g.setFileId=function(y){return $(y),this},g.getFileId=function(){return K()};var P=g.__private__.convertDateToPDFDate=function(y){var H=y.getTimezoneOffset(),se=H<0?"+":"-",de=Math.floor(Math.abs(H/60)),we=Math.abs(H%60),Ue=[se,W(de),"'",W(we),"'"].join("");return["D:",y.getFullYear(),W(y.getMonth()+1),W(y.getDate()),W(y.getHours()),W(y.getMinutes()),W(y.getSeconds()),Ue].join("")},G=g.__private__.convertPDFDateToDate=function(y){var H=parseInt(y.substr(2,4),10),se=parseInt(y.substr(6,2),10)-1,de=parseInt(y.substr(8,2),10),we=parseInt(y.substr(10,2),10),Ue=parseInt(y.substr(12,2),10),We=parseInt(y.substr(14,2),10);return new Date(H,se,de,we,Ue,We,0)},ne=g.__private__.setCreationDate=function(y){var H;if(y===void 0&&(y=new Date),y instanceof Date)H=P(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=y}return ue=H},N=g.__private__.getCreationDate=function(y){var H=ue;return y==="jsDate"&&(H=G(ue)),H};g.setCreationDate=function(y){return ne(y),this},g.getCreationDate=function(y){return N(y)};var j,W=g.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ee=g.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},re=0,oe=[],ge=[],ye=0,Fe=[],ke=[],Oe=!1,Ne=ge,je=function(){re=0,ye=0,ge=[],oe=[],Fe=[],Bs=Tr(),Mn=Tr()};g.__private__.setCustomOutputDestination=function(y){Oe=!0,Ne=y};var xe=function(y){Oe||(Ne=y)};g.__private__.resetCustomOutputDestination=function(){Oe=!1,Ne=ge};var Ae=g.__private__.out=function(y){return y=y.toString(),ye+=y.length+1,Ne.push(y),Ne},mt=g.__private__.write=function(y){return Ae(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},ae=g.__private__.getArrayBuffer=function(y){for(var H=y.length,se=new ArrayBuffer(H),de=new Uint8Array(se);H--;)de[H]=y.charCodeAt(H);return se},pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return pe};var Ce=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(y){return Ce=C===B.ADVANCED?y/ce:y,this};var be,Se=g.__private__.getFontSize=g.getFontSize=function(){return C===B.COMPAT?Ce:Ce*ce},Pe=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(y){return Pe=y,this},g.__private__.getR2L=g.getR2L=function(){return Pe};var Qe,Ke=g.__private__.setZoomMode=function(y){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))be=y;else if(isNaN(y)){if(H.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');be=y}else be=parseInt(y,10)};g.__private__.getZoomMode=function(){return be};var Me,ze=g.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');Qe=y};g.__private__.getPageMode=function(){return Qe};var ot=g.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');Me=y};g.__private__.getLayoutMode=function(){return Me},g.__private__.setDisplayMode=g.setDisplayMode=function(y,H,se){return Ke(y),ot(H),ze(se),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(y){if(Object.keys(At).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[y]},g.__private__.getDocumentProperties=function(){return At},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(y){for(var H in At)At.hasOwnProperty(H)&&y[H]&&(At[H]=y[H]);return this},g.__private__.setDocumentProperty=function(y,H){if(Object.keys(At).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[y]=H};var pt,ce,Je,Xe,it,et={},lt={},Pt=[],ct={},Lt={},or={},er={},Ti=null,hr=0,yt=[],Kt=new T_(g),Xi=t.hotfixes||[],Jr={},Dn={},ki=[],ht=function y(H,se,de,we,Ue,We){if(!(this instanceof y))return new y(H,se,de,we,Ue,We);isNaN(H)&&(H=1),isNaN(se)&&(se=0),isNaN(de)&&(de=0),isNaN(we)&&(we=1),isNaN(Ue)&&(Ue=0),isNaN(We)&&(We=0),this._matrix=[H,se,de,we,Ue,We]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(y)},ht.prototype.multiply=function(y){var H=y.sx*this.sx+y.shy*this.shx,se=y.sx*this.shy+y.shy*this.sy,de=y.shx*this.sx+y.sy*this.shx,we=y.shx*this.shy+y.sy*this.sy,Ue=y.tx*this.sx+y.ty*this.shx+this.tx,We=y.tx*this.shy+y.ty*this.sy+this.ty;return new ht(H,se,de,we,Ue,We)},ht.prototype.decompose=function(){var y=this.sx,H=this.shy,se=this.shx,de=this.sy,we=this.tx,Ue=this.ty,We=Math.sqrt(y*y+H*H),rt=(y/=We)*se+(H/=We)*de;se-=y*rt,de-=H*rt;var h=Math.sqrt(se*se+de*de);return rt/=h,y*(de/=h)<H*(se/=h)&&(y=-y,H=-H,rt=-rt,We=-We),{scale:new ht(We,0,0,h,0,0),translate:new ht(1,0,0,1,we,Ue),rotate:new ht(y,H,-H,y,0,0),skew:new ht(1,0,rt,1,0,0)}},ht.prototype.toString=function(y){return this.join(" ")},ht.prototype.inversed=function(){var y=this.sx,H=this.shy,se=this.shx,de=this.sy,we=this.tx,Ue=this.ty,We=1/(y*de-H*se),rt=de*We,h=-H*We,I=-se*We,R=y*We;return new ht(rt,h,I,R,-rt*we-I*Ue,-h*we-R*Ue)},ht.prototype.applyToPoint=function(y){var H=y.x*this.sx+y.y*this.shx+this.tx,se=y.x*this.shy+y.y*this.sy+this.ty;return new zA(H,se)},ht.prototype.applyToRectangle=function(y){var H=this.applyToPoint(y),se=this.applyToPoint(new zA(y.x+y.w,y.y+y.h));return new qo(H.x,H.y,se.x-H.x,se.y-H.y)},ht.prototype.clone=function(){var y=this.sx,H=this.shy,se=this.shx,de=this.sy,we=this.tx,Ue=this.ty;return new ht(y,H,se,de,we,Ue)},g.Matrix=ht;var hi=g.matrixMult=function(y,H){return H.multiply(y)},On=new ht(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=On;var Xr=function(y,H){if(!Lt[y]){var se=(H instanceof Ba?"Sh":"P")+(Object.keys(ct).length+1).toString(10);H.id=se,Lt[y]=se,ct[se]=H,Kt.publish("addPattern",H)}};g.ShadingPattern=Ba,g.TilingPattern=Vl,g.addShadingPattern=function(y,H){return E("addShadingPattern()"),Xr(y,H),this},g.beginTilingPattern=function(y){E("beginTilingPattern()"),$o(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},g.endTilingPattern=function(y,H){E("endTilingPattern()"),H.stream=ke[j].join(`
`),Xr(y,H),Kt.publish("endTilingPattern",H),ki.pop().restore()};var Or=g.__private__.newObject=function(){var y=Tr();return Yr(y,!0),y},Tr=g.__private__.newObjectDeferred=function(){return re++,oe[re]=function(){return ye},re},Yr=function(y,H){return H=typeof H=="boolean"&&H,oe[y]=ye,H&&Ae(y+" 0 obj"),y},Qo=g.__private__.newAdditionalObject=function(){var y={objId:Tr(),content:""};return Fe.push(y),y},Bs=Tr(),Mn=Tr(),fi=g.__private__.decodeColorString=function(y){var H=y.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var se=parseFloat(H[0]);H=[se,se,se,"r"]}for(var de="#",we=0;we<3;we++)de+=("0"+Math.floor(255*parseFloat(H[we])).toString(16)).slice(-2);return de},ri=g.__private__.encodeColorString=function(y){var H;typeof y=="string"&&(y={ch1:y});var se=y.ch1,de=y.ch2,we=y.ch3,Ue=y.ch4,We=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var rt=new cN(se);if(rt.ok)se=rt.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var h=parseInt(se.substr(1),16);se=h>>16&255,de=h>>8&255,we=255&h}if(de===void 0||Ue===void 0&&se===de&&de===we)if(typeof se=="string")H=se+" "+We[0];else switch(y.precision){case 2:H=O(se/255)+" "+We[0];break;case 3:default:H=_(se/255)+" "+We[0]}else if(Ue===void 0||ir(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return H=["1.","1.","1.",We[1]].join(" ");if(typeof se=="string")H=[se,de,we,We[1]].join(" ");else switch(y.precision){case 2:H=[O(se/255),O(de/255),O(we/255),We[1]].join(" ");break;default:case 3:H=[_(se/255),_(de/255),_(we/255),We[1]].join(" ")}}else if(typeof se=="string")H=[se,de,we,Ue,We[2]].join(" ");else switch(y.precision){case 2:H=[O(se),O(de),O(we),O(Ue),We[2]].join(" ");break;case 3:default:H=[_(se),_(de),_(we),_(Ue),We[2]].join(" ")}return H},ni=g.__private__.getFilters=function(){return A},Mr=g.__private__.putStream=function(y){var H=(y=y||{}).data||"",se=y.filters||ni(),de=y.alreadyAppliedFilters||[],we=y.addLength1||!1,Ue=H.length,We=y.objectId,rt=function(St){return St};if(c!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(rt=wr.encryptor(We,0));var h={};se===!0&&(se=["FlateEncode"]);var I=y.additionalKeyValues||[],R=(h=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(H,se):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(h.data.length!==0&&(I.push({key:"Length",value:h.data.length}),we===!0&&I.push({key:"Length1",value:Ue})),R.length!=0)if(R.split("/").length-1==1)I.push({key:"Filter",value:R});else{I.push({key:"Filter",value:"["+R+"]"});for(var J=0;J<I.length;J+=1)if(I[J].key==="DecodeParms"){for(var ve=[],Ie=0;Ie<h.reverseChain.split("/").length-1;Ie+=1)ve.push("null");ve.push(I[J].value),I[J].value="["+ve.join(" ")+"]"}}Ae("<<");for(var Ge=0;Ge<I.length;Ge++)Ae("/"+I[Ge].key+" "+I[Ge].value);Ae(">>"),h.data.length!==0&&(Ae("stream"),Ae(rt(h.data)),Ae("endstream"))},Ui=g.__private__.putPage=function(y){var H=y.number,se=y.data,de=y.objId,we=y.contentsObjId;Yr(de,!0),Ae("<</Type /Page"),Ae("/Parent "+y.rootDictionaryObjId+" 0 R"),Ae("/Resources "+y.resourceDictionaryObjId+" 0 R"),Ae("/MediaBox ["+parseFloat(S(y.mediaBox.bottomLeftX))+" "+parseFloat(S(y.mediaBox.bottomLeftY))+" "+S(y.mediaBox.topRightX)+" "+S(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&Ae("/CropBox ["+S(y.cropBox.bottomLeftX)+" "+S(y.cropBox.bottomLeftY)+" "+S(y.cropBox.topRightX)+" "+S(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&Ae("/BleedBox ["+S(y.bleedBox.bottomLeftX)+" "+S(y.bleedBox.bottomLeftY)+" "+S(y.bleedBox.topRightX)+" "+S(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&Ae("/TrimBox ["+S(y.trimBox.bottomLeftX)+" "+S(y.trimBox.bottomLeftY)+" "+S(y.trimBox.topRightX)+" "+S(y.trimBox.topRightY)+"]"),y.artBox!==null&&Ae("/ArtBox ["+S(y.artBox.bottomLeftX)+" "+S(y.artBox.bottomLeftY)+" "+S(y.artBox.topRightX)+" "+S(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&Ae("/UserUnit "+y.userUnit),Kt.publish("putPage",{objId:de,pageContext:yt[H],pageNumber:H,page:se}),Ae("/Contents "+we+" 0 R"),Ae(">>"),Ae("endobj");var Ue=se.join(`
`);return C===B.ADVANCED&&(Ue+=`
Q`),Yr(we,!0),Mr({data:Ue,filters:ni(),objectId:we}),Ae("endobj"),de},Js=g.__private__.putPages=function(){var y,H,se=[];for(y=1;y<=hr;y++)yt[y].objId=Tr(),yt[y].contentsObjId=Tr();for(y=1;y<=hr;y++)se.push(Ui({number:y,data:ke[y],objId:yt[y].objId,contentsObjId:yt[y].contentsObjId,mediaBox:yt[y].mediaBox,cropBox:yt[y].cropBox,bleedBox:yt[y].bleedBox,trimBox:yt[y].trimBox,artBox:yt[y].artBox,userUnit:yt[y].userUnit,rootDictionaryObjId:Bs,resourceDictionaryObjId:Mn}));Yr(Bs,!0),Ae("<</Type /Pages");var de="/Kids [";for(H=0;H<hr;H++)de+=se[H]+" 0 R ";Ae(de+"]"),Ae("/Count "+hr),Ae(">>"),Ae("endobj"),Kt.publish("postPutPages")},Xs=function(y){Kt.publish("putFont",{font:y,out:Ae,newObject:Or,putStream:Mr}),y.isAlreadyPutted!==!0&&(y.objectNumber=Or(),Ae("<<"),Ae("/Type /Font"),Ae("/BaseFont /"+hu(y.postScriptName)),Ae("/Subtype /Type1"),typeof y.encoding=="string"&&Ae("/Encoding /"+y.encoding),Ae("/FirstChar 32"),Ae("/LastChar 255"),Ae(">>"),Ae("endobj"))},Ys=function(){for(var y in et)et.hasOwnProperty(y)&&(d===!1||d===!0&&p.hasOwnProperty(y))&&Xs(et[y])},PA=function(y){y.objectNumber=Or();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[S(y.x),S(y.y),S(y.x+y.width),S(y.y+y.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var se=y.pages[1].join(`
`);Mr({data:se,additionalKeyValues:H,objectId:y.objectNumber}),Ae("endobj")},RA=function(){for(var y in Jr)Jr.hasOwnProperty(y)&&PA(Jr[y])},Cc=function(y,H){var se,de=[],we=1/(H-1);for(se=0;se<1;se+=we)de.push(se);if(de.push(1),y[0].offset!=0){var Ue={offset:0,color:y[0].color};y.unshift(Ue)}if(y[y.length-1].offset!=1){var We={offset:1,color:y[y.length-1].color};y.push(We)}for(var rt="",h=0,I=0;I<de.length;I++){for(se=de[I];se>y[h+1].offset;)h++;var R=y[h].offset,J=(se-R)/(y[h+1].offset-R),ve=y[h].color,Ie=y[h+1].color;rt+=ee(Math.round((1-J)*ve[0]+J*Ie[0]).toString(16))+ee(Math.round((1-J)*ve[1]+J*Ie[1]).toString(16))+ee(Math.round((1-J)*ve[2]+J*Ie[2]).toString(16))}return rt.trim()},Lo=function(y,H){H||(H=21);var se=Or(),de=Cc(y.colors,H),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+H+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mr({data:de,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),Ae("endobj"),y.objectNumber=Or(),Ae("<< /ShadingType "+y.type),Ae("/ColorSpace /DeviceRGB");var Ue="/Coords ["+S(parseFloat(y.coords[0]))+" "+S(parseFloat(y.coords[1]))+" ";y.type===2?Ue+=S(parseFloat(y.coords[2]))+" "+S(parseFloat(y.coords[3])):Ue+=S(parseFloat(y.coords[2]))+" "+S(parseFloat(y.coords[3]))+" "+S(parseFloat(y.coords[4]))+" "+S(parseFloat(y.coords[5])),Ae(Ue+="]"),y.matrix&&Ae("/Matrix ["+y.matrix.toString()+"]"),Ae("/Function "+se+" 0 R"),Ae("/Extend [true true]"),Ae(">>"),Ae("endobj")},bc=function(y,H){var se=Tr(),de=Or();H.push({resourcesOid:se,objectOid:de}),y.objectNumber=de;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+y.boundingBox.map(S).join(" ")+"]"}),we.push({key:"XStep",value:S(y.xStep)}),we.push({key:"YStep",value:S(y.yStep)}),we.push({key:"Resources",value:se+" 0 R"}),y.matrix&&we.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Mr({data:y.stream,additionalKeyValues:we,objectId:y.objectNumber}),Ae("endobj")},Zs=function(y){var H;for(H in ct)ct.hasOwnProperty(H)&&(ct[H]instanceof Ba?Lo(ct[H]):ct[H]instanceof Vl&&bc(ct[H],y))},eA=function(y){for(var H in y.objectNumber=Or(),Ae("<<"),y)switch(H){case"opacity":Ae("/ca "+O(y[H]));break;case"stroke-opacity":Ae("/CA "+O(y[H]))}Ae(">>"),Ae("endobj")},Cs=function(){var y;for(y in or)or.hasOwnProperty(y)&&eA(or[y])},DA=function(){for(var y in Ae("/XObject <<"),Jr)Jr.hasOwnProperty(y)&&Jr[y].objectNumber>=0&&Ae("/"+y+" "+Jr[y].objectNumber+" 0 R");Kt.publish("putXobjectDict"),Ae(">>")},Ed=function(){wr.oid=Or(),Ae("<<"),Ae("/Filter /Standard"),Ae("/V "+wr.v),Ae("/R "+wr.r),Ae("/U <"+wr.toHexString(wr.U)+">"),Ae("/O <"+wr.toHexString(wr.O)+">"),Ae("/P "+wr.P),Ae(">>"),Ae("endobj")},ol=function(){for(var y in Ae("/Font <<"),et)et.hasOwnProperty(y)&&(d===!1||d===!0&&p.hasOwnProperty(y))&&Ae("/"+y+" "+et[y].objectNumber+" 0 R");Ae(">>")},xc=function(){if(Object.keys(ct).length>0){for(var y in Ae("/Shading <<"),ct)ct.hasOwnProperty(y)&&ct[y]instanceof Ba&&ct[y].objectNumber>=0&&Ae("/"+y+" "+ct[y].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),Ae(">>")}},OA=function(y){if(Object.keys(ct).length>0){for(var H in Ae("/Pattern <<"),ct)ct.hasOwnProperty(H)&&ct[H]instanceof g.TilingPattern&&ct[H].objectNumber>=0&&ct[H].objectNumber<y&&Ae("/"+H+" "+ct[H].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),Ae(">>")}},al=function(){if(Object.keys(or).length>0){var y;for(y in Ae("/ExtGState <<"),or)or.hasOwnProperty(y)&&or[y].objectNumber>=0&&Ae("/"+y+" "+or[y].objectNumber+" 0 R");Kt.publish("putGStateDict"),Ae(">>")}},vr=function(y){Yr(y.resourcesOid,!0),Ae("<<"),Ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ol(),xc(),OA(y.objectOid),al(),DA(),Ae(">>"),Ae("endobj")},ll=function(){var y=[];Ys(),Cs(),RA(),Zs(y),Kt.publish("putResources"),y.forEach(vr),vr({resourcesOid:Mn,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources")},cl=function(){Kt.publish("putAdditionalObjects");for(var y=0;y<Fe.length;y++){var H=Fe[y];Yr(H.objId,!0),Ae(H.content),Ae("endobj")}Kt.publish("postPutAdditionalObjects")},Ec=function(y){lt[y.fontName]=lt[y.fontName]||{},lt[y.fontName][y.fontStyle]=y.id},ul=function(y,H,se,de,we){var Ue={id:"F"+(Object.keys(et).length+1).toString(10),postScriptName:y,fontName:H,fontStyle:se,encoding:de,isStandardFont:we||!1,metadata:{}};return Kt.publish("addFont",{font:Ue,instance:this}),et[Ue.id]=Ue,Ec(Ue),Ue.id},_c=function(y){for(var H=0,se=pe.length;H<se;H++){var de=ul.call(this,y[H][0],y[H][1],y[H][2],pe[H][3],!0);d===!1&&(p[de]=!0);var we=y[H][0].split("-");Ec({id:de,fontName:we[0],fontStyle:we[1]||""})}Kt.publish("addFonts",{fonts:et,dictionary:lt})},pi=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(de){var H=de.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var se="Error in function "+H.split(`
`)[0].split("<")[0]+": "+de.message;if(!xt.console)throw new Error(se);xt.console.error(se,de),xt.alert&&alert(se)}},y.foo.bar=y,y.foo},Po=function(y,H){var se,de,we,Ue,We,rt,h,I,R;if(we=(H=H||{}).sourceEncoding||"Unicode",We=H.outputEncoding,(H.autoencode||We)&&et[pt].metadata&&et[pt].metadata[we]&&et[pt].metadata[we].encoding&&(Ue=et[pt].metadata[we].encoding,!We&&et[pt].encoding&&(We=et[pt].encoding),!We&&Ue.codePages&&(We=Ue.codePages[0]),typeof We=="string"&&(We=Ue[We]),We)){for(h=!1,rt=[],se=0,de=y.length;se<de;se++)(I=We[y.charCodeAt(se)])?rt.push(String.fromCharCode(I)):rt.push(y[se]),rt[se].charCodeAt(0)>>8&&(h=!0);y=rt.join("")}for(se=y.length;h===void 0&&se!==0;)y.charCodeAt(se-1)>>8&&(h=!0),se--;if(!h)return y;for(rt=H.noBOM?[]:[254,255],se=0,de=y.length;se<de;se++){if((R=(I=y.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rt.push(R),rt.push(I-(R<<8))}return String.fromCharCode.apply(void 0,rt)},kr=g.__private__.pdfEscape=g.pdfEscape=function(y,H){return Po(y,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ii=g.__private__.beginPage=function(y){ke[++hr]=[],yt[hr]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},dl(hr),xe(ke[j])},MA=function(y,H){var se,de,we;switch(r=H||r,typeof y=="string"&&(se=w(y.toLowerCase()),Array.isArray(se)&&(de=se[0],we=se[1])),Array.isArray(y)&&(de=y[0]*ce,we=y[1]*ce),isNaN(de)&&(de=i[0],we=i[1]),(de>14400||we>14400)&&(dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),we=Math.min(14400,we)),i=[de,we],r.substr(0,1)){case"l":we>de&&(i=[we,de]);break;case"p":de>we&&(i=[we,de])}ii(i),ml(gl),Ae(bn),yl!==0&&Ae(yl+" J"),Go!==0&&Ae(Go+" j"),Kt.publish("addPage",{pageNumber:hr})},Ro=function(y){y>0&&y<=hr&&(ke.splice(y,1),yt.splice(y,1),hr--,j>hr&&(j=hr),this.setPage(j))},dl=function(y){y>0&&y<=hr&&(j=y)},tr=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ke.length-1},jA=function(y,H,se){var de,we=void 0;return se=se||{},y=y!==void 0?y:et[pt].fontName,H=H!==void 0?H:et[pt].fontStyle,de=y.toLowerCase(),lt[de]!==void 0&&lt[de][H]!==void 0?we=lt[de][H]:lt[y]!==void 0&&lt[y][H]!==void 0?we=lt[y][H]:se.disableWarning===!1&&dr.warn("Unable to look up font label for font '"+y+"', '"+H+"'. Refer to getFontList() for available fonts."),we||se.noFallback||(we=lt.times[H])==null&&(we=lt.times.normal),we},HA=g.__private__.putInfo=function(){var y=Or(),H=function(de){return de};for(var se in c!==null&&(H=wr.encryptor(y,0)),Ae("<<"),Ae("/Producer ("+kr(H("jsPDF "+Ct.version))+")"),At)At.hasOwnProperty(se)&&At[se]&&Ae("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+kr(H(At[se]))+")");Ae("/CreationDate ("+kr(H(ue))+")"),Ae(">>"),Ae("endobj")},bs=g.__private__.putCatalog=function(y){var H=(y=y||{}).rootDictionaryObjId||Bs;switch(Or(),Ae("<<"),Ae("/Type /Catalog"),Ae("/Pages "+H+" 0 R"),be||(be="fullwidth"),be){case"fullwidth":Ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ae("/OpenAction [3 0 R /Fit]");break;case"original":Ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+be;se.substr(se.length-1)==="%"&&(be=parseInt(be)/100),typeof be=="number"&&Ae("/OpenAction [3 0 R /XYZ null null "+O(be)+"]")}switch(Me||(Me="continuous"),Me){case"continuous":Ae("/PageLayout /OneColumn");break;case"single":Ae("/PageLayout /SinglePage");break;case"two":case"twoleft":Ae("/PageLayout /TwoColumnLeft");break;case"tworight":Ae("/PageLayout /TwoColumnRight")}Qe&&Ae("/PageMode /"+Qe),Kt.publish("putCatalog"),Ae(">>"),Ae("endobj")},_d=g.__private__.putTrailer=function(){Ae("trailer"),Ae("<<"),Ae("/Size "+(re+1)),Ae("/Root "+re+" 0 R"),Ae("/Info "+(re-1)+" 0 R"),c!==null&&Ae("/Encrypt "+wr.oid+" 0 R"),Ae("/ID [ <"+te+"> <"+te+"> ]"),Ae(">>")},Ic=g.__private__.putHeader=function(){Ae("%PDF-"+v),Ae("%")},Id=g.__private__.putXRef=function(){var y="0000000000";Ae("xref"),Ae("0 "+(re+1)),Ae("0000000000 65535 f ");for(var H=1;H<=re;H++)typeof oe[H]=="function"?Ae((y+oe[H]()).slice(-10)+" 00000 n "):oe[H]!==void 0?Ae((y+oe[H]).slice(-10)+" 00000 n "):Ae("0000000000 00000 n ")},xs=g.__private__.buildDocument=function(){je(),xe(ge),Kt.publish("buildDocument"),Ic(),Js(),cl(),ll(),c!==null&&Ed(),HA(),bs();var y=ye;return Id(),_d(),Ae("startxref"),Ae(""+y),Ae("%%EOF"),xe(ke[j]),ge.join(`
`)},Do=g.__private__.getBlob=function(y){return new Blob([ae(y)],{type:"application/pdf"})},Oo=g.output=g.__private__.output=pi(function(y,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",y){case void 0:return xs();case"save":g.save(H.filename);break;case"arraybuffer":return ae(xs());case"blob":return Do(xs());case"bloburi":case"bloburl":if(xt.URL!==void 0&&typeof xt.URL.createObjectURL=="function")return xt.URL&&xt.URL.createObjectURL(Do(xs()))||void 0;dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",de=xs();try{se=b2(de)}catch{se=b2(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+H.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(we=H.pdfObjectUrl,Ue="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",rt=xt.open();return rt!==null&&rt.document.write(We),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',I=xt.open();if(I!==null){I.document.write(h);var R=this;I.document.documentElement.querySelector("#pdfViewer").onload=function(){I.document.title=H.filename,I.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(R.output("bloburl"))}}return I}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var J='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',ve=xt.open();if(ve!==null&&(ve.document.write(J),ve.document.title=H.filename),ve||typeof safari>"u")return ve;break;case"datauri":case"dataurl":return xt.document.location.href=this.output("datauristring",H);default:return null}}),tA=function(y){return Array.isArray(Xi)===!0&&Xi.indexOf(y)>-1};switch(n){case"pt":ce=1;break;case"mm":ce=72/25.4;break;case"cm":ce=72/2.54;break;case"in":ce=72;break;case"px":ce=tA("px_scaling")==1?.75:96/72;break;case"pc":case"em":ce=12;break;case"ex":ce=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ce=n}var wr=null;ne(),$();var Sc=function(y){return c!==null?wr.encryptor(y,0):function(H){return H}},hl=g.__private__.getPageInfo=g.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[y].objId,pageNumber:y,pageContext:yt[y]}},Et=g.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in yt)if(yt[H].objId===y)break;return hl(H)},rA=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:yt[j].objId,pageNumber:j,pageContext:yt[j]}};g.addPage=function(){return MA.apply(this,arguments),this},g.setPage=function(){return dl.apply(this,arguments),xe.call(this,ke[j]),this},g.insertPage=function(y){return this.addPage(),this.movePage(j,y),this},g.movePage=function(y,H){var se,de;if(y>H){se=ke[y],de=yt[y];for(var we=y;we>H;we--)ke[we]=ke[we-1],yt[we]=yt[we-1];ke[H]=se,yt[H]=de,this.setPage(H)}else if(y<H){se=ke[y],de=yt[y];for(var Ue=y;Ue<H;Ue++)ke[Ue]=ke[Ue+1],yt[Ue]=yt[Ue+1];ke[H]=se,yt[H]=de,this.setPage(H)}return this},g.deletePage=function(){return Ro.apply(this,arguments),this},g.__private__.text=g.text=function(y,H,se,de,we){var Ue,We,rt,h,I,R,J,ve,Ie,Ge=(de=de||{}).scope||this;if(typeof y=="number"&&typeof H=="number"&&(typeof se=="string"||Array.isArray(se))){var St=se;se=H,H=y,y=St}if(arguments[3]instanceof ht?(E("The transform parameter of text() with a Matrix value"),Ie=we):(rt=arguments[4],h=arguments[5],ir(J=arguments[3])==="object"&&J!==null||(typeof rt=="string"&&(h=rt,rt=null),typeof J=="string"&&(h=J,J=null),typeof J=="number"&&(rt=J,J=null),de={flags:J,angle:rt,align:h})),isNaN(H)||isNaN(se)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Ge;var Ot="",Ft=!1,Xt=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Jt,cr=Ge.internal.scaleFactor;function Fs(fr){return fr=fr.split("	").join(Array(de.TabLen||9).join(" ")),kr(fr,J)}function xn(fr){for(var pr,Hr=fr.concat(),on=[],JA=Hr.length;JA--;)typeof(pr=Hr.shift())=="string"?on.push(pr):Array.isArray(fr)&&(pr.length===1||pr[1]===void 0&&pr[2]===void 0)?on.push(pr[0]):on.push([pr[0],pr[1],pr[2]]);return on}function AA(fr,pr){var Hr;if(typeof fr=="string")Hr=pr(fr)[0];else if(Array.isArray(fr)){for(var on,JA,Pd=fr.concat(),jc=[],gp=Pd.length;gp--;)typeof(on=Pd.shift())=="string"?jc.push(pr(on)[0]):Array.isArray(on)&&typeof on[0]=="string"&&(JA=pr(on[0],on[1],on[2]),jc.push([JA[0],JA[1],JA[2]]));Hr=jc}return Hr}var oA=!1,Fd=!0;if(typeof y=="string")oA=!0;else if(Array.isArray(y)){var Td=y.concat();We=[];for(var Nc,En=Td.length;En--;)(typeof(Nc=Td.shift())!="string"||Array.isArray(Nc)&&typeof Nc[0]!="string")&&(Fd=!1);oA=Fd}if(oA===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Qc=Ce/Ge.internal.scaleFactor,Lc=Qc*(Xt-1);switch(de.baseline){case"bottom":se-=Lc;break;case"top":se+=Qc-Lc;break;case"hanging":se+=Qc-2*Lc;break;case"middle":se+=Qc/2-Lc}if((R=de.maxWidth||0)>0&&(typeof y=="string"?y=Ge.splitTextToSize(y,R):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(fr,pr){return fr.concat(Ge.splitTextToSize(pr,R))},[]))),Ue={text:y,x:H,y:se,options:de,mutex:{pdfEscape:kr,activeFontKey:pt,fonts:et,activeFontSize:Ce}},Kt.publish("preProcessText",Ue),y=Ue.text,rt=(de=Ue.options).angle,!(Ie instanceof ht)&&rt&&typeof rt=="number"){rt*=Math.PI/180,de.rotationDirection===0&&(rt=-rt),C===B.ADVANCED&&(rt=-rt);var Pc=Math.cos(rt),kd=Math.sin(rt);Ie=new ht(Pc,kd,-kd,Pc,0,0)}else rt&&rt instanceof ht&&(Ie=rt);C!==B.ADVANCED||Ie||(Ie=On),(I=de.charSpace||KA)!==void 0&&(Ot+=S(F(I))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ve=de.horizontalScale)!==void 0&&(Ot+=S(100*ve)+` Tz
`),de.lang;var gi=-1,_v=de.renderingMode!==void 0?de.renderingMode:de.stroke,Ud=Ge.internal.getCurrentPageInfo().pageContext;switch(_v){case 0:case!1:case"fill":gi=0;break;case 1:case!0:case"stroke":gi=1;break;case 2:case"fillThenStroke":gi=2;break;case 3:case"invisible":gi=3;break;case 4:case"fillAndAddForClipping":gi=4;break;case 5:case"strokeAndAddPathForClipping":gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gi=6;break;case 7:case"addToPathForClipping":gi=7}var dp=Ud.usedRenderingMode!==void 0?Ud.usedRenderingMode:-1;gi!==-1?Ot+=gi+` Tr
`:dp!==-1&&(Ot+=`0 Tr
`),gi!==-1&&(Ud.usedRenderingMode=gi),h=de.align||"left";var Zi,Rc=Ce*Xt,hp=Ge.internal.pageSize.getWidth(),fp=et[pt];I=de.charSpace||KA,R=de.maxWidth||0,J=Object.assign({autoencode:!0,noBOM:!0},de.flags);var Yo=[],Bl=function(fr){return Ge.getStringUnitWidth(fr,{font:fp,charSpace:I,fontSize:Ce,doKerning:!1})*Ce/cr};if(Object.prototype.toString.call(y)==="[object Array]"){var mi;We=xn(y),h!=="left"&&(Zi=We.map(Bl));var si,Zo=0;if(h==="right"){H-=Zi[0],y=[],En=We.length;for(var GA=0;GA<En;GA++)GA===0?(si=Li(H),mi=An(se)):(si=F(Zo-Zi[GA]),mi=-Rc),y.push([We[GA],si,mi]),Zo=Zi[GA]}else if(h==="center"){H-=Zi[0]/2,y=[],En=We.length;for(var qA=0;qA<En;qA++)qA===0?(si=Li(H),mi=An(se)):(si=F((Zo-Zi[qA])/2),mi=-Rc),y.push([We[qA],si,mi]),Zo=Zi[qA]}else if(h==="left"){y=[],En=We.length;for(var Dc=0;Dc<En;Dc++)y.push(We[Dc])}else if(h==="justify"&&fp.encoding==="Identity-H"){y=[],En=We.length,R=R!==0?R:hp;for(var $A=0,jr=0;jr<En;jr++)if(mi=jr===0?An(se):-Rc,si=jr===0?Li(H):$A,jr<En-1){var Nd=F((R-Zi[jr])/(We[jr].split(" ").length-1)),Ai=We[jr].split(" ");y.push([Ai[0]+" ",si,mi]),$A=0;for(var es=1;es<Ai.length;es++){var Oc=(Bl(Ai[es-1]+" "+Ai[es])-Bl(Ai[es]))*cr+Nd;es==Ai.length-1?y.push([Ai[es],Oc,0]):y.push([Ai[es]+" ",Oc,0]),$A-=Oc}}else y.push([We[jr],si,mi]);y.push(["",$A,0])}else{if(h!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],En=We.length,R=R!==0?R:hp,jr=0;jr<En;jr++)mi=jr===0?An(se):-Rc,si=jr===0?Li(H):0,jr<En-1?Yo.push(S(F((R-Zi[jr])/(We[jr].split(" ").length-1)))):Yo.push(0),y.push([We[jr],si,mi])}}var pp=typeof de.R2L=="boolean"?de.R2L:Pe;pp===!0&&(y=AA(y,function(fr,pr,Hr){return[fr.split("").reverse().join(""),pr,Hr]})),Ue={text:y,x:H,y:se,options:de,mutex:{pdfEscape:kr,activeFontKey:pt,fonts:et,activeFontSize:Ce}},Kt.publish("postProcessText",Ue),y=Ue.text,Ft=Ue.mutex.isHex||!1;var Qd=et[pt].encoding;Qd!=="WinAnsiEncoding"&&Qd!=="StandardEncoding"||(y=AA(y,function(fr,pr,Hr){return[Fs(fr),pr,Hr]})),We=xn(y),y=[];for(var Cl,bl,ea,xl=0,Mc=1,El=Array.isArray(We[0])?Mc:xl,ta="",Ld=function(fr,pr,Hr){var on="";return Hr instanceof ht?(Hr=typeof de.angle=="number"?hi(Hr,new ht(1,0,0,1,fr,pr)):hi(new ht(1,0,0,1,fr,pr),Hr),C===B.ADVANCED&&(Hr=hi(new ht(1,0,0,-1,0,0),Hr)),on=Hr.join(" ")+` Tm
`):on=S(fr)+" "+S(pr)+` Td
`,on},ts=0;ts<We.length;ts++){switch(ta="",El){case Mc:ea=(Ft?"<":"(")+We[ts][0]+(Ft?">":")"),Cl=parseFloat(We[ts][1]),bl=parseFloat(We[ts][2]);break;case xl:ea=(Ft?"<":"(")+We[ts]+(Ft?">":")"),Cl=Li(H),bl=An(se)}Yo!==void 0&&Yo[ts]!==void 0&&(ta=Yo[ts]+` Tw
`),ts===0?y.push(ta+Ld(Cl,bl,Ie)+ea):El===xl?y.push(ta+ea):El===Mc&&y.push(ta+Ld(Cl,bl,Ie)+ea)}y=El===xl?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var rs=`BT
/`;return rs+=pt+" "+Ce+` Tf
`,rs+=S(Ce*Xt)+` TL
`,rs+=Is+`
`,rs+=Ot,rs+=y,Ae(rs+="ET"),p[pt]=!0,Ge};var Sd=g.__private__.clip=g.clip=function(y){return Ae(y==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Sd("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Ae("n"),this};var Yi=g.__private__.isValidStyle=function(y){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(H=!0),H};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(y){return Yi(y)&&(l=y),this};var Fc=g.__private__.getStyle=g.getStyle=function(y){var H=l;switch(y){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=y}return H},Ni=g.close=function(){return Ae("h"),this};g.stroke=function(){return Ae("S"),this},g.fill=function(y){return Mo("f",y),this},g.fillEvenOdd=function(y){return Mo("f*",y),this},g.fillStroke=function(y){return Mo("B",y),this},g.fillStrokeEvenOdd=function(y){return Mo("B*",y),this};var Mo=function(y,H){ir(H)==="object"?Ho(H,y):Ae(y)},fl=function(y){y===null||C===B.ADVANCED&&y===void 0||(y=Fc(y),Ae(y))};function jo(y,H,se,de,we){var Ue=new Vl(H||this.boundingBox,se||this.xStep,de||this.yStep,this.gState,we||this.matrix);Ue.stream=this.stream;var We=y+"$$"+this.cloneIndex+++"$$";return Xr(We,Ue),Ue}var Ho=function(y,H){var se=Lt[y.key],de=ct[se];if(de instanceof Ba)Ae("q"),Ae(Tc(H)),de.gState&&g.setGState(de.gState),Ae(y.matrix.toString()+" cm"),Ae("/"+se+" sh"),Ae("Q");else if(de instanceof Vl){var we=new ht(1,0,0,-1,0,jn());y.matrix&&(we=we.multiply(y.matrix||On),se=jo.call(de,y.key,y.boundingBox,y.xStep,y.yStep,we).id),Ae("q"),Ae("/Pattern cs"),Ae("/"+se+" scn"),de.gState&&g.setGState(de.gState),Ae(H),Ae("Q")}},Tc=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Es=g.moveTo=function(y,H){return Ae(S(F(y))+" "+S(Y(H))+" m"),this},Qi=g.lineTo=function(y,H){return Ae(S(F(y))+" "+S(Y(H))+" l"),this},_s=g.curveTo=function(y,H,se,de,we,Ue){return Ae([S(F(y)),S(Y(H)),S(F(se)),S(Y(de)),S(F(we)),S(Y(Ue)),"c"].join(" ")),this};g.__private__.line=g.line=function(y,H,se,de,we){if(isNaN(y)||isNaN(H)||isNaN(se)||isNaN(de)||!Yi(we))throw new Error("Invalid arguments passed to jsPDF.line");return C===B.COMPAT?this.lines([[se-y,de-H]],y,H,[1,1],we||"S"):this.lines([[se-y,de-H]],y,H,[1,1]).stroke()},g.__private__.lines=g.lines=function(y,H,se,de,we,Ue){var We,rt,h,I,R,J,ve,Ie,Ge,St,Ot,Ft;if(typeof y=="number"&&(Ft=se,se=H,H=y,y=Ft),de=de||[1,1],Ue=Ue||!1,isNaN(H)||isNaN(se)||!Array.isArray(y)||!Array.isArray(de)||!Yi(we)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Es(H,se),We=de[0],rt=de[1],I=y.length,St=H,Ot=se,h=0;h<I;h++)(R=y[h]).length===2?(St=R[0]*We+St,Ot=R[1]*rt+Ot,Qi(St,Ot)):(J=R[0]*We+St,ve=R[1]*rt+Ot,Ie=R[2]*We+St,Ge=R[3]*rt+Ot,St=R[4]*We+St,Ot=R[5]*rt+Ot,_s(J,ve,Ie,Ge,St,Ot));return Ue&&Ni(),fl(we),this},g.path=function(y){for(var H=0;H<y.length;H++){var se=y[H],de=se.c;switch(se.op){case"m":Es(de[0],de[1]);break;case"l":Qi(de[0],de[1]);break;case"c":_s.apply(this,de);break;case"h":Ni()}}return this},g.__private__.rect=g.rect=function(y,H,se,de,we){if(isNaN(y)||isNaN(H)||isNaN(se)||isNaN(de)||!Yi(we))throw new Error("Invalid arguments passed to jsPDF.rect");return C===B.COMPAT&&(de=-de),Ae([S(F(y)),S(Y(H)),S(F(se)),S(F(de)),"re"].join(" ")),fl(we),this},g.__private__.triangle=g.triangle=function(y,H,se,de,we,Ue,We){if(isNaN(y)||isNaN(H)||isNaN(se)||isNaN(de)||isNaN(we)||isNaN(Ue)||!Yi(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-y,de-H],[we-se,Ue-de],[y-we,H-Ue]],y,H,[1,1],We,!0),this},g.__private__.roundedRect=g.roundedRect=function(y,H,se,de,we,Ue,We){if(isNaN(y)||isNaN(H)||isNaN(se)||isNaN(de)||isNaN(we)||isNaN(Ue)||!Yi(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*se),Ue=Math.min(Ue,.5*de),this.lines([[se-2*we,0],[we*rt,0,we,Ue-Ue*rt,we,Ue],[0,de-2*Ue],[0,Ue*rt,-we*rt,Ue,-we,Ue],[2*we-se,0],[-we*rt,0,-we,-Ue*rt,-we,-Ue],[0,2*Ue-de],[0,-Ue*rt,we*rt,-Ue,we,-Ue]],y+we,H,[1,1],We,!0),this},g.__private__.ellipse=g.ellipse=function(y,H,se,de,we){if(isNaN(y)||isNaN(H)||isNaN(se)||isNaN(de)||!Yi(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*se,We=4/3*(Math.SQRT2-1)*de;return Es(y+se,H),_s(y+se,H-We,y+Ue,H-de,y,H-de),_s(y-Ue,H-de,y-se,H-We,y-se,H),_s(y-se,H+We,y-Ue,H+de,y,H+de),_s(y+Ue,H+de,y+se,H+We,y+se,H),fl(we),this},g.__private__.circle=g.circle=function(y,H,se,de){if(isNaN(y)||isNaN(H)||isNaN(se)||!Yi(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,H,se,se,de)},g.setFont=function(y,H,se){return se&&(H=M(H,se)),pt=jA(y,H,{disableWarning:!1}),this};var pl=g.__private__.getFont=g.getFont=function(){return et[jA.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var y,H,se={};for(y in lt)if(lt.hasOwnProperty(y))for(H in se[y]=[],lt[y])lt[y].hasOwnProperty(H)&&se[y].push(H);return se},g.addFont=function(y,H,se,de,we){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(se=M(se,de)),we=we||"Identity-H",ul.call(this,y,H,se,we)};var Jt,gl=t.lineWidth||.200025,Vo=g.__private__.getLineWidth=g.getLineWidth=function(){return gl},ml=g.__private__.setLineWidth=g.setLineWidth=function(y){return gl=y,Ae(S(F(y))+" w"),this};g.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(y,H){if(y=y||[],H=H||0,isNaN(H)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(se){return S(F(se))}).join(" "),H=S(F(H)),Ae("["+y+"] "+H+" d"),this};var vl=g.__private__.getLineHeight=g.getLineHeight=function(){return Ce*Jt};g.__private__.getLineHeight=g.getLineHeight=function(){return Ce*Jt};var wl=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Jt=y),this},VA=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Jt};wl(t.lineHeight);var Li=g.__private__.getHorizontalCoordinate=function(y){return F(y)},An=g.__private__.getVerticalCoordinate=function(y){return C===B.ADVANCED?y:yt[j].mediaBox.topRightY-yt[j].mediaBox.bottomLeftY-F(y)},kc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(y){return S(Li(y))},nA=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(y){return S(An(y))},bn=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return fi(bn)},g.__private__.setStrokeColor=g.setDrawColor=function(y,H,se,de){return bn=ri({ch1:y,ch2:H,ch3:se,ch4:de,pdfColorType:"draw",precision:2}),Ae(bn),this};var Ko=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return fi(Ko)},g.__private__.setFillColor=g.setFillColor=function(y,H,se,de){return Ko=ri({ch1:y,ch2:H,ch3:se,ch4:de,pdfColorType:"fill",precision:2}),Ae(Ko),this};var Is=t.textColor||"0 g",zo=g.__private__.getTextColor=g.getTextColor=function(){return fi(Is)};g.__private__.setTextColor=g.setTextColor=function(y,H,se,de){return Is=ri({ch1:y,ch2:H,ch3:se,ch4:de,pdfColorType:"text",precision:3}),this};var KA=t.charSpace,Wo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(KA||0)};g.__private__.setCharSpace=g.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return KA=y,this};var yl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(y){var H=g.CapJoinStyles[y];if(H===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yl=H,Ae(H+" J"),this};var Go=0;g.__private__.setLineJoin=g.setLineJoin=function(y){var H=g.CapJoinStyles[y];if(H===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Go=H,Ae(H+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ae(S(F(y))+" M"),this},g.GState=Of,g.setGState=function(y){(y=typeof y=="string"?or[er[y]]:iA(null,y)).equals(Ti)||(Ae("/"+y.id+" gs"),Ti=y)};var iA=function(y,H){if(!y||!er[y]){var se=!1;for(var de in or)if(or.hasOwnProperty(de)&&or[de].equals(H)){se=!0;break}if(se)H=or[de];else{var we="GS"+(Object.keys(or).length+1).toString(10);or[we]=H,H.id=we}return y&&(er[y]=H.id),Kt.publish("addGState",H),H}};g.addGState=function(y,H){return iA(y,H),this},g.saveGraphicsState=function(){return Ae("q"),Pt.push({key:pt,size:Ce,color:Is}),this},g.restoreGraphicsState=function(){Ae("Q");var y=Pt.pop();return pt=y.key,Ce=y.size,Is=y.color,Ti=null,this},g.setCurrentTransformationMatrix=function(y){return Ae(y.toString()+" cm"),this},g.comment=function(y){return Ae("#"+y),this};var zA=function(y,H){var se=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Ue){isNaN(Ue)||(se=parseFloat(Ue))}});var de=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Ue){isNaN(Ue)||(de=parseFloat(Ue))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Ue){we=Ue.toString()}}),this},qo=function(y,H,se,de){zA.call(this,y,H),this.type="rect";var we=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(We){isNaN(We)||(we=parseFloat(We))}});var Ue=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(We){isNaN(We)||(Ue=parseFloat(We))}}),this},WA=function(){this.page=hr,this.currentPage=j,this.pages=ke.slice(0),this.pagesContext=yt.slice(0),this.x=Je,this.y=Xe,this.matrix=it,this.width=sA(j),this.height=jn(j),this.outputDestination=Ne,this.id="",this.objectNumber=-1};WA.prototype.restore=function(){hr=this.page,j=this.currentPage,yt=this.pagesContext,ke=this.pages,Je=this.x,Xe=this.y,it=this.matrix,Jo(j,this.width),Xo(j,this.height),Ne=this.outputDestination};var $o=function(y,H,se,de,we){ki.push(new WA),hr=j=0,ke=[],Je=y,Xe=H,it=we,ii([se,de])},Uc=function(y){if(Dn[y])ki.pop().restore();else{var H=new WA,se="Xo"+(Object.keys(Jr).length+1).toString(10);H.id=se,Dn[y]=se,Jr[se]=H,Kt.publish("addFormObject",H),ki.pop().restore()}};for(var Ss in g.beginFormObject=function(y,H,se,de,we){return $o(y,H,se,de,we),this},g.endFormObject=function(y){return Uc(y),this},g.doFormObject=function(y,H){var se=Jr[Dn[y]];return Ae("q"),Ae(H.toString()+" cm"),Ae("/"+se.id+" Do"),Ae("Q"),this},g.getFormObject=function(y){var H=Jr[Dn[y]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},g.save=function(y,H){return y=y||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Ql(Do(xs()),y),typeof Ql.unload=="function"&&xt.setTimeout&&setTimeout(Ql.unload,911),this):new Promise(function(se,de){try{var we=Ql(Do(xs()),y);typeof Ql.unload=="function"&&xt.setTimeout&&setTimeout(Ql.unload,911),se(we)}catch(Ue){de(Ue.message)}})},Ct.API)Ct.API.hasOwnProperty(Ss)&&(Ss==="events"&&Ct.API.events.length?function(y,H){var se,de,we;for(we=H.length-1;we!==-1;we--)se=H[we][0],de=H[we][1],y.subscribe.apply(y,[se].concat(typeof de=="function"?[de]:de))}(Kt,Ct.API.events):g[Ss]=Ct.API[Ss]);var sA=g.getPageWidth=function(y){return(yt[y=y||j].mediaBox.topRightX-yt[y].mediaBox.bottomLeftX)/ce},Jo=g.setPageWidth=function(y,H){yt[y].mediaBox.topRightX=H*ce+yt[y].mediaBox.bottomLeftX},jn=g.getPageHeight=function(y){return(yt[y=y||j].mediaBox.topRightY-yt[y].mediaBox.bottomLeftY)/ce},Xo=g.setPageHeight=function(y,H){yt[y].mediaBox.topRightY=H*ce+yt[y].mediaBox.bottomLeftY};return g.internal={pdfEscape:kr,getStyle:Fc,getFont:pl,getFontSize:Se,getCharSpace:Wo,getTextColor:zo,getLineHeight:vl,getLineHeightFactor:VA,getLineWidth:Vo,write:mt,getHorizontalCoordinate:Li,getVerticalCoordinate:An,getCoordinateString:kc,getVerticalCoordinateString:nA,collections:{},newObject:Or,newAdditionalObject:Qo,newObjectDeferred:Tr,newObjectDeferredBegin:Yr,getFilters:ni,putStream:Mr,events:Kt,scaleFactor:ce,pageSize:{getWidth:function(){return sA(j)},setWidth:function(y){Jo(j,y)},getHeight:function(){return jn(j)},setHeight:function(y){Xo(j,y)}},encryptionOptions:c,encryption:wr,getEncryptor:Sc,output:Oo,getNumberOfPages:tr,pages:ke,out:Ae,f2:O,f3:_,getPageInfo:hl,getPageInfoByObjId:Et,getCurrentPageInfo:rA,getPDFVersion:x,Point:zA,Rectangle:qo,Matrix:ht,hasHotfix:tA},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return sA(j)},set:function(y){Jo(j,y)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return jn(j)},set:function(y){Xo(j,y)},enumerable:!0,configurable:!0}),_c.call(g,pe),pt="F1",MA(i,r),Kt.publish("initialized"),g}du.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},du.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},du.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},du.prototype.processOwnerPassword=function(t,e){return E2(x2(e).substr(0,5),t)},du.prototype.encryptor=function(t,e){var r=x2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return E2(r,n)}},Of.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ir(t)!==ir(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ct.API={events:[]},Ct.version="2.5.2";var Nr=Ct.API,ZC=1,Bc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tt=function(t){return t.toFixed(2)},ha=function(t){return t.toFixed(5)};Nr.__acroform__={};var Fi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},k_=function(t){return t*ZC},uA=function(t){var e=new fN,r=gt.internal.getHeight(t)||0,n=gt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Tt(n)),Number(Tt(r))],e},G$=Nr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},q$=Nr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},$$=Nr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Gr=Nr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $$(t,e-1)},qr=Nr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G$(t,e-1)},$r=Nr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return q$(t,e-1)},J$=Nr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],A=t[2],a=t[3],o={};return o.lowerLeft_X=r(i)||0,o.lowerLeft_Y=n(s+a)||0,o.upperRight_X=r(i+A)||0,o.upperRight_Y=n(s)||0,[Number(Tt(o.lowerLeft_X)),Number(Tt(o.lowerLeft_Y)),Number(Tt(o.upperRight_X)),Number(Tt(o.upperRight_Y))]},X$=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=_2(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Tt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=uA(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},_2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(_){return _.split(`
`)}):i.map(function(_){return[_]});var s=r,A=gt.internal.getHeight(t)||0;A=A<0?-A:A;var a=gt.internal.getWidth(t)||0;a=a<0?-a:a;var o=function(_,F,U){if(_+1<i.length){var Y=F+" "+i[_+1][0];return Tg(Y,t,U).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var l,c,d=Tg("3",t,s).height,p=t.multiline?A-s:(A-d)/2,g=p+=2,v=0,x=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Tg(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",B=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var L=!1;if(i[C].length!==1&&T!==i[C].length-1){if((d+2)*(B+2)+2>A)continue e;w+=i[C][T],L=!0,x=C,C--}else{w=(w+=i[C][T]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var D=parseInt(C),M=o(D,w,s),S=C>=i.length-1;if(M&&!S){w+=" ",T=0;continue}if(M||S){if(S)x=D;else if(t.multiline&&(d+2)*(B+2)+2>A)continue e}else{if(!t.multiline||(d+2)*(B+2)+2>A)continue e;x=D}}for(var E="",k=v;k<=x;k++){var O=i[k];if(t.multiline){if(k===x){E+=O[T]+" ",T=(T+1)%O.length;continue}if(k===v){E+=O[O.length-1]+" ";continue}}E+=O[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,c=Tg(E,t,s).width,t.textAlign){case"right":l=a-c-2;break;case"center":l=(a-c)/2;break;case"left":default:l=2}e+=Tt(l)+" "+Tt(g)+` Td
`,e+="("+Bc(E)+`) Tj
`,e+=-Tt(l)+` 0 Td
`,g=-(s+2),c=0,v=L?x:x+1,B++,w=""}break}return n.text=e,n.fontSize=s,n},Tg=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Y$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Z$=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},eJ=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),ir(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},tJ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(qs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Y$)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ZC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new pN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&Z$(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var A in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var a=n[A],o=[],l=a.Rect;if(a.Rect&&(a.Rect=J$(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=gt.createDefaultAppearanceStream(a),ir(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(o=a.getKeyValueListForStream()),a.Rect=l,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=X$(a);o.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var g=a.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var A in g)if(g.hasOwnProperty(A)){var v=g[A];typeof v=="function"&&(v=v.call(i,a)),d+="/"+A+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(i,a)),d+="/"+A+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);d+=">>"}o.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:o,objectId:a.objId}),i.internal.out("endobj")}s&&eJ(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},hN=Nr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(A){return A};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ir(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Bc(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},h1=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Bc(n(t))+")"},wA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wA.prototype.toString=function(){return this.objId+" 0 R"},wA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},wA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:hN(i,this.objId,this.scope)}):i instanceof wA?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var fN=function(){wA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Fi(fN,wA);var pN=function(){wA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Bc(r(t))+")"}},set:function(r){t=r}})};Fi(pN,wA);var qs=function t(){wA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gr(e,3)},set:function(w){w?this.F=qr(e,3):this.F=$r(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof gm)return;s="FieldObject"+t.FieldNum++}var w=function(B){return B};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Bc(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(w){A=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/ZC:l},set:function(w){l=w}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof gm||this instanceof Ka))return h1(d,this.objId,this.scope)},set:function(w){w=w.toString(),d=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ln?p:h1(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof ln?w:w.substr(0,1)==="("?tu(w.substr(1,w.length-2)):tu(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ln?tu(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof ln?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ln?g:h1(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof ln?w:w.substr(0,1)==="("?tu(w.substr(1,w.length-2)):tu(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ln?tu(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof ln?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,1)},set:function(w){w?this.Ff=qr(this.Ff,1):this.Ff=$r(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,2)},set:function(w){w?this.Ff=qr(this.Ff,2):this.Ff=$r(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,3)},set:function(w){w?this.Ff=qr(this.Ff,3):this.Ff=$r(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');T=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(T){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};Fi(qs,wA);var Zl=function(){qs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hN(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,A,a){a||(a=1);for(var o,l=[];o=A.exec(s);)l.push(o[a]);return l}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,18)},set:function(r){r?this.Ff=qr(this.Ff,18):this.Ff=$r(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=qr(this.Ff,19):this.Ff=$r(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,20)},set:function(r){r?(this.Ff=qr(this.Ff,20),e.sort()):this.Ff=$r(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,22)},set:function(r){r?this.Ff=qr(this.Ff,22):this.Ff=$r(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,23)},set:function(r){r?this.Ff=qr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,27)},set:function(r){r?this.Ff=qr(this.Ff,27):this.Ff=$r(this.Ff,27)}}),this.hasAppearanceStream=!1};Fi(Zl,qs);var ec=function(){Zl.call(this),this.fontName="helvetica",this.combo=!1};Fi(ec,Zl);var tc=function(){ec.call(this),this.combo=!0};Fi(tc,ec);var Jh=function(){tc.call(this),this.edit=!0};Fi(Jh,tc);var ln=function(){qs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,15)},set:function(r){r?this.Ff=qr(this.Ff,15):this.Ff=$r(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,16)},set:function(r){r?this.Ff=qr(this.Ff,16):this.Ff=$r(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,17)},set:function(r){r?this.Ff=qr(this.Ff,17):this.Ff=$r(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,26)},set:function(r){r?this.Ff=qr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Bc(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){ir(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Fi(ln,qs);var Xh=function(){ln.call(this),this.pushButton=!0};Fi(Xh,ln);var rc=function(){ln.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Fi(rc,ln);var gm=function(){var t,e;qs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,A=[];for(s in A.push("<<"),n)A.push("/"+s+" ("+Bc(i(n[s]))+")");return A.push(">>"),A.join(`
`)},set:function(i){ir(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fi(gm,qs),rc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},rc.prototype.createOption=function(t){var e=new gm;return e.Parent=this,e.optionName=t,this.Kids.push(e),rJ.call(this.scope,e),e};var Yh=function(){ln.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Fi(Yh,ln);var Ka=function(){qs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,13)},set:function(e){e?this.Ff=qr(this.Ff,13):this.Ff=$r(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,21)},set:function(e){e?this.Ff=qr(this.Ff,21):this.Ff=$r(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,23)},set:function(e){e?this.Ff=qr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,24)},set:function(e){e?this.Ff=qr(this.Ff,24):this.Ff=$r(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,25)},set:function(e){e?this.Ff=qr(this.Ff,25):this.Ff=$r(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,26)},set:function(e){e?this.Ff=qr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fi(Ka,qs);var Zh=function(){Ka.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gr(this.Ff,14)},set:function(t){t?this.Ff=qr(this.Ff,14):this.Ff=$r(this.Ff,14)}}),this.password=!0};Fi(Zh,Ka);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=uA(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=_2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Tt(gt.internal.getWidth(t))+" "+Tt(gt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Tt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=uA(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=gt.internal.getHeight(t),A=gt.internal.getWidth(t),a=_2(t,t.caption);return i.push("1 g"),i.push("0 0 "+Tt(A)+" "+Tt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Tt(A-1)+" "+Tt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Tt(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=uA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(gt.internal.getWidth(t))+" "+Tt(gt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=gt.RadioButton.Circle.YesNormal,e.D[t]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=uA(t);e.scope=t.scope;var r=[],n=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=gt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ha(gt.internal.getWidth(t)/2)+" "+ha(gt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=uA(t);e.scope=t.scope;var r=[],n=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*gt.internal.Bezier_C).toFixed(5)),A=Number((n*gt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ha(gt.internal.getWidth(t)/2)+" "+ha(gt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ha(gt.internal.getWidth(t)/2)+" "+ha(gt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=uA(t);e.scope=t.scope;var r=[],n=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*gt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ha(gt.internal.getWidth(t)/2)+" "+ha(gt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=gt.RadioButton.Cross.YesNormal,e.D[t]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=uA(t);e.scope=t.scope;var r=[],n=gt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Tt(gt.internal.getWidth(t)-2)+" "+Tt(gt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Tt(n.x1.x)+" "+Tt(n.x1.y)+" m"),r.push(Tt(n.x2.x)+" "+Tt(n.x2.y)+" l"),r.push(Tt(n.x4.x)+" "+Tt(n.x4.y)+" m"),r.push(Tt(n.x3.x)+" "+Tt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=uA(t);e.scope=t.scope;var r=gt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(gt.internal.getWidth(t))+" "+Tt(gt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Tt(gt.internal.getWidth(t)-2)+" "+Tt(gt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Tt(r.x1.x)+" "+Tt(r.x1.y)+" m"),n.push(Tt(r.x2.x)+" "+Tt(r.x2.y)+" l"),n.push(Tt(r.x4.x)+" "+Tt(r.x4.y)+" m"),n.push(Tt(r.x3.x)+" "+Tt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=uA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(gt.internal.getWidth(t))+" "+Tt(gt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};gt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=gt.internal.getWidth(t),r=gt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},gt.internal.getWidth=function(t){var e=0;return ir(t)==="object"&&(e=k_(t.Rect[2])),e},gt.internal.getHeight=function(t){var e=0;return ir(t)==="object"&&(e=k_(t.Rect[3])),e};var rJ=Nr.addField=function(t){if(tJ(this,t),!(t instanceof qs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Nr.AcroFormChoiceField=Zl,Nr.AcroFormListBox=ec,Nr.AcroFormComboBox=tc,Nr.AcroFormEditBox=Jh,Nr.AcroFormButton=ln,Nr.AcroFormPushButton=Xh,Nr.AcroFormRadioButton=rc,Nr.AcroFormCheckBox=Yh,Nr.AcroFormTextField=Ka,Nr.AcroFormPasswordField=Zh,Nr.AcroFormAppearance=gt,Nr.AcroForm={ChoiceField:Zl,ListBox:ec,ComboBox:tc,EditBox:Jh,Button:ln,PushButton:Xh,RadioButton:rc,CheckBox:Yh,TextField:Ka,PasswordField:Zh,Appearance:gt},Ct.AcroForm={ChoiceField:Zl,ListBox:ec,ComboBox:tc,EditBox:Jh,Button:ln,PushButton:Xh,RadioButton:rc,CheckBox:Yh,TextField:Ka,PasswordField:Zh,Appearance:gt};var nJ=Ct.AcroForm;function gN(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(_,F){var U,Y,ue,te,K,$=e;if((F=F||e)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(M(_))for(K in r)for(ue=r[K],U=0;U<ue.length;U+=1){for(te=!0,Y=0;Y<ue[U].length;Y+=1)if(ue[U][Y]!==void 0&&ue[U][Y]!==_[Y]){te=!1;break}if(te===!0){$=K;break}}else for(K in r)for(ue=r[K],U=0;U<ue.length;U+=1){for(te=!0,Y=0;Y<ue[U].length;Y+=1)if(ue[U][Y]!==void 0&&ue[U][Y]!==_.charCodeAt(Y)){te=!1;break}if(te===!0){$=K;break}}return $===e&&F!==e&&($=F),$},i=function _(F){for(var U=this.internal.write,Y=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:F.width}),te.push({key:"Height",value:F.height}),F.colorSpace===T.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===T.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var K="",$=0,P=F.transparency.length;$<P;$++)K+=F.transparency[$]+" "+F.transparency[$]+" ";te.push({key:"Mask",value:"["+K+"]"})}F.sMask!==void 0&&te.push({key:"SMask",value:F.objectId+1+" 0 R"});var G=F.filter!==void 0?["/"+F.filter]:void 0;if(Y({data:F.data,additionalKeyValues:te,alreadyAppliedFilters:G,objectId:F.objectId}),U("endobj"),"sMask"in F&&F.sMask!==void 0){var ne="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,N={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:ne,data:F.sMask};"filter"in F&&(N.filter=F.filter),_.call(this,N)}if(F.colorSpace===T.INDEXED){var j=this.internal.newObject();Y({data:E(new Uint8Array(F.palette)),objectId:j}),U("endobj")}},s=function(){var _=this.internal.collections.addImage_images;for(var F in _)i.call(this,_[F])},A=function(){var _,F=this.internal.collections.addImage_images,U=this.internal.write;for(var Y in F)U("/I"+(_=F[Y]).index,_.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",A))},o=function(){var _=this.internal.collections.addImage_images;return a.call(this),_},l=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(_){return typeof t["process"+_.toUpperCase()]=="function"},d=function(_){return ir(_)==="object"&&_.nodeType===1},p=function(_,F){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var U=""+_.getAttribute("src");if(U.indexOf("data:image/")===0)return $h(unescape(U).split("base64,").pop());var Y=t.loadFile(U,!0);if(Y!==void 0)return Y}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var ue;switch(F){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;case"JPEG":case"JPG":default:ue="image/jpeg"}return $h(_.toDataURL(ue,1).split("base64,").pop())}},g=function(_){var F=this.internal.collections.addImage_images;if(F){for(var U in F)if(_===F[U].alias)return F[U]}},v=function(_,F,U){return _||F||(_=-96,F=-96),_<0&&(_=-1*U.width*72/_/this.internal.scaleFactor),F<0&&(F=-1*U.height*72/F/this.internal.scaleFactor),_===0&&(_=F*U.width/U.height),F===0&&(F=_*U.height/U.width),[_,F]},x=function(_,F,U,Y,ue,te){var K=v.call(this,U,Y,ue),$=this.internal.getCoordinateString,P=this.internal.getVerticalCoordinateString,G=o.call(this);if(U=K[0],Y=K[1],G[ue.index]=ue,te){te*=Math.PI/180;var ne=Math.cos(te),N=Math.sin(te),j=function(ee){return ee.toFixed(4)},W=[j(ne),j(N),j(-1*N),j(ne),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,$(_),P(F+Y),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([$(U),"0","0",$(Y),"0","0","cm"].join(" "))):this.internal.write([$(U),"0","0",$(Y),$(_),P(F+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},T=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(_){var F,U,Y=0;if(typeof _=="string")for(U=_.length,F=0;F<U;F++)Y=(Y<<5)-Y+_.charCodeAt(F),Y|=0;else if(M(_))for(U=_.byteLength/2,F=0;F<U;F++)Y=(Y<<5)-Y+_[F],Y|=0;return Y},C=t.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var F=!0;return _.length===0&&(F=!1),_.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(F=!1),F},L=t.__addimage__.extractImageFromDataUrl=function(_){var F=(_=_||"").split("base64,"),U=null;if(F.length===2){var Y=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(F[0]);Array.isArray(Y)&&(U={mimeType:Y[1],charset:Y[2],data:F[1]})}return U},D=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(_){return D()&&_ instanceof ArrayBuffer};var M=t.__addimage__.isArrayBufferView=function(_){return D()&&typeof Uint32Array<"u"&&(_ instanceof Int8Array||_ instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array)},S=t.__addimage__.binaryStringToUint8Array=function(_){for(var F=_.length,U=new Uint8Array(F),Y=0;Y<F;Y++)U[Y]=_.charCodeAt(Y);return U},E=t.__addimage__.arrayBufferToBinaryString=function(_){for(var F="",U=M(_)?_:new Uint8Array(_),Y=0;Y<U.length;Y+=8192)F+=String.fromCharCode.apply(null,U.subarray(Y,Y+8192));return F};t.addImage=function(){var _,F,U,Y,ue,te,K,$,P;if(typeof arguments[1]=="number"?(F=e,U=arguments[1],Y=arguments[2],ue=arguments[3],te=arguments[4],K=arguments[5],$=arguments[6],P=arguments[7]):(F=arguments[1],U=arguments[2],Y=arguments[3],ue=arguments[4],te=arguments[5],K=arguments[6],$=arguments[7],P=arguments[8]),ir(_=arguments[0])==="object"&&!d(_)&&"imageData"in _){var G=_;_=G.imageData,F=G.format||F||e,U=G.x||U||0,Y=G.y||Y||0,ue=G.w||G.width||ue,te=G.h||G.height||te,K=G.alias||K,$=G.compression||$,P=G.rotation||G.angle||P}var ne=this.internal.getFilters();if($===void 0&&ne.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(U)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var N=k.call(this,_,F,K,$);return x.call(this,U,Y,ue,te,N,P),this};var k=function(_,F,U,Y){var ue,te,K;if(typeof _=="string"&&n(_)===e){_=unescape(_);var $=O(_,!1);($!==""||($=t.loadFile(_,!0))!==void 0)&&(_=$)}if(d(_)&&(_=p(_,F)),F=n(_,F),!c(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((K=U)==null||K.length===0)&&(U=function(P){return typeof P=="string"||M(P)?B(P):M(P.data)?B(P.data):null}(_)),(ue=g.call(this,U))||(D()&&(_ instanceof Uint8Array||F==="RGBA"||(te=_,_=S(_))),ue=this["process"+F.toUpperCase()](_,l.call(this),U,function(P){return P&&typeof P=="string"&&(P=P.toUpperCase()),P in t.image_compression?P:w.NONE}(Y),te)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},O=t.__addimage__.convertBase64ToBinaryString=function(_,F){var U;F=typeof F!="boolean"||F;var Y,ue="";if(typeof _=="string"){Y=(U=L(_))!==null?U.data:_;try{ue=$h(Y)}catch(te){if(F)throw C(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};t.getImageProperties=function(_){var F,U,Y="";if(d(_)&&(_=p(_)),typeof _=="string"&&n(_)===e&&((Y=O(_,!1))===""&&(Y=t.loadFile(_)||""),_=Y),U=n(_),!c(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!D()||_ instanceof Uint8Array||(_=S(_)),!(F=this["process"+U.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=U,F}})(Ct.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,A=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(r.objId),l=r.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<l.length;p++){n=l[p];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),B=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+A(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+o.objId+" 0 R",s+=" /T ("+g(w(B))+") >>",x.content=s;var C=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+A(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(x.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+A(n.bounds.x)+" "+a(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var M=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,A){var a=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:o(r),y:l(n),w:o(r+i),h:l(n+s)},options:A,type:"link"})},t.textWithLink=function(r,n,i,s){var A,a,o=this.getTextWidth(r),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(r,a).length;A=Math.ceil(l*c)}else a=o,A=l;return this.text(r,n,i,s),i+=.2*l,s.align==="center"&&(n-=o/2),s.align==="right"&&(n-=o),this.link(n,i-l,a,A,s),o},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},A=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=t.__arabicParser__.isArabicEndLetter=function(x){return A(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},o=t.__arabicParser__.isArabicAlfLetter=function(x){return A(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return A(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return A(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return A(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return A(x)&&s(x)&&e[x.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(x){var T=0,w=r,B="",C=0;for(T=0;T<x.length;T+=1)w[x.charCodeAt(T)]!==void 0?(C++,typeof(w=w[x.charCodeAt(T)])=="number"&&(B+=String.fromCharCode(w),w=r,C=0),T===x.length-1&&(w=r,B+=x.charAt(T-(C-1)),T-=C-1,C=0)):(w=r,B+=x.charAt(T-C),T-=C,C=0);return B};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(x,T,w){return A(x)?s(x)===!1?-1:!l(x)||!A(T)&&!A(w)||!A(w)&&a(T)||a(x)&&!A(T)||a(x)&&o(T)||a(x)&&a(T)?0:c(x)&&A(T)&&!a(T)&&A(w)&&l(w)?3:a(x)||!A(w)?1:2:-1},g=function(x){var T=0,w=0,B=0,C="",L="",D="",M=(x=x||"").split("\\s+"),S=[];for(T=0;T<M.length;T+=1){for(S.push(""),w=0;w<M[T].length;w+=1)C=M[T][w],L=M[T][w-1],D=M[T][w+1],A(C)?(B=p(C,L,D),S[T]+=B!==-1?String.fromCharCode(e[C.charCodeAt(0)][B]):C):S[T]+=C;S[T]=d(S[T])}return S.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var x,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(T)){var B=0;for(w=[],B=0;B<T.length;B+=1)Array.isArray(T[B])?w.push([g(T[B][0]),T[B][1],T[B][2]]):w.push([g(T[B])]);x=w}else x=g(T);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",v])}(Ct.API),Ct.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(a){A=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var o=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return o},set:function(x){o=x}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(o){return n.call(this),this.internal.__cell__.headerFunction=typeof o=="function"?o:void 0,this},t.getTextDimensions=function(o,l){n.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),d=l.font||this.getFont(),p=l.scaleFactor||this.internal.scaleFactor,g=0,v=0,x=0,T=this;if(!Array.isArray(o)&&typeof o!="string"){if(typeof o!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");o=String(o)}var w=l.maxWidth;w>0?typeof o=="string"?o=this.splitTextToSize(o,w):Object.prototype.toString.call(o)==="[object Array]"&&(o=o.reduce(function(C,L){return C.concat(T.splitTextToSize(L,w))},[])):o=Array.isArray(o)?o:[o];for(var B=0;B<o.length;B++)g<(x=this.getStringUnitWidth(o[B],{font:d})*c)&&(g=x);return g!==0&&(v=o.length),{w:g/=p,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var o=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(o.left,o.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=t.cell=function(){var o;o=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===o.lineNumber?(o.x=(l.x||0)+(l.width||0),o.y=l.y||0):l.y+l.height+o.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),o.y=d.top,g&&p&&(this.printHeaderRow(o.lineNumber,!0),o.y+=p[0].height)):o.y=l.y+l.height||o.y),o.text[0]!==void 0&&(this.rect(o.x,o.y,o.width,o.height,r===!0?"FD":void 0),o.align==="right"?this.text(o.text,o.x+o.width-c,o.y+c,{align:"right",baseline:"top"}):o.align==="center"?this.text(o.text,o.x+o.width/2,o.y+c,{align:"center",baseline:"top",maxWidth:o.width-c-c}):this.text(o.text,o.x+c,o.y+c,{align:"left",baseline:"top",maxWidth:o.width-c-c})),this.internal.__cell__.lastCell=o,this};t.table=function(o,l,c,d,p){if(n.call(this),!c)throw new Error("No data for PDF table.");var g,v,x,T,w=[],B=[],C=[],L={},D={},M=[],S=[],E=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,O=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,_=p.margins||Object.assign({width:this.getPageWidth()},e),F=typeof p.padding=="number"?p.padding:3,U=p.headerBackgroundColor||"#c8c8c8",Y=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=Y,this.setFontSize(O),d==null)B=w=Object.keys(c[0]),C=w.map(function(){return"left"});else if(Array.isArray(d)&&ir(d[0])==="object")for(w=d.map(function(G){return G.name}),B=d.map(function(G){return G.prompt||G.name||""}),C=d.map(function(G){return G.align||"left"}),g=0;g<d.length;g+=1)D[d[g].name]=d[g].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(B=w=d,C=w.map(function(){return"left"}));if(E||Array.isArray(d)&&typeof d[0]=="string")for(g=0;g<w.length;g+=1){for(L[T=w[g]]=c.map(function(G){return G[T]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(B[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=L[T],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)M.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[T]=Math.max.apply(null,M)+F+F,M=[]}if(k){var ue={};for(g=0;g<w.length;g+=1)ue[w[g]]={},ue[w[g]].text=B[g],ue[w[g]].align=C[g];var te=a.call(this,ue,D);S=w.map(function(G){return new s(o,l,D[G],te,ue[G].text,void 0,ue[G].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var K=d.reduce(function(G,ne){return G[ne.name]=ne.align,G},{});for(g=0;g<c.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:c[g]},this);var $=a.call(this,c[g],D);for(x=0;x<w.length;x+=1){var P=c[g][w[x]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:x,data:P},this),A.call(this,new s(o,l,D[w[x]],$,P,g+2,K[w[x]]))}}return this.internal.__cell__.table_x=o,this.internal.__cell__.table_y=l,this};var a=function(o,l){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(o).map(function(g){var v=o[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,l[g]-c-c)},this).map(function(g){return this.getLineHeightFactor()*g.length*d/p+c+c},this).reduce(function(g,v){return Math.max(g,v)},0)};t.setTableHeaderRow=function(o){n.call(this),this.internal.__cell__.tableHeaderRow=o},t.printHeaderRow=function(o,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){c=this.internal.__cell__.tableHeaderRow[g].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=o;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,c),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Ct.API);var mN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],I2=gN(vN),wN=[100,200,300,400,500,600,700,800,900],iJ=gN(wN);function S2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return mN[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof I2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function U_(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var sJ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},N_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Q_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function AJ(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},sJ,r.genericFontFamilies||{}),s=null,A=null,a=0;a<e.length;++a)if(i[(s=S2(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){A=t[s.family];break}if(!(A=A||t[n]))throw new Error("Could not find a font-family for the rule '"+Q_(s)+"' and default family '"+n+"'.");if(A=function(o,l){if(l[o])return l[o];var c=I2[o],d=c<=I2.normal?-1:1,p=U_(l,vN,c,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+o);return p}(s.stretch,A),A=function(o,l){if(l[o])return l[o];for(var c=mN[o],d=0;d<c.length;++d)if(l[c[d]])return l[c[d]];throw new Error("Could not find a matching font-style for "+o)}(s.style,A),!(A=function(o,l){if(l[o])return l[o];if(o===400&&l[500])return l[500];if(o===500&&l[400])return l[400];var c=iJ[o],d=U_(l,wN,c,o<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+o);return d}(s.weight,A)))throw new Error("Failed to resolve a font for the rule '"+Q_(s)+"'.");return A}function L_(t){return t.trimLeft()}function oJ(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function aJ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var kg,P_,R_,f1=["times"];(function(t){var e,r,n,i,s,A,a,o,l,c=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new o,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new A,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new A,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,A=this.internal.Point,a=this.internal.Rectangle,o=this.internal.Matrix,l=new c}]);var d=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=N;Object.defineProperty(this,"pdf",{get:function(){return j}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(xe){W=!!xe}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(xe){ee=!!xe}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(xe){isNaN(xe)||(re=xe)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(xe){isNaN(xe)||(oe=xe)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(xe){var Ae;typeof xe=="number"?Ae=[xe,xe,xe,xe]:((Ae=new Array(4))[0]=xe[0],Ae[1]=xe.length>=2?xe[1]:Ae[0],Ae[2]=xe.length>=3?xe[2]:Ae[0],Ae[3]=xe.length>=4?xe[3]:Ae[1]),l.margin=Ae}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(xe){ge=xe}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(xe){ye=xe}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(xe){Fe=xe}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(xe){xe instanceof c&&(l=xe)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(xe){l.path=xe}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(xe){ke=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var Ae;Ae=p(xe),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var Ae=p(xe);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var Oe=null;function Ne(xe,Ae){if(Oe===null){var mt=function(ae){var pe=[];return Object.keys(ae).forEach(function(Ce){ae[Ce].forEach(function(be){var Se=null;switch(be){case"bold":Se={family:Ce,weight:"bold"};break;case"italic":Se={family:Ce,style:"italic"};break;case"bolditalic":Se={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Se={family:Ce}}Se!==null&&(Se.ref={name:Ce,style:be},pe.push(Se))})}),pe}(xe.getFontList());Oe=function(ae){for(var pe={},Ce=0;Ce<ae.length;++Ce){var be=S2(ae[Ce]),Se=be.family,Pe=be.stretch,Qe=be.style,Ke=be.weight;pe[Se]=pe[Se]||{},pe[Se][Pe]=pe[Se][Pe]||{},pe[Se][Pe][Qe]=pe[Se][Pe][Qe]||{},pe[Se][Pe][Qe][Ke]=be}return pe}(mt.concat(Ae))}return Oe}var je=null;Object.defineProperty(this,"fontFaces",{get:function(){return je},set:function(xe){Oe=null,je=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var Ae;if(this.ctx.font=xe,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var mt=Ae[1],ae=(Ae[2],Ae[3]),pe=Ae[4],Ce=(Ae[5],Ae[6]),be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pe)[2];pe=Math.floor(be==="px"?parseFloat(pe)*this.pdf.internal.scaleFactor:be==="em"?parseFloat(pe)*this.pdf.getFontSize():parseFloat(pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pe);var Se=function(At){var pt,ce,Je=[],Xe=At.trim();if(Xe==="")return f1;if(Xe in N_)return[N_[Xe]];for(;Xe!=="";){switch(ce=null,pt=(Xe=L_(Xe)).charAt(0)){case'"':case"'":ce=oJ(Xe.substring(1),pt);break;default:ce=aJ(Xe)}if(ce===null||(Je.push(ce[0]),(Xe=L_(ce[1]))!==""&&Xe.charAt(0)!==","))return f1;Xe=Xe.replace(/^,/,"")}return Je}(Ce);if(this.fontFaces){var Pe=AJ(Ne(this.pdf,this.fontFaces),Se.map(function(At){return{family:At,stretch:"normal",weight:ae,style:mt}}));this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var Qe="";(ae==="bold"||parseInt(ae,10)>=700||mt==="bold")&&(Qe="bold"),mt==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var Ke="",Me={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<Se.length;ze++){if(this.pdf.internal.getFont(Se[ze],Qe,{noFallback:!0,disableWarning:!0})!==void 0){Ke=Se[ze];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(Se[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=Se[ze],Qe="bold";else if(this.pdf.internal.getFont(Se[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=Se[ze],Qe="normal";break}}if(Ke===""){for(var ot=0;ot<Se.length;ot++)if(Me[Se[ot]]){Ke=Me[Se[ot]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};d.prototype.setLineDash=function(N){this.lineDash=N},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){L.call(this,"fill",!1)},d.prototype.stroke=function(){L.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(N,j){if(isNaN(N)||isNaN(j))throw dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new A(N,j));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new A(N,j)},d.prototype.closePath=function(){var N=new A(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&ir(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){N=new A(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(N.x,N.y)},d.prototype.lineTo=function(N,j){if(isNaN(N)||isNaN(j))throw dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new A(N,j));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new A(W.x,W.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},d.prototype.quadraticCurveTo=function(N,j,W,ee){if(isNaN(W)||isNaN(ee)||isNaN(N)||isNaN(j))throw dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new A(W,ee)),oe=this.ctx.transform.applyToPoint(new A(N,j));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new A(re.x,re.y)},d.prototype.bezierCurveTo=function(N,j,W,ee,re,oe){if(isNaN(re)||isNaN(oe)||isNaN(N)||isNaN(j)||isNaN(W)||isNaN(ee))throw dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new A(re,oe)),ye=this.ctx.transform.applyToPoint(new A(N,j)),Fe=this.ctx.transform.applyToPoint(new A(W,ee));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Fe.x,y2:Fe.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new A(ge.x,ge.y)},d.prototype.arc=function(N,j,W,ee,re,oe){if(isNaN(N)||isNaN(j)||isNaN(W)||isNaN(ee)||isNaN(re))throw dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new A(N,j));N=ge.x,j=ge.y;var ye=this.ctx.transform.applyToPoint(new A(0,W)),Fe=this.ctx.transform.applyToPoint(new A(0,0));W=Math.sqrt(Math.pow(ye.x-Fe.x,2)+Math.pow(ye.y-Fe.y,2))}Math.abs(re-ee)>=2*Math.PI&&(ee=0,re=2*Math.PI),this.path.push({type:"arc",x:N,y:j,radius:W,startAngle:ee,endAngle:re,counterclockwise:oe})},d.prototype.arcTo=function(N,j,W,ee,re){throw new Error("arcTo not implemented.")},d.prototype.rect=function(N,j,W,ee){if(isNaN(N)||isNaN(j)||isNaN(W)||isNaN(ee))throw dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,j),this.lineTo(N+W,j),this.lineTo(N+W,j+ee),this.lineTo(N,j+ee),this.lineTo(N,j),this.lineTo(N+W,j),this.lineTo(N,j)},d.prototype.fillRect=function(N,j,W,ee){if(isNaN(N)||isNaN(j)||isNaN(W)||isNaN(ee))throw dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,j,W,ee),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},d.prototype.strokeRect=function(N,j,W,ee){if(isNaN(N)||isNaN(j)||isNaN(W)||isNaN(ee))throw dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(N,j,W,ee),this.stroke())},d.prototype.clearRect=function(N,j,W,ee){if(isNaN(N)||isNaN(j)||isNaN(W)||isNaN(ee))throw dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,j,W,ee))},d.prototype.save=function(N){N=typeof N!="boolean"||N;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},d.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(j),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(N){var j,W,ee,re;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))j=0,W=0,ee=0,re=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(oe!==null)j=parseInt(oe[1]),W=parseInt(oe[2]),ee=parseInt(oe[3]),re=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)j=parseInt(oe[1]),W=parseInt(oe[2]),ee=parseInt(oe[3]),re=parseFloat(oe[4]);else{if(re=1,typeof N=="string"&&N.charAt(0)!=="#"){var ge=new cN(N);N=ge.ok?ge.toHex():"#000000"}N.length===4?(j=N.substring(1,2),j+=j,W=N.substring(2,3),W+=W,ee=N.substring(3,4),ee+=ee):(j=N.substring(1,3),W=N.substring(3,5),ee=N.substring(5,7)),j=parseInt(j,16),W=parseInt(W,16),ee=parseInt(ee,16)}}return{r:j,g:W,b:ee,a:re,style:N}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(N,j,W,ee){if(isNaN(j)||isNaN(W)||typeof N!="string")throw dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!g.call(this)){var re=$(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;F.call(this,{text:N,x:j,y:W,scale:oe,angle:re,align:this.textAlign,maxWidth:ee})}},d.prototype.strokeText=function(N,j,W,ee){if(isNaN(j)||isNaN(W)||typeof N!="string")throw dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ee=isNaN(ee)?void 0:ee;var re=$(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;F.call(this,{text:N,x:j,y:W,scale:oe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ee})}},d.prototype.measureText=function(N){if(typeof N!="string")throw dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,W=this.pdf.internal.scaleFactor,ee=j.internal.getFontSize(),re=j.getStringUnitWidth(N)*ee/j.internal.scaleFactor,oe=function(ge){var ye=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this};return new oe({width:re*=Math.round(96*W/72*1e4)/1e4})},d.prototype.scale=function(N,j){if(isNaN(N)||isNaN(j))throw dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new o(N,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},d.prototype.rotate=function(N){if(isNaN(N))throw dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new o(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},d.prototype.translate=function(N,j){if(isNaN(N)||isNaN(j))throw dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new o(1,0,0,1,N,j);this.ctx.transform=this.ctx.transform.multiply(W)},d.prototype.transform=function(N,j,W,ee,re,oe){if(isNaN(N)||isNaN(j)||isNaN(W)||isNaN(ee)||isNaN(re)||isNaN(oe))throw dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new o(N,j,W,ee,re,oe);this.ctx.transform=this.ctx.transform.multiply(ge)},d.prototype.setTransform=function(N,j,W,ee,re,oe){N=isNaN(N)?1:N,j=isNaN(j)?0:j,W=isNaN(W)?0:W,ee=isNaN(ee)?1:ee,re=isNaN(re)?0:re,oe=isNaN(oe)?0:oe,this.ctx.transform=new o(N,j,W,ee,re,oe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(N,j,W,ee,re,oe,ge,ye,Fe){var ke=this.pdf.getImageProperties(N),Oe=1,Ne=1,je=1,xe=1;ee!==void 0&&ye!==void 0&&(je=ye/ee,xe=Fe/re,Oe=ke.width/ee*ye/ee,Ne=ke.height/re*Fe/re),oe===void 0&&(oe=j,ge=W,j=0,W=0),ee!==void 0&&ye===void 0&&(ye=ee,Fe=re),ee===void 0&&ye===void 0&&(ye=ke.width,Fe=ke.height);for(var Ae,mt=this.ctx.transform.decompose(),ae=$(mt.rotate.shx),pe=new o,Ce=(pe=(pe=(pe=pe.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale)).applyToRectangle(new a(oe-j*je,ge-W*xe,ee*Oe,re*Ne)),be=T.call(this,Ce),Se=[],Pe=0;Pe<be.length;Pe+=1)Se.indexOf(be[Pe])===-1&&Se.push(be[Pe]);if(C(Se),this.autoPaging)for(var Qe=Se[0],Ke=Se[Se.length-1],Me=Qe;Me<Ke+1;Me++){this.pdf.setPage(Me);var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Me===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ce=Me===1?0:At+(Me-2)*pt;if(this.ctx.clip_path.length!==0){var Je=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Ae,this.posX+this.margin[3],-ce+ot+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Je}var Xe=JSON.parse(JSON.stringify(Ce));Xe=B([Xe],this.posX+this.margin[3],-ce+ot+this.ctx.prevPageLastElemOffset)[0];var it=(Me>Qe||Me<Ke)&&x.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,pt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,ae),it&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,ae)};var T=function(N,j,W){var ee=[];j=j||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":ee.push(Math.floor((N.y+re)/W)+1);break;case"arc":ee.push(Math.floor((N.y+re-N.radius)/W)+1),ee.push(Math.floor((N.y+re+N.radius)/W)+1);break;case"qct":var oe=P(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);ee.push(Math.floor((oe.y+re)/W)+1),ee.push(Math.floor((oe.y+oe.h+re)/W)+1);break;case"bct":var ge=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);ee.push(Math.floor((ge.y+re)/W)+1),ee.push(Math.floor((ge.y+ge.h+re)/W)+1);break;case"rect":ee.push(Math.floor((N.y+re)/W)+1),ee.push(Math.floor((N.y+N.h+re)/W)+1)}for(var ye=0;ye<ee.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ye];)w.call(this);return ee},w=function(){var N=this.fillStyle,j=this.strokeStyle,W=this.font,ee=this.lineCap,re=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=j,this.font=W,this.lineCap=ee,this.lineWidth=re,this.lineJoin=oe},B=function(N,j,W){for(var ee=0;ee<N.length;ee++)switch(N[ee].type){case"bct":N[ee].x2+=j,N[ee].y2+=W;case"qct":N[ee].x1+=j,N[ee].y1+=W;case"mt":case"lt":case"arc":default:N[ee].x+=j,N[ee].y+=W}return N},C=function(N){return N.sort(function(j,W){return j-W})},L=function(N,j){for(var W,ee,re=this.fillStyle,oe=this.strokeStyle,ge=this.lineCap,ye=this.lineWidth,Fe=Math.abs(ye*this.ctx.transform.scaleX),ke=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),je=[],xe=0;xe<Ne.length;xe++)if(Ne[xe].x!==void 0)for(var Ae=T.call(this,Ne[xe]),mt=0;mt<Ae.length;mt+=1)je.indexOf(Ae[mt])===-1&&je.push(Ae[mt]);for(var ae=0;ae<je.length;ae++)for(;this.pdf.internal.getNumberOfPages()<je[ae];)w.call(this);if(C(je),this.autoPaging)for(var pe=je[0],Ce=je[je.length-1],be=pe;be<Ce+1;be++){this.pdf.setPage(be),this.fillStyle=re,this.strokeStyle=oe,this.lineCap=ge,this.lineWidth=Fe,this.lineJoin=ke;var Se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=be===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=be===1?0:Qe+(be-2)*Ke;if(this.ctx.clip_path.length!==0){var ze=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(W,this.posX+this.margin[3],-Me+Pe+this.ctx.prevPageLastElemOffset),D.call(this,N,!0),this.path=ze}if(ee=JSON.parse(JSON.stringify(Oe)),this.path=B(ee,this.posX+this.margin[3],-Me+Pe+this.ctx.prevPageLastElemOffset),j===!1||be===0){var ot=(be>pe||be<Ce)&&x.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,Ke,null).clip().discardPath()),D.call(this,N,j),ot&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=Fe,D.call(this,N,j),this.lineWidth=ye;this.path=Oe},D=function(N,j){if((N!=="stroke"||j||!v.call(this))&&(N==="stroke"||j||!g.call(this))){for(var W,ee,re=[],oe=this.path,ge=0;ge<oe.length;ge++){var ye=oe[ge];switch(ye.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:ye,deltas:[],abs:[]});break;case"lt":var Fe=re.length;if(oe[ge-1]&&!isNaN(oe[ge-1].x)&&(W=[ye.x-oe[ge-1].x,ye.y-oe[ge-1].y],Fe>0)){for(;Fe>=0;Fe--)if(re[Fe-1].close!==!0&&re[Fe-1].begin!==!0){re[Fe-1].deltas.push(W),re[Fe-1].abs.push(ye);break}}break;case"bct":W=[ye.x1-oe[ge-1].x,ye.y1-oe[ge-1].y,ye.x2-oe[ge-1].x,ye.y2-oe[ge-1].y,ye.x-oe[ge-1].x,ye.y-oe[ge-1].y],re[re.length-1].deltas.push(W);break;case"qct":var ke=oe[ge-1].x+2/3*(ye.x1-oe[ge-1].x),Oe=oe[ge-1].y+2/3*(ye.y1-oe[ge-1].y),Ne=ye.x+2/3*(ye.x1-ye.x),je=ye.y+2/3*(ye.y1-ye.y),xe=ye.x,Ae=ye.y;W=[ke-oe[ge-1].x,Oe-oe[ge-1].y,Ne-oe[ge-1].x,je-oe[ge-1].y,xe-oe[ge-1].x,Ae-oe[ge-1].y],re[re.length-1].deltas.push(W);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(ye)}}ee=j?null:N==="stroke"?"stroke":"fill";for(var mt=!1,ae=0;ae<re.length;ae++)if(re[ae].arc)for(var pe=re[ae].abs,Ce=0;Ce<pe.length;Ce++){var be=pe[Ce];be.type==="arc"?E.call(this,be.x,be.y,be.radius,be.startAngle,be.endAngle,be.counterclockwise,void 0,j,!mt):U.call(this,be.x,be.y),mt=!0}else if(re[ae].close===!0)this.pdf.internal.out("h"),mt=!1;else if(re[ae].begin!==!0){var Se=re[ae].start.x,Pe=re[ae].start.y;Y.call(this,re[ae].deltas,Se,Pe),mt=!0}ee&&k.call(this,ee),j&&O.call(this)}},M=function(N){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-W;case"top":return N+j-W;case"hanging":return N+j-2*W;case"middle":return N+j/2-W;case"ideographic":return N;case"alphabetic":default:return N}},S=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(j,W){this.colorStops.push([j,W])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(N,j,W,ee,re,oe,ge,ye,Fe){for(var ke=te.call(this,W,ee,re,oe),Oe=0;Oe<ke.length;Oe++){var Ne=ke[Oe];Oe===0&&(Fe?_.call(this,Ne.x1+N,Ne.y1+j):U.call(this,Ne.x1+N,Ne.y1+j)),ue.call(this,N,j,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}ye?O.call(this):k.call(this,ge)},k=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(N,j){this.pdf.internal.out(r(N)+" "+n(j)+" m")},F=function(N){var j;switch(N.align){case"right":case"end":j="right";break;case"center":j="center";break;case"left":case"start":default:j="left"}var W=this.pdf.getTextDimensions(N.text),ee=M.call(this,N.y),re=S.call(this,ee)-W.h,oe=this.ctx.transform.applyToPoint(new A(N.x,ee)),ge=this.ctx.transform.decompose(),ye=new o;ye=(ye=(ye=ye.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Fe,ke,Oe,Ne=this.ctx.transform.applyToRectangle(new a(N.x,ee,W.w,W.h)),je=ye.applyToRectangle(new a(N.x,re,W.w,W.h)),xe=T.call(this,je),Ae=[],mt=0;mt<xe.length;mt+=1)Ae.indexOf(xe[mt])===-1&&Ae.push(xe[mt]);if(C(Ae),this.autoPaging)for(var ae=Ae[0],pe=Ae[Ae.length-1],Ce=ae;Ce<pe+1;Ce++){this.pdf.setPage(Ce);var be=Ce===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[2],Qe=Pe-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],Me=Ke-this.margin[3],ze=Ce===1?0:Se+(Ce-2)*Qe;if(this.ctx.clip_path.length!==0){var ot=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Fe,this.posX+this.margin[3],-1*ze+be),D.call(this,"fill",!0),this.path=ot}var At=B([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-ze+be+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*N.scale),Oe=this.lineWidth,this.lineWidth=Oe*N.scale);var pt=this.autoPaging!=="text";if(pt||At.y+At.h<=Pe){if(pt||At.y>=be&&At.x<=Ke){var ce=pt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Ke-At.x)[0],Je=B([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-ze+be+this.ctx.prevPageLastElemOffset)[0],Xe=pt&&(Ce>ae||Ce<pe)&&x.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Qe,null).clip().discardPath()),this.pdf.text(ce,Je.x,Je.y,{angle:N.angle,align:j,renderingMode:N.renderingMode}),Xe&&this.pdf.restoreGraphicsState()}}else At.y<Pe&&(this.ctx.prevPageLastElemOffset+=Pe-At.y);N.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Oe)}else N.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*N.scale),Oe=this.lineWidth,this.lineWidth=Oe*N.scale),this.pdf.text(N.text,oe.x+this.posX,oe.y+this.posY,{angle:N.angle,align:j,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Oe)},U=function(N,j,W,ee){W=W||0,ee=ee||0,this.pdf.internal.out(r(N+W)+" "+n(j+ee)+" l")},Y=function(N,j,W){return this.pdf.lines(N,j,W,null,null)},ue=function(N,j,W,ee,re,oe,ge,ye){this.pdf.internal.out([e(i(W+N)),e(s(ee+j)),e(i(re+N)),e(s(oe+j)),e(i(ge+N)),e(s(ye+j)),"c"].join(" "))},te=function(N,j,W,ee){for(var re=2*Math.PI,oe=Math.PI/2;j>W;)j-=re;var ge=Math.abs(W-j);ge<re&&ee&&(ge=re-ge);for(var ye=[],Fe=ee?-1:1,ke=j;ge>1e-5;){var Oe=ke+Fe*Math.min(ge,oe);ye.push(K.call(this,N,ke,Oe)),ge-=Math.abs(Oe-ke),ke=Oe}return ye},K=function(N,j,W){var ee=(W-j)/2,re=N*Math.cos(ee),oe=N*Math.sin(ee),ge=re,ye=-oe,Fe=ge*ge+ye*ye,ke=Fe+ge*re+ye*oe,Oe=4/3*(Math.sqrt(2*Fe*ke)-ke)/(ge*oe-ye*re),Ne=ge-Oe*ye,je=ye+Oe*ge,xe=Ne,Ae=-je,mt=ee+j,ae=Math.cos(mt),pe=Math.sin(mt);return{x1:N*Math.cos(j),y1:N*Math.sin(j),x2:Ne*ae-je*pe,y2:Ne*pe+je*ae,x3:xe*ae-Ae*pe,y3:xe*pe+Ae*ae,x4:N*Math.cos(W),y4:N*Math.sin(W)}},$=function(N){return 180*N/Math.PI},P=function(N,j,W,ee,re,oe){var ge=N+.5*(W-N),ye=j+.5*(ee-j),Fe=re+.5*(W-re),ke=oe+.5*(ee-oe),Oe=Math.min(N,re,ge,Fe),Ne=Math.max(N,re,ge,Fe),je=Math.min(j,oe,ye,ke),xe=Math.max(j,oe,ye,ke);return new a(Oe,je,Ne-Oe,xe-je)},G=function(N,j,W,ee,re,oe,ge,ye){var Fe,ke,Oe,Ne,je,xe,Ae,mt,ae,pe,Ce,be,Se,Pe,Qe=W-N,Ke=ee-j,Me=re-W,ze=oe-ee,ot=ge-re,At=ye-oe;for(ke=0;ke<41;ke++)ae=(Ae=(Oe=N+(Fe=ke/40)*Qe)+Fe*((je=W+Fe*Me)-Oe))+Fe*(je+Fe*(re+Fe*ot-je)-Ae),pe=(mt=(Ne=j+Fe*Ke)+Fe*((xe=ee+Fe*ze)-Ne))+Fe*(xe+Fe*(oe+Fe*At-xe)-mt),ke==0?(Ce=ae,be=pe,Se=ae,Pe=pe):(Ce=Math.min(Ce,ae),be=Math.min(be,pe),Se=Math.max(Se,ae),Pe=Math.max(Pe,pe));return new a(Math.round(Ce),Math.round(be),Math.round(Se-Ce),Math.round(Pe-be))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,j,W=(N=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:j}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Ct.API),function(t){var e=function(s){var A,a,o,l,c,d,p,g,v,x;for(a=[],o=0,l=(s+=A="\0\0\0\0".slice(s.length%4||4)).length;l>o;o+=4)(c=(s.charCodeAt(o)<<24)+(s.charCodeAt(o+1)<<16)+(s.charCodeAt(o+2)<<8)+s.charCodeAt(o+3))!==0?(d=(c=((c=((c=((c=(c-(x=c%85))/85)-(v=c%85))/85)-(g=c%85))/85)-(p=c%85))/85)%85,a.push(d+33,p+33,g+33,v+33,x+33)):a.push(122);return function(T,w){for(var B=w;B>0;B--)T.pop()}(a,A.length),String.fromCharCode.apply(String,a)+"~>"},r=function(s){var A,a,o,l,c,d=String,p="length",g=255,v="charCodeAt",x="slice",T="replace";for(s[x](-2),s=s[x](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),o=[],l=0,c=(s+=A="uuuuu"[x](s[p]%5||5))[p];c>l;l+=5)a=52200625*(s[v](l)-33)+614125*(s[v](l+1)-33)+7225*(s[v](l+2)-33)+85*(s[v](l+3)-33)+(s[v](l+4)-33),o.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(w,B){for(var C=B;C>0;C--)w.pop()}(o,A[p]),d.fromCharCode.apply(d,o)},n=function(s){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),A.test(s)===!1)return"";for(var a="",o=0;o<s.length;o+=2)a+=String.fromCharCode("0x"+(s[o]+s[o+1]));return a},i=function(s){for(var A=new Uint8Array(s.length),a=s.length;a--;)A[a]=s.charCodeAt(a);return s=(A=C2(A)).reduce(function(o,l){return o+String.fromCharCode(l)},"")};t.processDataByFilters=function(s,A){var a=0,o=s||"",l=[];for(typeof(A=A||[])=="string"&&(A=[A]),a=0;a<A.length;a+=1)switch(A[a]){case"ASCII85Decode":case"/ASCII85Decode":o=r(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=e(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=n(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=i(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[a]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(Ct.API),function(t){t.loadFile=function(e,r,n){return function(i,s,A){s=s!==!1,A=typeof A=="function"?A:function(){};var a=void 0;try{a=function(o,l,c){var d=new XMLHttpRequest,p=0,g=function(v){var x=v.length,T=[],w=String.fromCharCode;for(p=0;p<x;p+=1)T.push(w(255&v.charCodeAt(p)));return T.join("")};if(d.open("GET",o,!l),d.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(d.onload=function(){d.status===200?c(g(this.responseText)):c(void 0)}),d.send(null),l&&d.status===200)return g(d.responseText)}(i,s,A)}catch{}return a}(e,r,n)},t.loadImageFile=t.loadFile}(Ct.API),function(t){function e(){return(xt.html2canvas?Promise.resolve(xt.html2canvas):m2(()=>Promise.resolve().then(()=>E$),void 0)).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function r(){return(xt.DOMPurify?Promise.resolve(xt.DOMPurify):m2(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var n=function(A){var a=ir(A);return a==="undefined"?"undefined":a==="string"||A instanceof String?"string":a==="number"||A instanceof Number?"number":a==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(A,a){var o=document.createElement(A);for(var l in a.className&&(o.className=a.className),a.innerHTML&&a.dompurify&&(o.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)o.style[l]=a.style[l];return o},s=function A(a){var o=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),l=A.convert(Promise.resolve(),o);return l=(l=l.setProgress(1,A,1,[A])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(A,a){return A.__proto__=a||s.prototype,A},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(A,a){return this.then(function(){switch(a=a||function(o){switch(n(o)){case"string":return"string";case"element":return o.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A)){case"string":return this.then(r).then(function(o){return this.set({src:i("div",{innerHTML:A,dompurify:o})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},s.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(o(p,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(a){var o=Object.assign({},this.opt.html2canvas);return delete o.onrendered,a(this.prop.container,o)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(e).then(function(a){var o=this.opt.jsPDF,l=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,o.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,o.context2d.posX=this.opt.x,o.context2d.posY=this.opt.y,o.context2d.margin=this.opt.margin,o.context2d.fontFaces=l,l)for(var p=0;p<l.length;++p){var g=l[p],v=g.src.find(function(x){return x.format==="truetype"});v&&o.addFont(v.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,o.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(A,a,o){return(o=o||"pdf").toLowerCase()==="img"||o.toLowerCase()==="image"?this.outputImg(A,a):this.outputPdf(A,a)},s.prototype.outputPdf=function(A,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,a)})},s.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},s.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(A){if(n(A)!=="object")return this;var a=Object.keys(A||{}).map(function(o){if(o in s.template.prop)return function(){this.prop[o]=A[o]};switch(o){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[o]=A[o]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(A,a){return this.then(function(){var o=A in s.template.prop?this.prop[A]:this.opt[A];return a?a(o):o})},s.prototype.setMargin=function(A){return this.then(function(){switch(n(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},s.prototype.setPageSize=function(A){function a(o,l){return Math.floor(o*l/72*96)}return this.then(function(){(A=A||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:a(A.inner.width,A.k),height:a(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},s.prototype.setProgress=function(A,a,o,l){return A!=null&&(this.progress.val=A),a!=null&&(this.progress.state=a),o!=null&&(this.progress.n=o),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(A,a,o,l){return this.setProgress(A?this.progress.val+A:null,a||null,o?this.progress.n+o:null,l?this.progress.stack.concat(l):null)},s.prototype.then=function(A,a){var o=this;return this.thenCore(A,a,function(l,c){return o.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(d){return o.updateProgress(null,l),d}).then(l,c).then(function(d){return o.updateProgress(1),d})})},s.prototype.thenCore=function(A,a,o){o=o||Promise.prototype.then,A&&(A=A.bind(this)),a&&(a=a.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=o.call(l,A,a);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(A,a){return Promise.prototype.then.call(this,A,a)},s.prototype.thenList=function(A){var a=this;return A.forEach(function(o){a=a.thenCore(o)}),a},s.prototype.catch=function(A){A&&(A=A.bind(this));var a=Promise.prototype.catch.call(this,A);return s.convert(a,this)},s.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},s.prototype.error=function(A){return this.then(function(){throw new Error(A)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ct.getPageSize=function(A,a,o){if(ir(A)==="object"){var l=A;A=l.orientation,a=l.unit||a,o=l.format||o}a=a||"mm",o=o||"a4",A=(""+(A||"P")).toLowerCase();var c,d=(""+o).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+a}var g,v=0,x=0;if(p.hasOwnProperty(d))v=p[d][1]/c,x=p[d][0]/c;else try{v=o[1],x=o[0]}catch{throw new Error("Invalid format: "+o)}if(A==="p"||A==="portrait")A="p",x>v&&(g=x,x=v,v=g);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",v>x&&(g=x,x=v,v=g)}return{width:x,height:v,unit:a,k:c,orientation:A}},t.html=function(A,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(S2):null;var o=new s(a);return a.worker?o:o.from(A).doCallback()}}(Ct.API),Ct.API.addJS=function(t){return R_=t,this.internal.events.subscribe("postPutResources",function(){kg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),P_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+R_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){kg!==void 0&&P_!==void 0&&this.internal.out("/Names <</JavaScript "+kg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var A=i[s],a=n.exec(A);if(a!=null){var o=a[1];r.internal.newObjectDeferredBegin(o,!1)}r.internal.write(A)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(s=0;s<l;s++){var d=r.internal.newObject();c.push(d);var p=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<c.length;s++)r.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var A={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(A),A},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var A=n.children[s];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var a=this.count=this.count_r({count:0},A);if(a>0&&this.line("/Count "+a),A.options&&A.options.pageNumber){var o=r.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,A,a){var o,l=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=A||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(o=function(d){for(var p,g=256*d.charCodeAt(4)+d.charCodeAt(5),v=d.length,x={width:0,height:0,numcomponents:1},T=4;T<v;T+=2){if(T+=g,e.indexOf(d.charCodeAt(T+1))!==-1){p=256*d.charCodeAt(T+5)+d.charCodeAt(T+6),x={width:256*d.charCodeAt(T+7)+d.charCodeAt(T+8),height:p,numcomponents:d.charCodeAt(T+9)};break}g=256*d.charCodeAt(T+2)+d.charCodeAt(T+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:r,width:o.width,height:o.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:i}}return c}}(Ct.API);var ru,Ug,D_,O_,M_,lJ=function(){var t,e,r;function n(s){var A,a,o,l,c,d,p,g,v,x,T,w,B,C;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(A=this.readUInt32(),v=(function(){var L,D;for(D=[],L=0;L<4;++L)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(A);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),l=this.readUInt16()||100,d.delay=1e3*c/l,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,A-=4),s=(d!=null?d.data:void 0)||this.imgData,w=0;0<=A?w<A:w>A;0<=A?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(o=this.palette.length/3,this.transparency.indexed=this.read(A),this.transparency.indexed.length>o)throw new Error("More transparent colors than palette size");if((x=o-this.transparency.indexed.length)>0)for(B=0;0<=x?B<x:B>x;0<=x?++B:--B)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(A)[0];break;case 2:this.transparency.rgb=this.read(A)}break;case"tEXt":p=(T=this.read(A)).indexOf(0),g=String.fromCharCode.apply(String,T.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,T.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=A}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var A,a;for(a=[],A=0;0<=s?A<s:A>s;0<=s?++A:--A)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var A=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*A),o=0,l=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(d,p,g,v){var x,T,w,B,C,L,D,M,S,E,k,O,_,F,U,Y,ue,te,K,$,P,G=Math.ceil((l.width-d)/g),ne=Math.ceil((l.height-p)/v),N=l.width==G&&l.height==ne;for(F=A*G,O=N?a:new Uint8Array(F*ne),L=s.length,_=0,T=0;_<ne&&o<L;){switch(s[o++]){case 0:for(B=ue=0;ue<F;B=ue+=1)O[T++]=s[o++];break;case 1:for(B=te=0;te<F;B=te+=1)x=s[o++],C=B<A?0:O[T-A],O[T++]=(x+C)%256;break;case 2:for(B=K=0;K<F;B=K+=1)x=s[o++],w=(B-B%A)/A,U=_&&O[(_-1)*F+w*A+B%A],O[T++]=(U+x)%256;break;case 3:for(B=$=0;$<F;B=$+=1)x=s[o++],w=(B-B%A)/A,C=B<A?0:O[T-A],U=_&&O[(_-1)*F+w*A+B%A],O[T++]=(x+Math.floor((C+U)/2))%256;break;case 4:for(B=P=0;P<F;B=P+=1)x=s[o++],w=(B-B%A)/A,C=B<A?0:O[T-A],_===0?U=Y=0:(U=O[(_-1)*F+w*A+B%A],Y=w&&O[(_-1)*F+(w-1)*A+B%A]),D=C+U-Y,M=Math.abs(D-C),E=Math.abs(D-U),k=Math.abs(D-Y),S=M<=E&&M<=k?C:E<=k?U:Y,O[T++]=(x+S)%256;break;default:throw new Error("Invalid filter algorithm: "+s[o-1])}if(!N){var j=((p+_*v)*l.width+d)*A,W=_*F;for(B=0;B<G;B+=1){for(var ee=0;ee<A;ee+=1)a[j++]=O[W++];j+=(g-1)*A}}_++}}return s=M$(s),l.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),a},n.prototype.decodePalette=function(){var s,A,a,o,l,c,d,p,g;for(a=this.palette,c=this.transparency.indexed||[],l=new Uint8Array((c.length||0)+a.length),o=0,s=0,A=d=0,p=a.length;d<p;A=d+=3)l[o++]=a[A],l[o++]=a[A+1],l[o++]=a[A+2],l[o++]=(g=c[s++])!=null?g:255;return l},n.prototype.copyToImageData=function(s,A){var a,o,l,c,d,p,g,v,x,T,w;if(o=this.colors,x=null,a=this.hasAlphaChannel,this.palette.length&&(x=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),o=4,a=!0),v=(l=s.data||s).length,d=x||A,c=p=0,o===1)for(;c<v;)g=x?4*A[c/4]:p,T=d[g++],l[c++]=T,l[c++]=T,l[c++]=T,l[c++]=a?d[g++]:255,p=g;else for(;c<v;)g=x?4*A[c/4]:p,l[c++]=d[g++],l[c++]=d[g++],l[c++]=d[g++],l[c++]=a?d[g++]:255,p=g},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(xt)==="[object Window]"){try{e=xt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var A;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(A=new Image).src=e.toDataURL(),A;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var A,a,o,l,c,d,p,g;if(this.animation){for(g=[],a=c=0,d=(p=this.animation.frames).length;c<d;a=++c)A=p[a],o=s.createImageData(A.width,A.height),l=this.decodePixels(new Uint8Array(A.data)),this.copyToImageData(o,l),A.imageData=o,g.push(A.image=t(o));return g}},n.prototype.renderFrame=function(s,A){var a,o,l;return a=(o=this.animation.frames)[A],l=o[A-1],A===0&&s.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?s.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&s.putImageData(l.imageData,l.xOffset,l.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(s){var A,a,o,l,c,d,p=this;return a=0,d=this.animation,l=d.numFrames,o=d.frames,c=d.numPlays,(A=function(){var g,v;if(g=a++%l,v=o[g],p.renderFrame(s,g),l>1&&a/l<c)return p.animation._timeout=setTimeout(A,v.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var A,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,A=s.getContext("2d"),this.animation?(this.decodeFrames(A),this.animate(A)):(a=A.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),A.putImageData(a,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function cJ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,A=1<<(7&i)+1;t[e++],t[e++];var a=null,o=null;s&&(a=e,o=A,e+=3*A);var l=!0,c=[],d=0,p=null,g=0,v=null;for(this.width=r,this.height=n;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];d=t[e++]|t[e++]<<8,p=t[e++],!(1&x)&&(p=null),g=x>>2&7,e++;break;case 254:for(;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,L=t[e++],D=L>>6&1,M=1<<(7&L)+1,S=a,E=o,k=!1;L>>7&&(k=!0,S=e,E=M,e+=3*M);var O=e;for(e++;;){var _;if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}c.push({x:T,y:w,width:B,height:C,has_local_palette:k,palette_offset:S,palette_size:E,data_offset:O,data_length:e-O,transparent_index:p,interlaced:!!D,delay:d,disposal:g});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(F){if(F<0||F>=c.length)throw new Error("Frame index out of range.");return c[F]},this.decodeAndBlitFrameBGRA=function(F,U){var Y=this.frameInfo(F),ue=Y.width*Y.height,te=new Uint8Array(ue);j_(t,Y.data_offset,te,ue);var K=Y.palette_offset,$=Y.transparent_index;$===null&&($=256);var P=Y.width,G=r-P,ne=P,N=4*(Y.y*r+Y.x),j=4*((Y.y+Y.height)*r+Y.x),W=N,ee=4*G;Y.interlaced===!0&&(ee+=4*r*7);for(var re=8,oe=0,ge=te.length;oe<ge;++oe){var ye=te[oe];if(ne===0&&(ne=P,(W+=ee)>=j&&(ee=4*G+4*r*(re-1),W=N+(P+G)*(re<<1),re>>=1)),ye===$)W+=4;else{var Fe=t[K+3*ye],ke=t[K+3*ye+1],Oe=t[K+3*ye+2];U[W++]=Oe,U[W++]=ke,U[W++]=Fe,U[W++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(F,U){var Y=this.frameInfo(F),ue=Y.width*Y.height,te=new Uint8Array(ue);j_(t,Y.data_offset,te,ue);var K=Y.palette_offset,$=Y.transparent_index;$===null&&($=256);var P=Y.width,G=r-P,ne=P,N=4*(Y.y*r+Y.x),j=4*((Y.y+Y.height)*r+Y.x),W=N,ee=4*G;Y.interlaced===!0&&(ee+=4*r*7);for(var re=8,oe=0,ge=te.length;oe<ge;++oe){var ye=te[oe];if(ne===0&&(ne=P,(W+=ee)>=j&&(ee=4*G+4*r*(re-1),W=N+(P+G)*(re<<1),re>>=1)),ye===$)W+=4;else{var Fe=t[K+3*ye],ke=t[K+3*ye+1],Oe=t[K+3*ye+2];U[W++]=Fe,U[W++]=ke,U[W++]=Oe,U[W++]=255}--ne}}}function j_(t,e,r,n){for(var i=t[e++],s=1<<i,A=s+1,a=A+1,o=i+1,l=(1<<o)-1,c=0,d=0,p=0,g=t[e++],v=new Int32Array(4096),x=null;;){for(;c<16&&g!==0;)d|=t[e++]<<c,c+=8,g===1?g=t[e++]:--g;if(c<o)break;var T=d&l;if(d>>=o,c-=o,T!==s){if(T===A)break;for(var w=T<a?T:x,B=0,C=w;C>s;)C=v[C]>>8,++B;var L=C;if(p+B+(w!==T?1:0)>n)return void dr.log("Warning, gif stream longer than expected.");r[p++]=L;var D=p+=B;for(w!==T&&(r[p++]=L),C=w;B--;)C=v[C],r[--D]=255&C,C>>=8;x!==null&&a<4096&&(v[a++]=x<<8|L,a>=l+1&&o<12&&(++o,l=l<<1|1)),x=T}else a=A+1,l=(1<<(o=i+1))-1,x=null}return p!==n&&dr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function p1(t){var e,r,n,i,s,A=Math.floor,a=new Array(64),o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(65535),p=new Array(65535),g=new Array(64),v=new Array(64),x=[],T=0,w=7,B=new Array(64),C=new Array(64),L=new Array(64),D=new Array(256),M=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(N,j){for(var W=0,ee=0,re=new Array,oe=1;oe<=16;oe++){for(var ge=1;ge<=N[oe];ge++)re[j[ee]]=[],re[j[ee]][0]=W,re[j[ee]][1]=oe,ee++,W++;W*=2}return re}function K(N){for(var j=N[0],W=N[1]-1;W>=0;)j&1<<W&&(T|=1<<w),W--,--w<0&&(T==255?($(255),$(0)):$(T),w=7,T=0)}function $(N){x.push(N)}function P(N){$(N>>8&255),$(255&N)}function G(N,j,W,ee,re){for(var oe,ge=re[0],ye=re[240],Fe=function(pe,Ce){var be,Se,Pe,Qe,Ke,Me,ze,ot,At,pt,ce=0;for(At=0;At<8;++At){be=pe[ce],Se=pe[ce+1],Pe=pe[ce+2],Qe=pe[ce+3],Ke=pe[ce+4],Me=pe[ce+5],ze=pe[ce+6];var Je=be+(ot=pe[ce+7]),Xe=be-ot,it=Se+ze,et=Se-ze,lt=Pe+Me,Pt=Pe-Me,ct=Qe+Ke,Lt=Qe-Ke,or=Je+ct,er=Je-ct,Ti=it+lt,hr=it-lt;pe[ce]=or+Ti,pe[ce+4]=or-Ti;var yt=.707106781*(hr+er);pe[ce+2]=er+yt,pe[ce+6]=er-yt;var Kt=.382683433*((or=Lt+Pt)-(hr=et+Xe)),Xi=.5411961*or+Kt,Jr=1.306562965*hr+Kt,Dn=.707106781*(Ti=Pt+et),ki=Xe+Dn,ht=Xe-Dn;pe[ce+5]=ht+Xi,pe[ce+3]=ht-Xi,pe[ce+1]=ki+Jr,pe[ce+7]=ki-Jr,ce+=8}for(ce=0,At=0;At<8;++At){be=pe[ce],Se=pe[ce+8],Pe=pe[ce+16],Qe=pe[ce+24],Ke=pe[ce+32],Me=pe[ce+40],ze=pe[ce+48];var hi=be+(ot=pe[ce+56]),On=be-ot,Xr=Se+ze,Or=Se-ze,Tr=Pe+Me,Yr=Pe-Me,Qo=Qe+Ke,Bs=Qe-Ke,Mn=hi+Qo,fi=hi-Qo,ri=Xr+Tr,ni=Xr-Tr;pe[ce]=Mn+ri,pe[ce+32]=Mn-ri;var Mr=.707106781*(ni+fi);pe[ce+16]=fi+Mr,pe[ce+48]=fi-Mr;var Ui=.382683433*((Mn=Bs+Yr)-(ni=Or+On)),Js=.5411961*Mn+Ui,Xs=1.306562965*ni+Ui,Ys=.707106781*(ri=Yr+Or),PA=On+Ys,RA=On-Ys;pe[ce+40]=RA+Js,pe[ce+24]=RA-Js,pe[ce+8]=PA+Xs,pe[ce+56]=PA-Xs,ce++}for(At=0;At<64;++At)pt=pe[At]*Ce[At],g[At]=pt>0?pt+.5|0:pt-.5|0;return g}(N,j),ke=0;ke<64;++ke)v[S[ke]]=Fe[ke];var Oe=v[0]-W;W=v[0],Oe==0?K(ee[0]):(K(ee[p[oe=32767+Oe]]),K(d[oe]));for(var Ne=63;Ne>0&&v[Ne]==0;)Ne--;if(Ne==0)return K(ge),W;for(var je,xe=1;xe<=Ne;){for(var Ae=xe;v[xe]==0&&xe<=Ne;)++xe;var mt=xe-Ae;if(mt>=16){je=mt>>4;for(var ae=1;ae<=je;++ae)K(ye);mt&=15}oe=32767+v[xe],K(re[(mt<<4)+p[oe]]),K(d[oe]),xe++}return Ne!=63&&K(ge),W}function ne(N){N=Math.min(Math.max(N,1),100),s!=N&&(function(j){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var re=A((W[ee]*j+50)/100);re=Math.min(Math.max(re,1),255),a[S[ee]]=re}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var ye=A((oe[ge]*j+50)/100);ye=Math.min(Math.max(ye,1),255),o[S[ge]]=ye}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Oe=0;Oe<8;Oe++)for(var Ne=0;Ne<8;Ne++)l[ke]=1/(a[S[ke]]*Fe[Oe]*Fe[Ne]*8),c[ke]=1/(o[S[ke]]*Fe[Oe]*Fe[Ne]*8),ke++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,j){j&&ne(j),x=new Array,T=0,w=7,P(65496),P(65504),P(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),P(1),P(1),$(0),$(0),function(){P(65499),P(132),$(0);for(var Se=0;Se<64;Se++)$(a[Se]);$(1);for(var Pe=0;Pe<64;Pe++)$(o[Pe])}(),function(Se,Pe){P(65472),P(17),$(8),P(Pe),P(Se),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(N.width,N.height),function(){P(65476),P(418),$(0);for(var Se=0;Se<16;Se++)$(E[Se+1]);for(var Pe=0;Pe<=11;Pe++)$(k[Pe]);$(16);for(var Qe=0;Qe<16;Qe++)$(O[Qe+1]);for(var Ke=0;Ke<=161;Ke++)$(_[Ke]);$(1);for(var Me=0;Me<16;Me++)$(F[Me+1]);for(var ze=0;ze<=11;ze++)$(U[ze]);$(17);for(var ot=0;ot<16;ot++)$(Y[ot+1]);for(var At=0;At<=161;At++)$(ue[At])}(),P(65498),P(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var W=0,ee=0,re=0;T=0,w=7,this.encode.displayName="_encode_";for(var oe,ge,ye,Fe,ke,Oe,Ne,je,xe,Ae=N.data,mt=N.width,ae=N.height,pe=4*mt,Ce=0;Ce<ae;){for(oe=0;oe<pe;){for(ke=pe*Ce+oe,Ne=-1,je=0,xe=0;xe<64;xe++)Oe=ke+(je=xe>>3)*pe+(Ne=4*(7&xe)),Ce+je>=ae&&(Oe-=pe*(Ce+1+je-ae)),oe+Ne>=pe&&(Oe-=oe+Ne-pe+4),ge=Ae[Oe++],ye=Ae[Oe++],Fe=Ae[Oe++],B[xe]=(M[ge]+M[ye+256>>0]+M[Fe+512>>0]>>16)-128,C[xe]=(M[ge+768>>0]+M[ye+1024>>0]+M[Fe+1280>>0]>>16)-128,L[xe]=(M[ge+1280>>0]+M[ye+1536>>0]+M[Fe+1792>>0]>>16)-128;W=G(B,l,W,e,n),ee=G(C,c,ee,r,i),re=G(L,c,re,r,i),oe+=32}Ce+=8}if(w>=0){var be=[];be[1]=w+1,be[0]=(1<<w+1)-1,K(be)}return P(65497),new Uint8Array(x)},t=t||50,function(){for(var N=String.fromCharCode,j=0;j<256;j++)D[j]=N(j)}(),e=te(E,k),r=te(F,U),n=te(O,_),i=te(Y,ue),function(){for(var N=1,j=2,W=1;W<=15;W++){for(var ee=N;ee<j;ee++)p[32767+ee]=W,d[32767+ee]=[],d[32767+ee][1]=W,d[32767+ee][0]=ee;for(var re=-(j-1);re<=-N;re++)p[32767+re]=W,d[32767+re]=[],d[32767+re][1]=W,d[32767+re][0]=j-1+re;N<<=1,j<<=1}}(),function(){for(var N=0;N<256;N++)M[N]=19595*N,M[N+256>>0]=38470*N,M[N+512>>0]=7471*N+32768,M[N+768>>0]=-11059*N,M[N+1024>>0]=-21709*N,M[N+1280>>0]=32768*N+8421375,M[N+1536>>0]=-27439*N,M[N+1792>>0]=-5329*N}(),ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function H_(t){function e(E){if(!E)throw Error("assert :P")}function r(E,k,O){for(var _=0;4>_;_++)if(E[k+_]!=O.charCodeAt(_))return!0;return!1}function n(E,k,O,_,F){for(var U=0;U<F;U++)E[k+U]=O[_+U]}function i(E,k,O,_){for(var F=0;F<_;F++)E[k+F]=O}function s(E){return new Int32Array(E)}function A(E,k){for(var O=[],_=0;_<E;_++)O.push(new k);return O}function a(E,k){var O=[];return function _(F,U,Y){for(var ue=Y[U],te=0;te<ue&&(F.push(Y.length>U+1?[]:new k),!(Y.length<U+1));te++)_(F[te],U+1,Y)}(O,0,E),O}var o=function(){var E=this;function k(u,m){for(var b=1<<m-1>>>0;u&b;)b>>>=1;return b?(u&b-1)+b:u}function O(u,m,b,Q,V){e(!(Q%b));do u[m+(Q-=b)]=V;while(0<Q)}function _(u,m,b,Q,V){if(e(2328>=V),512>=V)var z=s(512);else if((z=s(V))==null)return 0;return function(q,X,Z,ie,he,Ee){var _e,Be,De=X,Te=1<<Z,fe=s(16),me=s(16);for(e(he!=0),e(ie!=null),e(q!=null),e(0<Z),Be=0;Be<he;++Be){if(15<ie[Be])return 0;++fe[ie[Be]]}if(fe[0]==he)return 0;for(me[1]=0,_e=1;15>_e;++_e){if(fe[_e]>1<<_e)return 0;me[_e+1]=me[_e]+fe[_e]}for(Be=0;Be<he;++Be)_e=ie[Be],0<ie[Be]&&(Ee[me[_e]++]=Be);if(me[15]==1)return(ie=new F).g=0,ie.value=Ee[0],O(q,De,1,Te,ie),Te;var Le,He=-1,Re=Te-1,ut=0,tt=1,Bt=1,st=1<<Z;for(Be=0,_e=1,he=2;_e<=Z;++_e,he<<=1){if(tt+=Bt<<=1,0>(Bt-=fe[_e]))return 0;for(;0<fe[_e];--fe[_e])(ie=new F).g=_e,ie.value=Ee[Be++],O(q,De+ut,he,st,ie),ut=k(ut,_e)}for(_e=Z+1,he=2;15>=_e;++_e,he<<=1){if(tt+=Bt<<=1,0>(Bt-=fe[_e]))return 0;for(;0<fe[_e];--fe[_e]){if(ie=new F,(ut&Re)!=He){for(De+=st,Le=1<<(He=_e)-Z;15>He&&!(0>=(Le-=fe[He]));)++He,Le<<=1;Te+=st=1<<(Le=He-Z),q[X+(He=ut&Re)].g=Le+Z,q[X+He].value=De-X-He}ie.g=_e-Z,ie.value=Ee[Be++],O(q,De+(ut>>Z),he,st,ie),ut=k(ut,_e)}}return tt!=2*me[15]-1?0:Te}(u,m,b,Q,V,z)}function F(){this.value=this.g=0}function U(){this.value=this.g=0}function Y(){this.G=A(5,F),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(En,U)}function ue(u,m,b,Q){e(u!=null),e(m!=null),e(2147483648>Q),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=m,u.pa=b,u.Jd=m,u.Yc=b+Q,u.Zc=4<=Q?b+Q-4+1:b,oe(u)}function te(u,m){for(var b=0;0<m--;)b|=ye(u,128)<<m;return b}function K(u,m){var b=te(u,m);return ge(u)?-b:b}function $(u,m,b,Q){var V,z=0;for(e(u!=null),e(m!=null),e(4294967288>Q),u.Sb=Q,u.Ra=0,u.u=0,u.h=0,4<Q&&(Q=4),V=0;V<Q;++V)z+=m[b+V]<<8*V;u.Ra=z,u.bb=Q,u.oa=m,u.pa=b}function P(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Pc-8>>>0,++u.bb,u.u-=8;W(u)&&(u.h=1,u.u=0)}function G(u,m){if(e(0<=m),!u.h&&m<=Lc){var b=j(u)&Qc[m];return u.u+=m,P(u),b}return u.h=1,u.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(u){return u.Ra>>>(u.u&Pc-1)>>>0}function W(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Pc}function ee(u,m){u.u=m,u.h=W(u)}function re(u){u.u>=kd&&(e(u.u>=kd),P(u))}function oe(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ge(u){return te(u,1)}function ye(u,m){var b=u.Ca;0>u.b&&oe(u);var Q=u.b,V=b*m>>>8,z=(u.I>>>Q>V)+0;for(z?(b-=V,u.I-=V+1<<Q>>>0):b=V+1,Q=b,V=0;256<=Q;)V+=8,Q>>=8;return Q=7^V+gi[Q],u.b-=Q,u.Ca=(b<<Q)-1,z}function Fe(u,m,b){u[m+0]=b>>24&255,u[m+1]=b>>16&255,u[m+2]=b>>8&255,u[m+3]=b>>0&255}function ke(u,m){return u[m+0]<<0|u[m+1]<<8}function Oe(u,m){return ke(u,m)|u[m+2]<<16}function Ne(u,m){return ke(u,m)|ke(u,m+2)<<16}function je(u,m){var b=1<<m;return e(u!=null),e(0<m),u.X=s(b),u.X==null?0:(u.Mb=32-m,u.Xa=m,1)}function xe(u,m){e(u!=null),e(m!=null),e(u.Xa==m.Xa),n(m.X,0,u.X,0,1<<m.Xa)}function Ae(){this.X=[],this.Xa=this.Mb=0}function mt(u,m,b,Q){e(b!=null),e(Q!=null);var V=b[0],z=Q[0];return V==0&&(V=(u*z+m/2)/m),z==0&&(z=(m*V+u/2)/u),0>=V||0>=z?0:(b[0]=V,Q[0]=z,1)}function ae(u,m){return u+(1<<m)-1>>>m}function pe(u,m){return((4278255360&u)+(4278255360&m)>>>0&4278255360)+((16711935&u)+(16711935&m)>>>0&16711935)>>>0}function Ce(u,m){E[m]=function(b,Q,V,z,q,X,Z){var ie;for(ie=0;ie<q;++ie){var he=E[u](X[Z+ie-1],V,z+ie);X[Z+ie]=pe(b[Q+ie],he)}}}function be(){this.ud=this.hd=this.jd=0}function Se(u,m){return((4278124286&(u^m))>>>1)+(u&m)>>>0}function Pe(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Qe(u,m){return Pe(u+(u-m+.5>>1))}function Ke(u,m,b){return Math.abs(m-b)-Math.abs(u-b)}function Me(u,m,b,Q,V,z,q){for(Q=z[q-1],b=0;b<V;++b)z[q+b]=Q=pe(u[m+b],Q)}function ze(u,m,b,Q,V){var z;for(z=0;z<b;++z){var q=u[m+z],X=q>>8&255,Z=16711935&(Z=(Z=16711935&q)+((X<<16)+X));Q[V+z]=(4278255360&q)+Z>>>0}}function ot(u,m){m.jd=u>>0&255,m.hd=u>>8&255,m.ud=u>>16&255}function At(u,m,b,Q,V,z){var q;for(q=0;q<Q;++q){var X=m[b+q],Z=X>>>8,ie=X,he=255&(he=(he=X>>>16)+((u.jd<<24>>24)*(Z<<24>>24)>>>5));ie=255&(ie=(ie=ie+((u.hd<<24>>24)*(Z<<24>>24)>>>5))+((u.ud<<24>>24)*(he<<24>>24)>>>5)),V[z+q]=(4278255360&X)+(he<<16)+ie}}function pt(u,m,b,Q,V){E[m]=function(z,q,X,Z,ie,he,Ee,_e,Be){for(Z=Ee;Z<_e;++Z)for(Ee=0;Ee<Be;++Ee)ie[he++]=V(X[Q(z[q++])])},E[u]=function(z,q,X,Z,ie,he,Ee){var _e=8>>z.b,Be=z.Ea,De=z.K[0],Te=z.w;if(8>_e)for(z=(1<<z.b)-1,Te=(1<<_e)-1;q<X;++q){var fe,me=0;for(fe=0;fe<Be;++fe)fe&z||(me=Q(Z[ie++])),he[Ee++]=V(De[me&Te]),me>>=_e}else E["VP8LMapColor"+b](Z,ie,De,Te,he,Ee,q,X,Be)}}function ce(u,m,b,Q,V){for(b=m+b;m<b;){var z=u[m++];Q[V++]=z>>16&255,Q[V++]=z>>8&255,Q[V++]=z>>0&255}}function Je(u,m,b,Q,V){for(b=m+b;m<b;){var z=u[m++];Q[V++]=z>>16&255,Q[V++]=z>>8&255,Q[V++]=z>>0&255,Q[V++]=z>>24&255}}function Xe(u,m,b,Q,V){for(b=m+b;m<b;){var z=(q=u[m++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;Q[V++]=z,Q[V++]=q}}function it(u,m,b,Q,V){for(b=m+b;m<b;){var z=(q=u[m++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;Q[V++]=z,Q[V++]=q}}function et(u,m,b,Q,V){for(b=m+b;m<b;){var z=u[m++];Q[V++]=z>>0&255,Q[V++]=z>>8&255,Q[V++]=z>>16&255}}function lt(u,m,b,Q,V,z){if(z==0)for(b=m+b;m<b;)Fe(Q,((z=u[m++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),V+=32;else n(Q,V,u,m,b)}function Pt(u,m){E[m][0]=E[u+"0"],E[m][1]=E[u+"1"],E[m][2]=E[u+"2"],E[m][3]=E[u+"3"],E[m][4]=E[u+"4"],E[m][5]=E[u+"5"],E[m][6]=E[u+"6"],E[m][7]=E[u+"7"],E[m][8]=E[u+"8"],E[m][9]=E[u+"9"],E[m][10]=E[u+"10"],E[m][11]=E[u+"11"],E[m][12]=E[u+"12"],E[m][13]=E[u+"13"],E[m][14]=E[u+"0"],E[m][15]=E[u+"0"]}function ct(u){return u==Fv||u==Tv||u==Cp||u==kv}function Lt(){this.eb=[],this.size=this.A=this.fb=0}function or(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lt,this.f.kb=new or,this.sd=null}function Ti(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Kt(u,m){var b=u.T,Q=m.ba.f.RGBA,V=Q.eb,z=Q.fb+u.ka*Q.A,q=is[m.ba.S],X=u.y,Z=u.O,ie=u.f,he=u.N,Ee=u.ea,_e=u.W,Be=m.cc,De=m.dc,Te=m.Mc,fe=m.Nc,me=u.ka,Le=u.ka+u.T,He=u.U,Re=He+1>>1;for(me==0?q(X,Z,null,null,ie,he,Ee,_e,ie,he,Ee,_e,V,z,null,null,He):(q(m.ec,m.fc,X,Z,Be,De,Te,fe,ie,he,Ee,_e,V,z-Q.A,V,z,He),++b);me+2<Le;me+=2)Be=ie,De=he,Te=Ee,fe=_e,he+=u.Rc,_e+=u.Rc,z+=2*Q.A,q(X,(Z+=2*u.fa)-u.fa,X,Z,Be,De,Te,fe,ie,he,Ee,_e,V,z-Q.A,V,z,He);return Z+=u.fa,u.j+Le<u.o?(n(m.ec,m.fc,X,Z,He),n(m.cc,m.dc,ie,he,Re),n(m.Mc,m.Nc,Ee,_e,Re),b--):1&Le||q(X,Z,null,null,ie,he,Ee,_e,ie,he,Ee,_e,V,z+Q.A,null,null,He),b}function Xi(u,m,b){var Q=u.F,V=[u.J];if(Q!=null){var z=u.U,q=m.ba.S,X=q==Bp||q==Cp;m=m.ba.f.RGBA;var Z=[0],ie=u.ka;Z[0]=u.T,u.Kb&&(ie==0?--Z[0]:(--ie,V[0]-=u.width),u.j+u.ka+u.T==u.o&&(Z[0]=u.o-u.j-ie));var he=m.eb;ie=m.fb+ie*m.A,u=pr(Q,V[0],u.width,z,Z,he,ie+(X?0:3),m.A),e(b==Z),u&&ct(q)&&rs(he,ie,X,z,Z,m.A)}return 0}function Jr(u){var m=u.ma,b=m.ba.S,Q=11>b,V=b==wp||b==yp||b==Bp||b==Sv||b==12||ct(b);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Fd(m.Oa,u,V?11:12))return 0;if(V&&ct(b)&&We(),u.da)alert("todo:use_scaling");else{if(Q){if(m.Ib=yt,u.Kb){if(b=u.U+1>>1,m.memory=s(u.U+2*b),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+u.U,m.Mc=m.cc,m.Nc=m.dc+b,m.Ib=Kt,We()}}else alert("todo:EmitYUV");V&&(m.Jb=Xi,Q&&we())}if(Q&&!lb){for(u=0;256>u;++u)VN[u]=89858*(u-128)+xp>>bp,WN[u]=-22014*(u-128)+xp,zN[u]=-45773*(u-128),KN[u]=113618*(u-128)+xp>>bp;for(u=Dd;u<Qv;++u)m=76283*(u-16)+xp>>bp,GN[u-Dd]=Xt(m,255),qN[u-Dd]=Xt(m+8>>4,15);lb=1}return 1}function Dn(u){var m=u.ma,b=u.U,Q=u.T;return e(!(1&u.ka)),0>=b||0>=Q?0:(b=m.Ib(u,m),m.Jb!=null&&m.Jb(u,m,b),m.Dc+=b,1)}function ki(u){u.ma.memory=null}function ht(u,m,b,Q){return G(u,8)!=47?0:(m[0]=G(u,14)+1,b[0]=G(u,14)+1,Q[0]=G(u,1),G(u,3)!=0?0:!u.h)}function hi(u,m){if(4>u)return u+1;var b=u-2>>1;return(2+(1&u)<<b)+G(m,b)+1}function On(u,m){return 120<m?m-120:1<=(b=((b=FN[m-1])>>4)*u+(8-(15&b)))?b:1;var b}function Xr(u,m,b){var Q=j(b),V=u[m+=255&Q].g-8;return 0<V&&(ee(b,b.u+8),Q=j(b),m+=u[m].value,m+=Q&(1<<V)-1),ee(b,b.u+u[m].g),u[m].value}function Or(u,m,b){return b.g+=u.g,b.value+=u.value<<m>>>0,e(8>=b.g),u.g}function Tr(u,m,b){var Q=u.xc;return e((m=Q==0?0:u.vc[u.md*(b>>Q)+(m>>Q)])<u.Wb),u.Ya[m]}function Yr(u,m,b,Q){var V=u.ab,z=u.c*m,q=u.C;m=q+m;var X=b,Z=Q;for(Q=u.Ta,b=u.Ua;0<V--;){var ie=u.gc[V],he=q,Ee=m,_e=X,Be=Z,De=(Z=Q,X=b,ie.Ea);switch(e(he<Ee),e(Ee<=ie.nc),ie.hc){case 2:dp(_e,Be,(Ee-he)*De,Z,X);break;case 0:var Te=he,fe=Ee,me=Z,Le=X,He=(st=ie).Ea;Te==0&&(_v(_e,Be,null,null,1,me,Le),Me(_e,Be+1,0,0,He-1,me,Le+1),Be+=He,Le+=He,++Te);for(var Re=1<<st.b,ut=Re-1,tt=ae(He,st.b),Bt=st.K,st=st.w+(Te>>st.b)*tt;Te<fe;){var $t=Bt,rr=st,zt=1;for(Ud(_e,Be,me,Le-He,1,me,Le);zt<He;){var Mt=(zt&~ut)+Re;Mt>He&&(Mt=He),(0,Yo[$t[rr++]>>8&15])(_e,Be+ +zt,me,Le+zt-He,Mt-zt,me,Le+zt),zt=Mt}Be+=He,Le+=He,++Te&ut||(st+=tt)}Ee!=ie.nc&&n(Z,X-De,Z,X+(Ee-he-1)*De,De);break;case 1:for(De=_e,fe=Be,He=(_e=ie.Ea)-(Le=_e&~(me=(Be=1<<ie.b)-1)),Te=ae(_e,ie.b),Re=ie.K,ie=ie.w+(he>>ie.b)*Te;he<Ee;){for(ut=Re,tt=ie,Bt=new be,st=fe+Le,$t=fe+_e;fe<st;)ot(ut[tt++],Bt),Bl(Bt,De,fe,Be,Z,X),fe+=Be,X+=Be;fe<$t&&(ot(ut[tt++],Bt),Bl(Bt,De,fe,He,Z,X),fe+=He,X+=He),++he&me||(ie+=Te)}break;case 3:if(_e==Z&&Be==X&&0<ie.b){for(fe=Z,_e=De=X+(Ee-he)*De-(Le=(Ee-he)*ae(ie.Ea,ie.b)),Be=Z,me=X,Te=[],Le=(He=Le)-1;0<=Le;--Le)Te[Le]=Be[me+Le];for(Le=He-1;0<=Le;--Le)fe[_e+Le]=Te[Le];Zi(ie,he,Ee,Z,De,Z,X)}else Zi(ie,he,Ee,_e,Be,Z,X)}X=Q,Z=b}Z!=b&&n(Q,b,X,Z,z)}function Qo(u,m){var b=u.V,Q=u.Ba+u.c*u.C,V=m-u.C;if(e(m<=u.l.o),e(16>=V),0<V){var z=u.l,q=u.Ta,X=u.Ua,Z=z.width;if(Yr(u,V,b,Q),V=X=[X],e((b=u.C)<(Q=m)),e(z.v<z.va),Q>z.o&&(Q=z.o),b<z.j){var ie=z.j-b;b=z.j,V[0]+=ie*Z}if(b>=Q?b=0:(V[0]+=4*z.v,z.ka=b-z.j,z.U=z.va-z.v,z.T=Q-b,b=1),b){if(X=X[0],11>(b=u.ca).S){var he=b.f.RGBA,Ee=(Q=b.S,V=z.U,z=z.T,ie=he.eb,he.A),_e=z;for(he=he.fb+u.Ma*he.A;0<_e--;){var Be=q,De=X,Te=V,fe=ie,me=he;switch(Q){case vp:mi(Be,De,Te,fe,me);break;case wp:si(Be,De,Te,fe,me);break;case Fv:si(Be,De,Te,fe,me),rs(fe,me,0,Te,1,0);break;case eb:qA(Be,De,Te,fe,me);break;case yp:lt(Be,De,Te,fe,me,1);break;case Tv:lt(Be,De,Te,fe,me,1),rs(fe,me,0,Te,1,0);break;case Bp:lt(Be,De,Te,fe,me,0);break;case Cp:lt(Be,De,Te,fe,me,0),rs(fe,me,1,Te,1,0);break;case Sv:Zo(Be,De,Te,fe,me);break;case kv:Zo(Be,De,Te,fe,me),fr(fe,me,Te,1,0);break;case tb:GA(Be,De,Te,fe,me);break;default:e(0)}X+=Z,he+=Ee}u.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=b.height)}}u.C=m,e(u.C<=u.i)}function Bs(u){var m;if(0<u.ua)return 0;for(m=0;m<u.Wb;++m){var b=u.Ya[m].G,Q=u.Ya[m].H;if(0<b[1][Q[1]+0].g||0<b[2][Q[2]+0].g||0<b[3][Q[3]+0].g)return 0}return 1}function Mn(u,m,b,Q,V,z){if(u.Z!=0){var q=u.qd,X=u.rd;for(e(na[u.Z]!=null);m<b;++m)na[u.Z](q,X,Q,V,Q,V,z),q=Q,X=V,V+=z;u.qd=q,u.rd=X}}function fi(u,m){var b=u.l.ma,Q=b.Z==0||b.Z==1?u.l.j:u.C;if(Q=u.C<Q?Q:u.C,e(m<=u.l.o),m>Q){var V=u.l.width,z=b.ca,q=b.tb+V*Q,X=u.V,Z=u.Ba+u.c*Q,ie=u.gc;e(u.ab==1),e(ie[0].hc==3),hp(ie[0],Q,m,X,Z,z,q),Mn(b,Q,m,z,q,V)}u.C=u.Ma=m}function ri(u,m,b,Q,V,z,q){var X=u.$/Q,Z=u.$%Q,ie=u.m,he=u.s,Ee=b+u.$,_e=Ee;V=b+Q*V;var Be=b+Q*z,De=280+he.ua,Te=u.Pb?X:16777216,fe=0<he.ua?he.Wa:null,me=he.wc,Le=Ee<Be?Tr(he,Z,X):null;e(u.C<z),e(Be<=V);var He=!1;e:for(;;){for(;He||Ee<Be;){var Re=0;if(X>=Te){var ut=Ee-b;e((Te=u).Pb),Te.wd=Te.m,Te.xd=ut,0<Te.s.ua&&xe(Te.s.Wa,Te.s.vb),Te=X+kN}if(Z&me||(Le=Tr(he,Z,X)),e(Le!=null),Le.Qb&&(m[Ee]=Le.qb,He=!0),!He)if(re(ie),Le.jc){Re=ie,ut=m;var tt=Ee,Bt=Le.pd[j(Re)&En-1];e(Le.jc),256>Bt.g?(ee(Re,Re.u+Bt.g),ut[tt]=Bt.value,Re=0):(ee(Re,Re.u+Bt.g-256),e(256<=Bt.value),Re=Bt.value),Re==0&&(He=!0)}else Re=Xr(Le.G[0],Le.H[0],ie);if(ie.h)break;if(He||256>Re){if(!He)if(Le.nd)m[Ee]=(Le.qb|Re<<8)>>>0;else{if(re(ie),He=Xr(Le.G[1],Le.H[1],ie),re(ie),ut=Xr(Le.G[2],Le.H[2],ie),tt=Xr(Le.G[3],Le.H[3],ie),ie.h)break;m[Ee]=(tt<<24|He<<16|Re<<8|ut)>>>0}if(He=!1,++Ee,++Z>=Q&&(Z=0,++X,q!=null&&X<=z&&!(X%16)&&q(u,X),fe!=null))for(;_e<Ee;)Re=m[_e++],fe.X[(506832829*Re&4294967295)>>>fe.Mb]=Re}else if(280>Re){if(Re=hi(Re-256,ie),ut=Xr(Le.G[4],Le.H[4],ie),re(ie),ut=On(Q,ut=hi(ut,ie)),ie.h)break;if(Ee-b<ut||V-Ee<Re)break e;for(tt=0;tt<Re;++tt)m[Ee+tt]=m[Ee+tt-ut];for(Ee+=Re,Z+=Re;Z>=Q;)Z-=Q,++X,q!=null&&X<=z&&!(X%16)&&q(u,X);if(e(Ee<=V),Z&me&&(Le=Tr(he,Z,X)),fe!=null)for(;_e<Ee;)Re=m[_e++],fe.X[(506832829*Re&4294967295)>>>fe.Mb]=Re}else{if(!(Re<De))break e;for(He=Re-280,e(fe!=null);_e<Ee;)Re=m[_e++],fe.X[(506832829*Re&4294967295)>>>fe.Mb]=Re;Re=Ee,e(!(He>>>(ut=fe).Xa)),m[Re]=ut.X[He],He=!0}He||e(ie.h==W(ie))}if(u.Pb&&ie.h&&Ee<V)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&xe(u.s.vb,u.s.Wa);else{if(ie.h)break e;q!=null&&q(u,X>z?z:X),u.a=0,u.$=Ee-b}return 1}return u.a=3,0}function ni(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var m=u.Wa;m!=null&&(m.X=null),u.vb=null,e(u!=null)}function Mr(){var u=new Uc;return u==null?null:(u.a=0,u.xb=ib,Pt("Predictor","VP8LPredictors"),Pt("Predictor","VP8LPredictors_C"),Pt("PredictorAdd","VP8LPredictorsAdd"),Pt("PredictorAdd","VP8LPredictorsAdd_C"),dp=ze,Bl=At,mi=ce,si=Je,Zo=Xe,GA=it,qA=et,E.VP8LMapColor32b=Rc,E.VP8LMapColor8b=fp,u)}function Ui(u,m,b,Q,V){var z=1,q=[u],X=[m],Z=Q.m,ie=Q.s,he=null,Ee=0;e:for(;;){if(b)for(;z&&G(Z,1);){var _e=q,Be=X,De=Q,Te=1,fe=De.m,me=De.gc[De.ab],Le=G(fe,2);if(De.Oc&1<<Le)z=0;else{switch(De.Oc|=1<<Le,me.hc=Le,me.Ea=_e[0],me.nc=Be[0],me.K=[null],++De.ab,e(4>=De.ab),Le){case 0:case 1:me.b=G(fe,3)+2,Te=Ui(ae(me.Ea,me.b),ae(me.nc,me.b),0,De,me.K),me.K=me.K[0];break;case 3:var He,Re=G(fe,8)+1,ut=16<Re?0:4<Re?1:2<Re?2:3;if(_e[0]=ae(me.Ea,ut),me.b=ut,He=Te=Ui(Re,1,0,De,me.K)){var tt,Bt=Re,st=me,$t=1<<(8>>st.b),rr=s($t);if(rr==null)He=0;else{var zt=st.K[0],Mt=st.w;for(rr[0]=st.K[0][0],tt=1;tt<1*Bt;++tt)rr[tt]=pe(zt[Mt+tt],rr[tt-1]);for(;tt<4*$t;++tt)rr[tt]=0;st.K[0]=null,st.K[0]=rr,He=1}}Te=He;break;case 2:break;default:e(0)}z=Te}}if(q=q[0],X=X[0],z&&G(Z,1)&&!(z=1<=(Ee=G(Z,4))&&11>=Ee)){Q.a=3;break e}var ur;if(ur=z)t:{var ar,Qt,Zr,vi=Q,en=q,wi=X,nr=Ee,Ri=b,Di=vi.m,pn=vi.s,_n=[null],oi=1,ss=0,aA=TN[nr];r:for(;;){if(Ri&&G(Di,1)){var gn=G(Di,3)+2,YA=ae(en,gn),_l=ae(wi,gn),Hc=YA*_l;if(!Ui(YA,_l,0,vi,_n))break r;for(_n=_n[0],pn.xc=gn,ar=0;ar<Hc;++ar){var ia=_n[ar]>>8&65535;_n[ar]=ia,ia>=oi&&(oi=ia+1)}}if(Di.h)break r;for(Qt=0;5>Qt;++Qt){var Ur=rb[Qt];!Qt&&0<nr&&(Ur+=1<<nr),ss<Ur&&(ss=Ur)}var Lv=A(oi*aA,F),db=oi,hb=A(db,Y);if(hb==null)var _p=null;else e(65536>=db),_p=hb;var Od=s(ss);if(_p==null||Od==null||Lv==null){vi.a=1;break r}var Ip=Lv;for(ar=Zr=0;ar<oi;++ar){var ks=_p[ar],Vc=ks.G,Kc=ks.H,fb=0,Sp=1,pb=0;for(Qt=0;5>Qt;++Qt){Ur=rb[Qt],Vc[Qt]=Ip,Kc[Qt]=Zr,!Qt&&0<nr&&(Ur+=1<<nr);i:{var Fp,Pv=Ur,Tp=vi,Md=Od,XN=Ip,YN=Zr,Rv=0,sa=Tp.m,ZN=G(sa,1);if(i(Md,0,0,Pv),ZN){var eQ=G(sa,1)+1,tQ=G(sa,1),gb=G(sa,tQ==0?1:8);Md[gb]=1,eQ==2&&(Md[gb=G(sa,8)]=1);var kp=1}else{var mb=s(19),vb=G(sa,4)+4;if(19<vb){Tp.a=3;var Up=0;break i}for(Fp=0;Fp<vb;++Fp)mb[SN[Fp]]=G(sa,3);var Dv=void 0,jd=void 0,wb=Tp,rQ=mb,Np=Pv,yb=Md,Ov=0,Aa=wb.m,Bb=8,Cb=A(128,F);n:for(;_(Cb,0,7,rQ,19);){if(G(Aa,1)){var nQ=2+2*G(Aa,3);if((Dv=2+G(Aa,nQ))>Np)break n}else Dv=Np;for(jd=0;jd<Np&&Dv--;){re(Aa);var bb=Cb[0+(127&j(Aa))];ee(Aa,Aa.u+bb.g);var zc=bb.value;if(16>zc)yb[jd++]=zc,zc!=0&&(Bb=zc);else{var iQ=zc==16,xb=zc-16,sQ=_N[xb],Eb=G(Aa,EN[xb])+sQ;if(jd+Eb>Np)break n;for(var AQ=iQ?Bb:0;0<Eb--;)yb[jd++]=AQ}}Ov=1;break n}Ov||(wb.a=3),kp=Ov}(kp=kp&&!sa.h)&&(Rv=_(XN,YN,8,Md,Pv)),kp&&Rv!=0?Up=Rv:(Tp.a=3,Up=0)}if(Up==0)break r;if(Sp&&IN[Qt]==1&&(Sp=Ip[Zr].g==0),fb+=Ip[Zr].g,Zr+=Up,3>=Qt){var Hd,Mv=Od[0];for(Hd=1;Hd<Ur;++Hd)Od[Hd]>Mv&&(Mv=Od[Hd]);pb+=Mv}}if(ks.nd=Sp,ks.Qb=0,Sp&&(ks.qb=(Vc[3][Kc[3]+0].value<<24|Vc[1][Kc[1]+0].value<<16|Vc[2][Kc[2]+0].value)>>>0,fb==0&&256>Vc[0][Kc[0]+0].value&&(ks.Qb=1,ks.qb+=Vc[0][Kc[0]+0].value<<8)),ks.jc=!ks.Qb&&6>pb,ks.jc){var Qp,ZA=ks;for(Qp=0;Qp<En;++Qp){var oa=Qp,aa=ZA.pd[oa],Lp=ZA.G[0][ZA.H[0]+oa];256<=Lp.value?(aa.g=Lp.g+256,aa.value=Lp.value):(aa.g=0,aa.value=0,oa>>=Or(Lp,8,aa),oa>>=Or(ZA.G[1][ZA.H[1]+oa],16,aa),oa>>=Or(ZA.G[2][ZA.H[2]+oa],0,aa),Or(ZA.G[3][ZA.H[3]+oa],24,aa))}}}pn.vc=_n,pn.Wb=oi,pn.Ya=_p,pn.yc=Lv,ur=1;break t}ur=0}if(!(z=ur)){Q.a=3;break e}if(0<Ee){if(ie.ua=1<<Ee,!je(ie.Wa,Ee)){Q.a=1,z=0;break e}}else ie.ua=0;var jv=Q,_b=q,oQ=X,Hv=jv.s,Vv=Hv.xc;if(jv.c=_b,jv.i=oQ,Hv.md=ae(_b,Vv),Hv.wc=Vv==0?-1:(1<<Vv)-1,b){Q.xb=DN;break e}if((he=s(q*X))==null){Q.a=1,z=0;break e}z=(z=ri(Q,he,0,q,X,X,null))&&!Z.h;break e}return z?(V!=null?V[0]=he:(e(he==null),e(b)),Q.$=0,b||ni(ie)):ni(ie),z}function Js(u,m){var b=u.c*u.i,Q=b+m+16*m;return e(u.c<=m),u.V=s(Q),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+b+m,1)}function Xs(u,m){var b=u.C,Q=m-b,V=u.V,z=u.Ba+u.c*b;for(e(m<=u.l.o);0<Q;){var q=16<Q?16:Q,X=u.l.ma,Z=u.l.width,ie=Z*q,he=X.ca,Ee=X.tb+Z*b,_e=u.Ta,Be=u.Ua;Yr(u,q,V,z),Hr(_e,Be,he,Ee,ie),Mn(X,b,b+q,he,Ee,Z),Q-=q,V+=q*u.c,b+=q}e(b==m),u.C=u.Ma=m}function Ys(){this.ub=this.yd=this.td=this.Rb=0}function PA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function RA(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Cc(){this.Yb=function(){var u=[];return function m(b,Q,V){for(var z=V[Q],q=0;q<z&&(b.push(V.length>Q+1?[]:0),!(V.length<Q+1));q++)m(b[q],Q+1,V)}(u,0,[3,11]),u}()}function Lo(){this.jb=s(3),this.Wc=a([4,8],Cc),this.Xc=a([4,17],Cc)}function bc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Zs(){this.ld=this.La=this.dd=this.tc=0}function eA(){this.Na=this.la=0}function Cs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function DA(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ed(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zs),this.Y=0,this.ya=Array(new DA),this.aa=0,this.l=new OA}function ol(){this.y=s(16),this.f=s(8),this.ea=s(8)}function xc(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new Ys,this.Kc=new PA,this.ed=new bc,this.Qa=new RA,this.Ic=this.$c=this.Aa=0,this.D=new Ed,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,ne),this.ia=0,this.pb=A(4,Cs),this.Pa=new Lo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ol),this.Hd=0,this.rb=Array(new eA),this.sb=0,this.wa=Array(new Zs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new DA),this.L=this.aa=0,this.gd=a([4,2],Zs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function OA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function al(){var u=new xc;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Rd||(Rd=Ec)),u}function vr(u,m,b){return u.a==0&&(u.a=m,u.sc=b,u.cb=0),0}function ll(u,m,b){return 3<=b&&u[m+0]==157&&u[m+1]==1&&u[m+2]==42}function cl(u,m){if(u==null)return 0;if(u.a=0,u.sc="OK",m==null)return vr(u,2,"null VP8Io passed to VP8GetHeaders()");var b=m.data,Q=m.w,V=m.ha;if(4>V)return vr(u,7,"Truncated header.");var z=b[Q+0]|b[Q+1]<<8|b[Q+2]<<16,q=u.Od;if(q.Rb=!(1&z),q.td=z>>1&7,q.yd=z>>4&1,q.ub=z>>5,3<q.td)return vr(u,3,"Incorrect keyframe parameters.");if(!q.yd)return vr(u,4,"Frame not displayable.");Q+=3,V-=3;var X=u.Kc;if(q.Rb){if(7>V)return vr(u,7,"cannot parse picture header");if(!ll(b,Q,V))return vr(u,3,"Bad code word");X.c=16383&(b[Q+4]<<8|b[Q+3]),X.Td=b[Q+4]>>6,X.i=16383&(b[Q+6]<<8|b[Q+5]),X.Ud=b[Q+6]>>6,Q+=7,V-=7,u.za=X.c+15>>4,u.Ub=X.i+15>>4,m.width=X.c,m.height=X.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((z=u.Pa).jb,0,255,z.jb.length),e((z=u.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(q.ub>V)return vr(u,7,"bad partition length");ue(z=u.m,b,Q,q.ub),Q+=q.ub,V-=q.ub,q.Rb&&(X.Ld=ge(z),X.Kd=ge(z)),X=u.Qa;var Z,ie=u.Pa;if(e(z!=null),e(X!=null),X.Cb=ge(z),X.Cb){if(X.Bb=ge(z),ge(z)){for(X.Fb=ge(z),Z=0;4>Z;++Z)X.Zb[Z]=ge(z)?K(z,7):0;for(Z=0;4>Z;++Z)X.Lb[Z]=ge(z)?K(z,6):0}if(X.Bb)for(Z=0;3>Z;++Z)ie.jb[Z]=ge(z)?te(z,8):255}else X.Bb=0;if(z.Ka)return vr(u,3,"cannot parse segment header");if((X=u.ed).zd=ge(z),X.Tb=te(z,6),X.wb=te(z,3),X.Pc=ge(z),X.Pc&&ge(z)){for(ie=0;4>ie;++ie)ge(z)&&(X.vd[ie]=K(z,6));for(ie=0;4>ie;++ie)ge(z)&&(X.od[ie]=K(z,6))}if(u.L=X.Tb==0?0:X.zd?1:2,z.Ka)return vr(u,3,"cannot parse filter header");var he=V;if(V=Z=Q,Q=Z+he,X=he,u.Xb=(1<<te(u.m,2))-1,he<3*(ie=u.Xb))b=7;else{for(Z+=3*ie,X-=3*ie,he=0;he<ie;++he){var Ee=b[V+0]|b[V+1]<<8|b[V+2]<<16;Ee>X&&(Ee=X),ue(u.Jc[+he],b,Z,Ee),Z+=Ee,X-=Ee,V+=3}ue(u.Jc[+ie],b,Z,X),b=Z<Q?0:5}if(b!=0)return vr(u,b,"cannot parse partitions");for(b=te(Z=u.m,7),V=ge(Z)?K(Z,4):0,Q=ge(Z)?K(Z,4):0,X=ge(Z)?K(Z,4):0,ie=ge(Z)?K(Z,4):0,Z=ge(Z)?K(Z,4):0,he=u.Qa,Ee=0;4>Ee;++Ee){if(he.Cb){var _e=he.Zb[Ee];he.Fb||(_e+=b)}else{if(0<Ee){u.pb[Ee]=u.pb[0];continue}_e=b}var Be=u.pb[Ee];Be.Sc[0]=Uv[Xt(_e+V,127)],Be.Sc[1]=Nv[Xt(_e+0,127)],Be.Eb[0]=2*Uv[Xt(_e+Q,127)],Be.Eb[1]=101581*Nv[Xt(_e+X,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=Uv[Xt(_e+ie,117)],Be.Qc[1]=Nv[Xt(_e+Z,127)],Be.lc=_e+Z}if(!q.Rb)return vr(u,4,"Not a key frame.");for(ge(z),q=u.Pa,b=0;4>b;++b){for(V=0;8>V;++V)for(Q=0;3>Q;++Q)for(X=0;11>X;++X)ie=ye(z,PN[b][V][Q][X])?te(z,8):QN[b][V][Q][X],q.Wc[b][V].Yb[Q][X]=ie;for(V=0;17>V;++V)q.Xc[b][V]=q.Wc[b][RN[V]]}return u.kc=ge(z),u.kc&&(u.Bd=te(z,8)),u.cb=1}function Ec(u,m,b,Q,V,z,q){var X=m[V].Yb[b];for(b=0;16>V;++V){if(!ye(u,X[b+0]))return V;for(;!ye(u,X[b+1]);)if(X=m[++V].Yb[0],b=0,V==16)return 16;var Z=m[V+1].Yb;if(ye(u,X[b+2])){var ie=u,he=0;if(ye(ie,(_e=X)[(Ee=b)+3]))if(ye(ie,_e[Ee+6])){for(X=0,Ee=2*(he=ye(ie,_e[Ee+8]))+(_e=ye(ie,_e[Ee+9+he])),he=0,_e=UN[Ee];_e[X];++X)he+=he+ye(ie,_e[X]);he+=3+(8<<Ee)}else ye(ie,_e[Ee+7])?(he=7+2*ye(ie,165),he+=ye(ie,145)):he=5+ye(ie,159);else he=ye(ie,_e[Ee+4])?3+ye(ie,_e[Ee+5]):2;X=Z[2]}else he=1,X=Z[1];Z=q+NN[V],0>(ie=u).b&&oe(ie);var Ee,_e=ie.b,Be=(Ee=ie.Ca>>1)-(ie.I>>_e)>>31;--ie.b,ie.Ca+=Be,ie.Ca|=1,ie.I-=(Ee+1&Be)<<_e,z[Z]=((he^Be)-Be)*Q[(0<V)+0]}return 16}function ul(u){var m=u.rb[u.sb-1];m.la=0,m.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function _c(u,m){if(u==null)return 0;if(m==null)return vr(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!cl(u,m))return 0;if(e(u.cb),m.ac==null||m.ac(m)){m.ob&&(u.L=0);var b=Ep[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=m.v-b>>4,u.zb=m.j-b>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=m.o+15+b>>4,u.Hb=m.va+15+b>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var Q=u.ed;for(b=0;4>b;++b){var V;if(u.Qa.Cb){var z=u.Qa.Lb[b];u.Qa.Fb||(z+=Q.Tb)}else z=Q.Tb;for(V=0;1>=V;++V){var q=u.gd[b][V],X=z;if(Q.Pc&&(X+=Q.vd[0],V&&(X+=Q.od[0])),0<(X=0>X?0:63<X?63:X)){var Z=X;0<Q.wb&&(Z=4<Q.wb?Z>>2:Z>>1)>9-Q.wb&&(Z=9-Q.wb),1>Z&&(Z=1),q.dd=Z,q.tc=2*X+Z,q.ld=40<=X?2:15<=X?1:0}else q.tc=0;q.La=V}}}b=0}else vr(u,6,"Frame setup failed"),b=u.a;if(b=b==0){if(b){u.$c=0,0<u.Aa||(u.Ic=JN);e:{b=u.Ic,Q=4*(Z=u.za);var ie=32*Z,he=Z+1,Ee=0<u.L?Z*(0<u.Aa?2:1):0,_e=(u.Aa==2?2:1)*Z;if((q=Q+832+(V=3*(16*b+Ep[u.L])/2*ie)+(z=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=q)b=0;else{if(q>u.Vb){if(u.Vb=0,u.Ec=s(q),u.Fc=0,u.Ec==null){b=vr(u,1,"no memory during frame initialization.");break e}u.Vb=q}q=u.Ec,X=u.Fc,u.Ac=q,u.Bc=X,X+=Q,u.Gd=A(ie,ol),u.Hd=0,u.rb=A(he+1,eA),u.sb=1,u.wa=Ee?A(Ee,Zs):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=Z),e(!0),u.oc=q,u.pc=X,X+=832,u.ya=A(_e,DA),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=Z),u.R=16*Z,u.B=8*Z,Z=(ie=Ep[u.L])*u.R,ie=ie/2*u.B,u.sa=q,u.ta=X+Z,u.qa=u.sa,u.ra=u.ta+16*b*u.R+ie,u.Ha=u.qa,u.Ia=u.ra+8*b*u.B+ie,u.$c=0,X+=V,u.mb=z?q:null,u.nb=z?X:null,e(X+z<=u.Fc+u.Vb),ul(u),i(u.Ac,u.Bc,0,Q),b=1}}if(b){if(m.ka=0,m.y=u.sa,m.O=u.ta,m.f=u.qa,m.N=u.ra,m.ea=u.Ha,m.Vd=u.Ia,m.fa=u.R,m.Rc=u.B,m.F=null,m.J=0,!gp){for(b=-255;255>=b;++b)on[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)JA[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)Pd[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)jc[255+b]=0>b?0:255<b?255:b;gp=1}Dc=HA,$A=Ro,Nd=dl,Ai=tr,es=jA,jr=MA,Oc=Ko,pp=Is,Qd=Wo,Cl=yl,bl=zo,ea=KA,xl=Go,Mc=iA,El=VA,ta=Li,Ld=An,ts=kc,Ts[0]=Yi,Ts[1]=_d,Ts[2]=rA,Ts[3]=Sd,Ts[4]=Fc,Ts[5]=Mo,Ts[6]=Ni,Ts[7]=fl,Ts[8]=Ho,Ts[9]=jo,ra[0]=tA,ra[1]=Id,ra[2]=xs,ra[3]=Do,ra[4]=wr,ra[5]=Sc,ra[6]=hl,XA[0]=_s,XA[1]=Ic,XA[2]=Tc,XA[3]=Es,XA[4]=Jt,XA[5]=pl,XA[6]=gl,b=1}else b=0}b&&(b=function(Be,De){for(Be.M=0;Be.M<Be.Va;++Be.M){var Te,fe=Be.Jc[Be.M&Be.Xb],me=Be.m,Le=Be;for(Te=0;Te<Le.za;++Te){var He=me,Re=Le,ut=Re.Ac,tt=Re.Bc+4*Te,Bt=Re.zc,st=Re.ya[Re.aa+Te];if(Re.Qa.Bb?st.$b=ye(He,Re.Pa.jb[0])?2+ye(He,Re.Pa.jb[2]):ye(He,Re.Pa.jb[1]):st.$b=0,Re.kc&&(st.Ad=ye(He,Re.Bd)),st.Za=!ye(He,145)+0,st.Za){var $t=st.Ob,rr=0;for(Re=0;4>Re;++Re){var zt,Mt=Bt[0+Re];for(zt=0;4>zt;++zt){Mt=LN[ut[tt+zt]][Mt];for(var ur=nb[ye(He,Mt[0])];0<ur;)ur=nb[2*ur+ye(He,Mt[ur])];Mt=-ur,ut[tt+zt]=Mt}n($t,rr,ut,tt,4),rr+=4,Bt[0+Re]=Mt}}else Mt=ye(He,156)?ye(He,128)?1:3:ye(He,163)?2:0,st.Ob[0]=Mt,i(ut,tt,Mt,4),i(Bt,0,Mt,4);st.Dd=ye(He,142)?ye(He,114)?ye(He,183)?1:3:2:0}if(Le.m.Ka)return vr(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(Le=fe,He=(me=Be).rb[me.sb-1],ut=me.rb[me.sb+me.ja],Te=me.ya[me.aa+me.ja],tt=me.kc?Te.Ad:0)He.la=ut.la=0,Te.Za||(He.Na=ut.Na=0),Te.Hc=0,Te.Gc=0,Te.ia=0;else{var ar,Qt;if(He=ut,ut=Le,tt=me.Pa.Xc,Bt=me.ya[me.aa+me.ja],st=me.pb[Bt.$b],Re=Bt.ad,$t=0,rr=me.rb[me.sb-1],Mt=zt=0,i(Re,$t,0,384),Bt.Za)var Zr=0,vi=tt[3];else{ur=s(16);var en=He.Na+rr.Na;if(en=Rd(ut,tt[1],en,st.Eb,0,ur,0),He.Na=rr.Na=(0<en)+0,1<en)Dc(ur,0,Re,$t);else{var wi=ur[0]+3>>3;for(ur=0;256>ur;ur+=16)Re[$t+ur]=wi}Zr=1,vi=tt[0]}var nr=15&He.la,Ri=15&rr.la;for(ur=0;4>ur;++ur){var Di=1&Ri;for(wi=Qt=0;4>wi;++wi)nr=nr>>1|(Di=(en=Rd(ut,vi,en=Di+(1&nr),st.Sc,Zr,Re,$t))>Zr)<<7,Qt=Qt<<2|(3<en?3:1<en?2:Re[$t+0]!=0),$t+=16;nr>>=4,Ri=Ri>>1|Di<<7,zt=(zt<<8|Qt)>>>0}for(vi=nr,Zr=Ri>>4,ar=0;4>ar;ar+=2){for(Qt=0,nr=He.la>>4+ar,Ri=rr.la>>4+ar,ur=0;2>ur;++ur){for(Di=1&Ri,wi=0;2>wi;++wi)en=Di+(1&nr),nr=nr>>1|(Di=0<(en=Rd(ut,tt[2],en,st.Qc,0,Re,$t)))<<3,Qt=Qt<<2|(3<en?3:1<en?2:Re[$t+0]!=0),$t+=16;nr>>=2,Ri=Ri>>1|Di<<5}Mt|=Qt<<4*ar,vi|=nr<<4<<ar,Zr|=(240&Ri)<<ar}He.la=vi,rr.la=Zr,Bt.Hc=zt,Bt.Gc=Mt,Bt.ia=43690&Mt?0:st.ia,tt=!(zt|Mt)}if(0<me.L&&(me.wa[me.Y+me.ja]=me.gd[Te.$b][Te.Za],me.wa[me.Y+me.ja].La|=!tt),Le.Ka)return vr(Be,7,"Premature end-of-file encountered.")}if(ul(Be),me=De,Le=1,Te=(fe=Be).D,He=0<fe.L&&fe.M>=fe.zb&&fe.M<=fe.Va,fe.Aa==0)e:{if(Te.M=fe.M,Te.uc=He,AA(fe,Te),Le=1,Te=(Qt=fe.D).Nb,He=(Mt=Ep[fe.L])*fe.R,ut=Mt/2*fe.B,ur=16*Te*fe.R,wi=8*Te*fe.B,tt=fe.sa,Bt=fe.ta-He+ur,st=fe.qa,Re=fe.ra-ut+wi,$t=fe.Ha,rr=fe.Ia-ut+wi,Ri=(nr=Qt.M)==0,zt=nr>=fe.Va-1,fe.Aa==2&&AA(fe,Qt),Qt.uc)for(Di=(en=fe).D.M,e(en.D.uc),Qt=en.yb;Qt<en.Hb;++Qt){Zr=Qt,vi=Di;var pn=(_n=(Ur=en).D).Nb;ar=Ur.R;var _n=_n.wa[_n.Y+Zr],oi=Ur.sa,ss=Ur.ta+16*pn*ar+16*Zr,aA=_n.dd,gn=_n.tc;if(gn!=0)if(e(3<=gn),Ur.L==1)0<Zr&&ta(oi,ss,ar,gn+4),_n.La&&ts(oi,ss,ar,gn),0<vi&&El(oi,ss,ar,gn+4),_n.La&&Ld(oi,ss,ar,gn);else{var YA=Ur.B,_l=Ur.qa,Hc=Ur.ra+8*pn*YA+8*Zr,ia=Ur.Ha,Ur=Ur.Ia+8*pn*YA+8*Zr;pn=_n.ld,0<Zr&&(pp(oi,ss,ar,gn+4,aA,pn),Cl(_l,Hc,ia,Ur,YA,gn+4,aA,pn)),_n.La&&(ea(oi,ss,ar,gn,aA,pn),Mc(_l,Hc,ia,Ur,YA,gn,aA,pn)),0<vi&&(Oc(oi,ss,ar,gn+4,aA,pn),Qd(_l,Hc,ia,Ur,YA,gn+4,aA,pn)),_n.La&&(bl(oi,ss,ar,gn,aA,pn),xl(_l,Hc,ia,Ur,YA,gn,aA,pn))}}if(fe.ia&&alert("todo:DitherRow"),me.put!=null){if(Qt=16*nr,nr=16*(nr+1),Ri?(me.y=fe.sa,me.O=fe.ta+ur,me.f=fe.qa,me.N=fe.ra+wi,me.ea=fe.Ha,me.W=fe.Ia+wi):(Qt-=Mt,me.y=tt,me.O=Bt,me.f=st,me.N=Re,me.ea=$t,me.W=rr),zt||(nr-=Mt),nr>me.o&&(nr=me.o),me.F=null,me.J=null,fe.Fa!=null&&0<fe.Fa.length&&Qt<nr&&(me.J=Xo(fe,me,Qt,nr-Qt),me.F=fe.mb,me.F==null&&me.F.length==0)){Le=vr(fe,3,"Could not decode alpha data.");break e}Qt<me.j&&(Mt=me.j-Qt,Qt=me.j,e(!(1&Mt)),me.O+=fe.R*Mt,me.N+=fe.B*(Mt>>1),me.W+=fe.B*(Mt>>1),me.F!=null&&(me.J+=me.width*Mt)),Qt<nr&&(me.O+=me.v,me.N+=me.v>>1,me.W+=me.v>>1,me.F!=null&&(me.J+=me.v),me.ka=Qt-me.j,me.U=me.va-me.v,me.T=nr-Qt,Le=me.put(me))}Te+1!=fe.Ic||zt||(n(fe.sa,fe.ta-He,tt,Bt+16*fe.R,He),n(fe.qa,fe.ra-ut,st,Re+8*fe.B,ut),n(fe.Ha,fe.Ia-ut,$t,rr+8*fe.B,ut))}if(!Le)return vr(Be,6,"Output aborted.")}return 1}(u,m)),m.bc!=null&&m.bc(m),b&=1}return b?(u.cb=0,b):0}function pi(u,m,b,Q,V){V=u[m+b+32*Q]+(V>>3),u[m+b+32*Q]=-256&V?0>V?0:255:V}function Po(u,m,b,Q,V,z){pi(u,m,0,b,Q+V),pi(u,m,1,b,Q+z),pi(u,m,2,b,Q-z),pi(u,m,3,b,Q-V)}function kr(u){return(20091*u>>16)+u}function ii(u,m,b,Q){var V,z=0,q=s(16);for(V=0;4>V;++V){var X=u[m+0]+u[m+8],Z=u[m+0]-u[m+8],ie=(35468*u[m+4]>>16)-kr(u[m+12]),he=kr(u[m+4])+(35468*u[m+12]>>16);q[z+0]=X+he,q[z+1]=Z+ie,q[z+2]=Z-ie,q[z+3]=X-he,z+=4,m++}for(V=z=0;4>V;++V)X=(u=q[z+0]+4)+q[z+8],Z=u-q[z+8],ie=(35468*q[z+4]>>16)-kr(q[z+12]),pi(b,Q,0,0,X+(he=kr(q[z+4])+(35468*q[z+12]>>16))),pi(b,Q,1,0,Z+ie),pi(b,Q,2,0,Z-ie),pi(b,Q,3,0,X-he),z++,Q+=32}function MA(u,m,b,Q){var V=u[m+0]+4,z=35468*u[m+4]>>16,q=kr(u[m+4]),X=35468*u[m+1]>>16;Po(b,Q,0,V+q,u=kr(u[m+1]),X),Po(b,Q,1,V+z,u,X),Po(b,Q,2,V-z,u,X),Po(b,Q,3,V-q,u,X)}function Ro(u,m,b,Q,V){ii(u,m,b,Q),V&&ii(u,m+16,b,Q+4)}function dl(u,m,b,Q){$A(u,m+0,b,Q,1),$A(u,m+32,b,Q+128,1)}function tr(u,m,b,Q){var V;for(u=u[m+0]+4,V=0;4>V;++V)for(m=0;4>m;++m)pi(b,Q,m,V,u)}function jA(u,m,b,Q){u[m+0]&&Ai(u,m+0,b,Q),u[m+16]&&Ai(u,m+16,b,Q+4),u[m+32]&&Ai(u,m+32,b,Q+128),u[m+48]&&Ai(u,m+48,b,Q+128+4)}function HA(u,m,b,Q){var V,z=s(16);for(V=0;4>V;++V){var q=u[m+0+V]+u[m+12+V],X=u[m+4+V]+u[m+8+V],Z=u[m+4+V]-u[m+8+V],ie=u[m+0+V]-u[m+12+V];z[0+V]=q+X,z[8+V]=q-X,z[4+V]=ie+Z,z[12+V]=ie-Z}for(V=0;4>V;++V)q=(u=z[0+4*V]+3)+z[3+4*V],X=z[1+4*V]+z[2+4*V],Z=z[1+4*V]-z[2+4*V],ie=u-z[3+4*V],b[Q+0]=q+X>>3,b[Q+16]=ie+Z>>3,b[Q+32]=q-X>>3,b[Q+48]=ie-Z>>3,Q+=64}function bs(u,m,b){var Q,V=m-32,z=Pi,q=255-u[V-1];for(Q=0;Q<b;++Q){var X,Z=z,ie=q+u[m-1];for(X=0;X<b;++X)u[m+X]=Z[ie+u[V+X]];m+=32}}function _d(u,m){bs(u,m,4)}function Ic(u,m){bs(u,m,8)}function Id(u,m){bs(u,m,16)}function xs(u,m){var b;for(b=0;16>b;++b)n(u,m+32*b,u,m-32,16)}function Do(u,m){var b;for(b=16;0<b;--b)i(u,m,u[m-1],16),m+=32}function Oo(u,m,b){var Q;for(Q=0;16>Q;++Q)i(m,b+32*Q,u,16)}function tA(u,m){var b,Q=16;for(b=0;16>b;++b)Q+=u[m-1+32*b]+u[m+b-32];Oo(Q>>5,u,m)}function wr(u,m){var b,Q=8;for(b=0;16>b;++b)Q+=u[m-1+32*b];Oo(Q>>4,u,m)}function Sc(u,m){var b,Q=8;for(b=0;16>b;++b)Q+=u[m+b-32];Oo(Q>>4,u,m)}function hl(u,m){Oo(128,u,m)}function Et(u,m,b){return u+2*m+b+2>>2}function rA(u,m){var b,Q=m-32;for(Q=new Uint8Array([Et(u[Q-1],u[Q+0],u[Q+1]),Et(u[Q+0],u[Q+1],u[Q+2]),Et(u[Q+1],u[Q+2],u[Q+3]),Et(u[Q+2],u[Q+3],u[Q+4])]),b=0;4>b;++b)n(u,m+32*b,Q,0,Q.length)}function Sd(u,m){var b=u[m-1],Q=u[m-1+32],V=u[m-1+64],z=u[m-1+96];Fe(u,m+0,16843009*Et(u[m-1-32],b,Q)),Fe(u,m+32,16843009*Et(b,Q,V)),Fe(u,m+64,16843009*Et(Q,V,z)),Fe(u,m+96,16843009*Et(V,z,z))}function Yi(u,m){var b,Q=4;for(b=0;4>b;++b)Q+=u[m+b-32]+u[m-1+32*b];for(Q>>=3,b=0;4>b;++b)i(u,m+32*b,Q,4)}function Fc(u,m){var b=u[m-1+0],Q=u[m-1+32],V=u[m-1+64],z=u[m-1-32],q=u[m+0-32],X=u[m+1-32],Z=u[m+2-32],ie=u[m+3-32];u[m+0+96]=Et(Q,V,u[m-1+96]),u[m+1+96]=u[m+0+64]=Et(b,Q,V),u[m+2+96]=u[m+1+64]=u[m+0+32]=Et(z,b,Q),u[m+3+96]=u[m+2+64]=u[m+1+32]=u[m+0+0]=Et(q,z,b),u[m+3+64]=u[m+2+32]=u[m+1+0]=Et(X,q,z),u[m+3+32]=u[m+2+0]=Et(Z,X,q),u[m+3+0]=Et(ie,Z,X)}function Ni(u,m){var b=u[m+1-32],Q=u[m+2-32],V=u[m+3-32],z=u[m+4-32],q=u[m+5-32],X=u[m+6-32],Z=u[m+7-32];u[m+0+0]=Et(u[m+0-32],b,Q),u[m+1+0]=u[m+0+32]=Et(b,Q,V),u[m+2+0]=u[m+1+32]=u[m+0+64]=Et(Q,V,z),u[m+3+0]=u[m+2+32]=u[m+1+64]=u[m+0+96]=Et(V,z,q),u[m+3+32]=u[m+2+64]=u[m+1+96]=Et(z,q,X),u[m+3+64]=u[m+2+96]=Et(q,X,Z),u[m+3+96]=Et(X,Z,Z)}function Mo(u,m){var b=u[m-1+0],Q=u[m-1+32],V=u[m-1+64],z=u[m-1-32],q=u[m+0-32],X=u[m+1-32],Z=u[m+2-32],ie=u[m+3-32];u[m+0+0]=u[m+1+64]=z+q+1>>1,u[m+1+0]=u[m+2+64]=q+X+1>>1,u[m+2+0]=u[m+3+64]=X+Z+1>>1,u[m+3+0]=Z+ie+1>>1,u[m+0+96]=Et(V,Q,b),u[m+0+64]=Et(Q,b,z),u[m+0+32]=u[m+1+96]=Et(b,z,q),u[m+1+32]=u[m+2+96]=Et(z,q,X),u[m+2+32]=u[m+3+96]=Et(q,X,Z),u[m+3+32]=Et(X,Z,ie)}function fl(u,m){var b=u[m+0-32],Q=u[m+1-32],V=u[m+2-32],z=u[m+3-32],q=u[m+4-32],X=u[m+5-32],Z=u[m+6-32],ie=u[m+7-32];u[m+0+0]=b+Q+1>>1,u[m+1+0]=u[m+0+64]=Q+V+1>>1,u[m+2+0]=u[m+1+64]=V+z+1>>1,u[m+3+0]=u[m+2+64]=z+q+1>>1,u[m+0+32]=Et(b,Q,V),u[m+1+32]=u[m+0+96]=Et(Q,V,z),u[m+2+32]=u[m+1+96]=Et(V,z,q),u[m+3+32]=u[m+2+96]=Et(z,q,X),u[m+3+64]=Et(q,X,Z),u[m+3+96]=Et(X,Z,ie)}function jo(u,m){var b=u[m-1+0],Q=u[m-1+32],V=u[m-1+64],z=u[m-1+96];u[m+0+0]=b+Q+1>>1,u[m+2+0]=u[m+0+32]=Q+V+1>>1,u[m+2+32]=u[m+0+64]=V+z+1>>1,u[m+1+0]=Et(b,Q,V),u[m+3+0]=u[m+1+32]=Et(Q,V,z),u[m+3+32]=u[m+1+64]=Et(V,z,z),u[m+3+64]=u[m+2+64]=u[m+0+96]=u[m+1+96]=u[m+2+96]=u[m+3+96]=z}function Ho(u,m){var b=u[m-1+0],Q=u[m-1+32],V=u[m-1+64],z=u[m-1+96],q=u[m-1-32],X=u[m+0-32],Z=u[m+1-32],ie=u[m+2-32];u[m+0+0]=u[m+2+32]=b+q+1>>1,u[m+0+32]=u[m+2+64]=Q+b+1>>1,u[m+0+64]=u[m+2+96]=V+Q+1>>1,u[m+0+96]=z+V+1>>1,u[m+3+0]=Et(X,Z,ie),u[m+2+0]=Et(q,X,Z),u[m+1+0]=u[m+3+32]=Et(b,q,X),u[m+1+32]=u[m+3+64]=Et(Q,b,q),u[m+1+64]=u[m+3+96]=Et(V,Q,b),u[m+1+96]=Et(z,V,Q)}function Tc(u,m){var b;for(b=0;8>b;++b)n(u,m+32*b,u,m-32,8)}function Es(u,m){var b;for(b=0;8>b;++b)i(u,m,u[m-1],8),m+=32}function Qi(u,m,b){var Q;for(Q=0;8>Q;++Q)i(m,b+32*Q,u,8)}function _s(u,m){var b,Q=8;for(b=0;8>b;++b)Q+=u[m+b-32]+u[m-1+32*b];Qi(Q>>4,u,m)}function pl(u,m){var b,Q=4;for(b=0;8>b;++b)Q+=u[m+b-32];Qi(Q>>3,u,m)}function Jt(u,m){var b,Q=4;for(b=0;8>b;++b)Q+=u[m-1+32*b];Qi(Q>>3,u,m)}function gl(u,m){Qi(128,u,m)}function Vo(u,m,b){var Q=u[m-b],V=u[m+0],z=3*(V-Q)+Iv[1020+u[m-2*b]-u[m+b]],q=mp[112+(z+4>>3)];u[m-b]=Pi[255+Q+mp[112+(z+3>>3)]],u[m+0]=Pi[255+V-q]}function ml(u,m,b,Q){var V=u[m+0],z=u[m+b];return ns[255+u[m-2*b]-u[m-b]]>Q||ns[255+z-V]>Q}function vl(u,m,b,Q){return 4*ns[255+u[m-b]-u[m+0]]+ns[255+u[m-2*b]-u[m+b]]<=Q}function wl(u,m,b,Q,V){var z=u[m-3*b],q=u[m-2*b],X=u[m-b],Z=u[m+0],ie=u[m+b],he=u[m+2*b],Ee=u[m+3*b];return 4*ns[255+X-Z]+ns[255+q-ie]>Q?0:ns[255+u[m-4*b]-z]<=V&&ns[255+z-q]<=V&&ns[255+q-X]<=V&&ns[255+Ee-he]<=V&&ns[255+he-ie]<=V&&ns[255+ie-Z]<=V}function VA(u,m,b,Q){var V=2*Q+1;for(Q=0;16>Q;++Q)vl(u,m+Q,b,V)&&Vo(u,m+Q,b)}function Li(u,m,b,Q){var V=2*Q+1;for(Q=0;16>Q;++Q)vl(u,m+Q*b,1,V)&&Vo(u,m+Q*b,1)}function An(u,m,b,Q){var V;for(V=3;0<V;--V)VA(u,m+=4*b,b,Q)}function kc(u,m,b,Q){var V;for(V=3;0<V;--V)Li(u,m+=4,b,Q)}function nA(u,m,b,Q,V,z,q,X){for(z=2*z+1;0<V--;){if(wl(u,m,b,z,q))if(ml(u,m,b,X))Vo(u,m,b);else{var Z=u,ie=m,he=b,Ee=Z[ie-2*he],_e=Z[ie-he],Be=Z[ie+0],De=Z[ie+he],Te=Z[ie+2*he],fe=27*(Le=Iv[1020+3*(Be-_e)+Iv[1020+Ee-De]])+63>>7,me=18*Le+63>>7,Le=9*Le+63>>7;Z[ie-3*he]=Pi[255+Z[ie-3*he]+Le],Z[ie-2*he]=Pi[255+Ee+me],Z[ie-he]=Pi[255+_e+fe],Z[ie+0]=Pi[255+Be-fe],Z[ie+he]=Pi[255+De-me],Z[ie+2*he]=Pi[255+Te-Le]}m+=Q}}function bn(u,m,b,Q,V,z,q,X){for(z=2*z+1;0<V--;){if(wl(u,m,b,z,q))if(ml(u,m,b,X))Vo(u,m,b);else{var Z=u,ie=m,he=b,Ee=Z[ie-he],_e=Z[ie+0],Be=Z[ie+he],De=mp[112+((Te=3*(_e-Ee))+4>>3)],Te=mp[112+(Te+3>>3)],fe=De+1>>1;Z[ie-2*he]=Pi[255+Z[ie-2*he]+fe],Z[ie-he]=Pi[255+Ee+Te],Z[ie+0]=Pi[255+_e-De],Z[ie+he]=Pi[255+Be-fe]}m+=Q}}function Ko(u,m,b,Q,V,z){nA(u,m,b,1,16,Q,V,z)}function Is(u,m,b,Q,V,z){nA(u,m,1,b,16,Q,V,z)}function zo(u,m,b,Q,V,z){var q;for(q=3;0<q;--q)bn(u,m+=4*b,b,1,16,Q,V,z)}function KA(u,m,b,Q,V,z){var q;for(q=3;0<q;--q)bn(u,m+=4,1,b,16,Q,V,z)}function Wo(u,m,b,Q,V,z,q,X){nA(u,m,V,1,8,z,q,X),nA(b,Q,V,1,8,z,q,X)}function yl(u,m,b,Q,V,z,q,X){nA(u,m,1,V,8,z,q,X),nA(b,Q,1,V,8,z,q,X)}function Go(u,m,b,Q,V,z,q,X){bn(u,m+4*V,V,1,8,z,q,X),bn(b,Q+4*V,V,1,8,z,q,X)}function iA(u,m,b,Q,V,z,q,X){bn(u,m+4,1,V,8,z,q,X),bn(b,Q+4,1,V,8,z,q,X)}function zA(){this.ba=new er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function WA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $o(){this.ua=0,this.Wa=new Ae,this.vb=new Ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new F}function Uc(){this.xb=this.a=0,this.l=new OA,this.ca=new er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $o,this.ab=0,this.gc=A(4,WA),this.Oc=0}function Ss(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new OA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sA(u,m,b,Q,V,z,q){for(u=u==null?0:u[m+0],m=0;m<q;++m)V[z+m]=u+b[Q+m]&255,u=V[z+m]}function Jo(u,m,b,Q,V,z,q){var X;if(u==null)sA(null,null,b,Q,V,z,q);else for(X=0;X<q;++X)V[z+X]=u[m+X]+b[Q+X]&255}function jn(u,m,b,Q,V,z,q){if(u==null)sA(null,null,b,Q,V,z,q);else{var X,Z=u[m+0],ie=Z,he=Z;for(X=0;X<q;++X)ie=he+(Z=u[m+X])-ie,he=b[Q+X]+(-256&ie?0>ie?0:255:ie)&255,ie=Z,V[z+X]=he}}function Xo(u,m,b,Q){var V=m.width,z=m.o;if(e(u!=null&&m!=null),0>b||0>=Q||b+Q>z)return null;if(!u.Cc){if(u.ga==null){var q;if(u.ga=new Ss,(q=u.ga==null)||(q=m.width*m.o,e(u.Gb.length==0),u.Gb=s(q),u.Uc=0,u.Gb==null?q=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,q=1),q=!q),!q){q=u.ga;var X=u.Fa,Z=u.P,ie=u.qc,he=u.mb,Ee=u.nb,_e=Z+1,Be=ie-1,De=q.l;if(e(X!=null&&he!=null&&m!=null),na[0]=null,na[1]=sA,na[2]=Jo,na[3]=jn,q.ca=he,q.tb=Ee,q.c=m.width,q.i=m.height,e(0<q.c&&0<q.i),1>=ie)m=0;else if(q.$a=X[Z+0]>>0&3,q.Z=X[Z+0]>>2&3,q.Lc=X[Z+0]>>4&3,Z=X[Z+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||Z)m=0;else if(De.put=Dn,De.ac=Jr,De.bc=ki,De.ma=q,De.width=m.width,De.height=m.height,De.Da=m.Da,De.v=m.v,De.va=m.va,De.j=m.j,De.o=m.o,q.$a)e:{e(q.$a==1),m=Mr();t:for(;;){if(m==null){m=0;break e}if(e(q!=null),q.mc=m,m.c=q.c,m.i=q.i,m.l=q.l,m.l.ma=q,m.l.width=q.c,m.l.height=q.i,m.a=0,$(m.m,X,_e,Be),!Ui(q.c,q.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Bs(m.s)?(q.ic=1,X=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(X),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(q.ic=0,m=Js(m,q.c)),!m))break t;m=1;break e}q.mc=null,m=0}else m=Be>=q.c*q.i;q=!m}if(q)return null;u.ga.Lc!=1?u.Ga=0:Q=z-b}e(u.ga!=null),e(b+Q<=z);e:{if(m=(X=u.ga).c,z=X.l.o,X.$a==0){if(_e=u.rc,Be=u.Vc,De=u.Fa,Z=u.P+1+b*m,ie=u.mb,he=u.nb+b*m,e(Z<=u.P+u.qc),X.Z!=0)for(e(na[X.Z]!=null),q=0;q<Q;++q)na[X.Z](_e,Be,De,Z,ie,he,m),_e=ie,Be=he,he+=m,Z+=m;else for(q=0;q<Q;++q)n(ie,he,De,Z,m),_e=ie,Be=he,he+=m,Z+=m;u.rc=_e,u.Vc=Be}else{if(e(X.mc!=null),m=b+Q,e((q=X.mc)!=null),e(m<=q.i),q.C>=m)m=1;else if(X.ic||we(),X.ic){X=q.V,_e=q.Ba,Be=q.c;var Te=q.i,fe=(De=1,Z=q.$/Be,ie=q.$%Be,he=q.m,Ee=q.s,q.$),me=Be*Te,Le=Be*m,He=Ee.wc,Re=fe<Le?Tr(Ee,ie,Z):null;e(fe<=me),e(m<=Te),e(Bs(Ee));t:for(;;){for(;!he.h&&fe<Le;){if(ie&He||(Re=Tr(Ee,ie,Z)),e(Re!=null),re(he),256>(Te=Xr(Re.G[0],Re.H[0],he)))X[_e+fe]=Te,++fe,++ie>=Be&&(ie=0,++Z<=m&&!(Z%16)&&fi(q,Z));else{if(!(280>Te)){De=0;break t}Te=hi(Te-256,he);var ut,tt=Xr(Re.G[4],Re.H[4],he);if(re(he),!(fe>=(tt=On(Be,tt=hi(tt,he)))&&me-fe>=Te)){De=0;break t}for(ut=0;ut<Te;++ut)X[_e+fe+ut]=X[_e+fe+ut-tt];for(fe+=Te,ie+=Te;ie>=Be;)ie-=Be,++Z<=m&&!(Z%16)&&fi(q,Z);fe<Le&&ie&He&&(Re=Tr(Ee,ie,Z))}e(he.h==W(he))}fi(q,Z>m?m:Z);break t}!De||he.h&&fe<me?(De=0,q.a=he.h?5:3):q.$=fe,m=De}else m=ri(q,q.V,q.Ba,q.c,q.i,m,Xs);if(!m){Q=0;break e}}b+Q>=z&&(u.Cc=1),Q=1}if(!Q)return null;if(u.Cc&&((Q=u.ga)!=null&&(Q.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+b*V}function y(u,m,b,Q,V,z){for(;0<V--;){var q,X=u,Z=m+(b?1:0),ie=u,he=m+(b?0:3);for(q=0;q<Q;++q){var Ee=ie[he+4*q];Ee!=255&&(Ee*=32897,X[Z+4*q+0]=X[Z+4*q+0]*Ee>>23,X[Z+4*q+1]=X[Z+4*q+1]*Ee>>23,X[Z+4*q+2]=X[Z+4*q+2]*Ee>>23)}m+=z}}function H(u,m,b,Q,V){for(;0<Q--;){var z;for(z=0;z<b;++z){var q=u[m+2*z+0],X=15&(ie=u[m+2*z+1]),Z=4369*X,ie=(240&ie|ie>>4)*Z>>16;u[m+2*z+0]=(240&q|q>>4)*Z>>16&240|(15&q|q<<4)*Z>>16>>4&15,u[m+2*z+1]=240&ie|X}m+=V}}function se(u,m,b,Q,V,z,q,X){var Z,ie,he=255;for(ie=0;ie<V;++ie){for(Z=0;Z<Q;++Z){var Ee=u[m+Z];z[q+4*Z]=Ee,he&=Ee}m+=b,q+=X}return he!=255}function de(u,m,b,Q,V){var z;for(z=0;z<V;++z)b[Q+z]=u[m+z]>>8}function we(){rs=y,fr=H,pr=se,Hr=de}function Ue(u,m,b){E[u]=function(Q,V,z,q,X,Z,ie,he,Ee,_e,Be,De,Te,fe,me,Le,He){var Re,ut=He-1>>1,tt=X[Z+0]|ie[he+0]<<16,Bt=Ee[_e+0]|Be[De+0]<<16;e(Q!=null);var st=3*tt+Bt+131074>>2;for(m(Q[V+0],255&st,st>>16,Te,fe),z!=null&&(st=3*Bt+tt+131074>>2,m(z[q+0],255&st,st>>16,me,Le)),Re=1;Re<=ut;++Re){var $t=X[Z+Re]|ie[he+Re]<<16,rr=Ee[_e+Re]|Be[De+Re]<<16,zt=tt+$t+Bt+rr+524296,Mt=zt+2*($t+Bt)>>3;st=Mt+tt>>1,tt=(zt=zt+2*(tt+rr)>>3)+$t>>1,m(Q[V+2*Re-1],255&st,st>>16,Te,fe+(2*Re-1)*b),m(Q[V+2*Re-0],255&tt,tt>>16,Te,fe+(2*Re-0)*b),z!=null&&(st=zt+Bt>>1,tt=Mt+rr>>1,m(z[q+2*Re-1],255&st,st>>16,me,Le+(2*Re-1)*b),m(z[q+2*Re+0],255&tt,tt>>16,me,Le+(2*Re+0)*b)),tt=$t,Bt=rr}1&He||(st=3*tt+Bt+131074>>2,m(Q[V+He-1],255&st,st>>16,Te,fe+(He-1)*b),z!=null&&(st=3*Bt+tt+131074>>2,m(z[q+He-1],255&st,st>>16,me,Le+(He-1)*b)))}}function We(){is[vp]=ON,is[wp]=sb,is[eb]=MN,is[yp]=Ab,is[Bp]=ob,is[Sv]=ab,is[tb]=jN,is[Fv]=sb,is[Tv]=Ab,is[Cp]=ob,is[kv]=ab}function rt(u){return u&-16384?0>u?0:255:u>>HN}function h(u,m){return rt((19077*u>>8)+(26149*m>>8)-14234)}function I(u,m,b){return rt((19077*u>>8)-(6419*m>>8)-(13320*b>>8)+8708)}function R(u,m){return rt((19077*u>>8)+(33050*m>>8)-17685)}function J(u,m,b,Q,V){Q[V+0]=h(u,b),Q[V+1]=I(u,m,b),Q[V+2]=R(u,m)}function ve(u,m,b,Q,V){Q[V+0]=R(u,m),Q[V+1]=I(u,m,b),Q[V+2]=h(u,b)}function Ie(u,m,b,Q,V){var z=I(u,m,b);m=z<<3&224|R(u,m)>>3,Q[V+0]=248&h(u,b)|z>>5,Q[V+1]=m}function Ge(u,m,b,Q,V){var z=240&R(u,m)|15;Q[V+0]=240&h(u,b)|I(u,m,b)>>4,Q[V+1]=z}function St(u,m,b,Q,V){Q[V+0]=255,J(u,m,b,Q,V+1)}function Ot(u,m,b,Q,V){ve(u,m,b,Q,V),Q[V+3]=255}function Ft(u,m,b,Q,V){J(u,m,b,Q,V),Q[V+3]=255}function Xt(u,m){return 0>u?0:u>m?m:u}function cr(u,m,b){E[u]=function(Q,V,z,q,X,Z,ie,he,Ee){for(var _e=he+(-2&Ee)*b;he!=_e;)m(Q[V+0],z[q+0],X[Z+0],ie,he),m(Q[V+1],z[q+0],X[Z+0],ie,he+b),V+=2,++q,++Z,he+=2*b;1&Ee&&m(Q[V+0],z[q+0],X[Z+0],ie,he)}}function Fs(u,m,b){return b==0?u==0?m==0?6:5:m==0?4:0:b}function xn(u,m,b,Q,V){switch(u>>>30){case 3:$A(m,b,Q,V,0);break;case 2:jr(m,b,Q,V);break;case 1:Ai(m,b,Q,V)}}function AA(u,m){var b,Q,V=m.M,z=m.Nb,q=u.oc,X=u.pc+40,Z=u.oc,ie=u.pc+584,he=u.oc,Ee=u.pc+600;for(b=0;16>b;++b)q[X+32*b-1]=129;for(b=0;8>b;++b)Z[ie+32*b-1]=129,he[Ee+32*b-1]=129;for(0<V?q[X-1-32]=Z[ie-1-32]=he[Ee-1-32]=129:(i(q,X-32-1,127,21),i(Z,ie-32-1,127,9),i(he,Ee-32-1,127,9)),Q=0;Q<u.za;++Q){var _e=m.ya[m.aa+Q];if(0<Q){for(b=-1;16>b;++b)n(q,X+32*b-4,q,X+32*b+12,4);for(b=-1;8>b;++b)n(Z,ie+32*b-4,Z,ie+32*b+4,4),n(he,Ee+32*b-4,he,Ee+32*b+4,4)}var Be=u.Gd,De=u.Hd+Q,Te=_e.ad,fe=_e.Hc;if(0<V&&(n(q,X-32,Be[De].y,0,16),n(Z,ie-32,Be[De].f,0,8),n(he,Ee-32,Be[De].ea,0,8)),_e.Za){var me=q,Le=X-32+16;for(0<V&&(Q>=u.za-1?i(me,Le,Be[De].y[15],4):n(me,Le,Be[De+1].y,0,4)),b=0;4>b;b++)me[Le+128+b]=me[Le+256+b]=me[Le+384+b]=me[Le+0+b];for(b=0;16>b;++b,fe<<=2)me=q,Le=X+cb[b],Ts[_e.Ob[b]](me,Le),xn(fe,Te,16*+b,me,Le)}else if(me=Fs(Q,V,_e.Ob[0]),ra[me](q,X),fe!=0)for(b=0;16>b;++b,fe<<=2)xn(fe,Te,16*+b,q,X+cb[b]);for(b=_e.Gc,me=Fs(Q,V,_e.Dd),XA[me](Z,ie),XA[me](he,Ee),fe=Te,me=Z,Le=ie,255&(_e=b>>0)&&(170&_e?Nd(fe,256,me,Le):es(fe,256,me,Le)),_e=he,fe=Ee,255&(b>>=8)&&(170&b?Nd(Te,320,_e,fe):es(Te,320,_e,fe)),V<u.Ub-1&&(n(Be[De].y,0,q,X+480,16),n(Be[De].f,0,Z,ie+224,8),n(Be[De].ea,0,he,Ee+224,8)),b=8*z*u.B,Be=u.sa,De=u.ta+16*Q+16*z*u.R,Te=u.qa,_e=u.ra+8*Q+b,fe=u.Ha,me=u.Ia+8*Q+b,b=0;16>b;++b)n(Be,De+b*u.R,q,X+32*b,16);for(b=0;8>b;++b)n(Te,_e+b*u.B,Z,ie+32*b,8),n(fe,me+b*u.B,he,Ee+32*b,8)}}function oA(u,m,b,Q,V,z,q,X,Z){var ie=[0],he=[0],Ee=0,_e=Z!=null?Z.kd:0,Be=Z??new qo;if(u==null||12>b)return 7;Be.data=u,Be.w=m,Be.ha=b,m=[m],b=[b],Be.gb=[Be.gb];e:{var De=m,Te=b,fe=Be.gb;if(e(u!=null),e(Te!=null),e(fe!=null),fe[0]=0,12<=Te[0]&&!r(u,De[0],"RIFF")){if(r(u,De[0]+8,"WEBP")){fe=3;break e}var me=Ne(u,De[0]+4);if(12>me||4294967286<me){fe=3;break e}if(_e&&me>Te[0]-8){fe=7;break e}fe[0]=me,De[0]+=12,Te[0]-=12}fe=0}if(fe!=0)return fe;for(me=0<Be.gb[0],b=b[0];;){e:{var Le=u;Te=m,fe=b;var He=ie,Re=he,ut=De=[0];if((st=Ee=[Ee])[0]=0,8>fe[0])fe=7;else{if(!r(Le,Te[0],"VP8X")){if(Ne(Le,Te[0]+4)!=10){fe=3;break e}if(18>fe[0]){fe=7;break e}var tt=Ne(Le,Te[0]+8),Bt=1+Oe(Le,Te[0]+12);if(2147483648<=Bt*(Le=1+Oe(Le,Te[0]+15))){fe=3;break e}ut!=null&&(ut[0]=tt),He!=null&&(He[0]=Bt),Re!=null&&(Re[0]=Le),Te[0]+=18,fe[0]-=18,st[0]=1}fe=0}}if(Ee=Ee[0],De=De[0],fe!=0)return fe;if(Te=!!(2&De),!me&&Ee)return 3;if(z!=null&&(z[0]=!!(16&De)),q!=null&&(q[0]=Te),X!=null&&(X[0]=0),q=ie[0],De=he[0],Ee&&Te&&Z==null){fe=0;break}if(4>b){fe=7;break}if(me&&Ee||!me&&!Ee&&!r(u,m[0],"ALPH")){b=[b],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{tt=u,fe=m,me=b;var st=Be.gb;He=Be.na,Re=Be.P,ut=Be.Sa,Bt=22,e(tt!=null),e(me!=null),Le=fe[0];var $t=me[0];for(e(He!=null),e(ut!=null),He[0]=null,Re[0]=null,ut[0]=0;;){if(fe[0]=Le,me[0]=$t,8>$t){fe=7;break e}var rr=Ne(tt,Le+4);if(4294967286<rr){fe=3;break e}var zt=8+rr+1&-2;if(Bt+=zt,0<st&&Bt>st){fe=3;break e}if(!r(tt,Le,"VP8 ")||!r(tt,Le,"VP8L")){fe=0;break e}if($t[0]<zt){fe=7;break e}r(tt,Le,"ALPH")||(He[0]=tt,Re[0]=Le+8,ut[0]=rr),Le+=zt,$t-=zt}}if(b=b[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],fe!=0)break}b=[b],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(st=u,fe=m,me=b,He=Be.gb[0],Re=Be.Ja,ut=Be.xa,tt=fe[0],Le=!r(st,tt,"VP8 "),Bt=!r(st,tt,"VP8L"),e(st!=null),e(me!=null),e(Re!=null),e(ut!=null),8>me[0])fe=7;else{if(Le||Bt){if(st=Ne(st,tt+4),12<=He&&st>He-12){fe=3;break e}if(_e&&st>me[0]-8){fe=7;break e}Re[0]=st,fe[0]+=8,me[0]-=8,ut[0]=Bt}else ut[0]=5<=me[0]&&st[tt+0]==47&&!(st[tt+4]>>5),Re[0]=me[0];fe=0}if(b=b[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],m=m[0],fe!=0)break;if(4294967286<Be.Ja)return 3;if(X==null||Te||(X[0]=Be.xa?2:1),q=[q],De=[De],Be.xa){if(5>b){fe=7;break}X=q,_e=De,Te=z,u==null||5>b?u=0:5<=b&&u[m+0]==47&&!(u[m+4]>>5)?(me=[0],st=[0],He=[0],$(Re=new N,u,m,b),ht(Re,me,st,He)?(X!=null&&(X[0]=me[0]),_e!=null&&(_e[0]=st[0]),Te!=null&&(Te[0]=He[0]),u=1):u=0):u=0}else{if(10>b){fe=7;break}X=De,u==null||10>b||!ll(u,m+3,b-3)?u=0:(_e=u[m+0]|u[m+1]<<8|u[m+2]<<16,Te=16383&(u[m+7]<<8|u[m+6]),u=16383&(u[m+9]<<8|u[m+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=Be.Ja||!Te||!u?u=0:(q&&(q[0]=Te),X&&(X[0]=u),u=1))}if(!u||(q=q[0],De=De[0],Ee&&(ie[0]!=q||he[0]!=De)))return 3;Z!=null&&(Z[0]=Be,Z.offset=m-Z.w,e(4294967286>m-Z.w),e(Z.offset==Z.ha-b));break}return fe==0||fe==7&&Ee&&Z==null?(z!=null&&(z[0]|=Be.na!=null&&0<Be.na.length),Q!=null&&(Q[0]=q),V!=null&&(V[0]=De),0):fe}function Fd(u,m,b){var Q=m.width,V=m.height,z=0,q=0,X=Q,Z=V;if(m.Da=u!=null&&0<u.Da,m.Da&&(X=u.cd,Z=u.bd,z=u.v,q=u.j,11>b||(z&=-2,q&=-2),0>z||0>q||0>=X||0>=Z||z+X>Q||q+Z>V))return 0;if(m.v=z,m.j=q,m.va=z+X,m.o=q+Z,m.U=X,m.T=Z,m.da=u!=null&&0<u.da,m.da){if(!mt(X,Z,b=[u.ib],z=[u.hb]))return 0;m.ib=b[0],m.hb=z[0]}return m.ob=u!=null&&u.ob,m.Kb=u==null||!u.Sd,m.da&&(m.ob=m.ib<3*Q/4&&m.hb<3*V/4,m.Kb=0),1}function Td(u){if(u==null)return 2;if(11>u.S){var m=u.f.RGBA;m.fb+=(u.height-1)*m.A,m.A=-m.A}else m=u.f.kb,u=u.height,m.O+=(u-1)*m.fa,m.fa=-m.fa,m.N+=(u-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(u-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(u-1)*m.lb,m.lb=-m.lb);return 0}function Nc(u,m,b,Q){if(Q==null||0>=u||0>=m)return 2;if(b!=null){if(b.Da){var V=b.cd,z=b.bd,q=-2&b.v,X=-2&b.j;if(0>q||0>X||0>=V||0>=z||q+V>u||X+z>m)return 2;u=V,m=z}if(b.da){if(!mt(u,m,V=[b.ib],z=[b.hb]))return 2;u=V[0],m=z[0]}}Q.width=u,Q.height=m;e:{var Z=Q.width,ie=Q.height;if(u=Q.S,0>=Z||0>=ie||!(u>=vp&&13>u))u=2;else{if(0>=Q.Rd&&Q.sd==null){q=z=V=m=0;var he=(X=Z*ub[u])*ie;if(11>u||(z=(ie+1)/2*(m=(Z+1)/2),u==12&&(q=(V=Z)*ie)),(ie=s(he+2*z+q))==null){u=1;break e}Q.sd=ie,11>u?((Z=Q.f.RGBA).eb=ie,Z.fb=0,Z.A=X,Z.size=he):((Z=Q.f.kb).y=ie,Z.O=0,Z.fa=X,Z.Fd=he,Z.f=ie,Z.N=0+he,Z.Ab=m,Z.Cd=z,Z.ea=ie,Z.W=0+he+z,Z.Db=m,Z.Ed=z,u==12&&(Z.F=ie,Z.J=0+he+2*z),Z.Tc=q,Z.lb=V)}if(m=1,V=Q.S,z=Q.width,q=Q.height,V>=vp&&13>V)if(11>V)u=Q.f.RGBA,m&=(X=Math.abs(u.A))*(q-1)+z<=u.size,m&=X>=z*ub[V],m&=u.eb!=null;else{u=Q.f.kb,X=(z+1)/2,he=(q+1)/2,Z=Math.abs(u.fa),ie=Math.abs(u.Ab);var Ee=Math.abs(u.Db),_e=Math.abs(u.lb),Be=_e*(q-1)+z;m&=Z*(q-1)+z<=u.Fd,m&=ie*(he-1)+X<=u.Cd,m=(m&=Ee*(he-1)+X<=u.Ed)&Z>=z&ie>=X&Ee>=X,m&=u.y!=null,m&=u.f!=null,m&=u.ea!=null,V==12&&(m&=_e>=z,m&=Be<=u.Tc,m&=u.F!=null)}else m=0;u=m?0:2}}return u!=0||b!=null&&b.fd&&(u=Td(Q)),u}var En=64,Qc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Lc=24,Pc=32,kd=8,gi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(u){return u},E.Predictor2=function(u,m,b){return m[b+0]},E.Predictor3=function(u,m,b){return m[b+1]},E.Predictor4=function(u,m,b){return m[b-1]},E.Predictor5=function(u,m,b){return Se(Se(u,m[b+1]),m[b+0])},E.Predictor6=function(u,m,b){return Se(u,m[b-1])},E.Predictor7=function(u,m,b){return Se(u,m[b+0])},E.Predictor8=function(u,m,b){return Se(m[b-1],m[b+0])},E.Predictor9=function(u,m,b){return Se(m[b+0],m[b+1])},E.Predictor10=function(u,m,b){return Se(Se(u,m[b-1]),Se(m[b+0],m[b+1]))},E.Predictor11=function(u,m,b){var Q=m[b+0];return 0>=Ke(Q>>24&255,u>>24&255,(m=m[b-1])>>24&255)+Ke(Q>>16&255,u>>16&255,m>>16&255)+Ke(Q>>8&255,u>>8&255,m>>8&255)+Ke(255&Q,255&u,255&m)?Q:u},E.Predictor12=function(u,m,b){var Q=m[b+0];return(Pe((u>>24&255)+(Q>>24&255)-((m=m[b-1])>>24&255))<<24|Pe((u>>16&255)+(Q>>16&255)-(m>>16&255))<<16|Pe((u>>8&255)+(Q>>8&255)-(m>>8&255))<<8|Pe((255&u)+(255&Q)-(255&m)))>>>0},E.Predictor13=function(u,m,b){var Q=m[b-1];return(Qe((u=Se(u,m[b+0]))>>24&255,Q>>24&255)<<24|Qe(u>>16&255,Q>>16&255)<<16|Qe(u>>8&255,Q>>8&255)<<8|Qe(u>>0&255,Q>>0&255))>>>0};var _v=E.PredictorAdd0;E.PredictorAdd1=Me,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Ud=E.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var dp,Zi=E.ColorIndexInverseTransform,Rc=E.MapARGB,hp=E.VP8LColorIndexInverseTransformAlpha,fp=E.MapAlpha,Yo=E.VP8LPredictorsAdd=[];Yo.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Bl,mi,si,Zo,GA,qA,Dc,$A,jr,Nd,Ai,es,Oc,pp,Qd,Cl,bl,ea,xl,Mc,El,ta,Ld,ts,rs,fr,pr,Hr,on=s(511),JA=s(2041),Pd=s(225),jc=s(767),gp=0,Iv=JA,mp=Pd,Pi=jc,ns=on,vp=0,wp=1,eb=2,yp=3,Bp=4,Sv=5,tb=6,Fv=7,Tv=8,Cp=9,kv=10,EN=[2,3,7],_N=[3,3,11],rb=[280,256,256,256,40],IN=[0,1,1,1,0],SN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],FN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],TN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],kN=8,Uv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Rd=null,UN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],NN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],QN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],LN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],PN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],RN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ra=[],Ts=[],XA=[],DN=1,ib=2,na=[],is=[];Ue("UpsampleRgbLinePair",J,3),Ue("UpsampleBgrLinePair",ve,3),Ue("UpsampleRgbaLinePair",Ft,4),Ue("UpsampleBgraLinePair",Ot,4),Ue("UpsampleArgbLinePair",St,4),Ue("UpsampleRgba4444LinePair",Ge,2),Ue("UpsampleRgb565LinePair",Ie,2);var ON=E.UpsampleRgbLinePair,MN=E.UpsampleBgrLinePair,sb=E.UpsampleRgbaLinePair,Ab=E.UpsampleBgraLinePair,ob=E.UpsampleArgbLinePair,ab=E.UpsampleRgba4444LinePair,jN=E.UpsampleRgb565LinePair,bp=16,xp=1<<bp-1,Dd=-227,Qv=482,HN=6,lb=0,VN=s(256),KN=s(256),zN=s(256),WN=s(256),GN=s(Qv-Dd),qN=s(Qv-Dd);cr("YuvToRgbRow",J,3),cr("YuvToBgrRow",ve,3),cr("YuvToRgbaRow",Ft,4),cr("YuvToBgraRow",Ot,4),cr("YuvToArgbRow",St,4),cr("YuvToRgba4444Row",Ge,2),cr("YuvToRgb565Row",Ie,2);var cb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ep=[0,2,8],$N=[8,7,6,4,4,2,2,2,1,1,1,1],JN=1;this.WebPDecodeRGBA=function(u,m,b,Q,V){var z=wp,q=new zA,X=new er;q.ba=X,X.S=z,X.width=[X.width],X.height=[X.height];var Z=X.width,ie=X.height,he=new Ti;if(he==null||u==null)var Ee=2;else e(he!=null),Ee=oA(u,m,b,he.width,he.height,he.Pd,he.Qd,he.format,null);if(Ee!=0?Z=0:(Z!=null&&(Z[0]=he.width[0]),ie!=null&&(ie[0]=he.height[0]),Z=1),Z){X.width=X.width[0],X.height=X.height[0],Q!=null&&(Q[0]=X.width),V!=null&&(V[0]=X.height);e:{if(Q=new OA,(V=new qo).data=u,V.w=m,V.ha=b,V.kd=1,m=[0],e(V!=null),((u=oA(V.data,V.w,V.ha,null,null,null,m,null,V))==0||u==7)&&m[0]&&(u=4),(m=u)==0){if(e(q!=null),Q.data=V.data,Q.w=V.w+V.offset,Q.ha=V.ha-V.offset,Q.put=Dn,Q.ac=Jr,Q.bc=ki,Q.ma=q,V.xa){if((u=Mr())==null){q=1;break e}if(function(_e,Be){var De=[0],Te=[0],fe=[0];t:for(;;){if(_e==null)return 0;if(Be==null)return _e.a=2,0;if(_e.l=Be,_e.a=0,$(_e.m,Be.data,Be.w,Be.ha),!ht(_e.m,De,Te,fe)){_e.a=3;break t}if(_e.xb=ib,Be.width=De[0],Be.height=Te[0],!Ui(De[0],Te[0],1,_e,null))break t;return 1}return e(_e.a!=0),0}(u,Q)){if(Q=(m=Nc(Q.width,Q.height,q.Oa,q.ba))==0){t:{Q=u;r:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((b=Q.l)!=null),e((V=b.ma)!=null),Q.xb!=0){if(Q.ca=V.ba,Q.tb=V.tb,e(Q.ca!=null),!Fd(V.Oa,b,yp)){Q.a=2;break r}if(!Js(Q,b.width)||b.da)break r;if((b.da||ct(Q.ca.S))&&we(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&we()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!je(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break r}Q.xb=0}if(!ri(Q,Q.V,Q.Ba,Q.c,Q.i,b.o,Qo))break r;V.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(m=u.a)}else m=u.a}else{if((u=new al)==null){q=1;break e}if(u.Fa=V.na,u.P=V.P,u.qc=V.Sa,cl(u,Q)){if((m=Nc(Q.width,Q.height,q.Oa,q.ba))==0){if(u.Aa=0,b=q.Oa,e((V=u)!=null),b!=null){if(0<(Z=0>(Z=b.Md)?0:100<Z?255:255*Z/100)){for(ie=he=0;4>ie;++ie)12>(Ee=V.pb[ie]).lc&&(Ee.ia=Z*$N[0>Ee.lc?0:Ee.lc]>>3),he|=Ee.ia;he&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=b.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}_c(u,Q)||(m=u.a)}}else m=u.a}m==0&&q.Oa!=null&&q.Oa.fd&&(m=Td(q.ba))}q=m}z=q!=0?null:11>z?X.f.RGBA.eb:X.f.kb.y}else z=null;return z};var ub=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(E,k){for(var O="",_=0;_<4;_++)O+=String.fromCharCode(E[k++]);return O}function c(E,k){return(E[k+0]<<0|E[k+1]<<8|E[k+2]<<16)>>>0}function d(E,k){return(E[k+0]<<0|E[k+1]<<8|E[k+2]<<16|E[k+3]<<24)>>>0}new o;var p=[0],g=[0],v=[],x=new o,T=t,w=function(E,k){var O={},_=0,F=!1,U=0,Y=0;if(O.frames=[],!function(j,W,ee,re){for(var oe=0;oe<re;oe++)if(j[W+oe]!=ee.charCodeAt(oe))return!0;return!1}(E,k,"RIFF",4)){var ue,te;for(d(E,k+=4),k+=8;k<E.length;){var K=l(E,k),$=d(E,k+=4);k+=4;var P=$+(1&$);switch(K){case"VP8 ":case"VP8L":O.frames[_]===void 0&&(O.frames[_]={}),(N=O.frames[_]).src_off=F?Y:k-8,N.src_size=U+$+8,_++,F&&(F=!1,U=0,Y=0);break;case"VP8X":(N=O.header={}).feature_flags=E[k];var G=k+4;N.canvas_width=1+c(E,G),G+=3,N.canvas_height=1+c(E,G),G+=3;break;case"ALPH":F=!0,U=P+8,Y=k-8;break;case"ANIM":(N=O.header).bgcolor=d(E,k),G=k+4,N.loop_count=(ue=E)[(te=G)+0]<<0|ue[te+1]<<8,G+=2;break;case"ANMF":var ne,N;(N=O.frames[_]={}).offset_x=2*c(E,k),k+=3,N.offset_y=2*c(E,k),k+=3,N.width=1+c(E,k),k+=3,N.height=1+c(E,k),k+=3,N.duration=c(E,k),k+=3,ne=E[k++],N.dispose=1&ne,N.blend=ne>>1&1}K!="ANMF"&&(k+=P)}return O}}(T,0);w.response=T,w.rgbaoutput=!0,w.dataurl=!1;var B=w.header?w.header:null,C=w.frames?w.frames:null;if(B){B.loop_counter=B.loop_count,p=[B.canvas_height],g=[B.canvas_width];for(var L=0;L<C.length&&C[L].blend!=0;L++);}var D=C[0],M=x.WebPDecodeRGBA(T,D.src_off,D.src_size,g,p);D.rgba=M,D.imgwidth=g[0],D.imgheight=p[0];for(var S=0;S<g[0]*p[0]*4;S++)v[S]=M[S];return this.width=g,this.height=p,this.data=v,this}(function(t){var e=function(){return typeof C2=="function"},r=function(p,g,v,x){var T=4,w=A;switch(x){case t.image_compression.FAST:T=1,w=s;break;case t.image_compression.MEDIUM:T=6,w=a;break;case t.image_compression.SLOW:T=9,w=o}p=n(p,g,v,w);var B=C2(p,{level:T});return t.__addimage__.arrayBufferToBinaryString(B)},n=function(p,g,v,x){for(var T,w,B,C=p.length/g,L=new Uint8Array(p.length+C),D=c(),M=0;M<C;M+=1){if(B=M*g,T=p.subarray(B,B+g),x)L.set(x(T,v,w),B+M);else{for(var S,E=D.length,k=[];S<E;S+=1)k[S]=D[S](T,v,w);var O=d(k.concat());L.set(k[O],B+M)}w=T}return L},i=function(p){var g=Array.apply([],p);return g.unshift(0),g},s=function(p,g){var v,x=[],T=p.length;x[0]=1;for(var w=0;w<T;w+=1)v=p[w-g]||0,x[w+1]=p[w]-v+256&255;return x},A=function(p,g,v){var x,T=[],w=p.length;T[0]=2;for(var B=0;B<w;B+=1)x=v&&v[B]||0,T[B+1]=p[B]-x+256&255;return T},a=function(p,g,v){var x,T,w=[],B=p.length;w[0]=3;for(var C=0;C<B;C+=1)x=p[C-g]||0,T=v&&v[C]||0,w[C+1]=p[C]+256-(x+T>>>1)&255;return w},o=function(p,g,v){var x,T,w,B,C=[],L=p.length;C[0]=4;for(var D=0;D<L;D+=1)x=p[D-g]||0,T=v&&v[D]||0,w=v&&v[D-g]||0,B=l(x,T,w),C[D+1]=p[D]-B+256&255;return C},l=function(p,g,v){if(p===g&&g===v)return p;var x=Math.abs(g-v),T=Math.abs(p-v),w=Math.abs(p+g-v-v);return x<=T&&x<=w?p:T<=w?g:v},c=function(){return[i,s,A,a,o]},d=function(p){var g=p.map(function(v){return v.reduce(function(x,T){return x+Math.abs(T)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,v,x){var T,w,B,C,L,D,M,S,E,k,O,_,F,U,Y,ue=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(B=new lJ(p)).imgData,w=B.bits,T=B.colorSpace,L=B.colors,[4,6].indexOf(B.colorType)!==-1){if(B.bits===8){E=(S=B.pixelBitlength==32?new Uint32Array(B.decodePixels().buffer):B.pixelBitlength==16?new Uint16Array(B.decodePixels().buffer):new Uint8Array(B.decodePixels().buffer)).length,O=new Uint8Array(E*B.colors),k=new Uint8Array(E);var K,$=B.pixelBitlength-B.bits;for(U=0,Y=0;U<E;U++){for(F=S[U],K=0;K<$;)O[Y++]=F>>>K&255,K+=B.bits;k[U]=F>>>K&255}}if(B.bits===16){E=(S=new Uint32Array(B.decodePixels().buffer)).length,O=new Uint8Array(E*(32/B.pixelBitlength)*B.colors),k=new Uint8Array(E*(32/B.pixelBitlength)),_=B.colors>1,U=0,Y=0;for(var P=0;U<E;)F=S[U++],O[Y++]=F>>>0&255,_&&(O[Y++]=F>>>16&255,F=S[U++],O[Y++]=F>>>0&255),k[P++]=F>>>16&255;w=8}x!==t.image_compression.NONE&&e()?(p=r(O,B.width*B.colors,B.colors,x),M=r(k,B.width,1,x)):(p=O,M=k,ue=void 0)}if(B.colorType===3&&(T=this.color_spaces.INDEXED,D=B.palette,B.transparency.indexed)){var G=B.transparency.indexed,ne=0;for(U=0,E=G.length;U<E;++U)ne+=G[U];if((ne/=255)===E-1&&G.indexOf(0)!==-1)C=[G.indexOf(0)];else if(ne!==E){for(S=B.decodePixels(),k=new Uint8Array(S.length),U=0,E=S.length;U<E;U++)k[U]=G[S[U]];M=r(k,B.width,1)}}var N=function(j){var W;switch(j){case t.image_compression.FAST:W=11;break;case t.image_compression.MEDIUM:W=13;break;case t.image_compression.SLOW:W=14;break;default:W=12}return W}(x);return ue===this.decode.FLATE_DECODE&&(te="/Predictor "+N+" "),te+="/Colors "+L+" /BitsPerComponent "+w+" /Columns "+B.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:v,data:p,index:g,filter:ue,decodeParameters:te,transparency:C,palette:D,sMask:M,predictor:N,width:B.width,height:B.height,bitsPerComponent:w,colorSpace:T}}}})(Ct.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new cJ(e),A=s.width,a=s.height,o=[];s.decodeAndBlitFrameRGBA(0,o);var l={data:o,width:A,height:a},c=new p1(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(Ct.API),Qs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){dr.log("bit decode error:"+r)}},Qs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var o=this.palette[s>>7-a&1];this.data[A+4*a]=o.blue,this.data[A+4*a+1]=o.green,this.data[A+4*a+2]=o.red,this.data[A+4*a+3]=255}r!==0&&(this.pos+=4-r)}},Qs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*i*4,a=s>>4,o=15&s,l=this.palette[a];if(this.data[A]=l.blue,this.data[A+1]=l.green,this.data[A+2]=l.red,this.data[A+3]=255,2*i+1>=this.width)break;l=this.palette[o],this.data[A+4]=l.blue,this.data[A+4+1]=l.green,this.data[A+4+2]=l.red,this.data[A+4+3]=255}e!==0&&(this.pos+=4-e)}},Qs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var A=this.palette[i];this.data[s]=A.red,this.data[s+1]=A.green,this.data[s+2]=A.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Qs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,o=(s>>10&e)/e*255|0,l=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=A,this.data[c+3]=l}this.pos+=t}},Qs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(A&e)/e*255|0,o=(A>>5&r)/r*255|0,l=(A>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Qs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=s,this.data[A+1]=i,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},Qs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=A}},Qs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Qs(e,!1),A=s.width,a=s.height,o={data:s.getData(),width:A,height:a},l=new p1(100).encode(o,100);return t.processJPEG.call(this,l,r,n,i)}}(Ct.API),H_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new H_(e),A=s.width,a=s.height,o={data:s.getData(),width:A,height:a},l=new p1(100).encode(o,100);return t.processJPEG.call(this,l,r,n,i)}}(Ct.API),Ct.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),A=new Uint8Array(i/4),a=0,o=0,l=0;l<i;l+=4){var c=n[l],d=n[l+1],p=n[l+2],g=n[l+3];s[a++]=c,s[a++]=d,s[a++]=p,A[o++]=g}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ru=Ct.API,Ug=ru.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),A=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,o=a.fof?a.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=l.fof?l.fof:1,d=e.doKerning!==!1,p=0,g=t.length,v=0,x=a[0]||o,T=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+A*(1e3/s)||0)/1e3):(p=d&&ir(l[n])==="object"&&!isNaN(parseInt(l[n][v],10))?l[n][v]/c:0,T.push((a[n]||x)/o+p)),v=n;return T},D_=ru.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ru.processArabic&&(t=ru.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Ug.apply(this,arguments).reduce(function(s,A){return s+A},0)},O_=function(t,e,r,n){for(var i=[],s=0,A=t.length,a=0;s!==A&&a+e[s]<r;)a+=e[s],s++;i.push(t.slice(0,s));var o=s;for(a=0;s!==A;)a+e[s]>n&&(i.push(t.slice(o,s)),a=0,o=s),a+=e[s],s++;return o!==s&&i.push(t.slice(o,s)),i},M_=function(t,e,r){r||(r={});var n,i,s,A,a,o,l,c=[],d=[c],p=r.textIndent||0,g=0,v=0,x=t.split(" "),T=Ug.apply(this,[" ",r])[0];if(o=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var w=Array(o).join(" "),B=[];x.map(function(L){(L=L.split(/\s*\n/)).length>1?B=B.concat(L.map(function(D,M){return(M&&D.length?`
`:"")+D})):B.push(L[0])}),x=B,o=D_.apply(this,[w,r])}for(s=0,A=x.length;s<A;s++){var C=0;if(n=x[s],o&&n[0]==`
`&&(n=n.substr(1),C=1),p+g+(v=(i=Ug.apply(this,[n,r])).reduce(function(L,D){return L+D},0))>e||C){if(v>e){for(a=O_.apply(this,[n,i,e-(p+g),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);v=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(L,D){return L+D},0)}else c=[n];d.push(c),p=v+o,g=T}else c.push(n),p+=g+v,g=T}return l=o?function(L,D){return(D?w:"")+L.join(" ")}:function(L){return L.join(" ")},d.map(l)},ru.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var A=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,o,l=[];for(a=0,o=n.length;a<o;a++)l=l.concat(M_.apply(this,[n[a],A,s]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},A=t.__fontmetrics__.compress=function(d){var p,g,v,x,T=["{"];for(var w in d){if(p=d[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=s(w).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof p=="number")p<0?(v=s(p).slice(3),x="-"):(v=s(p).slice(2),x=""),v=x+v.slice(0,-1)+n[v.slice(-1)];else{if(ir(p)!=="object")throw new Error("Don't know what to do with value type "+ir(p)+".");v=A(p)}T.push(g+v)}return T.push("}"),T.join("")},a=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,v,x,T={},w=1,B=T,C=[],L="",D="",M=d.length-1,S=1;S<M;S+=1)(x=d[S])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(C.push([B,v]),B={},v=void 0):x=="}"?((g=C.pop())[0][g[1]]=B,v=void 0,B=g[0]):x=="-"?w=-1:v===void 0?r.hasOwnProperty(x)?(L+=r[x],v=parseInt(L,16)*w,w=1,L=""):L+=x:r.hasOwnProperty(x)?(D+=r[x],B[v]=parseInt(D,16)*w,w=1,v=void 0,D=""):D+=x;return T},o={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:o,"Courier-Bold":o,"Courier-BoldOblique":o,"Courier-Oblique":o,Helvetica:o,"Helvetica-Bold":o,"Helvetica-BoldOblique":o,"Helvetica-Oblique":o,"Times-Roman":o,"Times-Bold":o,"Times-BoldItalic":o,"Times-Italic":o}},c={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var p=d.font,g=c.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var v=l.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(Ct.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(A,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e($h(a)),A.metadata=t.API.TTFFont.open(a),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ct),function(t){function e(){return(xt.canvg?Promise.resolve(xt.canvg):m2(()=>import("./index.es-BeWeDmp1.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ct.API.addSvgAsImage=function(r,n,i,s,A,a,o,l){if(isNaN(n)||isNaN(i))throw dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(A))throw dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=A;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(v){return v.fromString(d,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){g.addImage(c.toDataURL("image/jpeg",1),n,i,s,A,o,l)})}}(),Ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(A),o=[],l=0,c=0,d=0;function p(v,x){var T,w=!1;for(T=0;T<v.length;T+=1)v[T]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(d=0;d<g;d+=1)r[a[d]].value=r[a[d]].defaultValue,r[a[d]].explicitSet=!1}if(ir(t)==="object"){for(i in t)if(s=t[i],p(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&p(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(l=0;l<s.length;l+=1)if(n=!0,s[l].length===1&&typeof s[l][0]=="number")o.push(String(s[l]-1));else if(s[l].length>1){for(c=0;c<s[l].length;c+=1)typeof s[l][c]!="number"&&(n=!1);n===!0&&o.push([s[l][0]-1,s[l][1]-1].join(" "))}r[i].value="["+o.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?x.push("/"+v+" /"+r[v].value):x.push("/"+v+" "+r[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),l=s.length+A.length+a.length+i.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+s+A+a+o),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Ct.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,A){for(var a,o=A.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],d=0,p=s.length;d<p;++d){if(a=A.metadata.characterToGlyph(s.charCodeAt(d)),A.metadata.glyIdsUsed.push(a),A.metadata.toUnicode[a]=s.charCodeAt(d),o.indexOf(a)==-1&&(o.push(a),o.push([parseInt(A.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(l[4-a.length],a)}return c.join("")},n=function(s){var A,a,o,l,c,d,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,o=[],d=0,p=(a=Object.keys(s).sort(function(g,v){return g-v})).length;d<p;d++)A=a[d],o.length>=100&&(c+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar`,o=[]),s[A]!==void 0&&s[A]!==null&&typeof s[A].toString=="function"&&(l=("0000"+s[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),o.push("<"+A+"><"+l+">"));return o.length&&(c+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(A){var a=A.font,o=A.out,l=A.newObject,c=A.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",v=0;v<p.length;v++)g+=String.fromCharCode(p[v]);var x=l();c({data:g,addLength1:!0,objectId:x}),o("endobj");var T=l();c({data:n(a.metadata.toUnicode),addLength1:!0,objectId:T}),o("endobj");var w=l();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+hu(a.fontName)),o("/FontFile2 "+x+" 0 R"),o("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),o("/Flags "+a.metadata.flags),o("/StemV "+a.metadata.stemV),o("/ItalicAngle "+a.metadata.italicAngle),o("/Ascent "+a.metadata.ascender),o("/Descent "+a.metadata.decender),o("/CapHeight "+a.metadata.capHeight),o(">>"),o("endobj");var B=l();o("<<"),o("/Type /Font"),o("/BaseFont /"+hu(a.fontName)),o("/FontDescriptor "+w+" 0 R"),o("/W "+t.API.PDFObject.convert(d)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+a.encoding+")"),o(">>"),o(">>"),o("endobj"),a.objectNumber=l(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+T+" 0 R"),o("/BaseFont /"+hu(a.fontName)),o("/Encoding /"+a.encoding),o("/DescendantFonts ["+B+" 0 R]"),o(">>"),o("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(A){var a=A.font,o=A.out,l=A.newObject,c=A.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,p="",g=0;g<d.length;g++)p+=String.fromCharCode(d[g]);var v=l();c({data:p,addLength1:!0,objectId:v}),o("endobj");var x=l();c({data:n(a.metadata.toUnicode),addLength1:!0,objectId:x}),o("endobj");var T=l();o("<<"),o("/Descent "+a.metadata.decender),o("/CapHeight "+a.metadata.capHeight),o("/StemV "+a.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+v+" 0 R"),o("/Flags 96"),o("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),o("/FontName /"+hu(a.fontName)),o("/ItalicAngle "+a.metadata.italicAngle),o("/Ascent "+a.metadata.ascender),o(">>"),o("endobj"),a.objectNumber=l();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+hu(a.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),o("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var A,a=s.text||"",o=s.x,l=s.y,c=s.options||{},d=s.mutex||{},p=d.pdfEscape,g=d.activeFontKey,v=d.fonts,x=g,T="",w=0,B="",C=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:a,x:o,y:l,options:c,mutex:d};for(B=a,x=g,Array.isArray(a)&&(B=a[0]),w=0;w<B.length;w+=1)v[x].metadata.hasOwnProperty("cmap")&&(A=v[x].metadata.cmap.unicode.codeMap[B[w].charCodeAt(0)]),A||B[w].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?T+=B[w]:T+="";var L="";return parseInt(x.slice(1))<14||C==="WinAnsiEncoding"?L=p(T,x).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(L=r(T,v[x])),d.isHex=!0,{text:L,x:o,y:l,options:c,mutex:d}};e.events.push(["postProcessText",function(s){var A=s.text||"",a=[],o={text:A,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(A)){var l=0;for(l=0;l<A.length;l+=1)Array.isArray(A[l])&&A[l].length===3?a.push([i(Object.assign({},o,{text:A[l][0]})).text,A[l][1],A[l][2]]):a.push(i(Object.assign({},o,{text:A[l]})).text);s.text=a}else s.text=i(Object.assign({},o,{text:A})).text}])}(Ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,A,a,o,l,c,d=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,C=0;this.__bidiEngine__={};var L=function(_){var F=_.charCodeAt(),U=F>>8,Y=x[U];return Y!==void 0?d[256*Y+(255&F)]:U===252||U===253?"AL":w.test(U)?"L":U===8?"R":"N"},D=function(_){for(var F,U=0;U<_.length;U++){if((F=L(_.charAt(U)))==="L")return!1;if(F==="R")return!0}return!1},M=function(_,F,U,Y){var ue,te,K,$,P=F[Y];switch(P){case"L":case"R":B=!1;break;case"N":case"AN":break;case"EN":B&&(P="AN");break;case"AL":B=!0,P="R";break;case"WS":P="N";break;case"CS":Y<1||Y+1>=F.length||(ue=U[Y-1])!=="EN"&&ue!=="AN"||(te=F[Y+1])!=="EN"&&te!=="AN"?P="N":B&&(te="AN"),P=te===ue?te:"N";break;case"ES":P=(ue=Y>0?U[Y-1]:"B")==="EN"&&Y+1<F.length&&F[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&U[Y-1]==="EN"){P="EN";break}if(B){P="N";break}for(K=Y+1,$=F.length;K<$&&F[K]==="ET";)K++;P=K<$&&F[K]==="EN"?"EN":"N";break;case"NSM":if(A&&!a){for($=F.length,K=Y+1;K<$&&F[K]==="NSM";)K++;if(K<$){var G=_[Y],ne=G>=1425&&G<=2303||G===64286;if(ue=F[K],ne&&(ue==="R"||ue==="AL")){P="R";break}}}P=Y<1||(ue=F[Y-1])==="B"?"N":U[Y-1];break;case"B":B=!1,i=!0,P=C;break;case"S":s=!0,P="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"BN":P="N"}return P},S=function(_,F,U){var Y=_.split("");return U&&E(Y,U,{hiLevel:C}),Y.reverse(),F&&F.reverse(),Y.join("")},E=function(_,F,U){var Y,ue,te,K,$,P=-1,G=_.length,ne=0,N=[],j=C?g:p,W=[];for(B=!1,i=!1,s=!1,ue=0;ue<G;ue++)W[ue]=L(_[ue]);for(te=0;te<G;te++){if($=ne,N[te]=M(_,W,N,te),Y=240&(ne=j[$][v[N[te]]]),ne&=15,F[te]=K=j[ne][5],Y>0)if(Y===16){for(ue=P;ue<te;ue++)F[ue]=1;P=-1}else P=-1;if(j[ne][6])P===-1&&(P=te);else if(P>-1){for(ue=P;ue<te;ue++)F[ue]=K;P=-1}W[te]==="B"&&(F[te]=0),U.hiLevel|=K}s&&function(ee,re,oe){for(var ge=0;ge<oe;ge++)if(ee[ge]==="S"){re[ge]=C;for(var ye=ge-1;ye>=0&&ee[ye]==="WS";ye--)re[ye]=C}}(W,F,G)},k=function(_,F,U,Y,ue){if(!(ue.hiLevel<_)){if(_===1&&C===1&&!i)return F.reverse(),void(U&&U.reverse());for(var te,K,$,P,G=F.length,ne=0;ne<G;){if(Y[ne]>=_){for($=ne+1;$<G&&Y[$]>=_;)$++;for(P=ne,K=$-1;P<K;P++,K--)te=F[P],F[P]=F[K],F[K]=te,U&&(te=U[P],U[P]=U[K],U[K]=te);ne=$}ne++}}},O=function(_,F,U){var Y=_.split(""),ue={hiLevel:C};return U||(U=[]),E(Y,U,ue),function(te,K,$){if($.hiLevel!==0&&c)for(var P,G=0;G<te.length;G++)K[G]===1&&(P=T.indexOf(te[G]))>=0&&(te[G]=T[P+1])}(Y,U,ue),k(2,Y,F,U,ue),k(1,Y,F,U,ue),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(_,F,U){if(function(ue,te){if(te)for(var K=0;K<ue.length;K++)te[K]=K;a===void 0&&(a=D(ue)),l===void 0&&(l=D(ue))}(_,F),A||!o||l)if(A&&o&&a^l)C=a?1:0,_=S(_,F,U);else if(!A&&o&&l)C=a?1:0,_=O(_,F,U),_=S(_,F);else if(!A||a||o||l){if(A&&!o&&a^l)_=S(_,F),a?(C=0,_=O(_,F,U)):(C=1,_=O(_,F,U),_=S(_,F));else if(A&&a&&!o&&l)C=1,_=O(_,F,U),_=S(_,F);else if(!A&&!o&&a^l){var Y=c;a?(C=1,_=O(_,F,U),C=0,c=!1,_=O(_,F,U),c=Y):(C=0,_=O(_,F,U),_=S(_,F),C=1,c=!1,_=O(_,F,U),c=Y,_=S(_,F))}}else C=0,_=O(_,F,U);else C=a?1:0,_=O(_,F,U);return _},this.__bidiEngine__.setOptions=function(_){_&&(A=_.isInputVisual,o=_.isOutputVisual,a=_.isInputRtl,l=_.isOutputRtl,c=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),A=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(A=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?A.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):A.push([r.doBidiReorder(i[a])]);n.text=A}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new el(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new EJ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new uJ(this.contents),this.head=new hJ(this),this.name=new vJ(this),this.cmap=new yN(this),this.toUnicode={},this.hhea=new fJ(this),this.maxp=new wJ(this),this.hmtx=new yJ(this),this.post=new gJ(this),this.os2=new pJ(this),this.loca=new xJ(this),this.glyf=new BJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,a,o,l;for(l=[],A=0,a=(o=this.bbox).length;A<a;A++)e=o[A],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,A,a;for(A=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),A+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return A*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var $s,el=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,A,a,o;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),A=this.readByte(),a=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^A)+256*(255^a)+(255^o)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*A+256*a+o},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),uJ=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,A,a,o,l,c,d,p,g,v,x;for(x in g=Object.keys(r).length,o=Math.log(2),d=16*Math.floor(Math.log(g)/o),A=Math.floor(d/o),c=16*g-d,(i=new el).writeInt(this.scalarType),i.writeShort(g),i.writeShort(d),i.writeShort(A),i.writeShort(c),s=16*g,l=i.pos+s,a=null,v=[],r)for(p=r[x],i.writeString(x),i.writeInt(t(p)),i.writeInt(l),i.writeInt(p.length),v=v.concat(p),x==="head"&&(a=l),l+=p.length;l%4;)v.push(0),l++;return i.write(v),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,A;for(r=BN.call(r);r.length%4;)r.push(0);for(s=new el(r),i=0,n=0,A=r.length;n<A;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),dJ={}.hasOwnProperty,LA=function(t,e){for(var r in e)dJ.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};$s=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var hJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,$s),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new el).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),V_=function(){function t(e,r){var n,i,s,A,a,o,l,c,d,p,g,v,x,T,w,B,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,s=function(){var L,D;for(D=[],o=L=0;0<=p?L<p:L>p;o=0<=p?++L:--L)D.push(e.readUInt16());return D}(),e.pos+=2,x=function(){var L,D;for(D=[],o=L=0;0<=p?L<p:L>p;o=0<=p?++L:--L)D.push(e.readUInt16());return D}(),l=function(){var L,D;for(D=[],o=L=0;0<=p?L<p:L>p;o=0<=p?++L:--L)D.push(e.readUInt16());return D}(),c=function(){var L,D;for(D=[],o=L=0;0<=p?L<p:L>p;o=0<=p?++L:--L)D.push(e.readUInt16());return D}(),i=(this.length-e.pos+this.offset)/2,a=function(){var L,D;for(D=[],o=L=0;0<=i?L<i:L>i;o=0<=i?++L:--L)D.push(e.readUInt16());return D}(),o=w=0,C=s.length;w<C;o=++w)for(T=s[o],n=B=v=x[o];v<=T?B<=T:B>=T;n=v<=T?++B:--B)c[o]===0?A=n+l[o]:(A=a[c[o]/2+(n-v)-(p-o)]||0)!==0&&(A+=l[o]),this.codeMap[n]=65535&A}e.pos=d}return t.encode=function(e,r){var n,i,s,A,a,o,l,c,d,p,g,v,x,T,w,B,C,L,D,M,S,E,k,O,_,F,U,Y,ue,te,K,$,P,G,ne,N,j,W,ee,re,oe,ge,ye,Fe,ke,Oe;switch(Y=new el,A=Object.keys(e).sort(function(Ne,je){return Ne-je}),r){case"macroman":for(x=0,T=function(){var Ne=[];for(v=0;v<256;++v)Ne.push(0);return Ne}(),B={0:0},s={},ue=0,P=A.length;ue<P;ue++)B[ye=e[i=A[ue]]]==null&&(B[ye]=++x),s[i]={old:e[i],new:B[e[i]]},T[i]=B[e[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(T),{charMap:s,subtable:Y.data,maxGlyphID:x+1};case"unicode":for(F=[],d=[],C=0,B={},n={},w=l=null,te=0,G=A.length;te<G;te++)B[D=e[i=A[te]]]==null&&(B[D]=++C),n[i]={old:D,new:B[D]},a=B[D]-i,w!=null&&a===l||(w&&d.push(w),F.push(i),l=a),w=i;for(w&&d.push(w),d.push(65535),F.push(65535),O=2*(k=F.length),E=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,S=2*k-E,o=[],M=[],g=[],v=K=0,ne=F.length;K<ne;v=++K){if(_=F[v],c=d[v],_===65535){o.push(0),M.push(0);break}if(_-(U=n[_].new)>=32768)for(o.push(0),M.push(2*(g.length+k-v)),i=$=_;_<=c?$<=c:$>=c;i=_<=c?++$:--$)g.push(n[i].new);else o.push(U-_),M.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*k+2*g.length),Y.writeUInt16(0),Y.writeUInt16(O),Y.writeUInt16(E),Y.writeUInt16(p),Y.writeUInt16(S),oe=0,N=d.length;oe<N;oe++)i=d[oe],Y.writeUInt16(i);for(Y.writeUInt16(0),ge=0,j=F.length;ge<j;ge++)i=F[ge],Y.writeUInt16(i);for(Fe=0,W=o.length;Fe<W;Fe++)a=o[Fe],Y.writeUInt16(a);for(ke=0,ee=M.length;ke<ee;ke++)L=M[ke],Y.writeUInt16(L);for(Oe=0,re=g.length;Oe<re;Oe++)x=g[Oe],Y.writeUInt16(x);return{charMap:n,subtable:Y.data,maxGlyphID:C+1}}},t}(),yN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,$s),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new V_(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=V_.encode(r,n),(s=new el).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),fJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,$s),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),pJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,$s),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),gJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,$s),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var A;for(i=r.readUInt16(),this.glyphNameIndex=[],A=0;0<=i?A<i:A>i;A=0<=i?++A:--A)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var a,o,l;for(l=[],A=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;A=0<=o?++a:--a)l.push(r.readUInt32());return l}).call(this)}},e}(),mJ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},vJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,$s),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,A,a,o,l,c,d,p,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),o=r.readShort(),i=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+o+r.readShort()});for(l={},A=d=0,p=i.length;d<p;A=++d)s=i[A],r.pos=s.offset,c=r.readString(s.length),a=new mJ(c,s),l[g=s.nameID]==null&&(l[g]=[]),l[s.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),wJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,$s),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),yJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,$s),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,A,a,o,l;for(r.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)d.push(r.readInt16());return d}(),this.widths=(function(){var c,d,p,g;for(g=[],c=0,d=(p=this.metrics).length;c<d;c++)A=p[c],g.push(A.advance);return g}).call(this),i=this.widths[this.widths.length-1],l=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)l.push(this.widths.push(i));return l},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),BN=[].slice,BJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,$s),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,A,a,o,l,c,d,p;return r in this.cache?this.cache[r]:(A=this.file.loca,n=this.file.contents,i=A.indexOf(r),(s=A.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,a=(o=new el(n.read(s))).readShort(),c=o.readShort(),p=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[r]=a===-1?new bJ(o,c,p,l,d):new CJ(o,a,c,p,l,d),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,A,a,o,l;for(a=[],A=[],o=0,l=n.length;o<l;o++)s=r[n[o]],A.push(a.length),s&&(a=a.concat(s.encode(i)));return A.push(a.length),{table:a,offsets:A}},e}(),CJ=function(){function t(e,r,n,i,s,A){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=A,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),bJ=function(){function t(e,r,n,i,s){var A,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;a=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&a;)A.pos+=1&a?4:2,128&a?A.pos+=8:64&a?A.pos+=4:8&a&&(A.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new el(BN.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),xJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return LA(e,$s),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,A;for(A=[],i=0,s=this.length;i<s;i+=2)A.push(2*r.readUInt16());return A}).call(this):(function(){var s,A;for(A=[],i=0,s=this.length;i<s;i+=4)A.push(r.readUInt32());return A}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,A=0,a=0;a<i.length;++a)if(i[a]=s,A<n.length&&n[A]==a){++A,i[a]=s;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(s+=l)}for(var c=new Array(4*i.length),d=0;d<i.length;++d)c[4*d+3]=255&i[d],c[4*d+2]=(65280&i[d])>>8,c[4*d+1]=(16711680&i[d])>>16,c[4*d]=(4278190080&i[d])>>24;return c},e}(),EJ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,A,a,o;for(i={},A=0,a=e.length;A<a;A++)i[s=e[A]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in o=this.glyphsFor(r))n=o[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,A,a,o,l,c,d,p,g,v,x,T,w;for(i in n=yN.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(e),g={0:0},w=n.charMap)g[(o=w[i]).old]=o.new;for(v in p=n.maxGlyphID,A)v in g||(g[v]=p++);return c=function(B){var C,L;for(C in L={},B)L[B[C]]=C;return L}(g),d=Object.keys(c).sort(function(B,C){return B-C}),x=function(){var B,C,L;for(L=[],B=0,C=d.length;B<C;B++)a=d[B],L.push(c[a]);return L}(),s=this.font.glyf.encode(A,x,g),l=this.font.loca.encode(s.offsets,x),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t}();Ct.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,A;if(Array.isArray(r))return"["+function(){var a,o,l;for(l=[],a=0,o=r.length;a<o;a++)n=r[a],l.push(e.convert(n));return l}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)A=r[i],s.push("/"+i+" "+e.convert(A));return s.push(">>"),s.join(`
`)}return""+r},e}();const _J=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:nJ,AcroFormAppearance:gt,AcroFormButton:ln,AcroFormCheckBox:Yh,AcroFormChoiceField:Zl,AcroFormComboBox:tc,AcroFormEditBox:Jh,AcroFormListBox:ec,AcroFormPasswordField:Zh,AcroFormPushButton:Xh,AcroFormRadioButton:rc,AcroFormTextField:Ka,GState:Of,ShadingPattern:Ba,TilingPattern:Vl,default:Ct,jsPDF:Ct},Symbol.toStringTag,{value:"Module"}));var IJ={exports:{}};const SJ=lQ(_J);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(n,i){t.exports=i(function(){try{return SJ}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Kv<"u"?Kv:typeof window<"u"?window:typeof self<"u"?self:Kv,function(r){return function(){var n={172:function(a,o){var l=this&&this.__extends||function(){var p=function(g,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var w in T)Object.prototype.hasOwnProperty.call(T,w)&&(x[w]=T[w])},p(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(g,v);function x(){this.constructor=g}g.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.CellHookData=o.HookData=void 0;var c=function(){function p(g,v,x){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=x,this.doc=g.getDocument()}return p}();o.HookData=c;var d=function(p){l(g,p);function g(v,x,T,w,B,C){var L=p.call(this,v,x,C)||this;return L.cell=T,L.row=w,L.column=B,L.section=w.section,L}return g}(c);o.CellHookData=d},340:function(a,o,l){Object.defineProperty(o,"__esModule",{value:!0});var c=l(4),d=l(136),p=l(744),g=l(776),v=l(664),x=l(972);function T(w){w.API.autoTable=function(){for(var B=[],C=0;C<arguments.length;C++)B[C]=arguments[C];var L;B.length===1?L=B[0]:(console.error("Use of deprecated autoTable initiation"),L=B[2]||{},L.columns=B[0],L.body=B[1]);var D=(0,g.parseInput)(this,L),M=(0,x.createTable)(this,D);return(0,v.drawTable)(this,M),this},w.API.lastAutoTable=!1,w.API.previousAutoTable=!1,w.API.autoTable.previous=!1,w.API.autoTableText=function(B,C,L,D){(0,d.default)(B,C,L,D,this)},w.API.autoTableSetDefaults=function(B){return p.DocHandler.setDefaults(B,this),this},w.autoTableSetDefaults=function(B,C){p.DocHandler.setDefaults(B,C)},w.API.autoTableHtmlToJson=function(B,C){var L;if(C===void 0&&(C=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var D=new p.DocHandler(this),M=(0,c.parseHtml)(D,B,window,C,!1),S=M.head,E=M.body,k=((L=S[0])===null||L===void 0?void 0:L.map(function(O){return O.content}))||[];return{columns:k,rows:E,data:E}},w.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var B=this.lastAutoTable;return B&&B.finalY?B.finalY:0},w.API.autoTableAddPageContent=function(B){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),w.API.autoTable.globalDefaults||(w.API.autoTable.globalDefaults={}),w.API.autoTable.globalDefaults.addPageContent=B,this},w.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}o.default=T},136:function(a,o){Object.defineProperty(o,"__esModule",{value:!0});function l(c,d,p,g,v){g=g||{};var x=1.15,T=v.internal.scaleFactor,w=v.internal.getFontSize()/T,B=v.getLineHeightFactor?v.getLineHeightFactor():x,C=w*B,L=/\r\n|\r|\n/g,D="",M=1;if((g.valign==="middle"||g.valign==="bottom"||g.halign==="center"||g.halign==="right")&&(D=typeof c=="string"?c.split(L):c,M=D.length||1),p+=w*(2-x),g.valign==="middle"?p-=M/2*C:g.valign==="bottom"&&(p-=M*C),g.halign==="center"||g.halign==="right"){var S=w;if(g.halign==="center"&&(S*=.5),D&&M>=1){for(var E=0;E<D.length;E++)v.text(D[E],d-v.getStringUnitWidth(D[E])*S,p),p+=C;return v}d-=v.getStringUnitWidth(c)*S}return g.halign==="justify"?v.text(c,d,p,{maxWidth:g.maxWidth||100,align:"justify"}):v.text(c,d,p),v}o.default=l},420:function(a,o){Object.defineProperty(o,"__esModule",{value:!0}),o.getPageAvailableWidth=o.parseSpacing=o.getFillStyle=o.addTableBorder=o.getStringWidth=void 0;function l(v,x,T){T.applyStyles(x,!0);var w=Array.isArray(v)?v:[v],B=w.map(function(C){return T.getTextWidth(C)}).reduce(function(C,L){return Math.max(C,L)},0);return B}o.getStringWidth=l;function c(v,x,T,w){var B=x.settings.tableLineWidth,C=x.settings.tableLineColor;v.applyStyles({lineWidth:B,lineColor:C});var L=d(B,!1);L&&v.rect(T.x,T.y,x.getWidth(v.pageSize().width),w.y-T.y,L)}o.addTableBorder=c;function d(v,x){var T=v>0,w=x||x===0;return T&&w?"DF":T?"S":w?"F":null}o.getFillStyle=d;function p(v,x){var T,w,B,C;if(v=v||x,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=x}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(T=v.left)!==null&&T!==void 0?T:x,top:(w=v.top)!==null&&w!==void 0?w:x,right:(B=v.right)!==null&&B!==void 0?B:x,bottom:(C=v.bottom)!==null&&C!==void 0?C:x}):(typeof v!="number"&&(v=x),{top:v,right:v,bottom:v,left:v})}o.parseSpacing=p;function g(v,x){var T=p(x.settings.margin,0);return v.pageSize().width-(T.left+T.right)}o.getPageAvailableWidth=g},796:function(a,o){var l=this&&this.__extends||function(){var g=function(v,x){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,w){T.__proto__=w}||function(T,w){for(var B in w)Object.prototype.hasOwnProperty.call(w,B)&&(T[B]=w[B])},g(v,x)};return function(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");g(v,x);function T(){this.constructor=v}v.prototype=x===null?Object.create(x):(T.prototype=x.prototype,new T)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.getTheme=o.defaultStyles=o.HtmlRowInput=void 0;var c=function(g){l(v,g);function v(x){var T=g.call(this)||this;return T._element=x,T}return v}(Array);o.HtmlRowInput=c;function d(g){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/g,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}o.defaultStyles=d;function p(g){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[g]}o.getTheme=p},903:function(a,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.parseCss=void 0;var c=l(420);function d(T,w,B,C,L){var D={},M=1.3333333333333333,S=g(w,function(P){return L.getComputedStyle(P).backgroundColor});S!=null&&(D.fillColor=S);var E=g(w,function(P){return L.getComputedStyle(P).color});E!=null&&(D.textColor=E);var k=x(C,B);k&&(D.cellPadding=k);var O="borderTopColor",_=M*B,F=C.borderTopWidth;if(C.borderBottomWidth===F&&C.borderRightWidth===F&&C.borderLeftWidth===F){var U=(parseFloat(F)||0)/_;U&&(D.lineWidth=U)}else D.lineWidth={top:(parseFloat(C.borderTopWidth)||0)/_,right:(parseFloat(C.borderRightWidth)||0)/_,bottom:(parseFloat(C.borderBottomWidth)||0)/_,left:(parseFloat(C.borderLeftWidth)||0)/_},D.lineWidth.top||(D.lineWidth.right?O="borderRightColor":D.lineWidth.bottom?O="borderBottomColor":D.lineWidth.left&&(O="borderLeftColor"));var Y=g(w,function(P){return L.getComputedStyle(P)[O]});Y!=null&&(D.lineColor=Y);var ue=["left","right","center","justify"];ue.indexOf(C.textAlign)!==-1&&(D.halign=C.textAlign),ue=["middle","bottom","top"],ue.indexOf(C.verticalAlign)!==-1&&(D.valign=C.verticalAlign);var te=parseInt(C.fontSize||"");isNaN(te)||(D.fontSize=te/M);var K=p(C);K&&(D.fontStyle=K);var $=(C.fontFamily||"").toLowerCase();return T.indexOf($)!==-1&&(D.font=$),D}o.parseCss=d;function p(T){var w="";return(T.fontWeight==="bold"||T.fontWeight==="bolder"||parseInt(T.fontWeight)>=700)&&(w="bold"),(T.fontStyle==="italic"||T.fontStyle==="oblique")&&(w+="italic"),w}function g(T,w){var B=v(T,w);if(!B)return null;var C=B.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!C||!Array.isArray(C))return null;var L=[parseInt(C[1]),parseInt(C[2]),parseInt(C[3])],D=parseInt(C[4]);return D===0||isNaN(L[0])||isNaN(L[1])||isNaN(L[2])?null:L}function v(T,w){var B=w(T);return B==="rgba(0, 0, 0, 0)"||B==="transparent"||B==="initial"||B==="inherit"?T.parentElement==null?null:v(T.parentElement,w):B}function x(T,w){var B=[T.paddingTop,T.paddingRight,T.paddingBottom,T.paddingLeft],C=96/(72/w),L=(parseInt(T.lineHeight)-parseInt(T.fontSize))/w/2,D=B.map(function(S){return parseInt(S||"0")/C}),M=(0,c.parseSpacing)(D,0);return L>M.top&&(M.top=L),L>M.bottom&&(M.bottom=L),M}},744:function(a,o){Object.defineProperty(o,"__esModule",{value:!0}),o.DocHandler=void 0;var l={},c=function(){function d(p){this.jsPDFDocument=p,this.userStyles={textColor:p.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle,font:p.internal.getFont().fontName,lineWidth:p.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:p.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return d.setDefaults=function(p,g){g===void 0&&(g=null),g?g.__autoTableDocumentDefaults=p:l=p},d.unifyColor=function(p){return Array.isArray(p)?p:typeof p=="number"?[p,p,p]:typeof p=="string"?[p]:null},d.prototype.applyStyles=function(p,g){var v,x,T;g===void 0&&(g=!1),p.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(p.fontStyle);var w=this.jsPDFDocument.internal.getFont(),B=w.fontStyle,C=w.fontName;if(p.font&&(C=p.font),p.fontStyle){B=p.fontStyle;var L=this.getFontList()[C];L&&L.indexOf(B)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(L[0]),B=L[0])}if(this.jsPDFDocument.setFont(C,B),p.fontSize&&this.jsPDFDocument.setFontSize(p.fontSize),!g){var D=d.unifyColor(p.fillColor);D&&(v=this.jsPDFDocument).setFillColor.apply(v,D),D=d.unifyColor(p.textColor),D&&(x=this.jsPDFDocument).setTextColor.apply(x,D),D=d.unifyColor(p.lineColor),D&&(T=this.jsPDFDocument).setDrawColor.apply(T,D),typeof p.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(p.lineWidth)}},d.prototype.splitTextToSize=function(p,g,v){return this.jsPDFDocument.splitTextToSize(p,g,v)},d.prototype.rect=function(p,g,v,x,T){return this.jsPDFDocument.rect(p,g,v,x,T)},d.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},d.prototype.getTextWidth=function(p){return this.jsPDFDocument.getTextWidth(p)},d.prototype.getDocument=function(){return this.jsPDFDocument},d.prototype.setPage=function(p){this.jsPDFDocument.setPage(p)},d.prototype.addPage=function(){return this.jsPDFDocument.addPage()},d.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},d.prototype.getGlobalOptions=function(){return l||{}},d.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},d.prototype.pageSize=function(){var p=this.jsPDFDocument.internal.pageSize;return p.width==null&&(p={width:p.getWidth(),height:p.getHeight()}),p},d.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},d.prototype.getLineHeightFactor=function(){var p=this.jsPDFDocument;return p.getLineHeightFactor?p.getLineHeightFactor():1.15},d.prototype.getLineHeight=function(p){return p/this.scaleFactor()*this.getLineHeightFactor()},d.prototype.pageNumber=function(){var p=this.jsPDFDocument.internal.getCurrentPageInfo();return p?p.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},d}();o.DocHandler=c},4:function(a,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.parseHtml=void 0;var c=l(903),d=l(796);function p(x,T,w,B,C){var L,D;B===void 0&&(B=!1),C===void 0&&(C=!1);var M;typeof T=="string"?M=w.document.querySelector(T):M=T;var S=Object.keys(x.getFontList()),E=x.scaleFactor(),k=[],O=[],_=[];if(!M)return console.error("Html table could not be found with input: ",T),{head:k,body:O,foot:_};for(var F=0;F<M.rows.length;F++){var U=M.rows[F],Y=(D=(L=U==null?void 0:U.parentElement)===null||L===void 0?void 0:L.tagName)===null||D===void 0?void 0:D.toLowerCase(),ue=g(S,E,w,U,B,C);ue&&(Y==="thead"?k.push(ue):Y==="tfoot"?_.push(ue):O.push(ue))}return{head:k,body:O,foot:_}}o.parseHtml=p;function g(x,T,w,B,C,L){for(var D=new d.HtmlRowInput(B),M=0;M<B.cells.length;M++){var S=B.cells[M],E=w.getComputedStyle(S);if(C||E.display!=="none"){var k=void 0;L&&(k=(0,c.parseCss)(x,S,T,E,w)),D.push({rowSpan:S.rowSpan,colSpan:S.colSpan,styles:k,_element:S,content:v(S)})}}var O=w.getComputedStyle(B);if(D.length>0&&(C||O.display!=="none"))return D}function v(x){var T=x.cloneNode(!0);return T.innerHTML=T.innerHTML.replace(/\n/g,"").replace(/ +/g," "),T.innerHTML=T.innerHTML.split(/<br.*?>/).map(function(w){return w.trim()}).join(`
`),T.innerText||T.textContent||""}},776:function(a,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.parseInput=void 0;var c=l(4),d=l(356),p=l(420),g=l(744),v=l(792);function x(M,S){var E=new g.DocHandler(M),k=E.getDocumentOptions(),O=E.getGlobalOptions();(0,v.default)(E,O,k,S);var _=(0,d.assign)({},O,k,S),F;typeof window<"u"&&(F=window);var U=T(O,k,S),Y=w(O,k,S),ue=B(E,_),te=L(E,_,F);return{id:S.tableId,content:te,hooks:Y,styles:U,settings:ue}}o.parseInput=x;function T(M,S,E){for(var k={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},O=function(Y){if(Y==="columnStyles"){var ue=M[Y],te=S[Y],K=E[Y];k.columnStyles=(0,d.assign)({},ue,te,K)}else{var $=[M,S,E],P=$.map(function(G){return G[Y]||{}});k[Y]=(0,d.assign)({},P[0],P[1],P[2])}},_=0,F=Object.keys(k);_<F.length;_++){var U=F[_];O(U)}return k}function w(M,S,E){for(var k=[M,S,E],O={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},_=0,F=k;_<F.length;_++){var U=F[_];U.didParseCell&&O.didParseCell.push(U.didParseCell),U.willDrawCell&&O.willDrawCell.push(U.willDrawCell),U.didDrawCell&&O.didDrawCell.push(U.didDrawCell),U.willDrawPage&&O.willDrawPage.push(U.willDrawPage),U.didDrawPage&&O.didDrawPage.push(U.didDrawPage)}return O}function B(M,S){var E,k,O,_,F,U,Y,ue,te,K,$,P,G=(0,p.parseSpacing)(S.margin,40/M.scaleFactor()),ne=(E=C(M,S.startY))!==null&&E!==void 0?E:G.top,N;S.showFoot===!0?N="everyPage":S.showFoot===!1?N="never":N=(k=S.showFoot)!==null&&k!==void 0?k:"everyPage";var j;S.showHead===!0?j="everyPage":S.showHead===!1?j="never":j=(O=S.showHead)!==null&&O!==void 0?O:"everyPage";var W=(_=S.useCss)!==null&&_!==void 0?_:!1,ee=S.theme||(W?"plain":"striped"),re=!!S.horizontalPageBreak,oe=(F=S.horizontalPageBreakRepeat)!==null&&F!==void 0?F:null;return{includeHiddenHtml:(U=S.includeHiddenHtml)!==null&&U!==void 0?U:!1,useCss:W,theme:ee,startY:ne,margin:G,pageBreak:(Y=S.pageBreak)!==null&&Y!==void 0?Y:"auto",rowPageBreak:(ue=S.rowPageBreak)!==null&&ue!==void 0?ue:"auto",tableWidth:(te=S.tableWidth)!==null&&te!==void 0?te:"auto",showHead:j,showFoot:N,tableLineWidth:(K=S.tableLineWidth)!==null&&K!==void 0?K:0,tableLineColor:($=S.tableLineColor)!==null&&$!==void 0?$:200,horizontalPageBreak:re,horizontalPageBreakRepeat:oe,horizontalPageBreakBehaviour:(P=S.horizontalPageBreakBehaviour)!==null&&P!==void 0?P:"afterAllRows"}}function C(M,S){var E=M.getLastAutoTable(),k=M.scaleFactor(),O=M.pageNumber(),_=!1;if(E&&E.startPageNumber){var F=E.startPageNumber+E.pageNumber-1;_=F===O}return typeof S=="number"?S:(S==null||S===!1)&&_&&(E==null?void 0:E.finalY)!=null?E.finalY+20/k:null}function L(M,S,E){var k=S.head||[],O=S.body||[],_=S.foot||[];if(S.html){var F=S.includeHiddenHtml;if(E){var U=(0,c.parseHtml)(M,S.html,E,F,S.useCss)||{};k=U.head||k,O=U.body||k,_=U.foot||k}else console.error("Cannot parse html in non browser environment")}var Y=S.columns||D(k,O,_);return{columns:Y,head:k,body:O,foot:_}}function D(M,S,E){var k=M[0]||S[0]||E[0]||[],O=[];return Object.keys(k).filter(function(_){return _!=="_element"}).forEach(function(_){var F=1,U;Array.isArray(k)?U=k[parseInt(_)]:U=k[_],typeof U=="object"&&!Array.isArray(U)&&(F=(U==null?void 0:U.colSpan)||1);for(var Y=0;Y<F;Y++){var ue=void 0;Array.isArray(k)?ue=O.length:ue=_+(Y>0?"_".concat(Y):"");var te={dataKey:ue};O.push(te)}}),O}},792:function(a,o){Object.defineProperty(o,"__esModule",{value:!0});function l(d,p,g,v){for(var x=function(C){C&&typeof C!="object"&&console.error("The options parameter should be of type object, is: "+typeof C),typeof C.extendWidth<"u"&&(C.tableWidth=C.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof C.margins<"u"&&(typeof C.margin>"u"&&(C.margin=C.margins),console.error("Use of deprecated option: margins, use margin instead.")),C.startY&&typeof C.startY!="number"&&(console.error("Invalid value for startY option",C.startY),delete C.startY),!C.didDrawPage&&(C.afterPageContent||C.beforePageContent||C.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),C.didDrawPage=function(_){d.applyStyles(d.userStyles),C.beforePageContent&&C.beforePageContent(_),d.applyStyles(d.userStyles),C.afterPageContent&&C.afterPageContent(_),d.applyStyles(d.userStyles),C.afterPageAdd&&_.pageNumber>1&&_.afterPageAdd(_),d.applyStyles(d.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(_){C[_]&&console.error('The "'.concat(_,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(_){var F=_[0],U=_[1];C[U]&&(console.error("Use of deprecated option ".concat(U,". Use ").concat(F," instead")),C[F]=C[U])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(_){var F=typeof _=="string"?_:_[0],U=typeof _=="string"?_:_[1];typeof C[F]<"u"&&(typeof C.styles[U]>"u"&&(C.styles[U]=C[F]),console.error("Use of deprecated option: "+F+", use the style "+U+" instead."))});for(var L=0,D=["styles","bodyStyles","headStyles","footStyles"];L<D.length;L++){var M=D[L];c(C[M]||{})}for(var S=C.columnStyles||{},E=0,k=Object.keys(S);E<k.length;E++){var O=k[E];c(S[O]||{})}},T=0,w=[p,g,v];T<w.length;T++){var B=w[T];x(B)}}o.default=l;function c(d){d.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),d.minCellHeight||(d.minCellHeight=d.rowHeight)):d.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),d.cellWidth||(d.cellWidth=d.columnWidth))}},260:function(a,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.Column=o.Cell=o.Row=o.Table=void 0;var c=l(796),d=l(172),p=l(420),g=function(){function w(B,C){this.pageNumber=1,this.pageCount=1,this.id=B.id,this.settings=B.settings,this.styles=B.styles,this.hooks=B.hooks,this.columns=C.columns,this.head=C.head,this.body=C.body,this.foot=C.foot}return w.prototype.getHeadHeight=function(B){return this.head.reduce(function(C,L){return C+L.getMaxCellHeight(B)},0)},w.prototype.getFootHeight=function(B){return this.foot.reduce(function(C,L){return C+L.getMaxCellHeight(B)},0)},w.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},w.prototype.callCellHooks=function(B,C,L,D,M,S){for(var E=0,k=C;E<k.length;E++){var O=k[E],_=new d.CellHookData(B,this,L,D,M,S),F=O(_)===!1;if(L.text=Array.isArray(L.text)?L.text:[L.text],F)return!1}return!0},w.prototype.callEndPageHooks=function(B,C){B.applyStyles(B.userStyles);for(var L=0,D=this.hooks.didDrawPage;L<D.length;L++){var M=D[L];M(new d.HookData(B,this,C))}},w.prototype.callWillDrawPageHooks=function(B,C){for(var L=0,D=this.hooks.willDrawPage;L<D.length;L++){var M=D[L];M(new d.HookData(B,this,C))}},w.prototype.getWidth=function(B){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var C=this.columns.reduce(function(D,M){return D+M.wrappedWidth},0);return C}else{var L=this.settings.margin;return B-L.left-L.right}},w}();o.Table=g;var v=function(){function w(B,C,L,D,M){M===void 0&&(M=!1),this.height=0,this.raw=B,B instanceof c.HtmlRowInput&&(this.raw=B._element,this.element=B._element),this.index=C,this.section=L,this.cells=D,this.spansMultiplePages=M}return w.prototype.getMaxCellHeight=function(B){var C=this;return B.reduce(function(L,D){var M;return Math.max(L,((M=C.cells[D.index])===null||M===void 0?void 0:M.height)||0)},0)},w.prototype.hasRowSpan=function(B){var C=this;return B.filter(function(L){var D=C.cells[L.index];return D?D.rowSpan>1:!1}).length>0},w.prototype.canEntireRowFit=function(B,C){return this.getMaxCellHeight(C)<=B},w.prototype.getMinimumRowHeight=function(B,C){var L=this;return B.reduce(function(D,M){var S=L.cells[M.index];if(!S)return 0;var E=C.getLineHeight(S.styles.fontSize),k=S.padding("vertical"),O=k+E;return O>D?O:D},0)},w}();o.Row=v;var x=function(){function w(B,C,L){var D,M;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=C,this.section=L,this.raw=B;var S=B;B!=null&&typeof B=="object"&&!Array.isArray(B)?(this.rowSpan=B.rowSpan||1,this.colSpan=B.colSpan||1,S=(M=(D=B.content)!==null&&D!==void 0?D:B.title)!==null&&M!==void 0?M:B,B._element&&(this.raw=B._element)):(this.rowSpan=1,this.colSpan=1);var E=S!=null?""+S:"",k=/\r\n|\r|\n/g;this.text=E.split(k)}return w.prototype.getTextPos=function(){var B;if(this.styles.valign==="top")B=this.y+this.padding("top");else if(this.styles.valign==="bottom")B=this.y+this.height-this.padding("bottom");else{var C=this.height-this.padding("vertical");B=this.y+C/2+this.padding("top")}var L;if(this.styles.halign==="right")L=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var D=this.width-this.padding("horizontal");L=this.x+D/2+this.padding("left")}else L=this.x+this.padding("left");return{x:L,y:B}},w.prototype.getContentHeight=function(B,C){C===void 0&&(C=1.15);var L=Array.isArray(this.text)?this.text.length:1,D=this.styles.fontSize/B*C,M=L*D+this.padding("vertical");return Math.max(M,this.styles.minCellHeight)},w.prototype.padding=function(B){var C=(0,p.parseSpacing)(this.styles.cellPadding,0);return B==="vertical"?C.top+C.bottom:B==="horizontal"?C.left+C.right:C[B]},w}();o.Cell=x;var T=function(){function w(B,C,L){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=B,this.raw=C,this.index=L}return w.prototype.getMaxCustomCellWidth=function(B){for(var C=0,L=0,D=B.allRows();L<D.length;L++){var M=D[L],S=M.cells[this.index];S&&typeof S.styles.cellWidth=="number"&&(C=Math.max(C,S.styles.cellWidth))}return C},w}();o.Column=T},356:function(a,o){Object.defineProperty(o,"__esModule",{value:!0}),o.assign=void 0;function l(c,d,p,g,v){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(c),T=1;T<arguments.length;T++){var w=arguments[T];if(w!=null)for(var B in w)Object.prototype.hasOwnProperty.call(w,B)&&(x[B]=w[B])}return x}o.assign=l},972:function(a,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.createTable=void 0;var c=l(744),d=l(260),p=l(324),g=l(796),v=l(356);function x(M,S){var E=new c.DocHandler(M),k=T(S,E.scaleFactor()),O=new d.Table(S,k);return(0,p.calculateWidths)(E,O),E.applyStyles(E.userStyles),O}o.createTable=x;function T(M,S){var E=M.content,k=L(E.columns);if(E.head.length===0){var O=B(k,"head");O&&E.head.push(O)}if(E.foot.length===0){var O=B(k,"foot");O&&E.foot.push(O)}var _=M.settings.theme,F=M.styles;return{columns:k,head:w("head",E.head,k,F,_,S),body:w("body",E.body,k,F,_,S),foot:w("foot",E.foot,k,F,_,S)}}function w(M,S,E,k,O,_){var F={},U=S.map(function(Y,ue){for(var te=0,K={},$=0,P=0,G=0,ne=E;G<ne.length;G++){var N=ne[G];if(F[N.index]==null||F[N.index].left===0)if(P===0){var j=void 0;Array.isArray(Y)?j=Y[N.index-$-te]:j=Y[N.dataKey];var W={};typeof j=="object"&&!Array.isArray(j)&&(W=(j==null?void 0:j.styles)||{});var ee=D(M,N,ue,O,k,_,W),re=new d.Cell(j,ee,M);K[N.dataKey]=re,K[N.index]=re,P=re.colSpan-1,F[N.index]={left:re.rowSpan-1,times:P}}else P--,$++;else F[N.index].left--,P=F[N.index].times,te++}return new d.Row(Y,ue,M,K)});return U}function B(M,S){var E={};return M.forEach(function(k){if(k.raw!=null){var O=C(S,k.raw);O!=null&&(E[k.dataKey]=O)}}),Object.keys(E).length>0?E:null}function C(M,S){if(M==="head"){if(typeof S=="object")return S.header||S.title||null;if(typeof S=="string"||typeof S=="number")return S}else if(M==="foot"&&typeof S=="object")return S.footer;return null}function L(M){return M.map(function(S,E){var k,O,_;return typeof S=="object"?_=(O=(k=S.dataKey)!==null&&k!==void 0?k:S.key)!==null&&O!==void 0?O:E:_=E,new d.Column(_,S,E)})}function D(M,S,E,k,O,_,F){var U=(0,g.getTheme)(k),Y;M==="head"?Y=O.headStyles:M==="body"?Y=O.bodyStyles:M==="foot"&&(Y=O.footStyles);var ue=(0,v.assign)({},U.table,U[M],O.styles,Y),te=O.columnStyles[S.dataKey]||O.columnStyles[S.index]||{},K=M==="body"?te:{},$=M==="body"&&E%2===0?(0,v.assign)({},U.alternateRow,O.alternateRowStyles):{},P=(0,g.defaultStyles)(_),G=(0,v.assign)({},P,ue,$,K);return(0,v.assign)(G,F)}},664:function(a,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.addPage=o.drawTable=void 0;var c=l(420),d=l(260),p=l(744),g=l(356),v=l(136),x=l(224);function T(te,K){var $=K.settings,P=$.startY,G=$.margin,ne={x:G.left,y:P},N=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns),j=P+G.bottom+N;if($.pageBreak==="avoid"){var W=K.body,ee=W.reduce(function(ge,ye){return ge+ye.height},0);j+=ee}var re=new p.DocHandler(te);($.pageBreak==="always"||$.startY!=null&&j>re.pageSize().height)&&(ue(re),ne.y=G.top),K.callWillDrawPageHooks(re,ne);var oe=(0,g.assign)({},ne);K.startPageNumber=re.pageNumber(),$.horizontalPageBreak?w(re,K,oe,ne):(re.applyStyles(re.userStyles),($.showHead==="firstPage"||$.showHead==="everyPage")&&K.head.forEach(function(ge){return O(re,K,ge,ne,K.columns)}),re.applyStyles(re.userStyles),K.body.forEach(function(ge,ye){var Fe=ye===K.body.length-1;k(re,K,ge,Fe,oe,ne,K.columns)}),re.applyStyles(re.userStyles),($.showFoot==="lastPage"||$.showFoot==="everyPage")&&K.foot.forEach(function(ge){return O(re,K,ge,ne,K.columns)})),(0,c.addTableBorder)(re,K,oe,ne),K.callEndPageHooks(re,ne),K.finalY=ne.y,te.lastAutoTable=K,te.previousAutoTable=K,te.autoTable&&(te.autoTable.previous=K),re.applyStyles(re.userStyles)}o.drawTable=T;function w(te,K,$,P){var G=(0,x.calculateAllColumnsCanFitInPage)(te,K),ne=K.settings;if(ne.horizontalPageBreakBehaviour==="afterAllRows")G.forEach(function(ee,re){te.applyStyles(te.userStyles),re>0?Y(te,K,$,P,ee.columns,!0):B(te,K,P,ee.columns),C(te,K,$,P,ee.columns),D(te,K,P,ee.columns)});else for(var N=-1,j=G[0],W=function(){var ee=N;if(j){te.applyStyles(te.userStyles);var re=j.columns;N>=0?Y(te,K,$,P,re,!0):B(te,K,P,re),ee=L(te,K,N+1,P,re),D(te,K,P,re)}var oe=ee-N;G.slice(1).forEach(function(ge){te.applyStyles(te.userStyles),Y(te,K,$,P,ge.columns,!0),L(te,K,N+1,P,ge.columns,oe),D(te,K,P,ge.columns)}),N=ee};N<K.body.length-1;)W()}function B(te,K,$,P){var G=K.settings;te.applyStyles(te.userStyles),(G.showHead==="firstPage"||G.showHead==="everyPage")&&K.head.forEach(function(ne){return O(te,K,ne,$,P)})}function C(te,K,$,P,G){te.applyStyles(te.userStyles),K.body.forEach(function(ne,N){var j=N===K.body.length-1;k(te,K,ne,j,$,P,G)})}function L(te,K,$,P,G,ne){te.applyStyles(te.userStyles),ne=ne??K.body.length;var N=Math.min($+ne,K.body.length),j=-1;return K.body.slice($,N).forEach(function(W,ee){var re=$+ee===K.body.length-1,oe=U(te,K,re,P);W.canEntireRowFit(oe,G)&&(O(te,K,W,P,G),j=$+ee)}),j}function D(te,K,$,P){var G=K.settings;te.applyStyles(te.userStyles),(G.showFoot==="lastPage"||G.showFoot==="everyPage")&&K.foot.forEach(function(ne){return O(te,K,ne,$,P)})}function M(te,K,$){var P=$.getLineHeight(te.styles.fontSize),G=te.padding("vertical"),ne=Math.floor((K-G)/P);return Math.max(0,ne)}function S(te,K,$,P){var G={};te.spansMultiplePages=!0,te.height=0;for(var ne=0,N=0,j=$.columns;N<j.length;N++){var W=j[N],ee=te.cells[W.index];if(ee){Array.isArray(ee.text)||(ee.text=[ee.text]);var re=new d.Cell(ee.raw,ee.styles,ee.section);re=(0,g.assign)(re,ee),re.text=[];var oe=M(ee,K,P);ee.text.length>oe&&(re.text=ee.text.splice(oe,ee.text.length));var ge=P.scaleFactor(),ye=P.getLineHeightFactor();ee.contentHeight=ee.getContentHeight(ge,ye),ee.contentHeight>=K&&(ee.contentHeight=K,re.styles.minCellHeight-=K),ee.contentHeight>te.height&&(te.height=ee.contentHeight),re.contentHeight=re.getContentHeight(ge,ye),re.contentHeight>ne&&(ne=re.contentHeight),G[W.index]=re}}var Fe=new d.Row(te.raw,-1,te.section,G,!0);Fe.height=ne;for(var ke=0,Oe=$.columns;ke<Oe.length;ke++){var W=Oe[ke],re=Fe.cells[W.index];re&&(re.height=Fe.height);var ee=te.cells[W.index];ee&&(ee.height=te.height)}return Fe}function E(te,K,$,P){var G=te.pageSize().height,ne=P.settings.margin,N=ne.top+ne.bottom,j=G-N;K.section==="body"&&(j-=P.getHeadHeight(P.columns)+P.getFootHeight(P.columns));var W=K.getMinimumRowHeight(P.columns,te),ee=W<$;if(W>j)return console.error("Will not be able to print row ".concat(K.index," correctly since it's minimum height is larger than page height")),!0;if(!ee)return!1;var re=K.hasRowSpan(P.columns),oe=K.getMaxCellHeight(P.columns)>j;return oe?(re&&console.error("The content of row ".concat(K.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(re||P.settings.rowPageBreak==="avoid")}function k(te,K,$,P,G,ne,N){var j=U(te,K,P,ne);if($.canEntireRowFit(j,N))O(te,K,$,ne,N);else if(E(te,$,j,K)){var W=S($,j,K,te);O(te,K,$,ne,N),Y(te,K,G,ne,N),k(te,K,W,P,G,ne,N)}else Y(te,K,G,ne,N),k(te,K,$,P,G,ne,N)}function O(te,K,$,P,G){P.x=K.settings.margin.left;for(var ne=0,N=G;ne<N.length;ne++){var j=N[ne],W=$.cells[j.index];if(!W){P.x+=j.width;continue}te.applyStyles(W.styles),W.x=P.x,W.y=P.y;var ee=K.callCellHooks(te,K.hooks.willDrawCell,W,$,j,P);if(ee===!1){P.x+=j.width;continue}_(te,W,P);var re=W.getTextPos();(0,v.default)(W.text,re.x,re.y,{halign:W.styles.halign,valign:W.styles.valign,maxWidth:Math.ceil(W.width-W.padding("left")-W.padding("right"))},te.getDocument()),K.callCellHooks(te,K.hooks.didDrawCell,W,$,j,P),P.x+=j.width}P.y+=$.height}function _(te,K,$){var P=K.styles;if(te.getDocument().setFillColor(te.getDocument().getFillColor()),typeof P.lineWidth=="number"){var G=(0,c.getFillStyle)(P.lineWidth,P.fillColor);G&&te.rect(K.x,$.y,K.width,K.height,G)}else typeof P.lineWidth=="object"&&(P.fillColor&&te.rect(K.x,$.y,K.width,K.height,"F"),F(te,K,$,P.lineWidth))}function F(te,K,$,P){var G,ne,N,j;P.top&&(G=$.x,ne=$.y,N=$.x+K.width,j=$.y,P.right&&(N+=.5*P.right),P.left&&(G-=.5*P.left),W(P.top,G,ne,N,j)),P.bottom&&(G=$.x,ne=$.y+K.height,N=$.x+K.width,j=$.y+K.height,P.right&&(N+=.5*P.right),P.left&&(G-=.5*P.left),W(P.bottom,G,ne,N,j)),P.left&&(G=$.x,ne=$.y,N=$.x,j=$.y+K.height,P.top&&(ne-=.5*P.top),P.bottom&&(j+=.5*P.bottom),W(P.left,G,ne,N,j)),P.right&&(G=$.x+K.width,ne=$.y,N=$.x+K.width,j=$.y+K.height,P.top&&(ne-=.5*P.top),P.bottom&&(j+=.5*P.bottom),W(P.right,G,ne,N,j));function W(ee,re,oe,ge,ye){te.getDocument().setLineWidth(ee),te.getDocument().line(re,oe,ge,ye,"S")}}function U(te,K,$,P){var G=K.settings.margin.bottom,ne=K.settings.showFoot;return(ne==="everyPage"||ne==="lastPage"&&$)&&(G+=K.getFootHeight(K.columns)),te.pageSize().height-P.y-G}function Y(te,K,$,P,G,ne){G===void 0&&(G=[]),ne===void 0&&(ne=!1),te.applyStyles(te.userStyles),K.settings.showFoot==="everyPage"&&!ne&&K.foot.forEach(function(j){return O(te,K,j,P,G)}),K.callEndPageHooks(te,P);var N=K.settings.margin;(0,c.addTableBorder)(te,K,$,P),ue(te),K.pageNumber++,K.pageCount++,P.x=N.left,P.y=N.top,$.y=N.top,K.callWillDrawPageHooks(te,P),K.settings.showHead==="everyPage"&&(K.head.forEach(function(j){return O(te,K,j,P,G)}),te.applyStyles(te.userStyles))}o.addPage=Y;function ue(te){var K=te.pageNumber();te.setPage(K+1);var $=te.pageNumber();return $===K?(te.addPage(),!0):!1}},224:function(a,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.calculateAllColumnsCanFitInPage=void 0;var c=l(420);function d(g,v,x){var T;x===void 0&&(x={});var w=(0,c.getPageAvailableWidth)(g,v),B=new Map,C=[],L=[],D=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?D=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(D=[v.settings.horizontalPageBreakRepeat]),D.forEach(function(k){var O=v.columns.find(function(_){return _.dataKey===k||_.index===k});O&&!B.has(O.index)&&(B.set(O.index,!0),C.push(O.index),L.push(v.columns[O.index]),w-=O.wrappedWidth)});for(var M=!0,S=(T=x==null?void 0:x.start)!==null&&T!==void 0?T:0;S<v.columns.length;){if(B.has(S)){S++;continue}var E=v.columns[S].wrappedWidth;if(M||w>=E)M=!1,C.push(S),L.push(v.columns[S]),w-=E;else break;S++}return{colIndexes:C,columns:L,lastIndex:S-1}}function p(g,v){for(var x=[],T=0;T<v.columns.length;T++){var w=d(g,v,{start:T});w.columns.length&&(x.push(w),T=w.lastIndex)}return x}o.calculateAllColumnsCanFitInPage=p},324:function(a,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.ellipsize=o.resizeColumns=o.calculateWidths=void 0;var c=l(420);function d(C,L){p(C,L);var D=[],M=0;L.columns.forEach(function(E){var k=E.getMaxCustomCellWidth(L);k?E.width=k:(E.width=E.wrappedWidth,D.push(E)),M+=E.width});var S=L.getWidth(C.pageSize().width)-M;S&&(S=g(D,S,function(E){return Math.max(E.minReadableWidth,E.minWidth)})),S&&(S=g(D,S,function(E){return E.minWidth})),S=Math.abs(S),!L.settings.horizontalPageBreak&&S>.1/C.scaleFactor()&&(S=S<1?S:Math.round(S),console.warn("Of the table content, ".concat(S," units width could not fit page"))),x(L),T(L,C),v(L)}o.calculateWidths=d;function p(C,L){var D=C.scaleFactor(),M=L.settings.horizontalPageBreak,S=(0,c.getPageAvailableWidth)(C,L);L.allRows().forEach(function(E){for(var k=0,O=L.columns;k<O.length;k++){var _=O[k],F=E.cells[_.index];if(F){var U=L.hooks.didParseCell;L.callCellHooks(C,U,F,E,_,null);var Y=F.padding("horizontal");F.contentWidth=(0,c.getStringWidth)(F.text,F.styles,C)+Y;var ue=(0,c.getStringWidth)(F.text.join(" ").split(/[^\S\u00A0]+/),F.styles,C);if(F.minReadableWidth=ue+F.padding("horizontal"),typeof F.styles.cellWidth=="number")F.minWidth=F.styles.cellWidth,F.wrappedWidth=F.styles.cellWidth;else if(F.styles.cellWidth==="wrap"||M===!0)F.contentWidth>S?(F.minWidth=S,F.wrappedWidth=S):(F.minWidth=F.contentWidth,F.wrappedWidth=F.contentWidth);else{var te=10/D;F.minWidth=F.styles.minCellWidth||te,F.wrappedWidth=F.contentWidth,F.minWidth>F.wrappedWidth&&(F.wrappedWidth=F.minWidth)}}}}),L.allRows().forEach(function(E){for(var k=0,O=L.columns;k<O.length;k++){var _=O[k],F=E.cells[_.index];if(F&&F.colSpan===1)_.wrappedWidth=Math.max(_.wrappedWidth,F.wrappedWidth),_.minWidth=Math.max(_.minWidth,F.minWidth),_.minReadableWidth=Math.max(_.minReadableWidth,F.minReadableWidth);else{var U=L.styles.columnStyles[_.dataKey]||L.styles.columnStyles[_.index]||{},Y=U.cellWidth||U.minCellWidth;Y&&typeof Y=="number"&&(_.minWidth=Y,_.wrappedWidth=Y)}F&&(F.colSpan>1&&!_.minWidth&&(_.minWidth=F.minWidth),F.colSpan>1&&!_.wrappedWidth&&(_.wrappedWidth=F.minWidth))}})}function g(C,L,D){for(var M=L,S=C.reduce(function(te,K){return te+K.wrappedWidth},0),E=0;E<C.length;E++){var k=C[E],O=k.wrappedWidth/S,_=M*O,F=k.width+_,U=D(k),Y=F<U?U:F;L-=Y-k.width,k.width=Y}if(L=Math.round(L*1e10)/1e10,L){var ue=C.filter(function(te){return L<0?te.width>D(te):!0});ue.length&&(L=g(ue,L,D))}return L}o.resizeColumns=g;function v(C){for(var L={},D=1,M=C.allRows(),S=0;S<M.length;S++)for(var E=M[S],k=0,O=C.columns;k<O.length;k++){var _=O[k],F=L[_.index];if(D>1)D--,delete E.cells[_.index];else if(F)F.cell.height+=E.height,D=F.cell.colSpan,delete E.cells[_.index],F.left--,F.left<=1&&delete L[_.index];else{var U=E.cells[_.index];if(!U)continue;if(U.height=E.height,U.rowSpan>1){var Y=M.length-S,ue=U.rowSpan>Y?Y:U.rowSpan;L[_.index]={cell:U,left:ue,row:E}}}}}function x(C){for(var L=C.allRows(),D=0;D<L.length;D++)for(var M=L[D],S=null,E=0,k=0,O=0;O<C.columns.length;O++){var _=C.columns[O];if(k-=1,k>1&&C.columns[O+1])E+=_.width,delete M.cells[_.index];else if(S){var F=S;delete M.cells[_.index],S=null,F.width=_.width+E}else{var F=M.cells[_.index];if(!F)continue;if(k=F.colSpan,E=0,F.colSpan>1){S=F,E+=_.width;continue}F.width=_.width+E}}}function T(C,L){for(var D={count:0,height:0},M=0,S=C.allRows();M<S.length;M++){for(var E=S[M],k=0,O=C.columns;k<O.length;k++){var _=O[k],F=E.cells[_.index];if(F){L.applyStyles(F.styles,!0);var U=F.width-F.padding("horizontal");if(F.styles.overflow==="linebreak")F.text=L.splitTextToSize(F.text,U+1/L.scaleFactor(),{fontSize:F.styles.fontSize});else if(F.styles.overflow==="ellipsize")F.text=w(F.text,U,F.styles,L,"...");else if(F.styles.overflow==="hidden")F.text=w(F.text,U,F.styles,L,"");else if(typeof F.styles.overflow=="function"){var Y=F.styles.overflow(F.text,U);typeof Y=="string"?F.text=[Y]:F.text=Y}F.contentHeight=F.getContentHeight(L.scaleFactor(),L.getLineHeightFactor());var ue=F.contentHeight/F.rowSpan;F.rowSpan>1&&D.count*D.height<ue*F.rowSpan?D={height:ue,count:F.rowSpan}:D&&D.count>0&&D.height>ue&&(ue=D.height),ue>E.height&&(E.height=ue)}}D.count--}}function w(C,L,D,M,S){return C.map(function(E){return B(E,L,D,M,S)})}o.ellipsize=w;function B(C,L,D,M,S){var E=1e4*M.scaleFactor();if(L=Math.ceil(L*E)/E,L>=(0,c.getStringWidth)(C,D,M))return C;for(;L<(0,c.getStringWidth)(C+S,D,M)&&!(C.length<=1);)C=C.substring(0,C.length-1);return C.trim()+S}},964:function(a){if(typeof r>"u"){var o=new Error("Cannot find module 'undefined'");throw o.code="MODULE_NOT_FOUND",o}a.exports=r}},i={};function s(a){var o=i[a];if(o!==void 0)return o.exports;var l=i[a]={exports:{}};return n[a].call(l.exports,l,l.exports,s),l.exports}var A={};return function(){var a=A;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var o=s(340),l=s(776),c=s(664),d=s(972),p=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return p.Table}});var g=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return g.CellHookData}});var v=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return v.Row}});function x(L){(0,o.default)(L)}a.applyPlugin=x;function T(L,D){var M=(0,l.parseInput)(L,D),S=(0,d.createTable)(L,M);(0,c.drawTable)(L,S)}function w(L,D){var M=(0,l.parseInput)(L,D);return(0,d.createTable)(L,M)}a.__createTable=w;function B(L,D){(0,c.drawTable)(L,D)}a.__drawTable=B;try{var C=s(964);C.jsPDF&&(C=C.jsPDF),x(C)}catch{}a.default=T}(),A}()})})(IJ);var FJ=Object.defineProperty,mm=Object.getOwnPropertySymbols,CN=Object.prototype.hasOwnProperty,bN=Object.prototype.propertyIsEnumerable,K_=(t,e,r)=>e in t?FJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,TJ=(t,e)=>{for(var r in e||(e={}))CN.call(e,r)&&K_(t,r,e[r]);if(mm)for(var r of mm(e))bN.call(e,r)&&K_(t,r,e[r]);return t},kJ=(t,e)=>{var r={};for(var n in t)CN.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&mm)for(var n of mm(t))e.indexOf(n)<0&&bN.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var fc;(t=>{const e=class{constructor(o,l,c,d){if(this.version=o,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let p=[];for(let v=0;v<this.size;v++)p.push(!1);for(let v=0;v<this.size;v++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(c);if(this.drawCodewords(g),d==-1){let v=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const T=this.getPenaltyScore();T<v&&(d=x,v=T),this.applyMask(x)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(o,l){const c=t.QrSegment.makeSegments(o);return e.encodeSegments(c,l)}static encodeBinary(o,l){const c=t.QrSegment.makeBytes(o);return e.encodeSegments([c],l)}static encodeSegments(o,l,c=1,d=40,p=-1,g=!0){if(!(e.MIN_VERSION<=c&&c<=d&&d<=e.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let v,x;for(v=c;;v++){const C=e.getNumDataCodewords(v,l)*8,L=a.getTotalBits(o,v);if(L<=C){x=L;break}if(v>=d)throw new RangeError("Data too long")}for(const C of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])g&&x<=e.getNumDataCodewords(v,C)*8&&(l=C);let T=[];for(const C of o){n(C.mode.modeBits,4,T),n(C.numChars,C.mode.numCharCountBits(v),T);for(const L of C.getData())T.push(L)}s(T.length==x);const w=e.getNumDataCodewords(v,l)*8;s(T.length<=w),n(0,Math.min(4,w-T.length),T),n(0,(8-T.length%8)%8,T),s(T.length%8==0);for(let C=236;T.length<w;C^=253)n(C,8,T);let B=[];for(;B.length*8<T.length;)B.push(0);return T.forEach((C,L)=>B[L>>>3]|=C<<7-(L&7)),new e(v,l,B,p)}getModule(o,l){return 0<=o&&o<this.size&&0<=l&&l<this.size&&this.modules[l][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),l=o.length;for(let c=0;c<l;c++)for(let d=0;d<l;d++)c==0&&d==0||c==0&&d==l-1||c==l-1&&d==0||this.drawAlignmentPattern(o[c],o[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const l=this.errorCorrectionLevel.formatBits<<3|o;let c=l;for(let p=0;p<10;p++)c=c<<1^(c>>>9)*1335;const d=(l<<10|c)^21522;s(d>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,i(d,p));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,i(d,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,i(d,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,i(d,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let c=0;c<12;c++)o=o<<1^(o>>>11)*7973;const l=this.version<<12|o;s(l>>>18==0);for(let c=0;c<18;c++){const d=i(l,c),p=this.size-11+c%3,g=Math.floor(c/3);this.setFunctionModule(p,g,d),this.setFunctionModule(g,p,d)}}drawFinderPattern(o,l){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){const p=Math.max(Math.abs(d),Math.abs(c)),g=o+d,v=l+c;0<=g&&g<this.size&&0<=v&&v<this.size&&this.setFunctionModule(g,v,p!=2&&p!=4)}}drawAlignmentPattern(o,l){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(o+d,l+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(o,l,c){this.modules[l][o]=c,this.isFunction[l][o]=!0}addEccAndInterleave(o){const l=this.version,c=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(l,c))throw new RangeError("Invalid argument");const d=e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l],p=e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l],g=Math.floor(e.getNumRawDataModules(l)/8),v=d-g%d,x=Math.floor(g/d);let T=[];const w=e.reedSolomonComputeDivisor(p);for(let C=0,L=0;C<d;C++){let D=o.slice(L,L+x-p+(C<v?0:1));L+=D.length;const M=e.reedSolomonComputeRemainder(D,w);C<v&&D.push(0),T.push(D.concat(M))}let B=[];for(let C=0;C<T[0].length;C++)T.forEach((L,D)=>{(C!=x-p||D>=v)&&B.push(L[C])});return s(B.length==g),B}drawCodewords(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let p=0;p<2;p++){const g=c-p,x=(c+1&2)==0?this.size-1-d:d;!this.isFunction[x][g]&&l<o.length*8&&(this.modules[x][g]=i(o[l>>>3],7-(l&7)),l++)}}s(l==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let c=0;c<this.size;c++){let d;switch(o){case 0:d=(c+l)%2==0;break;case 1:d=l%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+l)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(l/2))%2==0;break;case 5:d=c*l%2+c*l%3==0;break;case 6:d=(c*l%2+c*l%3)%2==0;break;case 7:d=((c+l)%2+c*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][c]&&d&&(this.modules[l][c]=!this.modules[l][c])}}getPenaltyScore(){let o=0;for(let p=0;p<this.size;p++){let g=!1,v=0,x=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[p][T]==g?(v++,v==5?o+=e.PENALTY_N1:v>5&&o++):(this.finderPenaltyAddHistory(v,x),g||(o+=this.finderPenaltyCountPatterns(x)*e.PENALTY_N3),g=this.modules[p][T],v=1);o+=this.finderPenaltyTerminateAndCount(g,v,x)*e.PENALTY_N3}for(let p=0;p<this.size;p++){let g=!1,v=0,x=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][p]==g?(v++,v==5?o+=e.PENALTY_N1:v>5&&o++):(this.finderPenaltyAddHistory(v,x),g||(o+=this.finderPenaltyCountPatterns(x)*e.PENALTY_N3),g=this.modules[T][p],v=1);o+=this.finderPenaltyTerminateAndCount(g,v,x)*e.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let g=0;g<this.size-1;g++){const v=this.modules[p][g];v==this.modules[p][g+1]&&v==this.modules[p+1][g]&&v==this.modules[p+1][g+1]&&(o+=e.PENALTY_N2)}let l=0;for(const p of this.modules)l=p.reduce((g,v)=>g+(v?1:0),l);const c=this.size*this.size,d=Math.ceil(Math.abs(l*20-c*10)/c)-1;return s(0<=d&&d<=9),o+=d*e.PENALTY_N4,s(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let c=[6];for(let d=this.size-7;c.length<o;d-=l)c.splice(1,0,d);return c}}static getNumRawDataModules(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*o+128)*o+64;if(o>=2){const c=Math.floor(o/7)+2;l-=(25*c-10)*c-55,o>=7&&(l-=36)}return s(208<=l&&l<=29648),l}static getNumDataCodewords(o,l){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let l=[];for(let d=0;d<o-1;d++)l.push(0);l.push(1);let c=1;for(let d=0;d<o;d++){for(let p=0;p<l.length;p++)l[p]=e.reedSolomonMultiply(l[p],c),p+1<l.length&&(l[p]^=l[p+1]);c=e.reedSolomonMultiply(c,2)}return l}static reedSolomonComputeRemainder(o,l){let c=l.map(d=>0);for(const d of o){const p=d^c.shift();c.push(0),l.forEach((g,v)=>c[v]^=e.reedSolomonMultiply(g,p))}return c}static reedSolomonMultiply(o,l){if(o>>>8||l>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(l>>>d&1)*o;return s(c>>>8==0),c}finderPenaltyCountPatterns(o){const l=o[1];s(l<=this.size*3);const c=l>0&&o[2]==l&&o[3]==l*3&&o[4]==l&&o[5]==l;return(c&&o[0]>=l*4&&o[6]>=l?1:0)+(c&&o[6]>=l*4&&o[0]>=l?1:0)}finderPenaltyTerminateAndCount(o,l,c){return o&&(this.finderPenaltyAddHistory(l,c),l=0),l+=this.size,this.finderPenaltyAddHistory(l,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(o,l){l[0]==0&&(o+=this.size),l.pop(),l.unshift(o)}};let r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function n(o,l,c){if(l<0||l>31||o>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)c.push(o>>>d&1)}function i(o,l){return(o>>>l&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}const A=class{constructor(o,l,c){if(this.mode=o,this.numChars=l,this.bitData=c,l<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(o){let l=[];for(const c of o)n(c,8,l);return new A(A.Mode.BYTE,o.length,l)}static makeNumeric(o){if(!A.isNumeric(o))throw new RangeError("String contains non-numeric characters");let l=[];for(let c=0;c<o.length;){const d=Math.min(o.length-c,3);n(parseInt(o.substr(c,d),10),d*3+1,l),c+=d}return new A(A.Mode.NUMERIC,o.length,l)}static makeAlphanumeric(o){if(!A.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],c;for(c=0;c+2<=o.length;c+=2){let d=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(c))*45;d+=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(c+1)),n(d,11,l)}return c<o.length&&n(A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(c)),6,l),new A(A.Mode.ALPHANUMERIC,o.length,l)}static makeSegments(o){return o==""?[]:A.isNumeric(o)?[A.makeNumeric(o)]:A.isAlphanumeric(o)?[A.makeAlphanumeric(o)]:[A.makeBytes(A.toUtf8ByteArray(o))]}static makeEci(o){let l=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)n(o,8,l);else if(o<16384)n(2,2,l),n(o,14,l);else if(o<1e6)n(6,3,l),n(o,21,l);else throw new RangeError("ECI assignment value out of range");return new A(A.Mode.ECI,0,l)}static isNumeric(o){return A.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return A.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,l){let c=0;for(const d of o){const p=d.mode.numCharCountBits(l);if(d.numChars>=1<<p)return 1/0;c+=4+p+d.bitData.length}return c}static toUtf8ByteArray(o){o=encodeURI(o);let l=[];for(let c=0;c<o.length;c++)o.charAt(c)!="%"?l.push(o.charCodeAt(c)):(l.push(parseInt(o.substr(c+1,2),16)),c+=2);return l}};let a=A;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(fc||(fc={}));(t=>{(e=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(fc||(fc={}));(t=>{(e=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(fc||(fc={}));var _h=fc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var UJ={L:_h.QrCode.Ecc.LOW,M:_h.QrCode.Ecc.MEDIUM,Q:_h.QrCode.Ecc.QUARTILE,H:_h.QrCode.Ecc.HIGH},NJ=128,QJ="L",LJ="#FFFFFF",PJ="#000000",RJ=!1,xN=4,DJ=.1;function OJ(t,e=0){const r=[];return t.forEach(function(n,i){let s=null;n.forEach(function(A,a){if(!A&&s!==null){r.push(`M${s+e} ${i+e}h${a-s}v1H${s+e}z`),s=null;return}if(a===n.length-1){if(!A)return;s===null?r.push(`M${a+e},${i+e} h1v1H${a+e}z`):r.push(`M${s+e},${i+e} h${a+1-s}v1H${s+e}z`);return}A&&s===null&&(s=a)})}),r.join("")}function MJ(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function jJ(t,e,r,n){if(n==null)return null;const i=r?xN:0,s=t.length+i*2,A=Math.floor(e*DJ),a=s/e,o=(n.width||A)*a,l=(n.height||A)*a,c=n.x==null?t.length/2-o/2:n.x*a,d=n.y==null?t.length/2-l/2:n.y*a;let p=null;if(n.excavate){let g=Math.floor(c),v=Math.floor(d),x=Math.ceil(o+c-g),T=Math.ceil(l+d-v);p={x:g,y:v,w:x,h:T}}return{x:c,y:d,h:l,w:o,excavation:p}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function HJ(t){const e=t,{value:r,size:n=NJ,level:i=QJ,bgColor:s=LJ,fgColor:A=PJ,includeMargin:a=RJ,imageSettings:o}=e,l=kJ(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let c=_h.QrCode.encodeText(r,UJ[i]).getModules();const d=a?xN:0,p=c.length+d*2,g=jJ(c,n,a,o);let v=null;o!=null&&g!=null&&(g.excavation!=null&&(c=MJ(c,g.excavation)),v=Pl.createElement("image",{xlinkHref:o.src,height:g.h,width:g.w,x:g.x+d,y:g.y+d,preserveAspectRatio:"none"}));const x=OJ(c,d);return Pl.createElement("svg",TJ({height:n,width:n,viewBox:`0 0 ${p} ${p}`},l),Pl.createElement("path",{fill:s,d:`M0,0 h${p}v${p}H0z`,shapeRendering:"crispEdges"}),Pl.createElement("path",{fill:A,d:x,shapeRendering:"crispEdges"}),v)}const VJ="AAEAAAAQAQAABgAARkZUTVzakQcAAAZcAAAAHE9TLzI0/s7/AAABSAAAAGBjbWFwDSsLjwAACOwAAAHQY3Z0IAAUBLwAAAsoAAAAOmZwZ20u+uVBAAAGkAAAB7BnYXNwAAAAEAAAAYAAAAAIZ2x5ZnscVFUAAA1MAAAAdGhlYWQGZuXMAAABDAAAADZoaGVhB70E5AAAAVgAAAAkaG10eCoAh4YAAAb4AAAAXGxvY2EBvQYUAAAMcAAAACJtYXhwARgAmgAAAWgAAAAgbmFtZdyb1YwAAQtUAAACbXBvc3T/ogebAAAEyAAAACBwcmVwglggrwAACrgAAAAaAAEAAAABAAAAAM3+a9pfDzz1AAsEAAAAAADb0PUnAAAAANvQ9Sf/ogebBG0GhQAAAAgAAgAAAAAAAAABAAAAAQAA//4ADwABAAAAAAACAAoAAAAGAAAAAAQAAAAEAAEAAAAAAAEAAQAEAAAAAQAIAAAAAQABAAAAAAAGAAwAAQABAAAAAgAMABQAAQABAAAAAwAMACYAAQABAAAABAAcADQAAQABAAAAAQAAMADgAAQABAAAAAQBCAD4AAQABAAAAAQCAAEQAAQABAAAAAQCcAEgAAQABAAAAAQDCAEoAAQABAAAAAQDYAFAAAQABAAAAAQEIAFoAAQABAAAAAQFYAHEAAQABAAAAAQGIAH0AAQABAAAAAQHYAIkAAQABAAAAAQCIAJsAAQABAAAAAQE4AKsAAQABAAAAAQHIAK8AAQABAAAAAQIYAOsAAQABAAAAAQJgAPMAAQABAAAAAQK4AQsAAQABAAAAAQMAARQAAQABAAAAAQMcASQAAQABAAAAAQNIAUYAAQABAAAAAQQIATEAAQABAAAAAQQgAUcAAQABAAAAAQQwAVcAAQABAAAAAQUIAWMAAQABAAAAAQUwAWsAAQABAAAAAQWIAXMAAQABAAAAAQXgAYMAAQABAAAAAQYIAZMAAQABAAAAAQYwAZsAAQABAAAAAQbIAacAAQABAAAAAQcIAasAAQABAAAAAQcwAbsAAQABAAAAAQeIAfMAAQABAAAAAQewAhMAAQABAAAAAgAIACUAAQABAAAAAgAQACsAAQABAAAAAgAYADMAAQABAAAAAgAgADsAAQABAAAAAgAoAEMAAQABAAAAAgAwAEsAAQABAAAAAgA4AFMAAQABAAAAAgBAAFsAAQABAAAAAgBIAF0AAQABAAAAAgBIAF8AAQABAAAAAgBIAWEAAQABAAAAAgBIAGEAAQABAAAAAgBIAWMAAQABAAAAAgBIAWMADgADAAEECQABACAAUAADAAEECQACACgAWAADAAEECQADACgAeAADAAEECQAEACQAvgADAAEECQABMAAAAAADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQACgAeAADAAEECQACgAYgAAADAAEECQADgAYgAAADAAEECQADgAUgAAADAAEECQADgAUgAAADAAEECQACAAUAAgADAAEECQABACgAHAADAAEECQACACgAWAADAAEECQADACgAeAADAAEECQAEACQAvgADAAEECQABMAAAAAQAuAFIAbwBiAG8AdABvACAAUgBlAGcAdQBsAGEAcgBSZWd1bGFyUm9ib3RvUm9ib3RvIFJlZ3VsYXJWZXJzaW9uIDIuMTM3O1JvYm90bzIuMTM3O01hcmNoIDEsIDIwMTlSb2JvdG8gUmVndWxhckNocmlzdGlhbiBSb2JlcnRzb25hUEMgMjAxMSBSZWd1bGFyUm9ib3Rv Um9ib3RvIFJlZ3VsYXIAAAAAAf//AAIAAQAAAAwAAAAWAAEAAgACAAIAAQAAAAAA",KJ=()=>{const{subjects:t,teachers:e,classes:r,rooms:n,settings:i,bellSchedule:s,saveStaticData:A}=Al(),{schedule:a,substitutions:o,saveScheduleData:l}=bd(),c=le.useRef(null),d=le.useRef(null),[p,g]=le.useState(new Date().toISOString().split("T")[0]),[v,x]=le.useState(!1),[T,w]=le.useState(!1),[B,C]=le.useState(""),[L,D]=le.useState(""),M=le.useMemo(()=>({subjects:t,teachers:e,classes:r,rooms:n,settings:i,bellSchedule:s,schedule:a,substitutions:o}),[t,e,r,n,i,s,a,o]),S=K=>{var G;const $=(G=K.target.files)==null?void 0:G[0];if(!$)return;const P=new FileReader;P.onload=async ne=>{try{const N=JSON.parse(ne.target.result);if(N.teachers&&N.schedule){if(window.confirm("    . ?")){const j={...Tn,...N,rooms:N.rooms||Tn.rooms,classes:N.classes||[],schedule:N.schedule||[],teachers:N.teachers||[],subjects:N.subjects||[],substitutions:N.substitutions||[],settings:{...Tn.settings,...N.settings}};await A(j),await l(j),alert("  !")}}else alert("  .")}catch{alert("  .")}},P.readAsText($)},E=()=>{let K=`
            <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">
            <head><meta charset="UTF-8"><style>
                table { border-collapse: collapse; width: 100%; font-family: Arial, sans-serif; }
                td, th { border: 1px solid #999; padding: 5px; vertical-align: top; }
                .header { background-color: #f3f4f6; font-weight: bold; text-align: center; }
                .class-cell { font-size: 14px; font-weight: bold; text-align: center; vertical-align: middle; }
                .subject { font-weight: bold; font-size: 11px; }
                .meta { font-size: 10px; color: #555; }
            </style></head><body><table>
        `;yi.forEach(ne=>{K+=`<tr><td colspan="8" style="background-color:#4f46e5; color:white; font-size:16px; font-weight:bold; text-align:center;">${ne}</td></tr>`,[nt.First,nt.Second].forEach(N=>{const j=r.filter(W=>W.shift===N);j.length!==0&&(K+=`<tr><td colspan="8" style="background-color:#e0e7ff; font-weight:bold;">${N}</td></tr>`,K+='<tr><th class="header"></th>',lo[N].forEach(W=>K+=`<th class="header">${W} </th>`),K+="</tr>",j.forEach(W=>{K+=`<tr><td class="class-cell">${W.name}</td>`,lo[N].forEach(ee=>{const re=a.filter(oe=>oe.classId===W.id&&oe.day===ne&&oe.shift===N&&oe.period===ee);K+='<td style="height: 60px;">',re.forEach(oe=>{const ge=t.find(Oe=>Oe.id===oe.subjectId),ye=e.find(Oe=>Oe.id===oe.teacherId),Fe=n.find(Oe=>Oe.id===oe.roomId),ke=Fe?Fe.name:oe.roomId;K+=`<div style="background-color: ${(ge==null?void 0:ge.color)||"#fff"}; padding: 2px; margin-bottom: 2px; border: 1px solid #eee;">
                                <div class="subject">${(ge==null?void 0:ge.name)||""} ${oe.direction||""}</div>
                                <div class="meta">${(ye==null?void 0:ye.name)||""} ${ke?`(. ${ke})`:""}</div>
                            </div>`}),K+="</td>"}),K+="</tr>"}))})}),K+="</table></body></html>";const $=new Blob([K],{type:"application/vnd.ms-excel"}),P=URL.createObjectURL($),G=document.createElement("a");G.href=P,G.download="_22.xls",document.body.appendChild(G),G.click(),document.body.removeChild(G)},k=()=>{let K=`
            <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">
            <head><meta charset="UTF-8"><style>
                table { border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px; margin-bottom: 20px; }
                td, th { border: 1px solid #000; padding: 2px; vertical-align: middle; text-align: center; }
                .header { font-weight: bold; background-color: #f3f4f6; }
                .subject-cell { font-weight: bold; vertical-align: middle; background-color: #fff; }
                .teacher-cell { text-align: left; padding-left: 5px; }
                sub { font-size: 9px; vertical-align: sub; }
            </style></head><body>
        `;[nt.First,nt.Second].forEach(ne=>{const N=lo[ne];K+="<table>",K+=`<tr>
                <th rowspan="3" class="header" style="border: 2px solid #000; width: 150px;"> </th>
                <th rowspan="3" class="header" style="border: 2px solid #000; width: 200px;"></th>
                <th colspan="${yi.length*N.length}" class="header" style="border: 2px solid #000; font-size: 14px;"> </th>
            </tr>`,K+="<tr>",yi.forEach(j=>{K+=`<th colspan="${N.length}" class="header" style="border: 2px solid #000;">${j}</th>`}),K+="</tr>",K+="<tr>",yi.forEach(()=>{N.forEach(j=>K+='<th class="header" style="border-bottom: 2px solid #000;"></th>')}),K+="</tr>",K+=`<tr>
                <th class="header" style="border: 2px solid #000; background-color: #e0e7ff;">${ne}</th>
                <th class="header" style="border: 2px solid #000;"></th>
            `,yi.forEach(()=>{N.forEach(j=>K+=`<th class="header" style="width: 40px;">${j}</th>`)}),K+="</tr>",t.forEach(j=>{const W=e.filter(re=>re.subjectIds.includes(j.id));if(W.length===0)return;const ee=j.color||"#ffffff";W.forEach((re,oe)=>{K+="<tr>",oe===0&&(K+=`<td rowspan="${W.length}" class="subject-cell" style="border: 2px solid #000; background-color: ${ee};">${j.name}</td>`),K+=`<td class="teacher-cell" style="border-right: 2px solid #000;">${re.name}</td>`,yi.forEach(ge=>{N.forEach(ye=>{const Fe=a.find(ke=>ke.teacherId===re.id&&ke.subjectId===j.id&&ke.day===ge&&ke.period===ye&&ke.shift===ne);if(Fe){const ke=r.find(mt=>mt.id===Fe.classId),Oe=n.find(mt=>mt.id===Fe.roomId),Ne=Oe?Oe.name:Fe.roomId,je=Ne?`<sub>${Ne}</sub>`:"",xe=Fe.direction?` <span style="font-size:9px">(${Fe.direction})</span>`:"",Ae=j.color||"#ffffff";K+=`<td style="border: 1px solid #000; font-weight: bold; background-color: ${Ae};">${ke?ke.name:""}${xe}${je}</td>`}else K+='<td style="border: 1px solid #000;"></td>'})}),K+="</tr>"}),K+=`<tr><td colspan="${2+yi.length*N.length}" style="height: 2px; background-color: #000;"></td></tr>`}),K+="</table><br/><br/>"}),K+="</body></html>";const $=new Blob([K],{type:"application/vnd.ms-excel"}),P=URL.createObjectURL($),G=document.createElement("a");G.href=P,G.download="_.xls",document.body.appendChild(G),G.click(),document.body.removeChild(G)},O=()=>{let K=`							
`;yi.forEach($=>{[nt.First,nt.Second].forEach(P=>{r.filter(ne=>ne.shift===P).forEach(ne=>{lo[P].forEach(N=>{a.filter(W=>W.classId===ne.id&&W.day===$&&W.shift===P&&W.period===N).forEach(W=>{const ee=t.find(ye=>ye.id===W.subjectId),re=e.find(ye=>ye.id===W.teacherId),oe=n.find(ye=>ye.id===W.roomId),ge=oe?oe.name:W.roomId||"";K+=`${$}	${P}	${ne.name}	${N}	${(ee==null?void 0:ee.name)||""}	${(re==null?void 0:re.name)||""}	${ge}	${W.direction||""}
`})})})})}),navigator.clipboard.writeText(K).then(()=>{alert(" !  Google Sheets   Ctrl+V (Cmd+V).")})},_=async()=>{if(d.current){x(!0);try{const K=await eN(d.current,{scale:2,backgroundColor:"#ffffff",logging:!1}),$=document.createElement("a");$.download=`_${p}.png`,$.href=K.toDataURL("image/png"),$.click()}catch(K){console.error(K),alert("   ")}x(!1)}},F=le.useMemo(()=>o.filter(K=>K.date===p),[o,p]),U=K=>{const $=F.filter(P=>{const G=a.find(ne=>ne.id===P.scheduleItemId);return G&&G.shift===K}).filter(P=>P.replacementTeacherId!=="conducted");return $.length===0?null:f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"text-xl font-bold bg-slate-100 text-slate-700 p-2 mb-2 uppercase tracking-wide border-l-4 border-indigo-500",children:K}),f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-slate-200",children:[f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-16 text-center",children:""}),f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-24",children:""}),f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider",children:""}),f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-1/4",children:""}),f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-1/4",children:""}),f.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-20 text-right",children:"."})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100",children:$.map(P=>{var Ne;const G=a.find(je=>je.id===P.scheduleItemId);if(!G)return null;const ne=r.find(je=>je.id===G.classId),N=t.find(je=>je.id===G.subjectId),j=e.find(je=>je.id===P.originalTeacherId),W=P.replacementRoomId,ee=G.roomId?n.find(je=>je.id===G.roomId):null,re=ee?ee.name:G.roomId||"",oe=W?n.find(je=>je.id===W):null,ge=oe?oe.name:W||"",ye=P.replacementTeacherId==="cancelled",Fe=ye?{name:" "}:e.find(je=>je.id===P.replacementTeacherId),ke=(Ne=j==null?void 0:j.absenceReasons)==null?void 0:Ne[p],Oe=P.replacementTeacherId===P.originalTeacherId&&W;return f.jsxs("tr",{children:[f.jsx("td",{className:"py-3 px-2 text-center font-bold text-slate-800 text-lg",children:G.period}),f.jsx("td",{className:"py-3 px-2 font-bold text-slate-700",children:ne==null?void 0:ne.name}),f.jsxs("td",{className:"py-3 px-2",children:[f.jsx("div",{className:"font-semibold text-slate-800",children:N==null?void 0:N.name}),G.direction&&f.jsx("div",{className:"text-[10px] text-slate-500 bg-slate-100 inline-block px-1 rounded mt-0.5",children:G.direction})]}),f.jsx("td",{className:"py-3 px-2",children:!Oe&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-red-400 line-through text-sm font-medium decoration-red-200",children:j==null?void 0:j.name}),ke===" "&&f.jsx("span",{className:"text-[10px] text-slate-500 block font-bold uppercase mt-0.5",children:"( )"})]})}),f.jsx("td",{className:`py-3 px-2 font-bold text-sm ${ye?"text-red-600 uppercase font-black":"text-emerald-700"}`,children:Oe?f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-slate-800",children:j==null?void 0:j.name}),f.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-wide mt-0.5",children:" "})]}):Fe==null?void 0:Fe.name}),f.jsx("td",{className:`py-3 px-2 text-right font-mono ${W?"font-black text-indigo-600":"text-slate-500"}`,children:W&&W!==G.roomId?f.jsxs("span",{children:[f.jsx("span",{className:"text-slate-400 line-through mr-1 decoration-slate-300 decoration-2 opacity-70 text-xs",children:re}),f.jsxs("span",{className:"text-indigo-600 font-black text-sm",children:[" ",ge]})]}):re})]},P.id)})})]})]})},Y=()=>{const K=new Ct;K.addFileToVFS("Roboto-Regular.ttf",VJ),K.addFont("Roboto-Regular.ttf","Roboto","normal"),K.setFont("Roboto","normal"),K.setLanguage("ru");let $=20;K.setFontSize(22),K.text(" ",105,$,{align:"center"}),$+=10,K.setFontSize(12),K.text("   ",105,$,{align:"center"}),$+=15,K.text(`: ${new Date(p).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}`,190,$,{align:"right"}),$+=15,F.length===0?(K.setFontSize(14),K.text("    ",105,K.internal.pageSize.height/2,{align:"center"})):[nt.First,nt.Second].forEach(P=>{const G=F.filter(ne=>{const N=a.find(j=>j.id===ne.scheduleItemId);return N&&N.shift===P}).filter(ne=>ne.replacementTeacherId!=="conducted");if(G.length>0){K.setFontSize(16),K.setTextColor(50,50,50),K.text(`${P}`,14,$),$+=5;const ne=["","","","","","."],N=[];G.forEach(j=>{var Ce;const W=a.find(be=>be.id===j.scheduleItemId);if(!W)return;const ee=r.find(be=>be.id===W.classId),re=t.find(be=>be.id===W.subjectId),oe=e.find(be=>be.id===j.originalTeacherId),ge=j.replacementRoomId,ye=W.roomId?n.find(be=>be.id===W.roomId):null,Fe=ye?ye.name:W.roomId||"",ke=ge?n.find(be=>be.id===ge):null,Oe=ke?ke.name:ge||"",je=j.replacementTeacherId==="cancelled"?{name:" "}:e.find(be=>be.id===j.replacementTeacherId),xe=(Ce=oe==null?void 0:oe.absenceReasons)==null?void 0:Ce[p],Ae=j.replacementTeacherId===j.originalTeacherId&&ge,mt=Ae?"":`${(oe==null?void 0:oe.name)||""} ${xe===" "?"( )":""}`,ae=Ae?`${(oe==null?void 0:oe.name)||""}
( )`:(je==null?void 0:je.name)||"",pe=ge&&ge!==W.roomId?`${Fe}  ${Oe}`:Fe;N.push([W.period.toString(),(ee==null?void 0:ee.name)||"",`${(re==null?void 0:re.name)||""} ${W.direction?`(${W.direction})`:""}`,mt,ae,pe])}),K.autoTable({startY:$+5,head:[ne],body:N,theme:"grid",styles:{font:"Roboto",fontStyle:"normal",fontSize:10,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:[240,240,240],textColor:[80,80,80],fontStyle:"bold",halign:"center"},bodyStyles:{textColor:[50,50,50],valign:"middle"},columnStyles:{0:{halign:"center",cellWidth:15},1:{cellWidth:25},2:{cellWidth:45},3:{cellWidth:40},4:{cellWidth:40},5:{halign:"right",cellWidth:20}},didDrawPage:function(j){$=j.cursor.y}}),$=K.autoTable.previous.finalY+10}}),K.setFontSize(10),K.setTextColor(150,150,150),K.text(" ",14,K.internal.pageSize.height-20),K.text(" ",190,K.internal.pageSize.height-20,{align:"right"}),K.line(150,K.internal.pageSize.height-25,190,K.internal.pageSize.height-25),K.save(`_${p}.pdf`)},ue=async()=>{const K=Math.random().toString(36).substr(2,9);await ql.setPublicData(K,M),await A({settings:{...i,publicScheduleId:K}});const $=`${window.location.origin}${window.location.pathname}#/public?id=${K}`;C($),D(K),w(!0)},te=async()=>{!i.publicScheduleId||!window.confirm(" ,     ?      .")||(await ql.deletePublicData(i.publicScheduleId),await A({settings:{...i,publicScheduleId:null}}),alert("  ."),C(""),D(""))};return f.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 pb-20",children:[f.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(Ve,{name:"Download",className:"text-indigo-600 dark:text-indigo-400"}),"  "]}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("button",{onClick:()=>ql.exportJson(M),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none flex items-center gap-2",children:[f.jsx(Ve,{name:"Download",size:20}),"  JSON"]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"file",ref:c,onChange:S,accept:".json",className:"hidden"}),f.jsxs("button",{onClick:()=>{var K;return(K=c.current)==null?void 0:K.click()},className:"px-6 py-3 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-600 transition flex items-center gap-2",children:[f.jsx(Ve,{name:"Upload",size:20}),"  JSON"]})]})]})]}),f.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6 mb-6",children:[f.jsx("div",{children:f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Ve,{name:"Image",className:"text-indigo-600 dark:text-indigo-400"}),"   (PNG)"]})}),f.jsxs("div",{className:"flex gap-4 items-center",children:[f.jsx("input",{type:"date",value:p,onChange:K=>g(K.target.value),className:"border border-slate-200 dark:border-slate-600 p-2 rounded-lg font-bold outline-none focus:border-indigo-500 bg-transparent dark:text-white"}),f.jsx("button",{onClick:_,disabled:v,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none flex items-center gap-2 disabled:opacity-50",children:v?f.jsxs(f.Fragment,{children:[f.jsx(Ve,{name:"Loader",size:20,className:"animate-spin"})," ..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Ve,{name:"Download",size:20}),"  PNG"]})})]})]}),f.jsx("div",{className:"overflow-auto bg-slate-100 dark:bg-slate-900 p-8 rounded-xl border border-slate-200 dark:border-slate-700 flex justify-center",children:f.jsxs("div",{ref:d,className:"bg-white p-8 min-w-[800px] max-w-[1000px] shadow-xl text-slate-900",children:[f.jsxs("div",{className:"flex justify-between items-end border-b-2 border-slate-800 pb-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-black uppercase tracking-tight mb-1 text-slate-800",children:" "}),f.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"   "})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider mb-1",children:""}),f.jsx("div",{className:"text-xl font-bold text-slate-800",children:new Date(p).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})})]})]}),F.length===0?f.jsx("div",{className:"py-12 text-center border-2 border-dashed border-slate-200 rounded-xl bg-slate-50",children:f.jsx("p",{className:"text-slate-400 font-medium italic",children:"    "})}):f.jsxs(f.Fragment,{children:[U(nt.First),U(nt.Second)]}),f.jsxs("div",{className:"mt-8 pt-4 border-t border-slate-100 flex justify-between items-end text-[10px] text-slate-400",children:[f.jsx("div",{children:" "}),f.jsxs("div",{className:"flex flex-col items-end gap-2",children:[f.jsx("div",{className:"h-px w-32 bg-slate-300"}),f.jsx("div",{children:" "})]})]})]})})]}),f.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(Ve,{name:"FileSpreadsheet",className:"text-emerald-600 dark:text-emerald-400"}),"  "]}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("button",{onClick:E,className:"px-6 py-3 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900 rounded-xl font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/50 transition flex items-center gap-2",children:[f.jsx(Ve,{name:"FileSpreadsheet",size:20}),"  Excel (XLS)"]}),f.jsxs("button",{onClick:k,className:"px-6 py-3 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border border-blue-100 dark:border-blue-900 rounded-xl font-bold hover:bg-blue-100 dark:hover:bg-blue-900/50 transition flex items-center gap-2",children:[f.jsx(Ve,{name:"Table",size:20}),"   (XLS)"]}),f.jsxs("button",{onClick:O,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition shadow-lg shadow-green-200 dark:shadow-none flex items-center gap-2",children:[f.jsx(Ve,{name:"Clipboard",size:20}),"   Google Sheets"]}),f.jsxs("button",{onClick:Y,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition shadow-lg shadow-red-200 dark:shadow-none flex items-center gap-2",children:[f.jsx(Ve,{name:"Download",size:20}),"  PDF ()"]})]})]}),f.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(Ve,{name:"QrCode",className:"text-purple-600 dark:text-purple-400"}),"  "]}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"      .      QR-."}),i.publicScheduleId?f.jsx("div",{className:"flex flex-col md:flex-row items-center gap-4",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mb-2",children:[" ! ID: ",f.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded",children:i.publicScheduleId})]}),f.jsxs("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition flex items-center gap-2",children:[f.jsx(Ve,{name:"Share2",size:16}),"  QR-  "]}),f.jsxs("button",{onClick:te,className:"ml-3 px-4 py-2 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-900 rounded-xl font-bold hover:bg-red-100 dark:hover:bg-red-900/50 transition flex items-center gap-2",children:[f.jsx(Ve,{name:"Trash2",size:16}),"  "]})]})}):f.jsxs("button",{onClick:ue,disabled:v,className:"px-6 py-3 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition shadow-lg shadow-purple-200 dark:shadow-none flex items-center gap-2 disabled:opacity-50",children:[f.jsx(Ve,{name:"Share2",size:20}),"  "]})]}),f.jsx(Mu,{isOpen:T,onClose:()=>w(!1),title:" ",children:f.jsxs("div",{className:"flex flex-col items-center justify-center p-4 text-center space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:" QR-    ,    ."}),B&&f.jsxs(f.Fragment,{children:[f.jsx(HJ,{value:B,size:256,level:"H",includeMargin:!0,className:"p-2 bg-white border border-slate-200 rounded-lg shadow-md"}),f.jsx("a",{href:B,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm font-medium break-all",children:B}),f.jsxs("button",{onClick:()=>navigator.clipboard.writeText(B),className:"px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 rounded-xl text-sm font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition flex items-center gap-2",children:[f.jsx(Ve,{name:"Copy",size:16}),"  "]})]})]})})]})},zJ=()=>{var g;const{subjects:t,teachers:e,classes:r}=Al(),{schedule:n,substitutions:i}=bd(),[s,A]=le.useState("load"),[a,o]=le.useState(((g=r[0])==null?void 0:g.id)||""),l=le.useMemo(()=>e.map(x=>{const T=n.filter(S=>S.teacherId===x.id),w=T.length,B=w*4,C=i.filter(S=>S.replacementTeacherId===x.id).length,L=i.filter(S=>S.originalTeacherId===x.id).length,D=B+C-L,M={};return T.forEach(S=>{const E=t.find(k=>k.id===S.subjectId);E&&(M[E.name]=(M[E.name]||0)+1)}),{id:x.id,name:x.name,weeklyHours:w,subsTaken:C,subsMissed:L,actualHours:D,subjectBreakdown:M}}).sort((x,T)=>T.actualHours-x.actualHours),[e,n,i,t]),c=le.useMemo(()=>a?yi.map(v=>{const T=n.filter(w=>w.classId===a&&w.day===v).reduce((w,B)=>{const C=t.find(L=>L.id===B.subjectId);return w+((C==null?void 0:C.difficulty)||5)},0);return{label:v,value:T}}):[],[n,t,a]),d=le.useMemo(()=>{const v=e.map(T=>({name:T.name,count:i.filter(w=>w.replacementTeacherId===T.id).length})).sort((T,w)=>w.count-T.count).slice(0,5),x=e.map(T=>({name:T.name,count:T.unavailableDates.length})).sort((T,w)=>w.count-T.count).slice(0,5);return{heroes:v,absentees:x}},[e,i]),p=()=>{let v="";s==="load"?v=`Teacher,Planned Weekly,Subs Taken,Absences (Lessons),Est. Monthly Actual,Details
`+l.map(w=>`"${w.name}",${w.weeklyHours},${w.subsTaken},${w.subsMissed},${w.actualHours},"${Object.entries(w.subjectBreakdown).map(([B,C])=>B+": "+C).join(", ")}"`).join(`
`):s==="sanpin"&&(v=`Day,Score
`+c.map(w=>`${w.label},${w.value}`).join(`
`));const x=new Blob([`\uFEFF${v}`],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a");T.href=URL.createObjectURL(x),T.download=`report_${s}.csv`,document.body.appendChild(T),T.click(),document.body.removeChild(T)};return f.jsxs("div",{className:"max-w-6xl mx-auto w-full pb-20",children:[f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mb-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[f.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[f.jsx(Ve,{name:"BarChart2",className:"text-indigo-600 dark:text-indigo-400"})," "]}),f.jsxs("button",{onClick:p,className:"px-4 py-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-sm font-bold flex items-center gap-2",children:[f.jsx(Ve,{name:"FileSpreadsheet",size:16}),"  CSV"]})]}),f.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl w-fit overflow-x-auto max-w-full",children:[f.jsx("button",{onClick:()=>A("load"),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all ${s==="load"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:" ()"}),f.jsx("button",{onClick:()=>A("sanpin"),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all ${s==="sanpin"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:" ()"}),f.jsx("button",{onClick:()=>A("rating"),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all ${s==="rating"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:" "})]})]}),s==="load"&&f.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase",children:""}),f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right",children:" ()"}),f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right text-emerald-600",children:"+ "}),f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right text-red-500",children:"- "}),f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right",children:" ()"}),f.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase w-1/3",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l.map(v=>f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[f.jsx("td",{className:"p-4 font-bold text-slate-800 dark:text-slate-200",children:v.name}),f.jsx("td",{className:"p-4 text-right font-mono",children:v.weeklyHours}),f.jsxs("td",{className:"p-4 text-right font-mono text-emerald-600 font-bold",children:["+",v.subsTaken]}),f.jsxs("td",{className:"p-4 text-right font-mono text-red-500 font-bold",children:["-",v.subsMissed]}),f.jsx("td",{className:"p-4 text-right font-mono font-black text-lg",children:v.actualHours}),f.jsx("td",{className:"p-4 text-xs text-slate-500 dark:text-slate-400",children:f.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(v.subjectBreakdown).map(([x,T])=>f.jsxs("span",{className:"bg-slate-100 dark:bg-slate-600 px-1.5 py-0.5 rounded",children:[x,": ",T]},x))})})]},v.id))})]})}),s==="sanpin"&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "}),f.jsx("select",{value:a,onChange:v=>o(v.target.value),className:"border dark:border-slate-600 p-2 rounded-lg bg-transparent dark:text-white outline-none",children:r.map(v=>f.jsx("option",{value:v.id,children:v.name},v.id))})]}),f.jsx(Ow,{items:c,max:60,barClassName:"bg-indigo-500"}),f.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:"*        (=11,  ..).   : /."})]}),f.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-2xl border border-indigo-100 dark:border-indigo-900",children:[f.jsx("h3",{className:"font-bold text-indigo-900 dark:text-indigo-300 mb-4",children:" "}),f.jsxs("ul",{className:"space-y-3 text-sm text-indigo-800 dark:text-indigo-400",children:[f.jsxs("li",{className:"flex gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 mt-1.5 bg-indigo-500 rounded-full"}),"  "]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 mt-1.5 bg-indigo-500 rounded-full"}),"    "]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 mt-1.5 bg-indigo-500 rounded-full"}),"   /"]})]})]})]}),s==="rating"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"font-bold text-lg text-emerald-600 mb-4 flex items-center gap-2",children:[f.jsx(Ve,{name:"TrendingUp",size:20}),"   ( 5)"]}),f.jsx(Ow,{items:d.heroes.map(v=>({label:v.name,value:v.count})),max:Math.max(...d.heroes.map(v=>v.count),1),barClassName:"bg-emerald-500"})]}),f.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"font-bold text-lg text-red-500 mb-4 flex items-center gap-2",children:[f.jsx(Ve,{name:"Activity",size:20}),"  ( 5)"]}),f.jsx(Ow,{items:d.absentees.map(v=>({label:v.name,value:v.count})),max:Math.max(...d.absentees.map(v=>v.count),1),barClassName:"bg-red-500"})]})]})]})},WJ=()=>{const{setGuestRole:t}=uv(),e=hd(),[r,n]=le.useState("select"),[i,s]=le.useState(""),[A,a]=le.useState(""),[o,l]=le.useState(""),[c,d]=le.useState(!1),p=async v=>{v.preventDefault(),l(""),d(!0);try{let x=i;r==="teacher"&&(x="teacher@gymnasium22.com"),await t0.signInWithEmailAndPassword(x,A)}catch(x){console.error("Firebase Auth Error:",x);const T=x.code;let w="   .";switch(T){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":w="   .     .";break;case"auth/invalid-email":w="  email .";break;case"auth/too-many-requests":w="   .  .";break;default:w=" .       Firebase."}l(w)}finally{d(!1)}},g=()=>{t(),e("/schedule")};return f.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-xl max-w-md w-full p-8 transition-all",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex p-4 bg-indigo-100 dark:bg-indigo-900/30 rounded-2xl text-indigo-600 dark:text-indigo-400 mb-4",children:f.jsx(Ve,{name:"GraduationCap",size:48})}),f.jsx("h1",{className:"text-2xl font-black text-slate-800 dark:text-white",children:"Gymnasium Manager"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"  "})]}),r==="select"&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:g,className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-emerald-500 dark:hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 group transition-all text-left flex items-center gap-4",children:[f.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/50 p-3 rounded-lg text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform",children:f.jsx(Ve,{name:"Users",size:24})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-emerald-700 dark:group-hover:text-emerald-400",children:" / "}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  "})]})]}),f.jsxs("button",{onClick:()=>n("teacher"),className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 group transition-all text-left flex items-center gap-4",children:[f.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-3 rounded-lg text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform",children:f.jsx(Ve,{name:"BookOpen",size:24})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-700 dark:group-hover:text-indigo-400",children:""}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"   "})]})]}),f.jsxs("button",{onClick:()=>n("admin"),className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-purple-500 dark:hover:border-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/20 group transition-all text-left flex items-center gap-4",children:[f.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-3 rounded-lg text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform",children:f.jsx(Ve,{name:"Settings",size:24})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-purple-700 dark:group-hover:text-purple-400",children:""}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  (/)"})]})]})]}),r!=="select"&&f.jsxs("form",{onSubmit:p,className:"space-y-4 animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("button",{type:"button",onClick:()=>{n("select"),l("")},className:"p-2 -ml-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx(Ve,{name:"ArrowRight",className:"rotate-180",size:20})}),f.jsx("h2",{className:"font-bold text-lg dark:text-white",children:r==="teacher"?"  ":"  "})]}),r==="admin"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 dark:text-slate-400 mb-1",children:"Email"}),f.jsx("input",{type:"email",value:i,onChange:v=>s(v.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 ring-indigo-500",autoFocus:!0,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 dark:text-slate-400 mb-1",children:""}),f.jsx("input",{type:"password",value:A,onChange:v=>a(v.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 ring-indigo-500",required:!0})]}),o&&f.jsx("div",{className:"text-red-500 text-sm font-bold text-center bg-red-50 dark:bg-red-900/20 p-2 rounded-lg",children:o}),f.jsxs("button",{type:"submit",disabled:c,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none flex items-center justify-center gap-2",children:[c&&f.jsx(Ve,{name:"Loader",className:"animate-spin",size:20}),""]})]})]})})},GJ=()=>{const[t,e]=le.useState(!1),[r,n]=le.useState(localStorage.getItem("theme")||"light"),{isLoading:i,isReadOnly:s}=j9(),{role:A,logout:a}=uv(),o=hd();le.useEffect(()=>{r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",r)},[r]);const l=async()=>{await a(),o("/login")};if(i)return f.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 dark:bg-dark-950",children:f.jsx(Ve,{name:"Loader",className:"animate-spin text-indigo-600",size:48})});const d=[{to:"/dashboard",label:" ",icon:"Home",roles:["admin","teacher"]},{to:"/schedule",label:"",icon:"Calendar",roles:["admin","teacher","guest"]},{to:"/substitutions",label:"",icon:"Repeat",roles:["admin"]},{to:"/directory",label:"",icon:"BookOpen",roles:["admin"]},{to:"/reports",label:"",icon:"BarChart2",roles:["admin"]},{to:"/export",label:"",icon:"Download",roles:["admin"]},{to:"/admin",label:"",icon:"Settings",roles:["admin"]}].filter(p=>p.roles.includes(A||"guest"));return f.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-dark-950 overflow-hidden transition-colors duration-300",children:[t&&f.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>e(!1)}),f.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-white dark:bg-dark-800 border-r border-slate-200 dark:border-slate-700 transform transition-all duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"} no-print`,children:f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-xl text-white",children:f.jsx(Ve,{name:"GraduationCap",size:24})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-lg font-black text-slate-800 dark:text-white",children:"Gymnasium"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:A==="admin"?" ":A==="teacher"?" ":" "})]})]}),f.jsx("nav",{className:"flex-1 p-4 space-y-1",children:d.map(p=>f.jsxs(HP,{to:p.to,onClick:()=>e(!1),className:({isActive:g})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all ${g?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[f.jsx(Ve,{name:p.icon,size:20}),p.label]},p.to))}),f.jsx(K9,{}),f.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 flex flex-col gap-2",children:[f.jsx("button",{onClick:()=>n(r==="light"?"dark":"light"),className:"flex items-center gap-2 text-xs font-bold text-slate-500 dark:text-slate-400 px-2",children:r==="light"?f.jsxs(f.Fragment,{children:[f.jsx(Ve,{name:"Moon",size:16}),"  "]}):f.jsxs(f.Fragment,{children:[f.jsx(Ve,{name:"Sun",size:16}),"  "]})}),f.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-xs font-bold text-red-500 px-2 mt-2 hover:bg-red-50 dark:hover:bg-red-900/20 py-2 rounded-lg transition-colors",children:[f.jsx(Ve,{name:"UserX",size:16})," "]})]})]})}),f.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-slate-50/50 dark:bg-dark-950",children:[f.jsxs("header",{className:"lg:hidden p-4 flex items-center gap-3 bg-white dark:bg-dark-800 border-b border-slate-200 dark:border-slate-700 no-print",children:[f.jsx("button",{onClick:()=>e(!0),children:f.jsx(Ve,{name:"Menu",size:24})}),f.jsx("span",{className:"font-bold",children:""})]}),f.jsxs("div",{className:"flex-1 overflow-auto p-4 lg:p-8 relative",children:[s&&f.jsxs("div",{className:"absolute top-4 right-8 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 z-10 pointer-events-none no-print",children:[f.jsx(Ve,{name:"Eye",size:12}),"  "]}),f.jsx(IP,{})]})]})]})},Sl=({children:t,allowedRoles:e})=>{const{role:r,loading:n}=uv();return n?f.jsx("div",{className:"h-screen flex items-center justify-center",children:f.jsx(Ve,{name:"Loader",className:"animate-spin text-indigo-600",size:48})}):r?e.includes(r)?t:f.jsx(uy,{to:"/schedule",replace:!0}):f.jsx(uy,{to:"/login",replace:!0})},qJ=()=>{const[t,e]=le.useState(null),[r,n]=le.useState(!0),[i]=zP(),s=i.get("id");return le.useEffect(()=>{s?(n(!0),ql.getPublicData(s).then(A=>{const a={...Tn,...A,settings:{...Tn.settings,...A==null?void 0:A.settings}};e(a),n(!1)}).catch(A=>{console.error(A),e(null),n(!1)})):(n(!1),e(null))},[s]),r?f.jsx("div",{className:"h-screen flex items-center justify-center",children:f.jsx(Ve,{name:"Loader",className:"animate-spin text-indigo-600",size:48})}):t?f.jsx(Hk,{initialData:t,children:f.jsx(zk,{children:f.jsx(Wk,{children:f.jsx("div",{className:"min-h-screen bg-slate-50 p-4",children:f.jsx(Jk,{readOnly:!0})})})})}):f.jsx("div",{children:"  "})};function $J(){return f.jsx(M9,{children:f.jsx(Hk,{children:f.jsx(zk,{children:f.jsx(Wk,{children:f.jsx(DP,{children:f.jsxs(FP,{children:[f.jsx(As,{path:"/login",element:f.jsx(WJ,{})}),f.jsxs(As,{path:"/",element:f.jsx(GJ,{}),children:[f.jsx(As,{index:!0,element:f.jsx(uy,{to:"/login",replace:!0})}),f.jsx(As,{path:"dashboard",element:f.jsx(Sl,{allowedRoles:["admin","teacher"],children:f.jsx(z9,{})})}),f.jsx(As,{path:"schedule",element:f.jsxs(Sl,{allowedRoles:["admin","teacher","guest"],children:[f.jsx(Jk,{readOnly:!1})," "]})}),f.jsx(As,{path:"substitutions",element:f.jsx(Sl,{allowedRoles:["admin"],children:f.jsx(Z9,{})})}),f.jsx(As,{path:"directory",element:f.jsx(Sl,{allowedRoles:["admin"],children:f.jsx(Y9,{})})}),f.jsx(As,{path:"admin",element:f.jsx(Sl,{allowedRoles:["admin"],children:f.jsx(eK,{})})}),f.jsx(As,{path:"reports",element:f.jsx(Sl,{allowedRoles:["admin"],children:f.jsx(zJ,{})})}),f.jsx(As,{path:"export",element:f.jsx(Sl,{allowedRoles:["admin"],children:f.jsx(KJ,{})})})]}),f.jsx(As,{path:"/public",element:f.jsx(qJ,{})})]})})})})})})}g1.createRoot(document.getElementById("root")).render(f.jsx(Pl.StrictMode,{children:f.jsx($J,{})}));export{ir as _,Kv as c,z_ as g};
