function bL(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var l1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var M4={exports:{}},Tv={},j4={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=Symbol.for("react.element"),_L=Symbol.for("react.portal"),CL=Symbol.for("react.fragment"),EL=Symbol.for("react.strict_mode"),IL=Symbol.for("react.profiler"),SL=Symbol.for("react.provider"),FL=Symbol.for("react.context"),TL=Symbol.for("react.forward_ref"),kL=Symbol.for("react.suspense"),NL=Symbol.for("react.memo"),QL=Symbol.for("react.lazy"),lC=Symbol.iterator;function UL(t){return t===null||typeof t!="object"?null:(t=lC&&t[lC]||t["@@iterator"],typeof t=="function"?t:null)}var H4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V4=Object.assign,K4={};function Ah(t,e,r){this.props=t,this.context=e,this.refs=K4,this.updater=r||H4}Ah.prototype.isReactComponent={};Ah.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ah.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z4(){}z4.prototype=Ah.prototype;function JB(t,e,r){this.props=t,this.context=e,this.refs=K4,this.updater=r||H4}var YB=JB.prototype=new z4;YB.constructor=JB;V4(YB,Ah.prototype);YB.isPureReactComponent=!0;var uC=Array.isArray,G4=Object.prototype.hasOwnProperty,XB={current:null},q4={key:!0,ref:!0,__self:!0,__source:!0};function W4(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)G4.call(e,n)&&!q4.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var A=Array(a),l=0;l<a;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:eg,type:t,key:s,ref:o,props:i,_owner:XB.current}}function LL(t,e){return{$$typeof:eg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ZB(t){return typeof t=="object"&&t!==null&&t.$$typeof===eg}function PL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var cC=/\/+/g;function u1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PL(""+t.key):e.toString(36)}function Ym(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case eg:case _L:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+u1(o,0):n,uC(i)?(r="",t!=null&&(r=t.replace(cC,"$&/")+"/"),Ym(i,e,r,"",function(l){return l})):i!=null&&(ZB(i)&&(i=LL(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cC,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",uC(t))for(var a=0;a<t.length;a++){s=t[a];var A=n+u1(s,a);o+=Ym(s,e,r,A,i)}else if(A=UL(t),typeof A=="function")for(t=A.call(t),a=0;!(s=t.next()).done;)s=s.value,A=n+u1(s,a++),o+=Ym(s,e,r,A,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xg(t,e,r){if(t==null)return t;var n=[],i=0;return Ym(t,n,"","",function(s){return e.call(r,s,i++)}),n}function RL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ei={current:null},Xm={transition:null},DL={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:Xm,ReactCurrentOwner:XB};function $4(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:Xg,forEach:function(t,e,r){Xg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Xg(t,function(){e++}),e},toArray:function(t){return Xg(t,function(e){return e})||[]},only:function(t){if(!ZB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=Ah;Ot.Fragment=CL;Ot.Profiler=IL;Ot.PureComponent=JB;Ot.StrictMode=EL;Ot.Suspense=kL;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DL;Ot.act=$4;Ot.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=V4({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=XB.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(A in e)G4.call(e,A)&&!q4.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&a!==void 0?a[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){a=Array(A);for(var l=0;l<A;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:eg,type:t.type,key:i,ref:s,props:n,_owner:o}};Ot.createContext=function(t){return t={$$typeof:FL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SL,_context:t},t.Consumer=t};Ot.createElement=W4;Ot.createFactory=function(t){var e=W4.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:TL,render:t}};Ot.isValidElement=ZB;Ot.lazy=function(t){return{$$typeof:QL,_payload:{_status:-1,_result:t},_init:RL}};Ot.memo=function(t,e){return{$$typeof:NL,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=Xm.transition;Xm.transition={};try{t()}finally{Xm.transition=e}};Ot.unstable_act=$4;Ot.useCallback=function(t,e){return Ei.current.useCallback(t,e)};Ot.useContext=function(t){return Ei.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return Ei.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return Ei.current.useEffect(t,e)};Ot.useId=function(){return Ei.current.useId()};Ot.useImperativeHandle=function(t,e,r){return Ei.current.useImperativeHandle(t,e,r)};Ot.useInsertionEffect=function(t,e){return Ei.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return Ei.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return Ei.current.useMemo(t,e)};Ot.useReducer=function(t,e,r){return Ei.current.useReducer(t,e,r)};Ot.useRef=function(t){return Ei.current.useRef(t)};Ot.useState=function(t){return Ei.current.useState(t)};Ot.useSyncExternalStore=function(t,e,r){return Ei.current.useSyncExternalStore(t,e,r)};Ot.useTransition=function(){return Ei.current.useTransition()};Ot.version="18.3.1";j4.exports=Ot;var Ae=j4.exports;const wu=O4(Ae),OL=bL({__proto__:null,default:wu},[Ae]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ML=Ae,jL=Symbol.for("react.element"),HL=Symbol.for("react.fragment"),VL=Object.prototype.hasOwnProperty,KL=ML.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zL={key:!0,ref:!0,__self:!0,__source:!0};function J4(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)VL.call(e,n)&&!zL.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:jL,type:t,key:s,ref:o,props:i,_owner:KL.current}}Tv.Fragment=HL;Tv.jsx=J4;Tv.jsxs=J4;M4.exports=Tv;var p=M4.exports,Qy={},Y4={exports:{}},ds={},X4={exports:{}},Z4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,R){var q=$.length;$.push(R);e:for(;0<q;){var re=q-1>>>1,Q=$[re];if(0<i(Q,R))$[re]=R,$[q]=Q,q=re;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var R=$[0],q=$.pop();if(q!==R){$[0]=q;e:for(var re=0,Q=$.length,j=Q>>>1;re<j;){var G=2*(re+1)-1,ee=$[G],ne=G+1,ae=$[ne];if(0>i(ee,q))ne<Q&&0>i(ae,ee)?($[re]=ae,$[ne]=q,re=ne):($[re]=ee,$[G]=q,re=G);else if(ne<Q&&0>i(ae,q))$[re]=ae,$[ne]=q,re=ne;else break e}}return R}function i($,R){var q=$.sortIndex-R.sortIndex;return q!==0?q:$.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var A=[],l=[],u=1,c=null,f=3,g=!1,v=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var R=r(l);R!==null;){if(R.callback===null)n(l);else if(R.startTime<=$)n(l),R.sortIndex=R.expirationTime,e(A,R);else break;R=r(l)}}function L($){if(b=!1,x($),!v)if(r(A)!==null)v=!0,te(P);else{var R=r(l);R!==null&&K(L,R.startTime-$)}}function P($,R){v=!1,b&&(b=!1,w(_),_=-1),g=!0;var q=f;try{for(x(R),c=r(A);c!==null&&(!(c.expirationTime>R)||$&&!E());){var re=c.callback;if(typeof re=="function"){c.callback=null,f=c.priorityLevel;var Q=re(c.expirationTime<=R);R=t.unstable_now(),typeof Q=="function"?c.callback=Q:c===r(A)&&n(A),x(R)}else n(A);c=r(A)}if(c!==null)var j=!0;else{var G=r(l);G!==null&&K(L,G.startTime-R),j=!1}return j}finally{c=null,f=q,g=!1}}var M=!1,I=null,_=-1,k=5,O=-1;function E(){return!(t.unstable_now()-O<k)}function T(){if(I!==null){var $=t.unstable_now();O=$;var R=!0;try{R=I(!0,$)}finally{R?N():(M=!1,I=null)}}else M=!1}var N;if(typeof y=="function")N=function(){y(T)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ce=X.port2;X.port1.onmessage=T,N=function(){ce.postMessage(null)}}else N=function(){S(T,0)};function te($){I=$,M||(M=!0,N())}function K($,R){_=S(function(){$(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,te(P))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var q=f;f=R;try{return $()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,R){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=f;f=$;try{return R()}finally{f=q}},t.unstable_scheduleCallback=function($,R,q){var re=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?re+q:re):q=re,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,$={id:u++,callback:R,priorityLevel:$,startTime:q,expirationTime:Q,sortIndex:-1},q>re?($.sortIndex=q,e(l,$),r(A)===null&&$===r(l)&&(b?(w(_),_=-1):b=!0,K(L,q-re))):($.sortIndex=Q,e(A,$),v||g||(v=!0,te(P))),$},t.unstable_shouldYield=E,t.unstable_wrapCallback=function($){var R=f;return function(){var q=f;f=R;try{return $.apply(this,arguments)}finally{f=q}}}})(Z4);X4.exports=Z4;var GL=X4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qL=Ae,us=GL;function et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eS=new Set,ap={};function ic(t,e){Pd(t,e),Pd(t+"Capture",e)}function Pd(t,e){for(ap[t]=e,t=0;t<e.length;t++)eS.add(e[t])}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uy=Object.prototype.hasOwnProperty,WL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dC={},hC={};function $L(t){return Uy.call(hC,t)?!0:Uy.call(dC,t)?!1:WL.test(t)?hC[t]=!0:(dC[t]=!0,!1)}function JL(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YL(t,e,r,n){if(e===null||typeof e>"u"||JL(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ii(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gn[t]=new Ii(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gn[e]=new Ii(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gn[t]=new Ii(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gn[t]=new Ii(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gn[t]=new Ii(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gn[t]=new Ii(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gn[t]=new Ii(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gn[t]=new Ii(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gn[t]=new Ii(t,5,!1,t.toLowerCase(),null,!1,!1)});var eb=/[\-:]([a-z])/g;function tb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eb,tb);Gn[e]=new Ii(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eb,tb);Gn[e]=new Ii(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eb,tb);Gn[e]=new Ii(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gn[t]=new Ii(t,1,!1,t.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new Ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gn[t]=new Ii(t,1,!1,t.toLowerCase(),null,!0,!0)});function rb(t,e,r,n){var i=Gn.hasOwnProperty(e)?Gn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YL(e,r,i,n)&&(r=null),n||i===null?$L(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ma=qL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zg=Symbol.for("react.element"),ld=Symbol.for("react.portal"),ud=Symbol.for("react.fragment"),nb=Symbol.for("react.strict_mode"),Ly=Symbol.for("react.profiler"),tS=Symbol.for("react.provider"),rS=Symbol.for("react.context"),ib=Symbol.for("react.forward_ref"),Py=Symbol.for("react.suspense"),Ry=Symbol.for("react.suspense_list"),sb=Symbol.for("react.memo"),QA=Symbol.for("react.lazy"),nS=Symbol.for("react.offscreen"),fC=Symbol.iterator;function zh(t){return t===null||typeof t!="object"?null:(t=fC&&t[fC]||t["@@iterator"],typeof t=="function"?t:null)}var Rr=Object.assign,c1;function ff(t){if(c1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);c1=e&&e[1]||""}return`
`+c1+t}var d1=!1;function h1(t,e){if(!t||d1)return"";d1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var A=`
`+i[o].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=o&&0<=a);break}}}finally{d1=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ff(t):""}function XL(t){switch(t.tag){case 5:return ff(t.type);case 16:return ff("Lazy");case 13:return ff("Suspense");case 19:return ff("SuspenseList");case 0:case 2:case 15:return t=h1(t.type,!1),t;case 11:return t=h1(t.type.render,!1),t;case 1:return t=h1(t.type,!0),t;default:return""}}function Dy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ud:return"Fragment";case ld:return"Portal";case Ly:return"Profiler";case nb:return"StrictMode";case Py:return"Suspense";case Ry:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rS:return(t.displayName||"Context")+".Consumer";case tS:return(t._context.displayName||"Context")+".Provider";case ib:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sb:return e=t.displayName||null,e!==null?e:Dy(t.type)||"Memo";case QA:e=t._payload,t=t._init;try{return Dy(t(e))}catch{}}return null}function ZL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dy(e);case 8:return e===nb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eP(t){var e=iS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function em(t){t._valueTracker||(t._valueTracker=eP(t))}function sS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=iS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function E0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oy(t,e){var r=e.checked;return Rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function pC(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=cl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oS(t,e){e=e.checked,e!=null&&rb(t,"checked",e,!1)}function My(t,e){oS(t,e);var r=cl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jy(t,e.type,r):e.hasOwnProperty("defaultValue")&&jy(t,e.type,cl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gC(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function jy(t,e,r){(e!=="number"||E0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var pf=Array.isArray;function xd(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+cl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(et(91));return Rr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mC(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(et(92));if(pf(r)){if(1<r.length)throw Error(et(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:cl(r)}}function aS(t,e){var r=cl(e.value),n=cl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function vC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tm,lS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tm=tm||document.createElement("div"),tm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ap(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Nf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tP=["Webkit","ms","Moz","O"];Object.keys(Nf).forEach(function(t){tP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nf[e]=Nf[t]})});function uS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Nf.hasOwnProperty(t)&&Nf[t]?(""+e).trim():e+"px"}function cS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=uS(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var rP=Rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ky(t,e){if(e){if(rP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(et(62))}}function zy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gy=null;function ob(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qy=null,_d=null,Cd=null;function wC(t){if(t=ng(t)){if(typeof qy!="function")throw Error(et(280));var e=t.stateNode;e&&(e=Lv(e),qy(t.stateNode,t.type,e))}}function dS(t){_d?Cd?Cd.push(t):Cd=[t]:_d=t}function hS(){if(_d){var t=_d,e=Cd;if(Cd=_d=null,wC(t),e)for(t=0;t<e.length;t++)wC(e[t])}}function fS(t,e){return t(e)}function pS(){}var f1=!1;function gS(t,e,r){if(f1)return t(e,r);f1=!0;try{return fS(t,e,r)}finally{f1=!1,(_d!==null||Cd!==null)&&(pS(),hS())}}function lp(t,e){var r=t.stateNode;if(r===null)return null;var n=Lv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(et(231,e,typeof r));return r}var Wy=!1;if(ka)try{var Gh={};Object.defineProperty(Gh,"passive",{get:function(){Wy=!0}}),window.addEventListener("test",Gh,Gh),window.removeEventListener("test",Gh,Gh)}catch{Wy=!1}function nP(t,e,r,n,i,s,o,a,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Qf=!1,I0=null,S0=!1,$y=null,iP={onError:function(t){Qf=!0,I0=t}};function sP(t,e,r,n,i,s,o,a,A){Qf=!1,I0=null,nP.apply(iP,arguments)}function oP(t,e,r,n,i,s,o,a,A){if(sP.apply(this,arguments),Qf){if(Qf){var l=I0;Qf=!1,I0=null}else throw Error(et(198));S0||(S0=!0,$y=l)}}function sc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function mS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yC(t){if(sc(t)!==t)throw Error(et(188))}function aP(t){var e=t.alternate;if(!e){if(e=sc(t),e===null)throw Error(et(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return yC(i),t;if(s===n)return yC(i),e;s=s.sibling}throw Error(et(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(et(189))}}if(r.alternate!==n)throw Error(et(190))}if(r.tag!==3)throw Error(et(188));return r.stateNode.current===r?t:e}function vS(t){return t=aP(t),t!==null?wS(t):null}function wS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wS(t);if(e!==null)return e;t=t.sibling}return null}var yS=us.unstable_scheduleCallback,BC=us.unstable_cancelCallback,AP=us.unstable_shouldYield,lP=us.unstable_requestPaint,tn=us.unstable_now,uP=us.unstable_getCurrentPriorityLevel,ab=us.unstable_ImmediatePriority,BS=us.unstable_UserBlockingPriority,F0=us.unstable_NormalPriority,cP=us.unstable_LowPriority,bS=us.unstable_IdlePriority,kv=null,Oo=null;function dP(t){if(Oo&&typeof Oo.onCommitFiberRoot=="function")try{Oo.onCommitFiberRoot(kv,t,void 0,(t.current.flags&128)===128)}catch{}}var io=Math.clz32?Math.clz32:pP,hP=Math.log,fP=Math.LN2;function pP(t){return t>>>=0,t===0?32:31-(hP(t)/fP|0)|0}var rm=64,nm=4194304;function gf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function T0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=gf(a):(s&=o,s!==0&&(n=gf(s)))}else o=r&~i,o!==0?n=gf(o):s!==0&&(n=gf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-io(e),i=1<<r,n|=t[r],e&=~i;return n}function gP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-io(s),a=1<<o,A=i[o];A===-1?(!(a&r)||a&n)&&(i[o]=gP(a,e)):A<=e&&(t.expiredLanes|=a),s&=~a}}function Jy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xS(){var t=rm;return rm<<=1,!(rm&4194240)&&(rm=64),t}function p1(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function tg(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-io(e),t[e]=r}function vP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-io(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Ab(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-io(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ar=0;function _S(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CS,lb,ES,IS,SS,Yy=!1,im=[],JA=null,YA=null,XA=null,up=new Map,cp=new Map,PA=[],wP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bC(t,e){switch(t){case"focusin":case"focusout":JA=null;break;case"dragenter":case"dragleave":YA=null;break;case"mouseover":case"mouseout":XA=null;break;case"pointerover":case"pointerout":up.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cp.delete(e.pointerId)}}function qh(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ng(e),e!==null&&lb(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yP(t,e,r,n,i){switch(e){case"focusin":return JA=qh(JA,t,e,r,n,i),!0;case"dragenter":return YA=qh(YA,t,e,r,n,i),!0;case"mouseover":return XA=qh(XA,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return up.set(s,qh(up.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,cp.set(s,qh(cp.get(s)||null,t,e,r,n,i)),!0}return!1}function FS(t){var e=yu(t.target);if(e!==null){var r=sc(e);if(r!==null){if(e=r.tag,e===13){if(e=mS(r),e!==null){t.blockedOn=e,SS(t.priority,function(){ES(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Xy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Gy=n,r.target.dispatchEvent(n),Gy=null}else return e=ng(r),e!==null&&lb(e),t.blockedOn=r,!1;e.shift()}return!0}function xC(t,e,r){Zm(t)&&r.delete(e)}function BP(){Yy=!1,JA!==null&&Zm(JA)&&(JA=null),YA!==null&&Zm(YA)&&(YA=null),XA!==null&&Zm(XA)&&(XA=null),up.forEach(xC),cp.forEach(xC)}function Wh(t,e){t.blockedOn===e&&(t.blockedOn=null,Yy||(Yy=!0,us.unstable_scheduleCallback(us.unstable_NormalPriority,BP)))}function dp(t){function e(i){return Wh(i,t)}if(0<im.length){Wh(im[0],t);for(var r=1;r<im.length;r++){var n=im[r];n.blockedOn===t&&(n.blockedOn=null)}}for(JA!==null&&Wh(JA,t),YA!==null&&Wh(YA,t),XA!==null&&Wh(XA,t),up.forEach(e),cp.forEach(e),r=0;r<PA.length;r++)n=PA[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<PA.length&&(r=PA[0],r.blockedOn===null);)FS(r),r.blockedOn===null&&PA.shift()}var Ed=Ma.ReactCurrentBatchConfig,k0=!0;function bP(t,e,r,n){var i=ar,s=Ed.transition;Ed.transition=null;try{ar=1,ub(t,e,r,n)}finally{ar=i,Ed.transition=s}}function xP(t,e,r,n){var i=ar,s=Ed.transition;Ed.transition=null;try{ar=4,ub(t,e,r,n)}finally{ar=i,Ed.transition=s}}function ub(t,e,r,n){if(k0){var i=Xy(t,e,r,n);if(i===null)C1(t,e,n,N0,r),bC(t,n);else if(yP(i,t,e,r,n))n.stopPropagation();else if(bC(t,n),e&4&&-1<wP.indexOf(t)){for(;i!==null;){var s=ng(i);if(s!==null&&CS(s),s=Xy(t,e,r,n),s===null&&C1(t,e,n,N0,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else C1(t,e,n,null,r)}}var N0=null;function Xy(t,e,r,n){if(N0=null,t=ob(n),t=yu(t),t!==null)if(e=sc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=mS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return N0=t,null}function TS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uP()){case ab:return 1;case BS:return 4;case F0:case cP:return 16;case bS:return 536870912;default:return 16}default:return 16}}var jA=null,cb=null,e0=null;function kS(){if(e0)return e0;var t,e=cb,r=e.length,n,i="value"in jA?jA.value:jA.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return e0=i.slice(t,1<n?1-n:void 0)}function t0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sm(){return!0}function _C(){return!1}function hs(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sm:_C,this.isPropagationStopped=_C,this}return Rr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sm)},persist:function(){},isPersistent:sm}),e}var lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},db=hs(lh),rg=Rr({},lh,{view:0,detail:0}),_P=hs(rg),g1,m1,$h,Nv=Rr({},rg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$h&&($h&&t.type==="mousemove"?(g1=t.screenX-$h.screenX,m1=t.screenY-$h.screenY):m1=g1=0,$h=t),g1)},movementY:function(t){return"movementY"in t?t.movementY:m1}}),CC=hs(Nv),CP=Rr({},Nv,{dataTransfer:0}),EP=hs(CP),IP=Rr({},rg,{relatedTarget:0}),v1=hs(IP),SP=Rr({},lh,{animationName:0,elapsedTime:0,pseudoElement:0}),FP=hs(SP),TP=Rr({},lh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kP=hs(TP),NP=Rr({},lh,{data:0}),EC=hs(NP),QP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LP[t])?!!e[t]:!1}function hb(){return PP}var RP=Rr({},rg,{key:function(t){if(t.key){var e=QP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=t0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hb,charCode:function(t){return t.type==="keypress"?t0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?t0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DP=hs(RP),OP=Rr({},Nv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IC=hs(OP),MP=Rr({},rg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hb}),jP=hs(MP),HP=Rr({},lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),VP=hs(HP),KP=Rr({},Nv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zP=hs(KP),GP=[9,13,27,32],fb=ka&&"CompositionEvent"in window,Uf=null;ka&&"documentMode"in document&&(Uf=document.documentMode);var qP=ka&&"TextEvent"in window&&!Uf,NS=ka&&(!fb||Uf&&8<Uf&&11>=Uf),SC=" ",FC=!1;function QS(t,e){switch(t){case"keyup":return GP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function US(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cd=!1;function WP(t,e){switch(t){case"compositionend":return US(e);case"keypress":return e.which!==32?null:(FC=!0,SC);case"textInput":return t=e.data,t===SC&&FC?null:t;default:return null}}function $P(t,e){if(cd)return t==="compositionend"||!fb&&QS(t,e)?(t=kS(),e0=cb=jA=null,cd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NS&&e.locale!=="ko"?null:e.data;default:return null}}var JP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JP[t.type]:e==="textarea"}function LS(t,e,r,n){dS(n),e=Q0(e,"onChange"),0<e.length&&(r=new db("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Lf=null,hp=null;function YP(t){GS(t,0)}function Qv(t){var e=fd(t);if(sS(e))return t}function XP(t,e){if(t==="change")return e}var PS=!1;if(ka){var w1;if(ka){var y1="oninput"in document;if(!y1){var kC=document.createElement("div");kC.setAttribute("oninput","return;"),y1=typeof kC.oninput=="function"}w1=y1}else w1=!1;PS=w1&&(!document.documentMode||9<document.documentMode)}function NC(){Lf&&(Lf.detachEvent("onpropertychange",RS),hp=Lf=null)}function RS(t){if(t.propertyName==="value"&&Qv(hp)){var e=[];LS(e,hp,t,ob(t)),gS(YP,e)}}function ZP(t,e,r){t==="focusin"?(NC(),Lf=e,hp=r,Lf.attachEvent("onpropertychange",RS)):t==="focusout"&&NC()}function eR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qv(hp)}function tR(t,e){if(t==="click")return Qv(e)}function rR(t,e){if(t==="input"||t==="change")return Qv(e)}function nR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ao=typeof Object.is=="function"?Object.is:nR;function fp(t,e){if(ao(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Uy.call(e,i)||!ao(t[i],e[i]))return!1}return!0}function QC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function UC(t,e){var r=QC(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=QC(r)}}function DS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OS(){for(var t=window,e=E0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=E0(t.document)}return e}function pb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iR(t){var e=OS(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&DS(r.ownerDocument.documentElement,r)){if(n!==null&&pb(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=UC(r,s);var o=UC(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sR=ka&&"documentMode"in document&&11>=document.documentMode,dd=null,Zy=null,Pf=null,e2=!1;function LC(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;e2||dd==null||dd!==E0(n)||(n=dd,"selectionStart"in n&&pb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pf&&fp(Pf,n)||(Pf=n,n=Q0(Zy,"onSelect"),0<n.length&&(e=new db("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=dd)))}function om(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var hd={animationend:om("Animation","AnimationEnd"),animationiteration:om("Animation","AnimationIteration"),animationstart:om("Animation","AnimationStart"),transitionend:om("Transition","TransitionEnd")},B1={},MS={};ka&&(MS=document.createElement("div").style,"AnimationEvent"in window||(delete hd.animationend.animation,delete hd.animationiteration.animation,delete hd.animationstart.animation),"TransitionEvent"in window||delete hd.transitionend.transition);function Uv(t){if(B1[t])return B1[t];if(!hd[t])return t;var e=hd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in MS)return B1[t]=e[r];return t}var jS=Uv("animationend"),HS=Uv("animationiteration"),VS=Uv("animationstart"),KS=Uv("transitionend"),zS=new Map,PC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Il(t,e){zS.set(t,e),ic(e,[t])}for(var b1=0;b1<PC.length;b1++){var x1=PC[b1],oR=x1.toLowerCase(),aR=x1[0].toUpperCase()+x1.slice(1);Il(oR,"on"+aR)}Il(jS,"onAnimationEnd");Il(HS,"onAnimationIteration");Il(VS,"onAnimationStart");Il("dblclick","onDoubleClick");Il("focusin","onFocus");Il("focusout","onBlur");Il(KS,"onTransitionEnd");Pd("onMouseEnter",["mouseout","mouseover"]);Pd("onMouseLeave",["mouseout","mouseover"]);Pd("onPointerEnter",["pointerout","pointerover"]);Pd("onPointerLeave",["pointerout","pointerover"]);ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AR=new Set("cancel close invalid load scroll toggle".split(" ").concat(mf));function RC(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,oP(n,e,void 0,t),t.currentTarget=null}function GS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],A=a.instance,l=a.currentTarget;if(a=a.listener,A!==s&&i.isPropagationStopped())break e;RC(i,a,l),s=A}else for(o=0;o<n.length;o++){if(a=n[o],A=a.instance,l=a.currentTarget,a=a.listener,A!==s&&i.isPropagationStopped())break e;RC(i,a,l),s=A}}}if(S0)throw t=$y,S0=!1,$y=null,t}function xr(t,e){var r=e[s2];r===void 0&&(r=e[s2]=new Set);var n=t+"__bubble";r.has(n)||(qS(e,t,2,!1),r.add(n))}function _1(t,e,r){var n=0;e&&(n|=4),qS(r,t,n,e)}var am="_reactListening"+Math.random().toString(36).slice(2);function pp(t){if(!t[am]){t[am]=!0,eS.forEach(function(r){r!=="selectionchange"&&(AR.has(r)||_1(r,!1,t),_1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[am]||(e[am]=!0,_1("selectionchange",!1,e))}}function qS(t,e,r,n){switch(TS(e)){case 1:var i=bP;break;case 4:i=xP;break;default:i=ub}r=i.bind(null,e,r,t),i=void 0,!Wy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function C1(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var A=o.tag;if((A===3||A===4)&&(A=o.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;o=o.return}for(;a!==null;){if(o=yu(a),o===null)return;if(A=o.tag,A===5||A===6){n=s=o;continue e}a=a.parentNode}}n=n.return}gS(function(){var l=s,u=ob(r),c=[];e:{var f=zS.get(t);if(f!==void 0){var g=db,v=t;switch(t){case"keypress":if(t0(r)===0)break e;case"keydown":case"keyup":g=DP;break;case"focusin":v="focus",g=v1;break;case"focusout":v="blur",g=v1;break;case"beforeblur":case"afterblur":g=v1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=CC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=EP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jP;break;case jS:case HS:case VS:g=FP;break;case KS:g=VP;break;case"scroll":g=_P;break;case"wheel":g=zP;break;case"copy":case"cut":case"paste":g=kP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=IC}var b=(e&4)!==0,S=!b&&t==="scroll",w=b?f!==null?f+"Capture":null:f;b=[];for(var y=l,x;y!==null;){x=y;var L=x.stateNode;if(x.tag===5&&L!==null&&(x=L,w!==null&&(L=lp(y,w),L!=null&&b.push(gp(y,L,x)))),S)break;y=y.return}0<b.length&&(f=new g(f,v,null,r,u),c.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Gy&&(v=r.relatedTarget||r.fromElement)&&(yu(v)||v[Na]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=l,v=v?yu(v):null,v!==null&&(S=sc(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=l),g!==v)){if(b=CC,L="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=IC,L="onPointerLeave",w="onPointerEnter",y="pointer"),S=g==null?f:fd(g),x=v==null?f:fd(v),f=new b(L,y+"leave",g,r,u),f.target=S,f.relatedTarget=x,L=null,yu(u)===l&&(b=new b(w,y+"enter",v,r,u),b.target=x,b.relatedTarget=S,L=b),S=L,g&&v)t:{for(b=g,w=v,y=0,x=b;x;x=Oc(x))y++;for(x=0,L=w;L;L=Oc(L))x++;for(;0<y-x;)b=Oc(b),y--;for(;0<x-y;)w=Oc(w),x--;for(;y--;){if(b===w||w!==null&&b===w.alternate)break t;b=Oc(b),w=Oc(w)}b=null}else b=null;g!==null&&DC(c,f,g,b,!1),v!==null&&S!==null&&DC(c,S,v,b,!0)}}e:{if(f=l?fd(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var P=XP;else if(TC(f))if(PS)P=rR;else{P=eR;var M=ZP}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=tR);if(P&&(P=P(t,l))){LS(c,P,r,u);break e}M&&M(t,f,l),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&jy(f,"number",f.value)}switch(M=l?fd(l):window,t){case"focusin":(TC(M)||M.contentEditable==="true")&&(dd=M,Zy=l,Pf=null);break;case"focusout":Pf=Zy=dd=null;break;case"mousedown":e2=!0;break;case"contextmenu":case"mouseup":case"dragend":e2=!1,LC(c,r,u);break;case"selectionchange":if(sR)break;case"keydown":case"keyup":LC(c,r,u)}var I;if(fb)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else cd?QS(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(NS&&r.locale!=="ko"&&(cd||_!=="onCompositionStart"?_==="onCompositionEnd"&&cd&&(I=kS()):(jA=u,cb="value"in jA?jA.value:jA.textContent,cd=!0)),M=Q0(l,_),0<M.length&&(_=new EC(_,t,null,r,u),c.push({event:_,listeners:M}),I?_.data=I:(I=US(r),I!==null&&(_.data=I)))),(I=qP?WP(t,r):$P(t,r))&&(l=Q0(l,"onBeforeInput"),0<l.length&&(u=new EC("onBeforeInput","beforeinput",null,r,u),c.push({event:u,listeners:l}),u.data=I))}GS(c,e)})}function gp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Q0(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=lp(t,r),s!=null&&n.unshift(gp(t,s,i)),s=lp(t,e),s!=null&&n.push(gp(t,s,i))),t=t.return}return n}function Oc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DC(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,A=a.alternate,l=a.stateNode;if(A!==null&&A===n)break;a.tag===5&&l!==null&&(a=l,i?(A=lp(r,s),A!=null&&o.unshift(gp(r,A,a))):i||(A=lp(r,s),A!=null&&o.push(gp(r,A,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var lR=/\r\n?/g,uR=/\u0000|\uFFFD/g;function OC(t){return(typeof t=="string"?t:""+t).replace(lR,`
`).replace(uR,"")}function Am(t,e,r){if(e=OC(e),OC(t)!==e&&r)throw Error(et(425))}function U0(){}var t2=null,r2=null;function n2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var i2=typeof setTimeout=="function"?setTimeout:void 0,cR=typeof clearTimeout=="function"?clearTimeout:void 0,MC=typeof Promise=="function"?Promise:void 0,dR=typeof queueMicrotask=="function"?queueMicrotask:typeof MC<"u"?function(t){return MC.resolve(null).then(t).catch(hR)}:i2;function hR(t){setTimeout(function(){throw t})}function E1(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),dp(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);dp(e)}function ZA(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var uh=Math.random().toString(36).slice(2),To="__reactFiber$"+uh,mp="__reactProps$"+uh,Na="__reactContainer$"+uh,s2="__reactEvents$"+uh,fR="__reactListeners$"+uh,pR="__reactHandles$"+uh;function yu(t){var e=t[To];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Na]||r[To]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jC(t);t!==null;){if(r=t[To])return r;t=jC(t)}return e}t=r,r=t.parentNode}return null}function ng(t){return t=t[To]||t[Na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(et(33))}function Lv(t){return t[mp]||null}var o2=[],pd=-1;function Sl(t){return{current:t}}function Er(t){0>pd||(t.current=o2[pd],o2[pd]=null,pd--)}function wr(t,e){pd++,o2[pd]=t.current,t.current=e}var dl={},li=Sl(dl),Ki=Sl(!1),Mu=dl;function Rd(t,e){var r=t.type.contextTypes;if(!r)return dl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zi(t){return t=t.childContextTypes,t!=null}function L0(){Er(Ki),Er(li)}function HC(t,e,r){if(li.current!==dl)throw Error(et(168));wr(li,e),wr(Ki,r)}function WS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(et(108,ZL(t)||"Unknown",i));return Rr({},r,n)}function P0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dl,Mu=li.current,wr(li,t),wr(Ki,Ki.current),!0}function VC(t,e,r){var n=t.stateNode;if(!n)throw Error(et(169));r?(t=WS(t,e,Mu),n.__reactInternalMemoizedMergedChildContext=t,Er(Ki),Er(li),wr(li,t)):Er(Ki),wr(Ki,r)}var ya=null,Pv=!1,I1=!1;function $S(t){ya===null?ya=[t]:ya.push(t)}function gR(t){Pv=!0,$S(t)}function Fl(){if(!I1&&ya!==null){I1=!0;var t=0,e=ar;try{var r=ya;for(ar=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ya=null,Pv=!1}catch(i){throw ya!==null&&(ya=ya.slice(t+1)),yS(ab,Fl),i}finally{ar=e,I1=!1}}return null}var gd=[],md=0,R0=null,D0=0,Cs=[],Es=0,ju=null,Ba=1,ba="";function au(t,e){gd[md++]=D0,gd[md++]=R0,R0=t,D0=e}function JS(t,e,r){Cs[Es++]=Ba,Cs[Es++]=ba,Cs[Es++]=ju,ju=t;var n=Ba;t=ba;var i=32-io(n)-1;n&=~(1<<i),r+=1;var s=32-io(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ba=1<<32-io(e)+i|r<<i|n,ba=s+t}else Ba=1<<s|r<<i|n,ba=t}function gb(t){t.return!==null&&(au(t,1),JS(t,1,0))}function mb(t){for(;t===R0;)R0=gd[--md],gd[md]=null,D0=gd[--md],gd[md]=null;for(;t===ju;)ju=Cs[--Es],Cs[Es]=null,ba=Cs[--Es],Cs[Es]=null,Ba=Cs[--Es],Cs[Es]=null}var ls=null,os=null,Fr=!1,ro=null;function YS(t,e){var r=Fs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function KC(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ls=t,os=ZA(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ls=t,os=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ju!==null?{id:Ba,overflow:ba}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ls=t,os=null,!0):!1;default:return!1}}function a2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function A2(t){if(Fr){var e=os;if(e){var r=e;if(!KC(t,e)){if(a2(t))throw Error(et(418));e=ZA(r.nextSibling);var n=ls;e&&KC(t,e)?YS(n,r):(t.flags=t.flags&-4097|2,Fr=!1,ls=t)}}else{if(a2(t))throw Error(et(418));t.flags=t.flags&-4097|2,Fr=!1,ls=t}}}function zC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ls=t}function lm(t){if(t!==ls)return!1;if(!Fr)return zC(t),Fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!n2(t.type,t.memoizedProps)),e&&(e=os)){if(a2(t))throw XS(),Error(et(418));for(;e;)YS(t,e),e=ZA(e.nextSibling)}if(zC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){os=ZA(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}os=null}}else os=ls?ZA(t.stateNode.nextSibling):null;return!0}function XS(){for(var t=os;t;)t=ZA(t.nextSibling)}function Dd(){os=ls=null,Fr=!1}function vb(t){ro===null?ro=[t]:ro.push(t)}var mR=Ma.ReactCurrentBatchConfig;function Jh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(et(309));var n=r.stateNode}if(!n)throw Error(et(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(et(284));if(!r._owner)throw Error(et(290,t))}return t}function um(t,e){throw t=Object.prototype.toString.call(e),Error(et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function GC(t){var e=t._init;return e(t._payload)}function ZS(t){function e(w,y){if(t){var x=w.deletions;x===null?(w.deletions=[y],w.flags|=16):x.push(y)}}function r(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=nl(w,y),w.index=0,w.sibling=null,w}function s(w,y,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<y?(w.flags|=2,y):x):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,x,L){return y===null||y.tag!==6?(y=U1(x,w.mode,L),y.return=w,y):(y=i(y,x),y.return=w,y)}function A(w,y,x,L){var P=x.type;return P===ud?u(w,y,x.props.children,L,x.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===QA&&GC(P)===y.type)?(L=i(y,x.props),L.ref=Jh(w,y,x),L.return=w,L):(L=A0(x.type,x.key,x.props,null,w.mode,L),L.ref=Jh(w,y,x),L.return=w,L)}function l(w,y,x,L){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=L1(x,w.mode,L),y.return=w,y):(y=i(y,x.children||[]),y.return=w,y)}function u(w,y,x,L,P){return y===null||y.tag!==7?(y=Fu(x,w.mode,L,P),y.return=w,y):(y=i(y,x),y.return=w,y)}function c(w,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=U1(""+y,w.mode,x),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zg:return x=A0(y.type,y.key,y.props,null,w.mode,x),x.ref=Jh(w,null,y),x.return=w,x;case ld:return y=L1(y,w.mode,x),y.return=w,y;case QA:var L=y._init;return c(w,L(y._payload),x)}if(pf(y)||zh(y))return y=Fu(y,w.mode,x,null),y.return=w,y;um(w,y)}return null}function f(w,y,x,L){var P=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:a(w,y,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zg:return x.key===P?A(w,y,x,L):null;case ld:return x.key===P?l(w,y,x,L):null;case QA:return P=x._init,f(w,y,P(x._payload),L)}if(pf(x)||zh(x))return P!==null?null:u(w,y,x,L,null);um(w,x)}return null}function g(w,y,x,L,P){if(typeof L=="string"&&L!==""||typeof L=="number")return w=w.get(x)||null,a(y,w,""+L,P);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Zg:return w=w.get(L.key===null?x:L.key)||null,A(y,w,L,P);case ld:return w=w.get(L.key===null?x:L.key)||null,l(y,w,L,P);case QA:var M=L._init;return g(w,y,x,M(L._payload),P)}if(pf(L)||zh(L))return w=w.get(x)||null,u(y,w,L,P,null);um(y,L)}return null}function v(w,y,x,L){for(var P=null,M=null,I=y,_=y=0,k=null;I!==null&&_<x.length;_++){I.index>_?(k=I,I=null):k=I.sibling;var O=f(w,I,x[_],L);if(O===null){I===null&&(I=k);break}t&&I&&O.alternate===null&&e(w,I),y=s(O,y,_),M===null?P=O:M.sibling=O,M=O,I=k}if(_===x.length)return r(w,I),Fr&&au(w,_),P;if(I===null){for(;_<x.length;_++)I=c(w,x[_],L),I!==null&&(y=s(I,y,_),M===null?P=I:M.sibling=I,M=I);return Fr&&au(w,_),P}for(I=n(w,I);_<x.length;_++)k=g(I,w,_,x[_],L),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?_:k.key),y=s(k,y,_),M===null?P=k:M.sibling=k,M=k);return t&&I.forEach(function(E){return e(w,E)}),Fr&&au(w,_),P}function b(w,y,x,L){var P=zh(x);if(typeof P!="function")throw Error(et(150));if(x=P.call(x),x==null)throw Error(et(151));for(var M=P=null,I=y,_=y=0,k=null,O=x.next();I!==null&&!O.done;_++,O=x.next()){I.index>_?(k=I,I=null):k=I.sibling;var E=f(w,I,O.value,L);if(E===null){I===null&&(I=k);break}t&&I&&E.alternate===null&&e(w,I),y=s(E,y,_),M===null?P=E:M.sibling=E,M=E,I=k}if(O.done)return r(w,I),Fr&&au(w,_),P;if(I===null){for(;!O.done;_++,O=x.next())O=c(w,O.value,L),O!==null&&(y=s(O,y,_),M===null?P=O:M.sibling=O,M=O);return Fr&&au(w,_),P}for(I=n(w,I);!O.done;_++,O=x.next())O=g(I,w,_,O.value,L),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?_:O.key),y=s(O,y,_),M===null?P=O:M.sibling=O,M=O);return t&&I.forEach(function(T){return e(w,T)}),Fr&&au(w,_),P}function S(w,y,x,L){if(typeof x=="object"&&x!==null&&x.type===ud&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zg:e:{for(var P=x.key,M=y;M!==null;){if(M.key===P){if(P=x.type,P===ud){if(M.tag===7){r(w,M.sibling),y=i(M,x.props.children),y.return=w,w=y;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===QA&&GC(P)===M.type){r(w,M.sibling),y=i(M,x.props),y.ref=Jh(w,M,x),y.return=w,w=y;break e}r(w,M);break}else e(w,M);M=M.sibling}x.type===ud?(y=Fu(x.props.children,w.mode,L,x.key),y.return=w,w=y):(L=A0(x.type,x.key,x.props,null,w.mode,L),L.ref=Jh(w,y,x),L.return=w,w=L)}return o(w);case ld:e:{for(M=x.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(w,y.sibling),y=i(y,x.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else e(w,y);y=y.sibling}y=L1(x,w.mode,L),y.return=w,w=y}return o(w);case QA:return M=x._init,S(w,y,M(x._payload),L)}if(pf(x))return v(w,y,x,L);if(zh(x))return b(w,y,x,L);um(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(w,y.sibling),y=i(y,x),y.return=w,w=y):(r(w,y),y=U1(x,w.mode,L),y.return=w,w=y),o(w)):r(w,y)}return S}var Od=ZS(!0),eF=ZS(!1),O0=Sl(null),M0=null,vd=null,wb=null;function yb(){wb=vd=M0=null}function Bb(t){var e=O0.current;Er(O0),t._currentValue=e}function l2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Id(t,e){M0=t,wb=vd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mi=!0),t.firstContext=null)}function Ls(t){var e=t._currentValue;if(wb!==t)if(t={context:t,memoizedValue:e,next:null},vd===null){if(M0===null)throw Error(et(308));vd=t,M0.dependencies={lanes:0,firstContext:t}}else vd=vd.next=t;return e}var Bu=null;function bb(t){Bu===null?Bu=[t]:Bu.push(t)}function tF(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,bb(e)):(r.next=i.next,i.next=r),e.interleaved=r,Qa(t,n)}function Qa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var UA=!1;function xb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function el(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Wt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Qa(t,r)}return i=n.interleaved,i===null?(e.next=e,bb(n)):(e.next=i.next,i.next=e),n.interleaved=e,Qa(t,r)}function r0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ab(t,r)}}function qC(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function j0(t,e,r,n){var i=t.updateQueue;UA=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var A=a,l=A.next;A.next=null,o===null?s=l:o.next=l,o=A;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=A))}if(s!==null){var c=i.baseState;o=0,u=l=A=null,a=s;do{var f=a.lane,g=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(f=e,g=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){c=v.call(g,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(g,c,f):v,f==null)break e;c=Rr({},c,f);break e;case 2:UA=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=g,A=c):u=u.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(A=c),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vu|=o,t.lanes=o,t.memoizedState=c}}function WC(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(et(191,i));i.call(n)}}}var ig={},Mo=Sl(ig),vp=Sl(ig),wp=Sl(ig);function bu(t){if(t===ig)throw Error(et(174));return t}function _b(t,e){switch(wr(wp,e),wr(vp,t),wr(Mo,ig),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vy(e,t)}Er(Mo),wr(Mo,e)}function Md(){Er(Mo),Er(vp),Er(wp)}function nF(t){bu(wp.current);var e=bu(Mo.current),r=Vy(e,t.type);e!==r&&(wr(vp,t),wr(Mo,r))}function Cb(t){vp.current===t&&(Er(Mo),Er(vp))}var Qr=Sl(0);function H0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var S1=[];function Eb(){for(var t=0;t<S1.length;t++)S1[t]._workInProgressVersionPrimary=null;S1.length=0}var n0=Ma.ReactCurrentDispatcher,F1=Ma.ReactCurrentBatchConfig,Hu=0,Ur=null,yn=null,Tn=null,V0=!1,Rf=!1,yp=0,vR=0;function Xn(){throw Error(et(321))}function Ib(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ao(t[r],e[r]))return!1;return!0}function Sb(t,e,r,n,i,s){if(Hu=s,Ur=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,n0.current=t===null||t.memoizedState===null?bR:xR,t=r(n,i),Rf){s=0;do{if(Rf=!1,yp=0,25<=s)throw Error(et(301));s+=1,Tn=yn=null,e.updateQueue=null,n0.current=_R,t=r(n,i)}while(Rf)}if(n0.current=K0,e=yn!==null&&yn.next!==null,Hu=0,Tn=yn=Ur=null,V0=!1,e)throw Error(et(300));return t}function Fb(){var t=yp!==0;return yp=0,t}function Fo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Ur.memoizedState=Tn=t:Tn=Tn.next=t,Tn}function Ps(){if(yn===null){var t=Ur.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=Tn===null?Ur.memoizedState:Tn.next;if(e!==null)Tn=e,yn=t;else{if(t===null)throw Error(et(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Tn===null?Ur.memoizedState=Tn=t:Tn=Tn.next=t}return Tn}function Bp(t,e){return typeof e=="function"?e(t):e}function T1(t){var e=Ps(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=yn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,A=null,l=s;do{var u=l.lane;if((Hu&u)===u)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var c={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(a=A=c,o=n):A=A.next=c,Ur.lanes|=u,Vu|=u}l=l.next}while(l!==null&&l!==s);A===null?o=n:A.next=a,ao(n,e.memoizedState)||(Mi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=A,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ur.lanes|=s,Vu|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function k1(t){var e=Ps(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ao(s,e.memoizedState)||(Mi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function iF(){}function sF(t,e){var r=Ur,n=Ps(),i=e(),s=!ao(n.memoizedState,i);if(s&&(n.memoizedState=i,Mi=!0),n=n.queue,Tb(AF.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Tn!==null&&Tn.memoizedState.tag&1){if(r.flags|=2048,bp(9,aF.bind(null,r,n,i,e),void 0,null),Nn===null)throw Error(et(349));Hu&30||oF(r,e,i)}return i}function oF(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ur.updateQueue,e===null?(e={lastEffect:null,stores:null},Ur.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function aF(t,e,r,n){e.value=r,e.getSnapshot=n,lF(e)&&uF(t)}function AF(t,e,r){return r(function(){lF(e)&&uF(t)})}function lF(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ao(t,r)}catch{return!0}}function uF(t){var e=Qa(t,1);e!==null&&so(e,t,1,-1)}function $C(t){var e=Fo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bp,lastRenderedState:t},e.queue=t,t=t.dispatch=BR.bind(null,Ur,t),[e.memoizedState,t]}function bp(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ur.updateQueue,e===null?(e={lastEffect:null,stores:null},Ur.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function cF(){return Ps().memoizedState}function i0(t,e,r,n){var i=Fo();Ur.flags|=t,i.memoizedState=bp(1|e,r,void 0,n===void 0?null:n)}function Rv(t,e,r,n){var i=Ps();n=n===void 0?null:n;var s=void 0;if(yn!==null){var o=yn.memoizedState;if(s=o.destroy,n!==null&&Ib(n,o.deps)){i.memoizedState=bp(e,r,s,n);return}}Ur.flags|=t,i.memoizedState=bp(1|e,r,s,n)}function JC(t,e){return i0(8390656,8,t,e)}function Tb(t,e){return Rv(2048,8,t,e)}function dF(t,e){return Rv(4,2,t,e)}function hF(t,e){return Rv(4,4,t,e)}function fF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pF(t,e,r){return r=r!=null?r.concat([t]):null,Rv(4,4,fF.bind(null,e,t),r)}function kb(){}function gF(t,e){var r=Ps();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ib(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function mF(t,e){var r=Ps();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ib(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function vF(t,e,r){return Hu&21?(ao(r,e)||(r=xS(),Ur.lanes|=r,Vu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mi=!0),t.memoizedState=r)}function wR(t,e){var r=ar;ar=r!==0&&4>r?r:4,t(!0);var n=F1.transition;F1.transition={};try{t(!1),e()}finally{ar=r,F1.transition=n}}function wF(){return Ps().memoizedState}function yR(t,e,r){var n=rl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yF(t))BF(e,r);else if(r=tF(t,e,r,n),r!==null){var i=Bi();so(r,t,n,i),bF(r,e,n)}}function BR(t,e,r){var n=rl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yF(t))BF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,ao(a,o)){var A=e.interleaved;A===null?(i.next=i,bb(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}r=tF(t,e,i,n),r!==null&&(i=Bi(),so(r,t,n,i),bF(r,e,n))}}function yF(t){var e=t.alternate;return t===Ur||e!==null&&e===Ur}function BF(t,e){Rf=V0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function bF(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ab(t,r)}}var K0={readContext:Ls,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},bR={readContext:Ls,useCallback:function(t,e){return Fo().memoizedState=[t,e===void 0?null:e],t},useContext:Ls,useEffect:JC,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,i0(4194308,4,fF.bind(null,e,t),r)},useLayoutEffect:function(t,e){return i0(4194308,4,t,e)},useInsertionEffect:function(t,e){return i0(4,2,t,e)},useMemo:function(t,e){var r=Fo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Fo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=yR.bind(null,Ur,t),[n.memoizedState,t]},useRef:function(t){var e=Fo();return t={current:t},e.memoizedState=t},useState:$C,useDebugValue:kb,useDeferredValue:function(t){return Fo().memoizedState=t},useTransition:function(){var t=$C(!1),e=t[0];return t=wR.bind(null,t[1]),Fo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ur,i=Fo();if(Fr){if(r===void 0)throw Error(et(407));r=r()}else{if(r=e(),Nn===null)throw Error(et(349));Hu&30||oF(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,JC(AF.bind(null,n,s,t),[t]),n.flags|=2048,bp(9,aF.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Fo(),e=Nn.identifierPrefix;if(Fr){var r=ba,n=Ba;r=(n&~(1<<32-io(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=yp++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=vR++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xR={readContext:Ls,useCallback:gF,useContext:Ls,useEffect:Tb,useImperativeHandle:pF,useInsertionEffect:dF,useLayoutEffect:hF,useMemo:mF,useReducer:T1,useRef:cF,useState:function(){return T1(Bp)},useDebugValue:kb,useDeferredValue:function(t){var e=Ps();return vF(e,yn.memoizedState,t)},useTransition:function(){var t=T1(Bp)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:iF,useSyncExternalStore:sF,useId:wF,unstable_isNewReconciler:!1},_R={readContext:Ls,useCallback:gF,useContext:Ls,useEffect:Tb,useImperativeHandle:pF,useInsertionEffect:dF,useLayoutEffect:hF,useMemo:mF,useReducer:k1,useRef:cF,useState:function(){return k1(Bp)},useDebugValue:kb,useDeferredValue:function(t){var e=Ps();return yn===null?e.memoizedState=t:vF(e,yn.memoizedState,t)},useTransition:function(){var t=k1(Bp)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:iF,useSyncExternalStore:sF,useId:wF,unstable_isNewReconciler:!1};function Zs(t,e){if(t&&t.defaultProps){e=Rr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function u2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Rr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Dv={isMounted:function(t){return(t=t._reactInternals)?sc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Bi(),i=rl(t),s=Sa(n,i);s.payload=e,r!=null&&(s.callback=r),e=el(t,s,i),e!==null&&(so(e,t,i,n),r0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Bi(),i=rl(t),s=Sa(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=el(t,s,i),e!==null&&(so(e,t,i,n),r0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Bi(),n=rl(t),i=Sa(r,n);i.tag=2,e!=null&&(i.callback=e),e=el(t,i,n),e!==null&&(so(e,t,n,r),r0(e,t,n))}};function YC(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!fp(r,n)||!fp(i,s):!0}function xF(t,e,r){var n=!1,i=dl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ls(s):(i=zi(e)?Mu:li.current,n=e.contextTypes,s=(n=n!=null)?Rd(t,i):dl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function XC(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Dv.enqueueReplaceState(e,e.state,null)}function c2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},xb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ls(s):(s=zi(e)?Mu:li.current,i.context=Rd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(u2(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dv.enqueueReplaceState(i,i.state,null),j0(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jd(t,e){try{var r="",n=e;do r+=XL(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function N1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function d2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var CR=typeof WeakMap=="function"?WeakMap:Map;function _F(t,e,r){r=Sa(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){G0||(G0=!0,b2=n),d2(t,e)},r}function CF(t,e,r){r=Sa(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){d2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){d2(t,e),typeof n!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function ZC(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new CR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=OR.bind(null,t,e,r),e.then(t,t))}function e5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t5(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Sa(-1,1),e.tag=2,el(r,e,1))),r.lanes|=1),t)}var ER=Ma.ReactCurrentOwner,Mi=!1;function vi(t,e,r,n){e.child=t===null?eF(e,null,r,n):Od(e,t.child,r,n)}function r5(t,e,r,n,i){r=r.render;var s=e.ref;return Id(e,i),n=Sb(t,e,r,n,s,i),r=Fb(),t!==null&&!Mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ua(t,e,i)):(Fr&&r&&gb(e),e.flags|=1,vi(t,e,n,i),e.child)}function n5(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ob(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,EF(t,e,s,n,i)):(t=A0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:fp,r(o,n)&&t.ref===e.ref)return Ua(t,e,i)}return e.flags|=1,t=nl(s,n),t.ref=e.ref,t.return=e,e.child=t}function EF(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(fp(s,n)&&t.ref===e.ref)if(Mi=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Mi=!0);else return e.lanes=t.lanes,Ua(t,e,i)}return h2(t,e,r,n,i)}function IF(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(yd,is),is|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wr(yd,is),is|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,wr(yd,is),is|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,wr(yd,is),is|=n;return vi(t,e,i,r),e.child}function SF(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function h2(t,e,r,n,i){var s=zi(r)?Mu:li.current;return s=Rd(e,s),Id(e,i),r=Sb(t,e,r,n,s,i),n=Fb(),t!==null&&!Mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ua(t,e,i)):(Fr&&n&&gb(e),e.flags|=1,vi(t,e,r,i),e.child)}function i5(t,e,r,n,i){if(zi(r)){var s=!0;P0(e)}else s=!1;if(Id(e,i),e.stateNode===null)s0(t,e),xF(e,r,n),c2(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var A=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Ls(l):(l=zi(r)?Mu:li.current,l=Rd(e,l));var u=r.getDerivedStateFromProps,c=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||A!==l)&&XC(e,o,n,l),UA=!1;var f=e.memoizedState;o.state=f,j0(e,n,o,i),A=e.memoizedState,a!==n||f!==A||Ki.current||UA?(typeof u=="function"&&(u2(e,r,u,n),A=e.memoizedState),(a=UA||YC(e,r,a,n,f,A,l))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),o.props=n,o.state=A,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,rF(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Zs(e.type,a),o.props=l,c=e.pendingProps,f=o.context,A=r.contextType,typeof A=="object"&&A!==null?A=Ls(A):(A=zi(r)?Mu:li.current,A=Rd(e,A));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||f!==A)&&XC(e,o,n,A),UA=!1,f=e.memoizedState,o.state=f,j0(e,n,o,i);var v=e.memoizedState;a!==c||f!==v||Ki.current||UA?(typeof g=="function"&&(u2(e,r,g,n),v=e.memoizedState),(l=UA||YC(e,r,l,n,f,v,A)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,A),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,A)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=A,n=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return f2(t,e,r,n,s,i)}function f2(t,e,r,n,i,s){SF(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&VC(e,r,!1),Ua(t,e,s);n=e.stateNode,ER.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Od(e,t.child,null,s),e.child=Od(e,null,a,s)):vi(t,e,a,s),e.memoizedState=n.state,i&&VC(e,r,!0),e.child}function FF(t){var e=t.stateNode;e.pendingContext?HC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HC(t,e.context,!1),_b(t,e.containerInfo)}function s5(t,e,r,n,i){return Dd(),vb(i),e.flags|=256,vi(t,e,r,n),e.child}var p2={dehydrated:null,treeContext:null,retryLane:0};function g2(t){return{baseLanes:t,cachePool:null,transitions:null}}function TF(t,e,r){var n=e.pendingProps,i=Qr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),wr(Qr,i&1),t===null)return A2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jv(o,n,0,null),t=Fu(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=g2(r),e.memoizedState=p2,t):Nb(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IR(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var A={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=nl(i,A),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=nl(a,s):(s=Fu(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?g2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=p2,n}return s=t.child,t=s.sibling,n=nl(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Nb(t,e){return e=jv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cm(t,e,r,n){return n!==null&&vb(n),Od(e,t.child,null,r),t=Nb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IR(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=N1(Error(et(422))),cm(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=jv({mode:"visible",children:n.children},i,0,null),s=Fu(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Od(e,t.child,null,o),e.child.memoizedState=g2(o),e.memoizedState=p2,s);if(!(e.mode&1))return cm(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(et(419)),n=N1(s,n,void 0),cm(t,e,o,n)}if(a=(o&t.childLanes)!==0,Mi||a){if(n=Nn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qa(t,i),so(n,t,i,-1))}return Db(),n=N1(Error(et(421))),cm(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,os=ZA(i.nextSibling),ls=e,Fr=!0,ro=null,t!==null&&(Cs[Es++]=Ba,Cs[Es++]=ba,Cs[Es++]=ju,Ba=t.id,ba=t.overflow,ju=e),e=Nb(e,n.children),e.flags|=4096,e)}function o5(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),l2(t.return,e,r)}function Q1(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function kF(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(vi(t,e,n.children,r),n=Qr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o5(t,r,e);else if(t.tag===19)o5(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(wr(Qr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&H0(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Q1(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&H0(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Q1(e,!0,r,null,s);break;case"together":Q1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function s0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ua(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Vu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,r=nl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=nl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function SR(t,e,r){switch(e.tag){case 3:FF(e),Dd();break;case 5:nF(e);break;case 1:zi(e.type)&&P0(e);break;case 4:_b(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;wr(O0,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(wr(Qr,Qr.current&1),e.flags|=128,null):r&e.child.childLanes?TF(t,e,r):(wr(Qr,Qr.current&1),t=Ua(t,e,r),t!==null?t.sibling:null);wr(Qr,Qr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return kF(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wr(Qr,Qr.current),n)break;return null;case 22:case 23:return e.lanes=0,IF(t,e,r)}return Ua(t,e,r)}var NF,m2,QF,UF;NF=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};m2=function(){};QF=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,bu(Mo.current);var s=null;switch(r){case"input":i=Oy(t,i),n=Oy(t,n),s=[];break;case"select":i=Rr({},i,{value:void 0}),n=Rr({},n,{value:void 0}),s=[];break;case"textarea":i=Hy(t,i),n=Hy(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=U0)}Ky(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ap.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var A=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==a&&(A!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||A&&A.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in A)A.hasOwnProperty(o)&&a[o]!==A[o]&&(r||(r={}),r[o]=A[o])}else r||(s||(s=[]),s.push(l,r)),r=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,a=a?a.__html:void 0,A!=null&&a!==A&&(s=s||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ap.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&xr("scroll",t),s||a===A||(s=[])):(s=s||[]).push(l,A))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};UF=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yh(t,e){if(!Fr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function FR(t,e,r){var n=e.pendingProps;switch(mb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return zi(e.type)&&L0(),Zn(e),null;case 3:return n=e.stateNode,Md(),Er(Ki),Er(li),Eb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(lm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ro!==null&&(C2(ro),ro=null))),m2(t,e),Zn(e),null;case 5:Cb(e);var i=bu(wp.current);if(r=e.type,t!==null&&e.stateNode!=null)QF(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(et(166));return Zn(e),null}if(t=bu(Mo.current),lm(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[To]=e,n[mp]=s,t=(e.mode&1)!==0,r){case"dialog":xr("cancel",n),xr("close",n);break;case"iframe":case"object":case"embed":xr("load",n);break;case"video":case"audio":for(i=0;i<mf.length;i++)xr(mf[i],n);break;case"source":xr("error",n);break;case"img":case"image":case"link":xr("error",n),xr("load",n);break;case"details":xr("toggle",n);break;case"input":pC(n,s),xr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},xr("invalid",n);break;case"textarea":mC(n,s),xr("invalid",n)}Ky(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Am(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Am(n.textContent,a,t),i=["children",""+a]):ap.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xr("scroll",n)}switch(r){case"input":em(n),gC(n,s,!0);break;case"textarea":em(n),vC(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=U0)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[To]=e,t[mp]=n,NF(t,e,!1,!1),e.stateNode=t;e:{switch(o=zy(r,n),r){case"dialog":xr("cancel",t),xr("close",t),i=n;break;case"iframe":case"object":case"embed":xr("load",t),i=n;break;case"video":case"audio":for(i=0;i<mf.length;i++)xr(mf[i],t);i=n;break;case"source":xr("error",t),i=n;break;case"img":case"image":case"link":xr("error",t),xr("load",t),i=n;break;case"details":xr("toggle",t),i=n;break;case"input":pC(t,n),i=Oy(t,n),xr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Rr({},n,{value:void 0}),xr("invalid",t);break;case"textarea":mC(t,n),i=Hy(t,n),xr("invalid",t);break;default:i=n}Ky(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var A=a[s];s==="style"?cS(t,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&lS(t,A)):s==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&Ap(t,A):typeof A=="number"&&Ap(t,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ap.hasOwnProperty(s)?A!=null&&s==="onScroll"&&xr("scroll",t):A!=null&&rb(t,s,A,o))}switch(r){case"input":em(t),gC(t,n,!1);break;case"textarea":em(t),vC(t);break;case"option":n.value!=null&&t.setAttribute("value",""+cl(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?xd(t,!!n.multiple,s,!1):n.defaultValue!=null&&xd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=U0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)UF(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(et(166));if(r=bu(wp.current),bu(Mo.current),lm(e)){if(n=e.stateNode,r=e.memoizedProps,n[To]=e,(s=n.nodeValue!==r)&&(t=ls,t!==null))switch(t.tag){case 3:Am(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Am(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[To]=e,e.stateNode=n}return Zn(e),null;case 13:if(Er(Qr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fr&&os!==null&&e.mode&1&&!(e.flags&128))XS(),Dd(),e.flags|=98560,s=!1;else if(s=lm(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(et(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(et(317));s[To]=e}else Dd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),s=!1}else ro!==null&&(C2(ro),ro=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Qr.current&1?xn===0&&(xn=3):Db())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return Md(),m2(t,e),t===null&&pp(e.stateNode.containerInfo),Zn(e),null;case 10:return Bb(e.type._context),Zn(e),null;case 17:return zi(e.type)&&L0(),Zn(e),null;case 19:if(Er(Qr),s=e.memoizedState,s===null)return Zn(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Yh(s,!1);else{if(xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=H0(t),o!==null){for(e.flags|=128,Yh(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return wr(Qr,Qr.current&1|2),e.child}t=t.sibling}s.tail!==null&&tn()>Hd&&(e.flags|=128,n=!0,Yh(s,!1),e.lanes=4194304)}else{if(!n)if(t=H0(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fr)return Zn(e),null}else 2*tn()-s.renderingStartTime>Hd&&r!==1073741824&&(e.flags|=128,n=!0,Yh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tn(),e.sibling=null,r=Qr.current,wr(Qr,n?r&1|2:r&1),e):(Zn(e),null);case 22:case 23:return Rb(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?is&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(et(156,e.tag))}function TR(t,e){switch(mb(e),e.tag){case 1:return zi(e.type)&&L0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Md(),Er(Ki),Er(li),Eb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cb(e),null;case 13:if(Er(Qr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(et(340));Dd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Er(Qr),null;case 4:return Md(),null;case 10:return Bb(e.type._context),null;case 22:case 23:return Rb(),null;case 24:return null;default:return null}}var dm=!1,ai=!1,kR=typeof WeakSet=="function"?WeakSet:Set,vt=null;function wd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vr(t,e,n)}else r.current=null}function v2(t,e,r){try{r()}catch(n){Vr(t,e,n)}}var a5=!1;function NR(t,e){if(t2=k0,t=OS(),pb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,A=-1,l=0,u=0,c=t,f=null;t:for(;;){for(var g;c!==r||i!==0&&c.nodeType!==3||(a=o+i),c!==s||n!==0&&c.nodeType!==3||(A=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===r&&++l===i&&(a=o),f===s&&++u===n&&(A=o),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}r=a===-1||A===-1?null:{start:a,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(r2={focusedElem:t,selectionRange:r},k0=!1,vt=e;vt!==null;)if(e=vt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,vt=t;else for(;vt!==null;){e=vt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,S=v.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:Zs(e.type,b),S);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(L){Vr(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,vt=t;break}vt=e.return}return v=a5,a5=!1,v}function Df(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&v2(e,r,s)}i=i.next}while(i!==n)}}function Ov(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function w2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function LF(t){var e=t.alternate;e!==null&&(t.alternate=null,LF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[To],delete e[mp],delete e[s2],delete e[fR],delete e[pR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PF(t){return t.tag===5||t.tag===3||t.tag===4}function A5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function y2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=U0));else if(n!==4&&(t=t.child,t!==null))for(y2(t,e,r),t=t.sibling;t!==null;)y2(t,e,r),t=t.sibling}function B2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(B2(t,e,r),t=t.sibling;t!==null;)B2(t,e,r),t=t.sibling}var Dn=null,to=!1;function _A(t,e,r){for(r=r.child;r!==null;)RF(t,e,r),r=r.sibling}function RF(t,e,r){if(Oo&&typeof Oo.onCommitFiberUnmount=="function")try{Oo.onCommitFiberUnmount(kv,r)}catch{}switch(r.tag){case 5:ai||wd(r,e);case 6:var n=Dn,i=to;Dn=null,_A(t,e,r),Dn=n,to=i,Dn!==null&&(to?(t=Dn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Dn.removeChild(r.stateNode));break;case 18:Dn!==null&&(to?(t=Dn,r=r.stateNode,t.nodeType===8?E1(t.parentNode,r):t.nodeType===1&&E1(t,r),dp(t)):E1(Dn,r.stateNode));break;case 4:n=Dn,i=to,Dn=r.stateNode.containerInfo,to=!0,_A(t,e,r),Dn=n,to=i;break;case 0:case 11:case 14:case 15:if(!ai&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&v2(r,e,o),i=i.next}while(i!==n)}_A(t,e,r);break;case 1:if(!ai&&(wd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Vr(r,e,a)}_A(t,e,r);break;case 21:_A(t,e,r);break;case 22:r.mode&1?(ai=(n=ai)||r.memoizedState!==null,_A(t,e,r),ai=n):_A(t,e,r);break;default:_A(t,e,r)}}function l5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new kR),e.forEach(function(n){var i=jR.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function $s(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dn=a.stateNode,to=!1;break e;case 3:Dn=a.stateNode.containerInfo,to=!0;break e;case 4:Dn=a.stateNode.containerInfo,to=!0;break e}a=a.return}if(Dn===null)throw Error(et(160));RF(s,o,i),Dn=null,to=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){Vr(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DF(e,t),e=e.sibling}function DF(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($s(e,t),Eo(t),n&4){try{Df(3,t,t.return),Ov(3,t)}catch(b){Vr(t,t.return,b)}try{Df(5,t,t.return)}catch(b){Vr(t,t.return,b)}}break;case 1:$s(e,t),Eo(t),n&512&&r!==null&&wd(r,r.return);break;case 5:if($s(e,t),Eo(t),n&512&&r!==null&&wd(r,r.return),t.flags&32){var i=t.stateNode;try{Ap(i,"")}catch(b){Vr(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oS(i,s),zy(a,o);var l=zy(a,s);for(o=0;o<A.length;o+=2){var u=A[o],c=A[o+1];u==="style"?cS(i,c):u==="dangerouslySetInnerHTML"?lS(i,c):u==="children"?Ap(i,c):rb(i,u,c,l)}switch(a){case"input":My(i,s);break;case"textarea":aS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?xd(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?xd(i,!!s.multiple,s.defaultValue,!0):xd(i,!!s.multiple,s.multiple?[]:"",!1))}i[mp]=s}catch(b){Vr(t,t.return,b)}}break;case 6:if($s(e,t),Eo(t),n&4){if(t.stateNode===null)throw Error(et(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Vr(t,t.return,b)}}break;case 3:if($s(e,t),Eo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dp(e.containerInfo)}catch(b){Vr(t,t.return,b)}break;case 4:$s(e,t),Eo(t);break;case 13:$s(e,t),Eo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lb=tn())),n&4&&l5(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(ai=(l=ai)||u,$s(e,t),ai=l):$s(e,t),Eo(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(vt=t,u=t.child;u!==null;){for(c=vt=u;vt!==null;){switch(f=vt,g=f.child,f.tag){case 0:case 11:case 14:case 15:Df(4,f,f.return);break;case 1:wd(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Vr(n,r,b)}}break;case 5:wd(f,f.return);break;case 22:if(f.memoizedState!==null){c5(c);continue}}g!==null?(g.return=f,vt=g):c5(c)}u=u.sibling}e:for(u=null,c=t;;){if(c.tag===5){if(u===null){u=c;try{i=c.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,A=c.memoizedProps.style,o=A!=null&&A.hasOwnProperty("display")?A.display:null,a.style.display=uS("display",o))}catch(b){Vr(t,t.return,b)}}}else if(c.tag===6){if(u===null)try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(b){Vr(t,t.return,b)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;u===c&&(u=null),c=c.return}u===c&&(u=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:$s(e,t),Eo(t),n&4&&l5(t);break;case 21:break;default:$s(e,t),Eo(t)}}function Eo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(PF(r)){var n=r;break e}r=r.return}throw Error(et(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ap(i,""),n.flags&=-33);var s=A5(t);B2(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=A5(t);y2(t,a,o);break;default:throw Error(et(161))}}catch(A){Vr(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QR(t,e,r){vt=t,OF(t)}function OF(t,e,r){for(var n=(t.mode&1)!==0;vt!==null;){var i=vt,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||dm;if(!o){var a=i.alternate,A=a!==null&&a.memoizedState!==null||ai;a=dm;var l=ai;if(dm=o,(ai=A)&&!l)for(vt=i;vt!==null;)o=vt,A=o.child,o.tag===22&&o.memoizedState!==null?d5(i):A!==null?(A.return=o,vt=A):d5(i);for(;s!==null;)vt=s,OF(s),s=s.sibling;vt=i,dm=a,ai=l}u5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,vt=s):u5(t)}}function u5(t){for(;vt!==null;){var e=vt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ai||Ov(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ai)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Zs(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&WC(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}WC(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var c=u.dehydrated;c!==null&&dp(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}ai||e.flags&512&&w2(e)}catch(f){Vr(e,e.return,f)}}if(e===t){vt=null;break}if(r=e.sibling,r!==null){r.return=e.return,vt=r;break}vt=e.return}}function c5(t){for(;vt!==null;){var e=vt;if(e===t){vt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,vt=r;break}vt=e.return}}function d5(t){for(;vt!==null;){var e=vt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ov(4,e)}catch(A){Vr(e,r,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){Vr(e,i,A)}}var s=e.return;try{w2(e)}catch(A){Vr(e,s,A)}break;case 5:var o=e.return;try{w2(e)}catch(A){Vr(e,o,A)}}}catch(A){Vr(e,e.return,A)}if(e===t){vt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,vt=a;break}vt=e.return}}var UR=Math.ceil,z0=Ma.ReactCurrentDispatcher,Qb=Ma.ReactCurrentOwner,Qs=Ma.ReactCurrentBatchConfig,Wt=0,Nn=null,mn=null,Kn=0,is=0,yd=Sl(0),xn=0,xp=null,Vu=0,Mv=0,Ub=0,Of=null,Oi=null,Lb=0,Hd=1/0,wa=null,G0=!1,b2=null,tl=null,hm=!1,HA=null,q0=0,Mf=0,x2=null,o0=-1,a0=0;function Bi(){return Wt&6?tn():o0!==-1?o0:o0=tn()}function rl(t){return t.mode&1?Wt&2&&Kn!==0?Kn&-Kn:mR.transition!==null?(a0===0&&(a0=xS()),a0):(t=ar,t!==0||(t=window.event,t=t===void 0?16:TS(t.type)),t):1}function so(t,e,r,n){if(50<Mf)throw Mf=0,x2=null,Error(et(185));tg(t,r,n),(!(Wt&2)||t!==Nn)&&(t===Nn&&(!(Wt&2)&&(Mv|=r),xn===4&&RA(t,Kn)),Gi(t,n),r===1&&Wt===0&&!(e.mode&1)&&(Hd=tn()+500,Pv&&Fl()))}function Gi(t,e){var r=t.callbackNode;mP(t,e);var n=T0(t,t===Nn?Kn:0);if(n===0)r!==null&&BC(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&BC(r),e===1)t.tag===0?gR(h5.bind(null,t)):$S(h5.bind(null,t)),dR(function(){!(Wt&6)&&Fl()}),r=null;else{switch(_S(n)){case 1:r=ab;break;case 4:r=BS;break;case 16:r=F0;break;case 536870912:r=bS;break;default:r=F0}r=qF(r,MF.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function MF(t,e){if(o0=-1,a0=0,Wt&6)throw Error(et(327));var r=t.callbackNode;if(Sd()&&t.callbackNode!==r)return null;var n=T0(t,t===Nn?Kn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=W0(t,n);else{e=n;var i=Wt;Wt|=2;var s=HF();(Nn!==t||Kn!==e)&&(wa=null,Hd=tn()+500,Su(t,e));do try{RR();break}catch(a){jF(t,a)}while(!0);yb(),z0.current=s,Wt=i,mn!==null?e=0:(Nn=null,Kn=0,e=xn)}if(e!==0){if(e===2&&(i=Jy(t),i!==0&&(n=i,e=_2(t,i))),e===1)throw r=xp,Su(t,0),RA(t,n),Gi(t,tn()),r;if(e===6)RA(t,n);else{if(i=t.current.alternate,!(n&30)&&!LR(i)&&(e=W0(t,n),e===2&&(s=Jy(t),s!==0&&(n=s,e=_2(t,s))),e===1))throw r=xp,Su(t,0),RA(t,n),Gi(t,tn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(et(345));case 2:Au(t,Oi,wa);break;case 3:if(RA(t,n),(n&130023424)===n&&(e=Lb+500-tn(),10<e)){if(T0(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Bi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=i2(Au.bind(null,t,Oi,wa),e);break}Au(t,Oi,wa);break;case 4:if(RA(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-io(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=tn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UR(n/1960))-n,10<n){t.timeoutHandle=i2(Au.bind(null,t,Oi,wa),n);break}Au(t,Oi,wa);break;case 5:Au(t,Oi,wa);break;default:throw Error(et(329))}}}return Gi(t,tn()),t.callbackNode===r?MF.bind(null,t):null}function _2(t,e){var r=Of;return t.current.memoizedState.isDehydrated&&(Su(t,e).flags|=256),t=W0(t,e),t!==2&&(e=Oi,Oi=r,e!==null&&C2(e)),t}function C2(t){Oi===null?Oi=t:Oi.push.apply(Oi,t)}function LR(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ao(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function RA(t,e){for(e&=~Ub,e&=~Mv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-io(e),n=1<<r;t[r]=-1,e&=~n}}function h5(t){if(Wt&6)throw Error(et(327));Sd();var e=T0(t,0);if(!(e&1))return Gi(t,tn()),null;var r=W0(t,e);if(t.tag!==0&&r===2){var n=Jy(t);n!==0&&(e=n,r=_2(t,n))}if(r===1)throw r=xp,Su(t,0),RA(t,e),Gi(t,tn()),r;if(r===6)throw Error(et(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Au(t,Oi,wa),Gi(t,tn()),null}function Pb(t,e){var r=Wt;Wt|=1;try{return t(e)}finally{Wt=r,Wt===0&&(Hd=tn()+500,Pv&&Fl())}}function Ku(t){HA!==null&&HA.tag===0&&!(Wt&6)&&Sd();var e=Wt;Wt|=1;var r=Qs.transition,n=ar;try{if(Qs.transition=null,ar=1,t)return t()}finally{ar=n,Qs.transition=r,Wt=e,!(Wt&6)&&Fl()}}function Rb(){is=yd.current,Er(yd)}function Su(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,cR(r)),mn!==null)for(r=mn.return;r!==null;){var n=r;switch(mb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&L0();break;case 3:Md(),Er(Ki),Er(li),Eb();break;case 5:Cb(n);break;case 4:Md();break;case 13:Er(Qr);break;case 19:Er(Qr);break;case 10:Bb(n.type._context);break;case 22:case 23:Rb()}r=r.return}if(Nn=t,mn=t=nl(t.current,null),Kn=is=e,xn=0,xp=null,Ub=Mv=Vu=0,Oi=Of=null,Bu!==null){for(e=0;e<Bu.length;e++)if(r=Bu[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Bu=null}return t}function jF(t,e){do{var r=mn;try{if(yb(),n0.current=K0,V0){for(var n=Ur.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}V0=!1}if(Hu=0,Tn=yn=Ur=null,Rf=!1,yp=0,Qb.current=null,r===null||r.return===null){xn=1,xp=e,mn=null;break}e:{var s=t,o=r.return,a=r,A=e;if(e=Kn,a.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,u=a,c=u.tag;if(!(u.mode&1)&&(c===0||c===11||c===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=e5(o);if(g!==null){g.flags&=-257,t5(g,o,a,s,e),g.mode&1&&ZC(s,l,e),e=g,A=l;var v=e.updateQueue;if(v===null){var b=new Set;b.add(A),e.updateQueue=b}else v.add(A);break e}else{if(!(e&1)){ZC(s,l,e),Db();break e}A=Error(et(426))}}else if(Fr&&a.mode&1){var S=e5(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),t5(S,o,a,s,e),vb(jd(A,a));break e}}s=A=jd(A,a),xn!==4&&(xn=2),Of===null?Of=[s]:Of.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=_F(s,A,e);qC(s,w);break e;case 1:a=A;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(tl===null||!tl.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=CF(s,a,e);qC(s,L);break e}}s=s.return}while(s!==null)}KF(r)}catch(P){e=P,mn===r&&r!==null&&(mn=r=r.return);continue}break}while(!0)}function HF(){var t=z0.current;return z0.current=K0,t===null?K0:t}function Db(){(xn===0||xn===3||xn===2)&&(xn=4),Nn===null||!(Vu&268435455)&&!(Mv&268435455)||RA(Nn,Kn)}function W0(t,e){var r=Wt;Wt|=2;var n=HF();(Nn!==t||Kn!==e)&&(wa=null,Su(t,e));do try{PR();break}catch(i){jF(t,i)}while(!0);if(yb(),Wt=r,z0.current=n,mn!==null)throw Error(et(261));return Nn=null,Kn=0,xn}function PR(){for(;mn!==null;)VF(mn)}function RR(){for(;mn!==null&&!AP();)VF(mn)}function VF(t){var e=GF(t.alternate,t,is);t.memoizedProps=t.pendingProps,e===null?KF(t):mn=e,Qb.current=null}function KF(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=TR(r,e),r!==null){r.flags&=32767,mn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xn=6,mn=null;return}}else if(r=FR(r,e,is),r!==null){mn=r;return}if(e=e.sibling,e!==null){mn=e;return}mn=e=t}while(e!==null);xn===0&&(xn=5)}function Au(t,e,r){var n=ar,i=Qs.transition;try{Qs.transition=null,ar=1,DR(t,e,r,n)}finally{Qs.transition=i,ar=n}return null}function DR(t,e,r,n){do Sd();while(HA!==null);if(Wt&6)throw Error(et(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(et(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(vP(t,s),t===Nn&&(mn=Nn=null,Kn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hm||(hm=!0,qF(F0,function(){return Sd(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Qs.transition,Qs.transition=null;var o=ar;ar=1;var a=Wt;Wt|=4,Qb.current=null,NR(t,r),DF(r,t),iR(r2),k0=!!t2,r2=t2=null,t.current=r,QR(r),lP(),Wt=a,ar=o,Qs.transition=s}else t.current=r;if(hm&&(hm=!1,HA=t,q0=i),s=t.pendingLanes,s===0&&(tl=null),dP(r.stateNode),Gi(t,tn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(G0)throw G0=!1,t=b2,b2=null,t;return q0&1&&t.tag!==0&&Sd(),s=t.pendingLanes,s&1?t===x2?Mf++:(Mf=0,x2=t):Mf=0,Fl(),null}function Sd(){if(HA!==null){var t=_S(q0),e=Qs.transition,r=ar;try{if(Qs.transition=null,ar=16>t?16:t,HA===null)var n=!1;else{if(t=HA,HA=null,q0=0,Wt&6)throw Error(et(331));var i=Wt;for(Wt|=4,vt=t.current;vt!==null;){var s=vt,o=s.child;if(vt.flags&16){var a=s.deletions;if(a!==null){for(var A=0;A<a.length;A++){var l=a[A];for(vt=l;vt!==null;){var u=vt;switch(u.tag){case 0:case 11:case 15:Df(8,u,s)}var c=u.child;if(c!==null)c.return=u,vt=c;else for(;vt!==null;){u=vt;var f=u.sibling,g=u.return;if(LF(u),u===l){vt=null;break}if(f!==null){f.return=g,vt=f;break}vt=g}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}vt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,vt=o;else e:for(;vt!==null;){if(s=vt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Df(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,vt=w;break e}vt=s.return}}var y=t.current;for(vt=y;vt!==null;){o=vt;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,vt=x;else e:for(o=y;vt!==null;){if(a=vt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ov(9,a)}}catch(P){Vr(a,a.return,P)}if(a===o){vt=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,vt=L;break e}vt=a.return}}if(Wt=i,Fl(),Oo&&typeof Oo.onPostCommitFiberRoot=="function")try{Oo.onPostCommitFiberRoot(kv,t)}catch{}n=!0}return n}finally{ar=r,Qs.transition=e}}return!1}function f5(t,e,r){e=jd(r,e),e=_F(t,e,1),t=el(t,e,1),e=Bi(),t!==null&&(tg(t,1,e),Gi(t,e))}function Vr(t,e,r){if(t.tag===3)f5(t,t,r);else for(;e!==null;){if(e.tag===3){f5(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tl===null||!tl.has(n))){t=jd(r,t),t=CF(e,t,1),e=el(e,t,1),t=Bi(),e!==null&&(tg(e,1,t),Gi(e,t));break}}e=e.return}}function OR(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Bi(),t.pingedLanes|=t.suspendedLanes&r,Nn===t&&(Kn&r)===r&&(xn===4||xn===3&&(Kn&130023424)===Kn&&500>tn()-Lb?Su(t,0):Ub|=r),Gi(t,e)}function zF(t,e){e===0&&(t.mode&1?(e=nm,nm<<=1,!(nm&130023424)&&(nm=4194304)):e=1);var r=Bi();t=Qa(t,e),t!==null&&(tg(t,e,r),Gi(t,r))}function MR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),zF(t,r)}function jR(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(et(314))}n!==null&&n.delete(e),zF(t,r)}var GF;GF=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ki.current)Mi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Mi=!1,SR(t,e,r);Mi=!!(t.flags&131072)}else Mi=!1,Fr&&e.flags&1048576&&JS(e,D0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;s0(t,e),t=e.pendingProps;var i=Rd(e,li.current);Id(e,r),i=Sb(null,e,n,t,i,r);var s=Fb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zi(n)?(s=!0,P0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xb(e),i.updater=Dv,e.stateNode=i,i._reactInternals=e,c2(e,n,t,r),e=f2(null,e,n,!0,s,r)):(e.tag=0,Fr&&s&&gb(e),vi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(s0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=VR(n),t=Zs(n,t),i){case 0:e=h2(null,e,n,t,r);break e;case 1:e=i5(null,e,n,t,r);break e;case 11:e=r5(null,e,n,t,r);break e;case 14:e=n5(null,e,n,Zs(n.type,t),r);break e}throw Error(et(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Zs(n,i),h2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Zs(n,i),i5(t,e,n,i,r);case 3:e:{if(FF(e),t===null)throw Error(et(387));n=e.pendingProps,s=e.memoizedState,i=s.element,rF(t,e),j0(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=jd(Error(et(423)),e),e=s5(t,e,n,r,i);break e}else if(n!==i){i=jd(Error(et(424)),e),e=s5(t,e,n,r,i);break e}else for(os=ZA(e.stateNode.containerInfo.firstChild),ls=e,Fr=!0,ro=null,r=eF(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dd(),n===i){e=Ua(t,e,r);break e}vi(t,e,n,r)}e=e.child}return e;case 5:return nF(e),t===null&&A2(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,n2(n,i)?o=null:s!==null&&n2(n,s)&&(e.flags|=32),SF(t,e),vi(t,e,o,r),e.child;case 6:return t===null&&A2(e),null;case 13:return TF(t,e,r);case 4:return _b(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Od(e,null,n,r):vi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Zs(n,i),r5(t,e,n,i,r);case 7:return vi(t,e,e.pendingProps,r),e.child;case 8:return vi(t,e,e.pendingProps.children,r),e.child;case 12:return vi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,wr(O0,n._currentValue),n._currentValue=o,s!==null)if(ao(s.value,o)){if(s.children===i.children&&!Ki.current){e=Ua(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var A=a.firstContext;A!==null;){if(A.context===n){if(s.tag===1){A=Sa(-1,r&-r),A.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?A.next=A:(A.next=u.next,u.next=A),l.pending=A}}s.lanes|=r,A=s.alternate,A!==null&&(A.lanes|=r),l2(s.return,r,e),a.lanes|=r;break}A=A.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(et(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),l2(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Id(e,r),i=Ls(i),n=n(i),e.flags|=1,vi(t,e,n,r),e.child;case 14:return n=e.type,i=Zs(n,e.pendingProps),i=Zs(n.type,i),n5(t,e,n,i,r);case 15:return EF(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Zs(n,i),s0(t,e),e.tag=1,zi(n)?(t=!0,P0(e)):t=!1,Id(e,r),xF(e,n,i),c2(e,n,i,r),f2(null,e,n,!0,t,r);case 19:return kF(t,e,r);case 22:return IF(t,e,r)}throw Error(et(156,e.tag))};function qF(t,e){return yS(t,e)}function HR(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(t,e,r,n){return new HR(t,e,r,n)}function Ob(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VR(t){if(typeof t=="function")return Ob(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ib)return 11;if(t===sb)return 14}return 2}function nl(t,e){var r=t.alternate;return r===null?(r=Fs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function A0(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Ob(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ud:return Fu(r.children,i,s,e);case nb:o=8,i|=8;break;case Ly:return t=Fs(12,r,e,i|2),t.elementType=Ly,t.lanes=s,t;case Py:return t=Fs(13,r,e,i),t.elementType=Py,t.lanes=s,t;case Ry:return t=Fs(19,r,e,i),t.elementType=Ry,t.lanes=s,t;case nS:return jv(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tS:o=10;break e;case rS:o=9;break e;case ib:o=11;break e;case sb:o=14;break e;case QA:o=16,n=null;break e}throw Error(et(130,t==null?t:typeof t,""))}return e=Fs(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Fu(t,e,r,n){return t=Fs(7,t,n,e),t.lanes=r,t}function jv(t,e,r,n){return t=Fs(22,t,n,e),t.elementType=nS,t.lanes=r,t.stateNode={isHidden:!1},t}function U1(t,e,r){return t=Fs(6,t,null,e),t.lanes=r,t}function L1(t,e,r){return e=Fs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KR(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p1(0),this.expirationTimes=p1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p1(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mb(t,e,r,n,i,s,o,a,A){return t=new KR(t,e,r,a,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},xb(s),t}function zR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ld,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function WF(t){if(!t)return dl;t=t._reactInternals;e:{if(sc(t)!==t||t.tag!==1)throw Error(et(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(et(171))}if(t.tag===1){var r=t.type;if(zi(r))return WS(t,r,e)}return e}function $F(t,e,r,n,i,s,o,a,A){return t=Mb(r,n,!0,t,i,s,o,a,A),t.context=WF(null),r=t.current,n=Bi(),i=rl(r),s=Sa(n,i),s.callback=e??null,el(r,s,i),t.current.lanes=i,tg(t,i,n),Gi(t,n),t}function Hv(t,e,r,n){var i=e.current,s=Bi(),o=rl(i);return r=WF(r),e.context===null?e.context=r:e.pendingContext=r,e=Sa(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=el(i,e,o),t!==null&&(so(t,i,o,s),r0(t,i,o)),o}function $0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function p5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function jb(t,e){p5(t,e),(t=t.alternate)&&p5(t,e)}function GR(){return null}var JF=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hb(t){this._internalRoot=t}Vv.prototype.render=Hb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(et(409));Hv(t,e,null,null)};Vv.prototype.unmount=Hb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ku(function(){Hv(null,t,null,null)}),e[Na]=null}};function Vv(t){this._internalRoot=t}Vv.prototype.unstable_scheduleHydration=function(t){if(t){var e=IS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<PA.length&&e!==0&&e<PA[r].priority;r++);PA.splice(r,0,t),r===0&&FS(t)}};function Vb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g5(){}function qR(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=$0(o);s.call(l)}}var o=$F(e,n,t,0,null,!1,!1,"",g5);return t._reactRootContainer=o,t[Na]=o.current,pp(t.nodeType===8?t.parentNode:t),Ku(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=$0(A);a.call(l)}}var A=Mb(t,0,!1,null,null,!1,!1,"",g5);return t._reactRootContainer=A,t[Na]=A.current,pp(t.nodeType===8?t.parentNode:t),Ku(function(){Hv(e,A,r,n)}),A}function zv(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var A=$0(o);a.call(A)}}Hv(e,o,t,i)}else o=qR(r,e,t,i,n);return $0(o)}CS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=gf(e.pendingLanes);r!==0&&(Ab(e,r|1),Gi(e,tn()),!(Wt&6)&&(Hd=tn()+500,Fl()))}break;case 13:Ku(function(){var n=Qa(t,1);if(n!==null){var i=Bi();so(n,t,1,i)}}),jb(t,1)}};lb=function(t){if(t.tag===13){var e=Qa(t,134217728);if(e!==null){var r=Bi();so(e,t,134217728,r)}jb(t,134217728)}};ES=function(t){if(t.tag===13){var e=rl(t),r=Qa(t,e);if(r!==null){var n=Bi();so(r,t,e,n)}jb(t,e)}};IS=function(){return ar};SS=function(t,e){var r=ar;try{return ar=t,e()}finally{ar=r}};qy=function(t,e,r){switch(e){case"input":if(My(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Lv(n);if(!i)throw Error(et(90));sS(n),My(n,i)}}}break;case"textarea":aS(t,r);break;case"select":e=r.value,e!=null&&xd(t,!!r.multiple,e,!1)}};fS=Pb;pS=Ku;var WR={usingClientEntryPoint:!1,Events:[ng,fd,Lv,dS,hS,Pb]},Xh={findFiberByHostInstance:yu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$R={bundleType:Xh.bundleType,version:Xh.version,rendererPackageName:Xh.rendererPackageName,rendererConfig:Xh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vS(t),t===null?null:t.stateNode},findFiberByHostInstance:Xh.findFiberByHostInstance||GR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fm.isDisabled&&fm.supportsFiber)try{kv=fm.inject($R),Oo=fm}catch{}}ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WR;ds.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vb(e))throw Error(et(200));return zR(t,e,null,r)};ds.createRoot=function(t,e){if(!Vb(t))throw Error(et(299));var r=!1,n="",i=JF;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mb(t,1,!1,null,null,r,!1,n,i),t[Na]=e.current,pp(t.nodeType===8?t.parentNode:t),new Hb(e)};ds.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):(t=Object.keys(t).join(","),Error(et(268,t)));return t=vS(e),t=t===null?null:t.stateNode,t};ds.flushSync=function(t){return Ku(t)};ds.hydrate=function(t,e,r){if(!Kv(e))throw Error(et(200));return zv(null,t,e,!0,r)};ds.hydrateRoot=function(t,e,r){if(!Vb(t))throw Error(et(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=JF;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=$F(e,null,t,1,r??null,i,!1,s,o),t[Na]=e.current,pp(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Vv(e)};ds.render=function(t,e,r){if(!Kv(e))throw Error(et(200));return zv(null,t,e,!1,r)};ds.unmountComponentAtNode=function(t){if(!Kv(t))throw Error(et(40));return t._reactRootContainer?(Ku(function(){zv(null,null,t,!1,function(){t._reactRootContainer=null,t[Na]=null})}),!0):!1};ds.unstable_batchedUpdates=Pb;ds.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Kv(r))throw Error(et(200));if(t==null||t._reactInternals===void 0)throw Error(et(38));return zv(t,e,r,!1,n)};ds.version="18.3.1-next-f1338f8080-20240426";function YF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YF)}catch(t){console.error(t)}}YF(),Y4.exports=ds;var JR=Y4.exports,m5=JR;Qy.createRoot=m5.createRoot,Qy.hydrateRoot=m5.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_p.apply(this,arguments)}var VA;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(VA||(VA={}));const v5="popstate";function YR(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:A=""}=oc(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),E2("",{pathname:o,search:a,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let A=i.location.href,l=A.indexOf("#");a=l===-1?A:A.slice(0,l)}return a+"#"+(typeof s=="string"?s:J0(s))}function n(i,s){Gv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return ZR(e,r,n,t)}function Lr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XR(){return Math.random().toString(36).substr(2,8)}function w5(t,e){return{usr:t.state,key:t.key,idx:e}}function E2(t,e,r,n){return r===void 0&&(r=null),_p({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oc(e):e,{state:r,key:e&&e.key||n||XR()})}function J0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function oc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function ZR(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=VA.Pop,A=null,l=u();l==null&&(l=0,o.replaceState(_p({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function c(){a=VA.Pop;let S=u(),w=S==null?null:S-l;l=S,A&&A({action:a,location:b.location,delta:w})}function f(S,w){a=VA.Push;let y=E2(b.location,S,w);r&&r(y,S),l=u()+1;let x=w5(y,l),L=b.createHref(y);try{o.pushState(x,"",L)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(L)}s&&A&&A({action:a,location:b.location,delta:1})}function g(S,w){a=VA.Replace;let y=E2(b.location,S,w);r&&r(y,S),l=u();let x=w5(y,l),L=b.createHref(y);o.replaceState(x,"",L),s&&A&&A({action:a,location:b.location,delta:0})}function v(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof S=="string"?S:J0(S);return y=y.replace(/ $/,"%20"),Lr(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let b={get action(){return a},get location(){return t(i,o)},listen(S){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener(v5,c),A=S,()=>{i.removeEventListener(v5,c),A=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let w=v(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:g,go(S){return o.go(S)}};return b}var y5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(y5||(y5={}));function eD(t,e,r){return r===void 0&&(r="/"),tD(t,e,r)}function tD(t,e,r,n){let i=typeof e=="string"?oc(e):e,s=Vd(i.pathname||"/",r);if(s==null)return null;let o=XF(t);rD(o);let a=null;for(let A=0;a==null&&A<o.length;++A){let l=hD(s);a=cD(o[A],l)}return a}function XF(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let A={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};A.relativePath.startsWith("/")&&(Lr(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let l=il([n,A.relativePath]),u=r.concat(A);s.children&&s.children.length>0&&(Lr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),XF(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:lD(l,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let A of ZF(s.path))i(s,o,A)}),e}function ZF(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=ZF(n.join("/")),a=[];return a.push(...o.map(A=>A===""?s:[s,A].join("/"))),i&&a.push(...o),a.map(A=>t.startsWith("/")&&A===""?"/":A)}function rD(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:uD(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nD=/^:[\w-]+$/,iD=3,sD=2,oD=1,aD=10,AD=-2,B5=t=>t==="*";function lD(t,e){let r=t.split("/"),n=r.length;return r.some(B5)&&(n+=AD),e&&(n+=sD),r.filter(i=>!B5(i)).reduce((i,s)=>i+(nD.test(s)?iD:s===""?oD:aD),n)}function uD(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function cD(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let A=n[a],l=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=I2({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},u),f=A.route;if(!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:il([s,c.pathname]),pathnameBase:vD(il([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=il([s,c.pathnameBase]))}return o}function I2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=dD(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((l,u,c)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let b=a[c]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=a[c];return g&&!v?l[f]=void 0:l[f]=(v||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function dD(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Gv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,A)=>(n.push({paramName:a,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function hD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const fD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pD=t=>fD.test(t);function gD(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?oc(t):t,s;if(r)if(pD(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Gv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=b5(r.substring(1),"/"):s=b5(r,e)}else s=e;return{pathname:s,search:wD(n),hash:yD(i)}}function b5(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function P1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mD(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Kb(t,e){let r=mD(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zb(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=oc(t):(i=_p({},t),Lr(!i.pathname||!i.pathname.includes("?"),P1("?","pathname","search",i)),Lr(!i.pathname||!i.pathname.includes("#"),P1("#","pathname","hash",i)),Lr(!i.search||!i.search.includes("#"),P1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let c=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}a=c>=0?e[c]:"/"}let A=gD(i,a),l=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(l||u)&&(A.pathname+="/"),A}const il=t=>t.join("/").replace(/\/\/+/g,"/"),vD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eT=["post","put","patch","delete"];new Set(eT);const bD=["get",...eT];new Set(bD);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cp.apply(this,arguments)}const qv=Ae.createContext(null),tT=Ae.createContext(null),ja=Ae.createContext(null),Wv=Ae.createContext(null),Ha=Ae.createContext({outlet:null,matches:[],isDataRoute:!1}),rT=Ae.createContext(null);function xD(t,e){let{relative:r}=e===void 0?{}:e;ch()||Lr(!1);let{basename:n,navigator:i}=Ae.useContext(ja),{hash:s,pathname:o,search:a}=$v(t,{relative:r}),A=o;return n!=="/"&&(A=o==="/"?n:il([n,o])),i.createHref({pathname:A,search:a,hash:s})}function ch(){return Ae.useContext(Wv)!=null}function Tl(){return ch()||Lr(!1),Ae.useContext(Wv).location}function nT(t){Ae.useContext(ja).static||Ae.useLayoutEffect(t)}function dh(){let{isDataRoute:t}=Ae.useContext(Ha);return t?DD():_D()}function _D(){ch()||Lr(!1);let t=Ae.useContext(qv),{basename:e,future:r,navigator:n}=Ae.useContext(ja),{matches:i}=Ae.useContext(Ha),{pathname:s}=Tl(),o=JSON.stringify(Kb(i,r.v7_relativeSplatPath)),a=Ae.useRef(!1);return nT(()=>{a.current=!0}),Ae.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let c=zb(l,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:il([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,s,t])}const CD=Ae.createContext(null);function ED(t){let e=Ae.useContext(Ha).outlet;return e&&Ae.createElement(CD.Provider,{value:t},e)}function $v(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=Ae.useContext(ja),{matches:i}=Ae.useContext(Ha),{pathname:s}=Tl(),o=JSON.stringify(Kb(i,n.v7_relativeSplatPath));return Ae.useMemo(()=>zb(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function ID(t,e){return SD(t,e)}function SD(t,e,r,n){ch()||Lr(!1);let{navigator:i}=Ae.useContext(ja),{matches:s}=Ae.useContext(Ha),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let l=Tl(),u;if(e){var c;let S=typeof e=="string"?oc(e):e;A==="/"||(c=S.pathname)!=null&&c.startsWith(A)||Lr(!1),u=S}else u=l;let f=u.pathname||"/",g=f;if(A!=="/"){let S=A.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=eD(t,{pathname:g}),b=QD(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:il([A,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?A:il([A,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,r,n);return e&&b?Ae.createElement(Wv.Provider,{value:{location:Cp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:VA.Pop}},b):b}function FD(){let t=RD(),e=BD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ae.createElement(Ae.Fragment,null,Ae.createElement("h2",null,"Unexpected Application Error!"),Ae.createElement("h3",{style:{fontStyle:"italic"}},e),r?Ae.createElement("pre",{style:i},r):null,null)}const TD=Ae.createElement(FD,null);class kD extends Ae.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Ae.createElement(Ha.Provider,{value:this.props.routeContext},Ae.createElement(rT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ND(t){let{routeContext:e,match:r,children:n}=t,i=Ae.useContext(qv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Ae.createElement(Ha.Provider,{value:e},n)}function QD(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);u>=0||Lr(!1),o=o.slice(0,Math.min(o.length,u+1))}let A=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let c=o[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:g}=r,v=c.route.loader&&f[c.route.id]===void 0&&(!g||g[c.route.id]===void 0);if(c.route.lazy||v){A=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,c,f)=>{let g,v=!1,b=null,S=null;r&&(g=a&&c.route.id?a[c.route.id]:void 0,b=c.route.errorElement||TD,A&&(l<0&&f===0?(OD("route-fallback"),v=!0,S=null):l===f&&(v=!0,S=c.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),y=()=>{let x;return g?x=b:v?x=S:c.route.Component?x=Ae.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=u,Ae.createElement(ND,{match:c,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:x})};return r&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?Ae.createElement(kD,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var iT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iT||{}),sT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sT||{});function UD(t){let e=Ae.useContext(qv);return e||Lr(!1),e}function LD(t){let e=Ae.useContext(tT);return e||Lr(!1),e}function PD(t){let e=Ae.useContext(Ha);return e||Lr(!1),e}function oT(t){let e=PD(),r=e.matches[e.matches.length-1];return r.route.id||Lr(!1),r.route.id}function RD(){var t;let e=Ae.useContext(rT),r=LD(),n=oT();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function DD(){let{router:t}=UD(iT.UseNavigateStable),e=oT(sT.UseNavigateStable),r=Ae.useRef(!1);return nT(()=>{r.current=!0}),Ae.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Cp({fromRouteId:e},s)))},[t,e])}const x5={};function OD(t,e,r){x5[t]||(x5[t]=!0)}function MD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function S2(t){let{to:e,replace:r,state:n,relative:i}=t;ch()||Lr(!1);let{future:s,static:o}=Ae.useContext(ja),{matches:a}=Ae.useContext(Ha),{pathname:A}=Tl(),l=dh(),u=zb(e,Kb(a,s.v7_relativeSplatPath),A,i==="path"),c=JSON.stringify(u);return Ae.useEffect(()=>l(JSON.parse(c),{replace:r,state:n,relative:i}),[l,c,i,r,n]),null}function jD(t){return ED(t.context)}function xs(t){Lr(!1)}function HD(t){let{basename:e="/",children:r=null,location:n,navigationType:i=VA.Pop,navigator:s,static:o=!1,future:a}=t;ch()&&Lr(!1);let A=e.replace(/^\/*/,"/"),l=Ae.useMemo(()=>({basename:A,navigator:s,static:o,future:Cp({v7_relativeSplatPath:!1},a)}),[A,a,s,o]);typeof n=="string"&&(n=oc(n));let{pathname:u="/",search:c="",hash:f="",state:g=null,key:v="default"}=n,b=Ae.useMemo(()=>{let S=Vd(u,A);return S==null?null:{location:{pathname:S,search:c,hash:f,state:g,key:v},navigationType:i}},[A,u,c,f,g,v,i]);return b==null?null:Ae.createElement(ja.Provider,{value:l},Ae.createElement(Wv.Provider,{children:r,value:b}))}function VD(t){let{children:e,location:r}=t;return ID(F2(e),r)}new Promise(()=>{});function F2(t,e){e===void 0&&(e=[]);let r=[];return Ae.Children.forEach(t,(n,i)=>{if(!Ae.isValidElement(n))return;let s=[...e,i];if(n.type===Ae.Fragment){r.push.apply(r,F2(n.props.children,s));return}n.type!==xs&&Lr(!1),!n.props.index||!n.props.children||Lr(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=F2(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y0.apply(this,arguments)}function aT(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function KD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zD(t,e){return t.button===0&&(!e||e==="_self")&&!KD(t)}function T2(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function GD(t,e){let r=T2(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const qD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$D="6";try{window.__reactRouterVersion=$D}catch{}const JD=Ae.createContext({isTransitioning:!1}),YD="startTransition",_5=OL[YD];function XD(t){let{basename:e,children:r,future:n,window:i}=t,s=Ae.useRef();s.current==null&&(s.current=YR({window:i,v5Compat:!0}));let o=s.current,[a,A]=Ae.useState({action:o.action,location:o.location}),{v7_startTransition:l}=n||{},u=Ae.useCallback(c=>{l&&_5?_5(()=>A(c)):A(c)},[A,l]);return Ae.useLayoutEffect(()=>o.listen(u),[o,u]),Ae.useEffect(()=>MD(n),[n]),Ae.createElement(HD,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const ZD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t6=Ae.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:A,to:l,preventScrollReset:u,viewTransition:c}=e,f=aT(e,qD),{basename:g}=Ae.useContext(ja),v,b=!1;if(typeof l=="string"&&e6.test(l)&&(v=l,ZD))try{let x=new URL(window.location.href),L=l.startsWith("//")?new URL(x.protocol+l):new URL(l),P=Vd(L.pathname,g);L.origin===x.origin&&P!=null?l=P+L.search+L.hash:b=!0}catch{}let S=xD(l,{relative:i}),w=i6(l,{replace:o,state:a,target:A,preventScrollReset:u,relative:i,viewTransition:c});function y(x){n&&n(x),x.defaultPrevented||w(x)}return Ae.createElement("a",Y0({},f,{href:v||S,onClick:b||s?n:y,ref:r,target:A}))}),r6=Ae.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:A,viewTransition:l,children:u}=e,c=aT(e,WD),f=$v(A,{relative:c.relative}),g=Tl(),v=Ae.useContext(tT),{navigator:b,basename:S}=Ae.useContext(ja),w=v!=null&&o6(f)&&l===!0,y=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,x=g.pathname,L=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(x=x.toLowerCase(),L=L?L.toLowerCase():null,y=y.toLowerCase()),L&&S&&(L=Vd(L,S)||L);const P=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let M=x===y||!o&&x.startsWith(y)&&x.charAt(P)==="/",I=L!=null&&(L===y||!o&&L.startsWith(y)&&L.charAt(y.length)==="/"),_={isActive:M,isPending:I,isTransitioning:w},k=M?n:void 0,O;typeof s=="function"?O=s(_):O=[s,M?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let E=typeof a=="function"?a(_):a;return Ae.createElement(t6,Y0({},c,{"aria-current":k,className:O,ref:r,style:E,to:A,viewTransition:l}),typeof u=="function"?u(_):u)});var k2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k2||(k2={}));var C5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(C5||(C5={}));function n6(t){let e=Ae.useContext(qv);return e||Lr(!1),e}function i6(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,A=dh(),l=Tl(),u=$v(t,{relative:o});return Ae.useCallback(c=>{if(zD(c,r)){c.preventDefault();let f=n!==void 0?n:J0(l)===J0(u);A(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[l,A,u,n,i,r,t,s,o,a])}function s6(t){let e=Ae.useRef(T2(t)),r=Ae.useRef(!1),n=Tl(),i=Ae.useMemo(()=>GD(n.search,r.current?null:e.current),[n.search]),s=dh(),o=Ae.useCallback((a,A)=>{const l=T2(typeof a=="function"?a(i):a);r.current=!0,s("?"+l,A)},[s,i]);return[i,o]}function o6(t,e){e===void 0&&(e={});let r=Ae.useContext(JD);r==null&&Lr(!1);let{basename:n}=n6(k2.useViewTransitionState),i=$v(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Vd(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Vd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return I2(i.pathname,o)!=null||I2(i.pathname,s)!=null}var E5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},a6=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],a=t[r++],A=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(A>>10)),e[n++]=String.fromCharCode(56320+(A&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,A=i+2<t.length,l=A?t[i+2]:0,u=s>>2,c=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,g=l&63;A||(g=64,o||(f=64)),n.push(r[u],r[c],r[f],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const c=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||c==null)throw new A6;const f=s<<2|a>>4;if(n.push(f),l!==64){const g=a<<4&240|l>>2;if(n.push(g),c!==64){const v=l<<6&192|c;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l6=function(t){const e=AT(t);return lT.encodeByteArray(e,!0)},X0=function(t){return l6(t).replace(/\./g,"")},uT=function(t){try{return lT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Z0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!u6(r)||(t[r]=Z0(t[r],e[r]));return t}function u6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=()=>cT().__FIREBASE_DEFAULTS__,d6=()=>{if(typeof process>"u"||typeof E5>"u")return;const t=E5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uT(t[1]);return e&&JSON.parse(e)},Gb=()=>{try{return c6()||d6()||h6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dT=()=>{var t;return(t=Gb())===null||t===void 0?void 0:t.config},f6=t=>{var e;return(e=Gb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[X0(JSON.stringify(r)),X0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}function qb(){var t;const e=(t=Gb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v6(){return typeof window<"u"||hT()}function hT(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function w6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pT(){const t=Dr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gT(){return!qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ep(){try{return typeof indexedDB=="object"}catch{return!1}}function y6(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="FirebaseError";class bi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=B6,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?b6(s,n):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new bi(i,a,n)}}function b6(t,e){return t.replace(x6,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const x6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ip(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(S5(s)&&S5(o)){if(!Ip(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function S5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Bd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vf(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function mT(t,e){const r=new C6(t,e);return r.subscribe.bind(r)}class C6{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");E6(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=R1),i.error===void 0&&(i.error=R1),i.complete===void 0&&(i.complete=R1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E6(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function R1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class Ko{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new p6;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F6(e))try{this.getOrInitializeService({instanceIdentifier:lu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=lu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lu){return this.instances.has(e)}getOptions(e=lu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:S6(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=lu){return this.component?this.component.multipleInstances?e:lu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S6(t){return t===lu?void 0:t}function F6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new I6(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=[];var Dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dt||(Dt={}));const wT={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},T6=Dt.INFO,k6={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},N6=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=k6[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Jv=class{constructor(e){this.name=e,this._logLevel=T6,this._logHandler=N6,this._userLogHandler=null,$b.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}};function Q6(t){$b.forEach(e=>{e.setLogLevel(t)})}function U6(t,e){for(const r of $b){let n=null;e&&e.level&&(n=wT[e.level]),t===null?r.userLogHandler=null:r.userLogHandler=(i,s,...o)=>{const a=o.map(A=>{if(A==null)return null;if(typeof A=="string")return A;if(typeof A=="number"||typeof A=="boolean")return A.toString();if(A instanceof Error)return A.message;try{return JSON.stringify(A)}catch{return null}}).filter(A=>A).join(" ");s>=(n??i.logLevel)&&t({level:Dt[s].toLowerCase(),message:a,args:o,type:i.name})}}}const L6=(t,e)=>e.some(r=>t instanceof r);let F5,T5;function P6(){return F5||(F5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R6(){return T5||(T5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,N2=new WeakMap,BT=new WeakMap,D1=new WeakMap,Jb=new WeakMap;function D6(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(sl(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&yT.set(r,t)}).catch(()=>{}),Jb.set(e,t),e}function O6(t){if(N2.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});N2.set(t,e)}let Q2={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return N2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BT.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return sl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function M6(t){Q2=t(Q2)}function j6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(O1(this),e,...r);return BT.set(n,e.sort?e.sort():[e]),sl(n)}:R6().includes(t)?function(...e){return t.apply(O1(this),e),sl(yT.get(this))}:function(...e){return sl(t.apply(O1(this),e))}}function H6(t){return typeof t=="function"?j6(t):(t instanceof IDBTransaction&&O6(t),L6(t,P6())?new Proxy(t,Q2):t)}function sl(t){if(t instanceof IDBRequest)return D6(t);if(D1.has(t))return D1.get(t);const e=H6(t);return e!==t&&(D1.set(t,e),Jb.set(e,t)),e}const O1=t=>Jb.get(t);function V6(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=sl(o);return n&&o.addEventListener("upgradeneeded",A=>{n(sl(o.result),A.oldVersion,A.newVersion,sl(o.transaction),A)}),r&&o.addEventListener("blocked",A=>r(A.oldVersion,A.newVersion,A)),a.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const K6=["get","getKey","getAll","getAllKeys","count"],z6=["put","add","delete","clear"],M1=new Map;function k5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(M1.get(e))return M1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=z6.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||K6.includes(r)))return;const s=async function(o,...a){const A=this.transaction(o,i?"readwrite":"readonly");let l=A.store;return n&&(l=l.index(a.shift())),(await Promise.all([l[r](...a),i&&A.done]))[0]};return M1.set(e,s),s}M6(t=>({...t,get:(e,r,n)=>k5(e,r)||t.get(e,r,n),has:(e,r)=>!!k5(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(q6(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function q6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ev="@firebase/app",U2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Jv("@firebase/app"),W6="@firebase/app-compat",$6="@firebase/analytics-compat",J6="@firebase/analytics",Y6="@firebase/app-check-compat",X6="@firebase/app-check",Z6="@firebase/auth",eO="@firebase/auth-compat",tO="@firebase/database",rO="@firebase/data-connect",nO="@firebase/database-compat",iO="@firebase/functions",sO="@firebase/functions-compat",oO="@firebase/installations",aO="@firebase/installations-compat",AO="@firebase/messaging",lO="@firebase/messaging-compat",uO="@firebase/performance",cO="@firebase/performance-compat",dO="@firebase/remote-config",hO="@firebase/remote-config-compat",fO="@firebase/storage",pO="@firebase/storage-compat",gO="@firebase/firestore",mO="@firebase/vertexai-preview",vO="@firebase/firestore-compat",wO="firebase",yO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]",BO={[ev]:"fire-core",[W6]:"fire-core-compat",[J6]:"fire-analytics",[$6]:"fire-analytics-compat",[X6]:"fire-app-check",[Y6]:"fire-app-check-compat",[Z6]:"fire-auth",[eO]:"fire-auth-compat",[tO]:"fire-rtdb",[rO]:"fire-data-connect",[nO]:"fire-rtdb-compat",[iO]:"fire-fn",[sO]:"fire-fn-compat",[oO]:"fire-iid",[aO]:"fire-iid-compat",[AO]:"fire-fcm",[lO]:"fire-fcm-compat",[uO]:"fire-perf",[cO]:"fire-perf-compat",[dO]:"fire-rc",[hO]:"fire-rc-compat",[fO]:"fire-gcs",[pO]:"fire-gcs-compat",[gO]:"fire-fst",[vO]:"fire-fst-compat",[mO]:"fire-vertex","fire-js":"fire-js",[wO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new Map,Kd=new Map,zd=new Map;function Sp(t,e){try{t.container.addComponent(e)}catch(r){La.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function bT(t,e){t.container.addOrOverwriteComponent(e)}function pl(t){const e=t.name;if(zd.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;zd.set(e,t);for(const r of fl.values())Sp(r,t);for(const r of Kd.values())Sp(r,t);return!0}function xT(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function bO(t,e,r=hl){xT(t,e).clearInstance(r)}function _T(t){return t.options!==void 0}function Kr(t){return t.settings!==void 0}function xO(){zd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new ac("app","Firebase",_O);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CT=class{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO extends CT{constructor(e,r,n,i){const s=r.automaticDataCollectionEnabled!==void 0?r.automaticDataCollectionEnabled:!1,o={name:n,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},r),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,r.releaseOnDeref=void 0,oo(ev,U2,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Xb(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Us.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=yO;function Yb(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:hl,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Us.create("bad-app-name",{appName:String(i)});if(r||(r=dT()),!r)throw Us.create("no-options");const s=fl.get(i);if(s){if(Ip(r,s.options)&&Ip(n,s.config))return s;throw Us.create("duplicate-app",{appName:i})}const o=new vT(i);for(const A of zd.values())o.addComponent(A);const a=new CT(r,n,o);return fl.set(i,a),a}function EO(t,e){if(v6()&&!hT())throw Us.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let r;_T(t)?r=t.options:r=t;const n=Object.assign(Object.assign({},e),r);n.releaseOnDeref!==void 0&&delete n.releaseOnDeref;const i=l=>[...l].reduce((u,c)=>Math.imul(31,u)+c.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Us.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(n)),o=Kd.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new vT(s);for(const l of zd.values())a.addComponent(l);const A=new CO(r,e,s,a);return Kd.set(s,A),A}function IO(t=hl){const e=fl.get(t);if(!e&&t===hl&&dT())return Yb();if(!e)throw Us.create("no-app",{appName:t});return e}function SO(){return Array.from(fl.values())}async function Xb(t){let e=!1;const r=t.name;fl.has(r)?(e=!0,fl.delete(r)):Kd.has(r)&&t.decRefCount()<=0&&(Kd.delete(r),e=!0),e&&(await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function oo(t,e,r){var n;let i=(n=BO[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),La.warn(a.join(" "));return}pl(new Ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function ET(t,e){if(t!==null&&typeof t!="function")throw Us.create("invalid-log-argument");U6(t,e)}function IT(t){Q6(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="firebase-heartbeat-database",TO=1,Fp="firebase-heartbeat-store";let j1=null;function ST(){return j1||(j1=V6(FO,TO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fp)}catch(r){console.warn(r)}}}}).catch(t=>{throw Us.create("idb-open",{originalErrorMessage:t.message})})),j1}async function kO(t){try{const r=(await ST()).transaction(Fp),n=await r.objectStore(Fp).get(FT(t));return await r.done,n}catch(e){if(e instanceof bi)La.warn(e.message);else{const r=Us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});La.warn(r.message)}}}async function N5(t,e){try{const n=(await ST()).transaction(Fp,"readwrite");await n.objectStore(Fp).put(e,FT(t)),await n.done}catch(r){if(r instanceof bi)La.warn(r.message);else{const n=Us.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});La.warn(n.message)}}}function FT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=1024,QO=30*24*60*60*1e3;class UO{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new PO(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Q5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=QO}),this._storage.overwrite(this._heartbeatsCache))}catch(n){La.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Q5(),{heartbeatsToSend:n,unsentEntries:i}=LO(this._heartbeatsCache.heartbeats),s=X0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return La.warn(r),""}}}function Q5(){return new Date().toISOString().substring(0,10)}function LO(t,e=NO){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),U5(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),U5(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class PO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ep()?y6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await kO(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return N5(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return N5(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function U5(t){return X0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){pl(new Ko("platform-logger",e=>new G6(e),"PRIVATE")),pl(new Ko("heartbeat",e=>new UO(e),"PRIVATE")),oo(ev,U2,t),oo(ev,U2,"esm2017"),oo("fire-js","")}RO("");const DO=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:bi,SDK_VERSION:kl,_DEFAULT_ENTRY_NAME:hl,_addComponent:Sp,_addOrOverwriteComponent:bT,_apps:fl,_clearComponents:xO,_components:zd,_getProvider:xT,_isFirebaseApp:_T,_isFirebaseServerApp:Kr,_registerComponent:pl,_removeServiceInstance:bO,_serverApps:Kd,deleteApp:Xb,getApp:IO,getApps:SO,initializeApp:Yb,initializeServerApp:EO,onLog:ET,registerVersion:oo,setLogLevel:IT},Symbol.toStringTag,{value:"Module"}));var L5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tu,TT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function k(){}k.prototype=_.prototype,I.D=_.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(O,E,T){for(var N=Array(arguments.length-2),X=2;X<arguments.length;X++)N[X-2]=arguments[X];return _.prototype[E].apply(O,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,_,k){k||(k=0);var O=Array(16);if(typeof _=="string")for(var E=0;16>E;++E)O[E]=_.charCodeAt(k++)|_.charCodeAt(k++)<<8|_.charCodeAt(k++)<<16|_.charCodeAt(k++)<<24;else for(E=0;16>E;++E)O[E]=_[k++]|_[k++]<<8|_[k++]<<16|_[k++]<<24;_=I.g[0],k=I.g[1],E=I.g[2];var T=I.g[3],N=_+(T^k&(E^T))+O[0]+3614090360&4294967295;_=k+(N<<7&4294967295|N>>>25),N=T+(E^_&(k^E))+O[1]+3905402710&4294967295,T=_+(N<<12&4294967295|N>>>20),N=E+(k^T&(_^k))+O[2]+606105819&4294967295,E=T+(N<<17&4294967295|N>>>15),N=k+(_^E&(T^_))+O[3]+3250441966&4294967295,k=E+(N<<22&4294967295|N>>>10),N=_+(T^k&(E^T))+O[4]+4118548399&4294967295,_=k+(N<<7&4294967295|N>>>25),N=T+(E^_&(k^E))+O[5]+1200080426&4294967295,T=_+(N<<12&4294967295|N>>>20),N=E+(k^T&(_^k))+O[6]+2821735955&4294967295,E=T+(N<<17&4294967295|N>>>15),N=k+(_^E&(T^_))+O[7]+4249261313&4294967295,k=E+(N<<22&4294967295|N>>>10),N=_+(T^k&(E^T))+O[8]+1770035416&4294967295,_=k+(N<<7&4294967295|N>>>25),N=T+(E^_&(k^E))+O[9]+2336552879&4294967295,T=_+(N<<12&4294967295|N>>>20),N=E+(k^T&(_^k))+O[10]+4294925233&4294967295,E=T+(N<<17&4294967295|N>>>15),N=k+(_^E&(T^_))+O[11]+2304563134&4294967295,k=E+(N<<22&4294967295|N>>>10),N=_+(T^k&(E^T))+O[12]+1804603682&4294967295,_=k+(N<<7&4294967295|N>>>25),N=T+(E^_&(k^E))+O[13]+4254626195&4294967295,T=_+(N<<12&4294967295|N>>>20),N=E+(k^T&(_^k))+O[14]+2792965006&4294967295,E=T+(N<<17&4294967295|N>>>15),N=k+(_^E&(T^_))+O[15]+1236535329&4294967295,k=E+(N<<22&4294967295|N>>>10),N=_+(E^T&(k^E))+O[1]+4129170786&4294967295,_=k+(N<<5&4294967295|N>>>27),N=T+(k^E&(_^k))+O[6]+3225465664&4294967295,T=_+(N<<9&4294967295|N>>>23),N=E+(_^k&(T^_))+O[11]+643717713&4294967295,E=T+(N<<14&4294967295|N>>>18),N=k+(T^_&(E^T))+O[0]+3921069994&4294967295,k=E+(N<<20&4294967295|N>>>12),N=_+(E^T&(k^E))+O[5]+3593408605&4294967295,_=k+(N<<5&4294967295|N>>>27),N=T+(k^E&(_^k))+O[10]+38016083&4294967295,T=_+(N<<9&4294967295|N>>>23),N=E+(_^k&(T^_))+O[15]+3634488961&4294967295,E=T+(N<<14&4294967295|N>>>18),N=k+(T^_&(E^T))+O[4]+3889429448&4294967295,k=E+(N<<20&4294967295|N>>>12),N=_+(E^T&(k^E))+O[9]+568446438&4294967295,_=k+(N<<5&4294967295|N>>>27),N=T+(k^E&(_^k))+O[14]+3275163606&4294967295,T=_+(N<<9&4294967295|N>>>23),N=E+(_^k&(T^_))+O[3]+4107603335&4294967295,E=T+(N<<14&4294967295|N>>>18),N=k+(T^_&(E^T))+O[8]+1163531501&4294967295,k=E+(N<<20&4294967295|N>>>12),N=_+(E^T&(k^E))+O[13]+2850285829&4294967295,_=k+(N<<5&4294967295|N>>>27),N=T+(k^E&(_^k))+O[2]+4243563512&4294967295,T=_+(N<<9&4294967295|N>>>23),N=E+(_^k&(T^_))+O[7]+1735328473&4294967295,E=T+(N<<14&4294967295|N>>>18),N=k+(T^_&(E^T))+O[12]+2368359562&4294967295,k=E+(N<<20&4294967295|N>>>12),N=_+(k^E^T)+O[5]+4294588738&4294967295,_=k+(N<<4&4294967295|N>>>28),N=T+(_^k^E)+O[8]+2272392833&4294967295,T=_+(N<<11&4294967295|N>>>21),N=E+(T^_^k)+O[11]+1839030562&4294967295,E=T+(N<<16&4294967295|N>>>16),N=k+(E^T^_)+O[14]+4259657740&4294967295,k=E+(N<<23&4294967295|N>>>9),N=_+(k^E^T)+O[1]+2763975236&4294967295,_=k+(N<<4&4294967295|N>>>28),N=T+(_^k^E)+O[4]+1272893353&4294967295,T=_+(N<<11&4294967295|N>>>21),N=E+(T^_^k)+O[7]+4139469664&4294967295,E=T+(N<<16&4294967295|N>>>16),N=k+(E^T^_)+O[10]+3200236656&4294967295,k=E+(N<<23&4294967295|N>>>9),N=_+(k^E^T)+O[13]+681279174&4294967295,_=k+(N<<4&4294967295|N>>>28),N=T+(_^k^E)+O[0]+3936430074&4294967295,T=_+(N<<11&4294967295|N>>>21),N=E+(T^_^k)+O[3]+3572445317&4294967295,E=T+(N<<16&4294967295|N>>>16),N=k+(E^T^_)+O[6]+76029189&4294967295,k=E+(N<<23&4294967295|N>>>9),N=_+(k^E^T)+O[9]+3654602809&4294967295,_=k+(N<<4&4294967295|N>>>28),N=T+(_^k^E)+O[12]+3873151461&4294967295,T=_+(N<<11&4294967295|N>>>21),N=E+(T^_^k)+O[15]+530742520&4294967295,E=T+(N<<16&4294967295|N>>>16),N=k+(E^T^_)+O[2]+3299628645&4294967295,k=E+(N<<23&4294967295|N>>>9),N=_+(E^(k|~T))+O[0]+4096336452&4294967295,_=k+(N<<6&4294967295|N>>>26),N=T+(k^(_|~E))+O[7]+1126891415&4294967295,T=_+(N<<10&4294967295|N>>>22),N=E+(_^(T|~k))+O[14]+2878612391&4294967295,E=T+(N<<15&4294967295|N>>>17),N=k+(T^(E|~_))+O[5]+4237533241&4294967295,k=E+(N<<21&4294967295|N>>>11),N=_+(E^(k|~T))+O[12]+1700485571&4294967295,_=k+(N<<6&4294967295|N>>>26),N=T+(k^(_|~E))+O[3]+2399980690&4294967295,T=_+(N<<10&4294967295|N>>>22),N=E+(_^(T|~k))+O[10]+4293915773&4294967295,E=T+(N<<15&4294967295|N>>>17),N=k+(T^(E|~_))+O[1]+2240044497&4294967295,k=E+(N<<21&4294967295|N>>>11),N=_+(E^(k|~T))+O[8]+1873313359&4294967295,_=k+(N<<6&4294967295|N>>>26),N=T+(k^(_|~E))+O[15]+4264355552&4294967295,T=_+(N<<10&4294967295|N>>>22),N=E+(_^(T|~k))+O[6]+2734768916&4294967295,E=T+(N<<15&4294967295|N>>>17),N=k+(T^(E|~_))+O[13]+1309151649&4294967295,k=E+(N<<21&4294967295|N>>>11),N=_+(E^(k|~T))+O[4]+4149444226&4294967295,_=k+(N<<6&4294967295|N>>>26),N=T+(k^(_|~E))+O[11]+3174756917&4294967295,T=_+(N<<10&4294967295|N>>>22),N=E+(_^(T|~k))+O[2]+718787259&4294967295,E=T+(N<<15&4294967295|N>>>17),N=k+(T^(E|~_))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(E+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+T&4294967295}n.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var k=_-this.blockSize,O=this.B,E=this.h,T=0;T<_;){if(E==0)for(;T<=k;)i(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<_;)if(O[E++]=I.charCodeAt(T++),E==this.blockSize){i(this,O),E=0;break}}else for(;T<_;)if(O[E++]=I[T++],E==this.blockSize){i(this,O),E=0;break}}this.h=E,this.o+=_},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var k=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=k&255,k/=256;for(this.u(I),I=Array(16),_=k=0;4>_;++_)for(var O=0;32>O;O+=8)I[k++]=this.g[_]>>>O&255;return I};function s(I,_){var k=a;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=_(I)}function o(I,_){this.h=_;for(var k=[],O=!0,E=I.length-1;0<=E;E--){var T=I[E]|0;O&&T==_||(k[E]=T,O=!1)}this.g=k}var a={};function A(I){return-128<=I&&128>I?s(I,function(_){return new o([_|0],0>_?-1:0)}):new o([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return c;if(0>I)return S(l(-I));for(var _=[],k=1,O=0;I>=k;O++)_[O]=I/k|0,k*=4294967296;return new o(_,0)}function u(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return S(u(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=l(Math.pow(_,8)),O=c,E=0;E<I.length;E+=8){var T=Math.min(8,I.length-E),N=parseInt(I.substring(E,E+T),_);8>T?(T=l(Math.pow(_,T)),O=O.j(T).add(l(N))):(O=O.j(k),O=O.add(l(N)))}return O}var c=A(0),f=A(1),g=A(16777216);t=o.prototype,t.m=function(){if(b(this))return-S(this).m();for(var I=0,_=1,k=0;k<this.g.length;k++){var O=this.i(k);I+=(0<=O?O:4294967296+O)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(b(this))return"-"+S(this).toString(I);for(var _=l(Math.pow(I,6)),k=this,O="";;){var E=L(k,_).g;k=w(k,E.j(_));var T=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=E,v(k))return T+O;for(;6>T.length;)T="0"+T;O=T+O}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=w(this,I),b(I)?-1:v(I)?0:1};function S(I){for(var _=I.g.length,k=[],O=0;O<_;O++)k[O]=~I.g[O];return new o(k,~I.h).add(f)}t.abs=function(){return b(this)?S(this):this},t.add=function(I){for(var _=Math.max(this.g.length,I.g.length),k=[],O=0,E=0;E<=_;E++){var T=O+(this.i(E)&65535)+(I.i(E)&65535),N=(T>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);O=N>>>16,T&=65535,N&=65535,k[E]=N<<16|T}return new o(k,k[k.length-1]&-2147483648?-1:0)};function w(I,_){return I.add(S(_))}t.j=function(I){if(v(this)||v(I))return c;if(b(this))return b(I)?S(this).j(S(I)):S(S(this).j(I));if(b(I))return S(this.j(S(I)));if(0>this.l(g)&&0>I.l(g))return l(this.m()*I.m());for(var _=this.g.length+I.g.length,k=[],O=0;O<2*_;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var E=0;E<I.g.length;E++){var T=this.i(O)>>>16,N=this.i(O)&65535,X=I.i(E)>>>16,ce=I.i(E)&65535;k[2*O+2*E]+=N*ce,y(k,2*O+2*E),k[2*O+2*E+1]+=T*ce,y(k,2*O+2*E+1),k[2*O+2*E+1]+=N*X,y(k,2*O+2*E+1),k[2*O+2*E+2]+=T*X,y(k,2*O+2*E+2)}for(O=0;O<_;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=_;O<2*_;O++)k[O]=0;return new o(k,0)};function y(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function x(I,_){this.g=I,this.h=_}function L(I,_){if(v(_))throw Error("division by zero");if(v(I))return new x(c,c);if(b(I))return _=L(S(I),_),new x(S(_.g),S(_.h));if(b(_))return _=L(I,S(_)),new x(S(_.g),_.h);if(30<I.g.length){if(b(I)||b(_))throw Error("slowDivide_ only works with positive integers.");for(var k=f,O=_;0>=O.l(I);)k=P(k),O=P(O);var E=M(k,1),T=M(O,1);for(O=M(O,2),k=M(k,2);!v(O);){var N=T.add(O);0>=N.l(I)&&(E=E.add(k),T=N),O=M(O,1),k=M(k,1)}return _=w(I,E.j(_)),new x(E,_)}for(E=c;0<=I.l(_);){for(k=Math.max(1,Math.floor(I.m()/_.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),T=l(k),N=T.j(_);b(N)||0<N.l(I);)k-=O,T=l(k),N=T.j(_);v(T)&&(T=f),E=E.add(T),I=w(I,N)}return new x(E,I)}t.A=function(I){return L(this,I).h},t.and=function(I){for(var _=Math.max(this.g.length,I.g.length),k=[],O=0;O<_;O++)k[O]=this.i(O)&I.i(O);return new o(k,this.h&I.h)},t.or=function(I){for(var _=Math.max(this.g.length,I.g.length),k=[],O=0;O<_;O++)k[O]=this.i(O)|I.i(O);return new o(k,this.h|I.h)},t.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),k=[],O=0;O<_;O++)k[O]=this.i(O)^I.i(O);return new o(k,this.h^I.h)};function P(I){for(var _=I.g.length+1,k=[],O=0;O<_;O++)k[O]=I.i(O)<<1|I.i(O-1)>>>31;return new o(k,I.h)}function M(I,_){var k=_>>5;_%=32;for(var O=I.g.length-k,E=[],T=0;T<O;T++)E[T]=0<_?I.i(T+k)>>>_|I.i(T+k+1)<<32-_:I.i(T+k);return new o(E,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,TT=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Tu=o}).apply(typeof L5<"u"?L5:typeof self<"u"?self:typeof window<"u"?window:{});var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kT,wf,NT,l0,L2,QT,UT,LT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,F,D){return h==Array.prototype||h==Object.prototype||(h[F]=D.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof pm=="object"&&pm];for(var F=0;F<h.length;++F){var D=h[F];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var n=r(this);function i(h,F){if(F)e:{var D=n;h=h.split(".");for(var J=0;J<h.length-1;J++){var ve=h[J];if(!(ve in D))break e;D=D[ve]}h=h[h.length-1],J=D[h],F=F(J),F!=J&&F!=null&&e(D,h,{configurable:!0,writable:!0,value:F})}}function s(h,F){h instanceof String&&(h+="");var D=0,J=!1,ve={next:function(){if(!J&&D<h.length){var Ie=D++;return{value:F(Ie,h[Ie]),done:!1}}return J=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}i("Array.prototype.values",function(h){return h||function(){return s(this,function(F,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function A(h){var F=typeof h;return F=F!="object"?F:h?Array.isArray(h)?"array":F:"null",F=="array"||F=="object"&&typeof h.length=="number"}function l(h){var F=typeof h;return F=="object"&&h!=null||F=="function"}function u(h,F,D){return h.call.apply(h.bind,arguments)}function c(h,F,D){if(!h)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,J),h.apply(F,ve)}}return function(){return h.apply(F,arguments)}}function f(h,F,D){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:c,f.apply(null,arguments)}function g(h,F){var D=Array.prototype.slice.call(arguments,1);return function(){var J=D.slice();return J.push.apply(J,arguments),h.apply(this,J)}}function v(h,F){function D(){}D.prototype=F.prototype,h.aa=F.prototype,h.prototype=new D,h.prototype.constructor=h,h.Qb=function(J,ve,Ie){for(var Xe=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Xe[kt-2]=arguments[kt];return F.prototype[ve].apply(J,Xe)}}function b(h){const F=h.length;if(0<F){const D=Array(F);for(let J=0;J<F;J++)D[J]=h[J];return D}return[]}function S(h,F){for(let D=1;D<arguments.length;D++){const J=arguments[D];if(A(J)){const ve=h.length||0,Ie=J.length||0;h.length=ve+Ie;for(let Xe=0;Xe<Ie;Xe++)h[ve+Xe]=J[Xe]}else h.push(J)}}class w{constructor(F,D){this.i=F,this.j=D,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function y(h){return/^[\s\xa0]*$/.test(h)}function x(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function L(h){return L[" "](h),h}L[" "]=function(){};var P=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(h,F,D){for(const J in h)F.call(D,h[J],J,h)}function I(h,F){for(const D in h)F.call(void 0,h[D],D,h)}function _(h){const F={};for(const D in h)F[D]=h[D];return F}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,F){let D,J;for(let ve=1;ve<arguments.length;ve++){J=arguments[ve];for(D in J)h[D]=J[D];for(let Ie=0;Ie<k.length;Ie++)D=k[Ie],Object.prototype.hasOwnProperty.call(J,D)&&(h[D]=J[D])}}function E(h){var F=1;h=h.split(":");const D=[];for(;0<F&&h.length;)D.push(h.shift()),F--;return h.length&&D.push(h.join(":")),D}function T(h){a.setTimeout(()=>{throw h},0)}function N(){var h=R;let F=null;return h.g&&(F=h.g,h.g=h.g.next,h.g||(h.h=null),F.next=null),F}class X{constructor(){this.h=this.g=null}add(F,D){const J=ce.get();J.set(F,D),this.h?this.h.next=J:this.g=J,this.h=J}}var ce=new w(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(F,D){this.h=F,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let K,$=!1,R=new X,q=()=>{const h=a.Promise.resolve(void 0);K=()=>{h.then(re)}};var re=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(D){T(D)}var F=ce;F.j(h),100>F.h&&(F.h++,h.next=F.g,F.g=h)}$=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,F){this.type=h,this.g=this.target=F,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,F=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const D=()=>{};a.addEventListener("test",D,F),a.removeEventListener("test",D,F)}catch{}return h}();function ee(h,F){if(j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var D=this.type=h.type,J=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=F,F=h.relatedTarget){if(P){e:{try{L(F.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(F=null)}}else D=="mouseover"?F=h.fromElement:D=="mouseout"&&(F=h.toElement);this.relatedTarget=F,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ee.aa.h.call(this)}}v(ee,j);var ne={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),ge=0;function we(h,F,D,J,ve){this.listener=h,this.proxy=null,this.src=F,this.type=D,this.capture=!!J,this.ha=ve,this.key=++ge,this.da=this.fa=!1}function Te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ne(h){this.src=h,this.g={},this.h=0}Ne.prototype.add=function(h,F,D,J,ve){var Ie=h.toString();h=this.g[Ie],h||(h=this.g[Ie]=[],this.h++);var Xe=Le(h,F,J,ve);return-1<Xe?(F=h[Xe],D||(F.fa=!1)):(F=new we(F,this.src,Ie,!!J,ve),F.fa=D,h.push(F)),F};function je(h,F){var D=F.type;if(D in h.g){var J=h.g[D],ve=Array.prototype.indexOf.call(J,F,void 0),Ie;(Ie=0<=ve)&&Array.prototype.splice.call(J,ve,1),Ie&&(Te(F),h.g[D].length==0&&(delete h.g[D],h.h--))}}function Le(h,F,D,J){for(var ve=0;ve<h.length;++ve){var Ie=h[ve];if(!Ie.da&&Ie.listener==F&&Ie.capture==!!D&&Ie.ha==J)return ve}return-1}var He="closure_lm_"+(1e6*Math.random()|0),_e={};function oe(h,F,D,J,ve){if(Array.isArray(F)){for(var Ie=0;Ie<F.length;Ie++)oe(h,F[Ie],D,J,ve);return null}return D=Ge(D),h&&h[ae]?h.K(F,D,l(J)?!!J.capture:!1,ve):bt(h,F,D,!1,J,ve)}function bt(h,F,D,J,ve,Ie){if(!F)throw Error("Invalid event type");var Xe=l(ve)?!!ve.capture:!!ve,kt=Re(h);if(kt||(h[He]=kt=new Ne(h)),D=kt.add(F,D,J,Xe,Ie),D.proxy)return D;if(J=le(),D.proxy=J,J.src=h,J.listener=D,h.addEventListener)G||(ve=Xe),ve===void 0&&(ve=!1),h.addEventListener(F.toString(),J,ve);else if(h.attachEvent)h.attachEvent(xe(F.toString()),J);else if(h.addListener&&h.removeListener)h.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return D}function le(){function h(D){return F.call(h.src,h.listener,D)}const F=Fe;return h}function pe(h,F,D,J,ve){if(Array.isArray(F))for(var Ie=0;Ie<F.length;Ie++)pe(h,F[Ie],D,J,ve);else J=l(J)?!!J.capture:!!J,D=Ge(D),h&&h[ae]?(h=h.i,F=String(F).toString(),F in h.g&&(Ie=h.g[F],D=Le(Ie,D,J,ve),-1<D&&(Te(Ie[D]),Array.prototype.splice.call(Ie,D,1),Ie.length==0&&(delete h.g[F],h.h--)))):h&&(h=Re(h))&&(F=h.g[F.toString()],h=-1,F&&(h=Le(F,D,J,ve)),(D=-1<h?F[h]:null)&&be(D))}function be(h){if(typeof h!="number"&&h&&!h.da){var F=h.src;if(F&&F[ae])je(F.i,h);else{var D=h.type,J=h.proxy;F.removeEventListener?F.removeEventListener(D,J,h.capture):F.detachEvent?F.detachEvent(xe(D),J):F.addListener&&F.removeListener&&F.removeListener(J),(D=Re(F))?(je(D,h),D.h==0&&(D.src=null,F[He]=null)):Te(h)}}}function xe(h){return h in _e?_e[h]:_e[h]="on"+h}function Fe(h,F){if(h.da)h=!0;else{F=new ee(F,this);var D=h.listener,J=h.ha||h.src;h.fa&&be(h),h=D.call(J,F)}return h}function Re(h){return h=h[He],h instanceof Ne?h:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(h){return typeof h=="function"?h:(h[Pe]||(h[Pe]=function(F){return h.handleEvent(F)}),h[Pe])}function Ve(){Q.call(this),this.i=new Ne(this),this.M=this,this.F=null}v(Ve,Q),Ve.prototype[ae]=!0,Ve.prototype.removeEventListener=function(h,F,D,J){pe(this,h,F,D,J)};function qe(h,F){var D,J=h.F;if(J)for(D=[];J;J=J.F)D.push(J);if(h=h.M,J=F.type||F,typeof F=="string")F=new j(F,h);else if(F instanceof j)F.target=F.target||h;else{var ve=F;F=new j(J,h),O(F,ve)}if(ve=!0,D)for(var Ie=D.length-1;0<=Ie;Ie--){var Xe=F.g=D[Ie];ve=ct(Xe,J,!0,F)&&ve}if(Xe=F.g=h,ve=ct(Xe,J,!0,F)&&ve,ve=ct(Xe,J,!1,F)&&ve,D)for(Ie=0;Ie<D.length;Ie++)Xe=F.g=D[Ie],ve=ct(Xe,J,!1,F)&&ve}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var h=this.i,F;for(F in h.g){for(var D=h.g[F],J=0;J<D.length;J++)Te(D[J]);delete h.g[F],h.h--}}this.F=null},Ve.prototype.K=function(h,F,D,J){return this.i.add(String(h),F,!1,D,J)},Ve.prototype.L=function(h,F,D,J){return this.i.add(String(h),F,!0,D,J)};function ct(h,F,D,J){if(F=h.i.g[String(F)],!F)return!0;F=F.concat();for(var ve=!0,Ie=0;Ie<F.length;++Ie){var Xe=F[Ie];if(Xe&&!Xe.da&&Xe.capture==D){var kt=Xe.listener,Mt=Xe.ha||Xe.src;Xe.fa&&je(h.i,Xe),ve=kt.call(Mt,J)!==!1&&ve}}return ve&&!J.defaultPrevented}function ut(h,F,D){if(typeof h=="function")D&&(h=f(h,D));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:a.setTimeout(h,F||0)}function gt(h){h.g=ut(()=>{h.g=null,h.i&&(h.i=!1,gt(h))},h.l);const F=h.h;h.h=null,h.m.apply(null,F)}class ue extends Q{constructor(F,D){super(),this.m=F,this.l=D,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:gt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(h){Q.call(this),this.h=h,this.g={}}v(Ye,Q);var Ze=[];function nt(h){M(h.g,function(F,D){this.g.hasOwnProperty(D)&&be(F)},h),h.g={}}Ye.prototype.N=function(){Ye.aa.N.call(this),nt(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rt=a.JSON.stringify,wt=a.JSON.parse,$t=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Bt(){}Bt.prototype.h=null;function Rt(h){return h.h||(h.h=h.i())}function Ar(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){j.call(this,"d")}v(Wi,j);function pr(){j.call(this,"c")}v(pr,j);var Ct={},Gt=null;function fs(){return Gt=Gt||new Ve}Ct.La="serverreachability";function ln(h){j.call(this,Ct.La,h)}v(ln,j);function Wn(h){const F=fs();qe(F,new ln(F))}Ct.STAT_EVENT="statevent";function $i(h,F){j.call(this,Ct.STAT_EVENT,h),this.stat=F}v($i,j);function mt(h){const F=fs();qe(F,new $i(F,h))}Ct.Ma="timingevent";function Si(h,F){j.call(this,Ct.Ma,h),this.size=F}v(Si,j);function $n(h,F){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},F)}function un(){this.g=!0}un.prototype.xa=function(){this.g=!1};function $r(h,F,D,J,ve,Ie){h.info(function(){if(h.g)if(Ie)for(var Xe="",kt=Ie.split("&"),Mt=0;Mt<kt.length;Mt++){var Nt=kt[Mt].split("=");if(1<Nt.length){var Zt=Nt[0];Nt=Nt[1];var dr=Zt.split("_");Xe=2<=dr.length&&dr[1]=="type"?Xe+(Zt+"="+Nt+"&"):Xe+(Zt+"=redacted&")}}else Xe=null;else Xe=Ie;return"XMLHTTP REQ ("+J+") [attempt "+ve+"]: "+F+`
`+D+`
`+Xe})}function Or(h,F,D,J,ve,Ie,Xe){h.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+ve+"]: "+F+`
`+D+`
`+Ie+" "+Xe})}function cn(h,F,D,J){h.info(function(){return"XMLHTTP TEXT ("+F+"): "+Ds(h,D)+(J?" "+J:"")})}function $a(h,F){h.info(function(){return"TIMEOUT: "+F})}un.prototype.info=function(){};function Ds(h,F){if(!h.g)return F;if(!F)return null;try{var D=JSON.parse(F);if(D){for(h=0;h<D.length;h++)if(Array.isArray(D[h])){var J=D[h];if(!(2>J.length)){var ve=J[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ie=ve[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var Xe=1;Xe<ve.length;Xe++)ve[Xe]=""}}}}return rt(D)}catch{return F}}var Jn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function di(){}v(di,Bt),di.prototype.g=function(){return new XMLHttpRequest},di.prototype.i=function(){return{}},ci=new di;function Jr(h,F,D,J){this.j=h,this.i=F,this.l=D,this.R=J||1,this.U=new Ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ji}function Ji(){this.i=null,this.g="",this.h=!1}var ho={},fo={};function po(h,F,D){h.L=1,h.v=na(hi(F)),h.m=D,h.P=!0,Xo(h,null)}function Xo(h,F){h.F=Date.now(),Ja(h),h.A=hi(h.v);var D=h.A,J=h.R;Array.isArray(J)||(J=[String(J)]),Tt(D.i,"t",J),h.C=0,D=h.j.J,h.h=new Ji,h.g=H(h.j,D?F:null,!h.m),0<h.O&&(h.M=new ue(f(h.Y,h,h.g),h.O)),F=h.U,D=h.g,J=h.ca;var ve="readystatechange";Array.isArray(ve)||(ve&&(Ze[0]=ve.toString()),ve=Ze);for(var Ie=0;Ie<ve.length;Ie++){var Xe=oe(D,ve[Ie],J||F.handleEvent,!1,F.h||F);if(!Xe)break;F.g[Xe.key]=Xe}F=h.H?_(h.H):{},h.m?(h.u||(h.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,F)):(h.u="GET",h.g.ea(h.A,h.u,null,F)),Wn(),$r(h.i,h.u,h.A,h.l,h.R,h.m)}Jr.prototype.ca=function(h){h=h.target;const F=this.M;F&&vn(h)==3?F.j():this.Y(h)},Jr.prototype.Y=function(h){try{if(h==this.g)e:{const dr=vn(this.g);var F=this.g.Ba();const Gs=this.g.Z();if(!(3>dr)&&(dr!=3||this.g&&(this.h.h||this.g.oa()||_c(this.g)))){this.J||dr!=4||F==7||(F==8||0>=Gs?Wn(3):Wn(2)),go(this);var D=this.g.Z();this.X=D;t:if(Zo(this)){var J=_c(this.g);h="";var ve=J.length,Ie=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),mo(this);var Xe="";break t}this.h.i=new a.TextDecoder}for(F=0;F<ve;F++)this.h.h=!0,h+=this.h.i.decode(J[F],{stream:!(Ie&&F==ve-1)});J.length=0,this.h.g+=h,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=D==200,Or(this.i,this.u,this.A,this.l,this.R,dr,D),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,Mt=this.g;if((kt=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(kt)){var Nt=kt;break t}}Nt=null}if(D=Nt)cn(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,D);else{this.o=!1,this.s=3,mt(12),Os(this),mo(this);break e}}if(this.P){D=!0;let Ln;for(;!this.J&&this.C<Xe.length;)if(Ln=pc(this,Xe),Ln==fo){dr==4&&(this.s=4,mt(14),D=!1),cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==ho){this.s=4,mt(15),cn(this.i,this.l,Xe,"[Invalid Chunk]"),D=!1;break}else cn(this.i,this.l,Ln,null),ea(this,Ln);if(Zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dr!=4||Xe.length!=0||this.h.h||(this.s=1,mt(16),D=!1),this.o=this.o&&D,!D)cn(this.i,this.l,Xe,"[Invalid Chunked Response]"),Os(this),mo(this);else if(0<Xe.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),uA(Zt),Zt.M=!0,mt(11))}}else cn(this.i,this.l,Xe,null),ea(this,Xe);dr==4&&Os(this),this.o&&!this.J&&(dr==4?bo(this.j,this):(this.o=!1,Ja(this)))}else yo(this.g),D==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Os(this),mo(this)}}}catch{}finally{}};function Zo(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function pc(h,F){var D=h.C,J=F.indexOf(`
`,D);return J==-1?fo:(D=Number(F.substring(D,J)),isNaN(D)?ho:(J+=1,J+D>F.length?fo:(F=F.slice(J,J+D),h.C=J+D,F)))}Jr.prototype.cancel=function(){this.J=!0,Os(this)};function Ja(h){h.S=Date.now()+h.I,gc(h,h.I)}function gc(h,F){if(h.B!=null)throw Error("WatchDog timer not null");h.B=$n(f(h.ba,h),F)}function go(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Jr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?($a(this.i,this.A),this.L!=2&&(Wn(),mt(17)),Os(this),this.s=2,mo(this)):gc(this,this.S-h)};function mo(h){h.j.G==0||h.J||bo(h.j,h)}function Os(h){go(h);var F=h.M;F&&typeof F.ma=="function"&&F.ma(),h.M=null,nt(h.U),h.g&&(F=h.g,h.g=null,F.abort(),F.ma())}function ea(h,F){try{var D=h.j;if(D.G!=0&&(D.g==h||Ol(D.h,h))){if(!h.K&&Ol(D.h,h)&&D.G==3){try{var J=D.Da.g.parse(F)}catch{J=null}if(Array.isArray(J)&&J.length==3){var ve=J;if(ve[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<h.F)zs(D),oA(D);else break e;Aa(D),mt(18)}}else D.za=ve[1],0<D.za-D.T&&37500>ve[2]&&D.F&&D.v==0&&!D.C&&(D.C=$n(f(D.Za,D),6e3));if(1>=ta(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Yn(D,11)}else if((h.K||D.g==h)&&zs(D),!y(F))for(ve=D.Da.g.parse(F),F=0;F<ve.length;F++){let Nt=ve[F];if(D.T=Nt[0],Nt=Nt[1],D.G==2)if(Nt[0]=="c"){D.K=Nt[1],D.ia=Nt[2];const Zt=Nt[3];Zt!=null&&(D.la=Zt,D.j.info("VER="+D.la));const dr=Nt[4];dr!=null&&(D.Aa=dr,D.j.info("SVER="+D.Aa));const Gs=Nt[5];Gs!=null&&typeof Gs=="number"&&0<Gs&&(J=1.5*Gs,D.L=J,D.j.info("backChannelRequestTimeoutMs_="+J)),J=D;const Ln=h.g;if(Ln){const xo=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var Ie=J.h;Ie.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(Br(Ie,Ie.h),Ie.h=null))}if(J.D){const _o=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(J.ya=_o,rr(J.I,J.D,_o))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-h.F,D.j.info("Handshake RTT: "+D.R+"ms")),J=D;var Xe=h;if(J.qa=B(J,J.J?J.ia:null,J.W),Xe.K){Ml(J.h,Xe);var kt=Xe,Mt=J.L;Mt&&(kt.I=Mt),kt.B&&(go(kt),Ja(kt)),J.g=Xe}else lA(J);0<D.i.length&&aA(D)}else Nt[0]!="stop"&&Nt[0]!="close"||Yn(D,7);else D.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Yn(D,7):Ks(D):Nt[0]!="noop"&&D.l&&D.l.ta(Nt),D.v=0)}}Wn(4)}catch{}}var Ih=class{constructor(h,F){this.g=h,this.map=F}};function Dl(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ta(h){return h.h?1:h.g?h.g.size:0}function Ol(h,F){return h.h?h.h==F:h.g?h.g.has(F):!1}function Br(h,F){h.g?h.g.add(F):h.h=F}function Ml(h,F){h.h&&h.h==F?h.h=null:h.g&&h.g.has(F)&&h.g.delete(F)}Dl.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function jl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let F=h.i;for(const D of h.g.values())F=F.concat(D.D);return F}return b(h.i)}function vc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(A(h)){for(var F=[],D=h.length,J=0;J<D;J++)F.push(h[J]);return F}F=[],D=0;for(J in h)F[D++]=h[J];return F}function Hl(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(A(h)||typeof h=="string"){var F=[];h=h.length;for(var D=0;D<h;D++)F.push(D);return F}F=[],D=0;for(const J in h)F[D++]=J;return F}}}function wc(h,F){if(h.forEach&&typeof h.forEach=="function")h.forEach(F,void 0);else if(A(h)||typeof h=="string")Array.prototype.forEach.call(h,F,void 0);else for(var D=Hl(h),J=vc(h),ve=J.length,Ie=0;Ie<ve;Ie++)F.call(void 0,J[Ie],D&&D[Ie],h)}var Ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ya(h,F){if(h){h=h.split("&");for(var D=0;D<h.length;D++){var J=h[D].indexOf("="),ve=null;if(0<=J){var Ie=h[D].substring(0,J);ve=h[D].substring(J+1)}else Ie=h[D];F(Ie,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function Mr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Mr){this.h=h.h,ra(this,h.j),this.o=h.o,this.g=h.g,Xa(this,h.s),this.l=h.l;var F=h.i,D=new vo;D.i=F.i,F.g&&(D.g=new Map(F.g),D.h=F.h),Vl(this,D),this.m=h.m}else h&&(F=String(h).match(Ti))?(this.h=!1,ra(this,F[1]||"",!0),this.o=ia(F[2]||""),this.g=ia(F[3]||"",!0),Xa(this,F[4]),this.l=ia(F[5]||"",!0),Vl(this,F[6]||"",!0),this.m=ia(F[7]||"")):(this.h=!1,this.i=new vo(null,this.h))}Mr.prototype.toString=function(){var h=[],F=this.j;F&&h.push(Ms(F,yc,!0),":");var D=this.g;return(D||F=="file")&&(h.push("//"),(F=this.o)&&h.push(Ms(F,yc,!0),"@"),h.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&h.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&h.push("/"),h.push(Ms(D,D.charAt(0)=="/"?js:Fh,!0))),(D=this.i.toString())&&h.push("?",D),(D=this.m)&&h.push("#",Ms(D,eA)),h.join("")};function hi(h){return new Mr(h)}function ra(h,F,D){h.j=D?ia(F,!0):F,h.j&&(h.j=h.j.replace(/:$/,""))}function Xa(h,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);h.s=F}else h.s=null}function Vl(h,F,D){F instanceof vo?(h.i=F,Th(h.i,h.h)):(D||(F=Ms(F,Za)),h.i=new vo(F,h.h))}function rr(h,F,D){h.i.set(F,D)}function na(h){return rr(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ia(h,F){return h?F?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ms(h,F,D){return typeof h=="string"?(h=encodeURI(h).replace(F,Sh),D&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sh(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var yc=/[#\/\?@]/g,Fh=/[#\?:]/g,js=/[#\?]/g,Za=/[#\?@]/g,eA=/#/g;function vo(h,F){this.h=this.g=null,this.i=h||null,this.j=!!F}function br(h){h.g||(h.g=new Map,h.h=0,h.i&&Ya(h.i,function(F,D){h.add(decodeURIComponent(F.replace(/\+/g," ")),D)}))}t=vo.prototype,t.add=function(h,F){br(this),this.i=null,h=wo(this,h);var D=this.g.get(h);return D||this.g.set(h,D=[]),D.push(F),this.h+=1,this};function Bc(h,F){br(h),F=wo(h,F),h.g.has(F)&&(h.i=null,h.h-=h.g.get(F).length,h.g.delete(F))}function Kl(h,F){return br(h),F=wo(h,F),h.g.has(F)}t.forEach=function(h,F){br(this),this.g.forEach(function(D,J){D.forEach(function(ve){h.call(F,ve,J,this)},this)},this)},t.na=function(){br(this);const h=Array.from(this.g.values()),F=Array.from(this.g.keys()),D=[];for(let J=0;J<F.length;J++){const ve=h[J];for(let Ie=0;Ie<ve.length;Ie++)D.push(F[J])}return D},t.V=function(h){br(this);let F=[];if(typeof h=="string")Kl(this,h)&&(F=F.concat(this.g.get(wo(this,h))));else{h=Array.from(this.g.values());for(let D=0;D<h.length;D++)F=F.concat(h[D])}return F},t.set=function(h,F){return br(this),this.i=null,h=wo(this,h),Kl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[F]),this.h+=1,this},t.get=function(h,F){return h?(h=this.V(h),0<h.length?String(h[0]):F):F};function Tt(h,F,D){Bc(h,F),0<D.length&&(h.i=null,h.g.set(wo(h,F),b(D)),h.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],F=Array.from(this.g.keys());for(var D=0;D<F.length;D++){var J=F[D];const Ie=encodeURIComponent(String(J)),Xe=this.V(J);for(J=0;J<Xe.length;J++){var ve=Ie;Xe[J]!==""&&(ve+="="+encodeURIComponent(String(Xe[J]))),h.push(ve)}}return this.i=h.join("&")};function wo(h,F){return F=String(F),h.j&&(F=F.toLowerCase()),F}function Th(h,F){F&&!h.j&&(br(h),h.i=null,h.g.forEach(function(D,J){var ve=J.toLowerCase();J!=ve&&(Bc(this,J),Tt(this,ve,D))},h)),h.j=F}function ps(h,F){const D=new un;if(a.Image){const J=new Image;J.onload=g(Yi,D,"TestLoadImage: loaded",!0,F,J),J.onerror=g(Yi,D,"TestLoadImage: error",!1,F,J),J.onabort=g(Yi,D,"TestLoadImage: abort",!1,F,J),J.ontimeout=g(Yi,D,"TestLoadImage: timeout",!1,F,J),a.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=h}else F(!1)}function bc(h,F){const D=new un,J=new AbortController,ve=setTimeout(()=>{J.abort(),Yi(D,"TestPingServer: timeout",!1,F)},1e4);fetch(h,{signal:J.signal}).then(Ie=>{clearTimeout(ve),Ie.ok?Yi(D,"TestPingServer: ok",!0,F):Yi(D,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(ve),Yi(D,"TestPingServer: error",!1,F)})}function Yi(h,F,D,J,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),J(D)}catch{}}function tA(){this.g=new $t}function zl(h,F,D){const J=D||"";try{wc(h,function(ve,Ie){let Xe=ve;l(ve)&&(Xe=rt(ve)),F.push(J+Ie+"="+encodeURIComponent(Xe))})}catch(ve){throw F.push(J+"type="+encodeURIComponent("_badmap")),ve}}function rA(h){this.l=h.Ub||null,this.j=h.eb||!1}v(rA,Bt),rA.prototype.g=function(){return new nA(this.l,this.j)},rA.prototype.i=function(h){return function(){return h}}({});function nA(h,F){Ve.call(this),this.D=h,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(nA,Ve),t=nA.prototype,t.open=function(h,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=F,this.readyState=1,Xi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(F.body=h),(this.D||a).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var F=h.value?h.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!h.done}))&&(this.response=this.responseText+=F)}h.done?Hs(this):Xi(this),this.readyState==3&&xc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},t.Qa=function(h){this.g&&(this.response=h,Hs(this))},t.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Xi(h)}t.setRequestHeader=function(h,F){this.u.append(h,F)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],F=this.h.entries();for(var D=F.next();!D.done;)D=D.value,h.push(D[0]+": "+D[1]),D=F.next();return h.join(`\r
`)};function Xi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(nA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vs(h){let F="";return M(h,function(D,J){F+=J,F+=":",F+=D,F+=`\r
`}),F}function Gl(h,F,D){e:{for(J in D){var J=!1;break e}J=!0}J||(D=Vs(D),typeof h=="string"?D!=null&&encodeURIComponent(String(D)):rr(h,F,D))}function Xt(h){Ve.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Xt,Ve);var ql=/^https?$/i,iA=["POST","PUT"];t=Xt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,F,D,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);F=F?F.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?Rt(this.o):Rt(ci),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(F,String(h),!0),this.B=!1}catch(Ie){Wl(this,Ie);return}if(h=D||"",D=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var ve in J)D.set(ve,J[ve]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ie of J.keys())D.set(Ie,J.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(D.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),ve=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iA,F,void 0))||J||ve||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,Xe]of D)this.g.setRequestHeader(Ie,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zi(this),this.u=!0,this.g.send(h),this.u=!1}catch(Ie){Wl(this,Ie)}};function Wl(h,F){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=F,h.m=5,$l(h),sa(h)}function $l(h){h.A||(h.A=!0,qe(h,"complete"),qe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,qe(this,"complete"),qe(this,"abort"),sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sa(this,!0)),Xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jl(this):this.bb())},t.bb=function(){Jl(this)};function Jl(h){if(h.h&&typeof o<"u"&&(!h.v[1]||vn(h)!=4||h.Z()!=2)){if(h.u&&vn(h)==4)ut(h.Ea,0,h);else if(qe(h,"readystatechange"),vn(h)==4){h.h=!1;try{const Xe=h.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var D;if(!(D=F)){var J;if(J=Xe===0){var ve=String(h.D).match(Ti)[1]||null;!ve&&a.self&&a.self.location&&(ve=a.self.location.protocol.slice(0,-1)),J=!ql.test(ve?ve.toLowerCase():"")}D=J}if(D)qe(h,"complete"),qe(h,"success");else{h.m=6;try{var Ie=2<vn(h)?h.g.statusText:""}catch{Ie=""}h.l=Ie+" ["+h.Z()+"]",$l(h)}}finally{sa(h)}}}}function sa(h,F){if(h.g){Zi(h);const D=h.g,J=h.v[0]?()=>{}:null;h.g=null,h.v=null,F||qe(h,"ready");try{D.onreadystatechange=J}catch{}}}function Zi(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function vn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var F=this.g.responseText;return h&&F.indexOf(h)==0&&(F=F.substring(h.length)),wt(F)}};function _c(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(h){const F={};h=(h.g&&2<=vn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<h.length;J++){if(y(h[J]))continue;var D=E(h[J]);const ve=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Ie=F[ve]||[];F[ve]=Ie,Ie.push(D)}I(F,function(J){return J.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(h,F,D){return D&&D.internalChannelParams&&D.internalChannelParams[h]||F}function sA(h){this.Aa=0,this.i=[],this.j=new un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Un("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Un("baseRetryDelayMs",5e3,h),this.cb=Un("retryDelaySeedMs",1e4,h),this.Wa=Un("forwardChannelMaxRetries",2,h),this.wa=Un("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Dl(h&&h.concurrentRequestLimit),this.Da=new tA,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sA.prototype,t.la=8,t.G=1,t.connect=function(h,F,D,J){mt(0),this.W=h,this.H=F||{},D&&J!==void 0&&(this.H.OSID=D,this.H.OAID=J),this.F=this.X,this.I=B(this,null,this.W),aA(this)};function Ks(h){if(oa(h),h.G==3){var F=h.U++,D=hi(h.I);if(rr(D,"SID",h.K),rr(D,"RID",F),rr(D,"TYPE","terminate"),Bo(h,D),F=new Jr(h,h.j,F),F.L=2,F.v=na(hi(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(F.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=F.v,D=!0),D||(F.g=H(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Ja(F)}dA(h)}function oA(h){h.g&&(uA(h),h.g.cancel(),h.g=null)}function oa(h){oA(h),h.u&&(a.clearTimeout(h.u),h.u=null),zs(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function aA(h){if(!mc(h.h)&&!h.s){h.s=!0;var F=h.Ga;K||q(),$||(K(),$=!0),R.add(F,h),h.B=0}}function Yl(h,F){return ta(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=F.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=$n(f(h.Ga,h,F),cA(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ve=new Jr(this,this.j,h);let Ie=this.o;if(this.S&&(Ie?(Ie=_(Ie),O(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(ve.H=Ie,Ie=null),this.P)e:{for(var F=0,D=0;D<this.i.length;D++){t:{var J=this.i[D];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(F+=J,4096<F){F=D;break e}if(F===4096||D===this.i.length-1){F=D+1;break e}}F=1e3}else F=1e3;F=aa(this,ve,F),D=hi(this.I),rr(D,"RID",h),rr(D,"CVER",22),this.D&&rr(D,"X-HTTP-Session-Id",this.D),Bo(this,D),Ie&&(this.O?F="headers="+encodeURIComponent(String(Vs(Ie)))+"&"+F:this.m&&Gl(D,this.m,Ie)),Br(this.h,ve),this.Ua&&rr(D,"TYPE","init"),this.P?(rr(D,"$req",F),rr(D,"SID","null"),ve.T=!0,po(ve,D,null)):po(ve,D,F),this.G=2}}else this.G==3&&(h?AA(this,h):this.i.length==0||mc(this.h)||AA(this))};function AA(h,F){var D;F?D=F.l:D=h.U++;const J=hi(h.I);rr(J,"SID",h.K),rr(J,"RID",D),rr(J,"AID",h.T),Bo(h,J),h.m&&h.o&&Gl(J,h.m,h.o),D=new Jr(h,h.j,D,h.B+1),h.m===null&&(D.H=h.o),F&&(h.i=F.D.concat(h.i)),F=aa(h,D,1e3),D.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Br(h.h,D),po(D,J,F)}function Bo(h,F){h.H&&M(h.H,function(D,J){rr(F,J,D)}),h.l&&wc({},function(D,J){rr(F,J,D)})}function aa(h,F,D){D=Math.min(h.i.length,D);var J=h.l?f(h.l.Na,h.l,h):null;e:{var ve=h.i;let Ie=-1;for(;;){const Xe=["count="+D];Ie==-1?0<D?(Ie=ve[0].g,Xe.push("ofs="+Ie)):Ie=0:Xe.push("ofs="+Ie);let kt=!0;for(let Mt=0;Mt<D;Mt++){let Nt=ve[Mt].g;const Zt=ve[Mt].map;if(Nt-=Ie,0>Nt)Ie=Math.max(0,ve[Mt].g-100),kt=!1;else try{zl(Zt,Xe,"req"+Nt+"_")}catch{J&&J(Zt)}}if(kt){J=Xe.join("&");break e}}}return h=h.i.splice(0,D),F.D=h,J}function lA(h){if(!h.g&&!h.u){h.Y=1;var F=h.Fa;K||q(),$||(K(),$=!0),R.add(F,h),h.v=0}}function Aa(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=$n(f(h.Fa,h),cA(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=$n(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),oA(this),Cc(this))};function uA(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Cc(h){h.g=new Jr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var F=hi(h.qa);rr(F,"RID","rpc"),rr(F,"SID",h.K),rr(F,"AID",h.T),rr(F,"CI",h.F?"0":"1"),!h.F&&h.ja&&rr(F,"TO",h.ja),rr(F,"TYPE","xmlhttp"),Bo(h,F),h.m&&h.o&&Gl(F,h.m,h.o),h.L&&(h.g.I=h.L);var D=h.g;h=h.ia,D.L=1,D.v=na(hi(F)),D.m=null,D.P=!0,Xo(D,h)}t.Za=function(){this.C!=null&&(this.C=null,oA(this),Aa(this),mt(19))};function zs(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function bo(h,F){var D=null;if(h.g==F){zs(h),uA(h),h.g=null;var J=2}else if(Ol(h.h,F))D=F.D,Ml(h.h,F),J=1;else return;if(h.G!=0){if(F.o)if(J==1){D=F.m?F.m.length:0,F=Date.now()-F.F;var ve=h.B;J=fs(),qe(J,new Si(J,D)),aA(h)}else lA(h);else if(ve=F.s,ve==3||ve==0&&0<F.X||!(J==1&&Yl(h,F)||J==2&&Aa(h)))switch(D&&0<D.length&&(F=h.h,F.i=F.i.concat(D)),ve){case 1:Yn(h,5);break;case 4:Yn(h,10);break;case 3:Yn(h,6);break;default:Yn(h,2)}}}function cA(h,F){let D=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(D*=2),D*F}function Yn(h,F){if(h.j.info("Error code "+F),F==2){var D=f(h.fb,h),J=h.Xa;const ve=!J;J=new Mr(J||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ra(J,"https"),na(J),ve?ps(J.toString(),D):bc(J.toString(),D)}else mt(2);h.G=0,h.l&&h.l.sa(F),dA(h),oa(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function dA(h){if(h.G=0,h.ka=[],h.l){const F=jl(h.h);(F.length!=0||h.i.length!=0)&&(S(h.ka,F),S(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function B(h,F,D){var J=D instanceof Mr?hi(D):new Mr(D);if(J.g!="")F&&(J.g=F+"."+J.g),Xa(J,J.s);else{var ve=a.location;J=ve.protocol,F=F?F+"."+ve.hostname:ve.hostname,ve=+ve.port;var Ie=new Mr(null);J&&ra(Ie,J),F&&(Ie.g=F),ve&&Xa(Ie,ve),D&&(Ie.l=D),J=Ie}return D=h.D,F=h.ya,D&&F&&rr(J,D,F),rr(J,"VER",h.la),Bo(h,J),J}function H(h,F,D){if(F&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=h.Ca&&!h.pa?new Xt(new rA({eb:D})):new Xt(h.pa),F.Ha(h.J),F}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function se(){}t=se.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function de(){}de.prototype.g=function(h,F){return new ye(h,F)};function ye(h,F){Ve.call(this),this.g=new sA(F),this.l=h,this.h=F&&F.messageUrlParams||null,h=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(h?h["X-WebChannel-Content-Type"]=F.messageContentType:h={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(h?h["X-WebChannel-Client-Profile"]=F.va:h={"X-WebChannel-Client-Profile":F.va}),this.g.S=h,(h=F&&F.Sb)&&!y(h)&&(this.g.m=h),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!y(F)&&(this.g.D=F,h=this.h,h!==null&&F in h&&(h=this.h,F in h&&delete h[F])),this.j=new ot(this)}v(ye,Ve),ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ye.prototype.close=function(){Ks(this.g)},ye.prototype.o=function(h){var F=this.g;if(typeof h=="string"){var D={};D.__data__=h,h=D}else this.u&&(D={},D.__data__=rt(h),h=D);F.i.push(new Ih(F.Ya++,h)),F.G==3&&aA(F)},ye.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,ye.aa.N.call(this)};function Ue(h){Wi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var F=h.__sm__;if(F){e:{for(const D in F){h=D;break e}h=void 0}(this.i=h)&&(h=this.i,F=F!==null&&h in F?F[h]:void 0),this.data=F}else this.data=h}v(Ue,Wi);function We(){pr.call(this),this.status=1}v(We,pr);function ot(h){this.g=h}v(ot,se),ot.prototype.ua=function(){qe(this.g,"a")},ot.prototype.ta=function(h){qe(this.g,new Ue(h))},ot.prototype.sa=function(h){qe(this.g,new We)},ot.prototype.ra=function(){qe(this.g,"b")},de.prototype.createWebChannel=de.prototype.g,ye.prototype.send=ye.prototype.o,ye.prototype.open=ye.prototype.m,ye.prototype.close=ye.prototype.close,LT=function(){return new de},UT=function(){return fs()},QT=Ct,L2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jn.NO_ERROR=0,Jn.TIMEOUT=8,Jn.HTTP_ERROR=6,l0=Jn,Fi.COMPLETE="complete",NT=Fi,Ar.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,wf=Ar,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,kT=Xt}).apply(typeof pm<"u"?pm:typeof self<"u"?self:typeof window<"u"?window:{});const P5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new Jv("@firebase/firestore");function ed(){return gl.logLevel}function OO(t){gl.setLogLevel(t)}function Je(t,...e){if(gl.logLevel<=Dt.DEBUG){const r=e.map(Zb);gl.debug(`Firestore (${fh}): ${t}`,...r)}}function on(t,...e){if(gl.logLevel<=Dt.ERROR){const r=e.map(Zb);gl.error(`Firestore (${fh}): ${t}`,...r)}}function zo(t,...e){if(gl.logLevel<=Dt.WARN){const r=e.map(Zb);gl.warn(`Firestore (${fh}): ${t}`,...r)}}function Zb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t="Unexpected state"){const e=`FIRESTORE (${fh}) INTERNAL ASSERTION FAILED: `+t;throw on(e),new Error(e)}function xt(t,e){t||pt()}function MO(t,e){t||pt()}function At(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends bi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(kn.UNAUTHENTICATED))}shutdown(){}}class HO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class VO{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){xt(this.o===void 0);let n=this.i;const i=A=>this.i!==n?(n=this.i,r(A)):Promise.resolve();let s=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const A=s;e.enqueueRetryable(async()=>{await A.promise,await i(this.currentUser)})},a=A=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(A=>a(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?a(A):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zn)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xt(typeof n.accessToken=="string"),new PT(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new kn(e)}}class KO{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zO{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new KO(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){xt(this.o===void 0);const n=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xt(typeof r.token=="string"),this.R=r.token,new GO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=WO(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Ut(t,e){return t<e?-1:t>e?1:0}function Gd(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function DT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new $e(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new $e(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new $e(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Nr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Nr(0,0))}static max(){return new _t(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,r,n){r===void 0?r=0:r>e.length&&pt(),n===void 0?n=e.length-r:n>e.length-r&&pt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Tp.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Tp?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),o=r.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Vt extends Tp{construct(e,r,n){return new Vt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new $e(ke.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Vt(r)}static emptyPath(){return new Vt([])}}const $O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends Tp{construct(e,r,n){return new Tr(e,r,n)}static isValidIdentifier(e){return $O.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new $e(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $e(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new $e(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=A,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(n+=a,i++):(s(),i++)}if(s(),o)throw new $e(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(r)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.path=e}static fromPath(e){return new st(Vt.fromString(e))}static fromName(e){return new st(Vt.fromString(e).popFirst(5))}static empty(){return new st(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Vt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function P2(t){return t.fields.find(e=>e.kind===2)}function uu(t){return t.fields.filter(e=>e.kind!==2)}tv.UNKNOWN_ID=-1;class u0{constructor(e,r){this.fieldPath=e,this.kind=r}}class kp{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new kp(0,cs.min())}}function OT(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(n===1e9?new Nr(r+1,0):new Nr(r,n));return new cs(i,st.empty(),e)}function MT(t){return new cs(t.readTime,t.key,-1)}class cs{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new cs(_t.min(),st.empty(),-1)}static max(){return new cs(_t.max(),st.empty(),-1)}}function ex(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=st.comparator(t.documentKey,e.documentKey),r!==0?r:Ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==jT)throw t;Je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Se((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Se?r:Se.resolve(r)}catch(r){return Se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Se.reject(r)}static resolve(e){return new Se((r,n)=>{r(e)})}static reject(e){return new Se((r,n)=>{n(e)})}static waitFor(e){return new Se((r,n)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&r()},A=>n(A))}),o=!0,s===i&&r()})}static or(e){let r=Se.resolve(!1);for(const n of e)r=r.next(i=>i?Se.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new Se((n,i)=>{const s=e.length,o=new Array(s);let a=0;for(let A=0;A<s;A++){const l=A;r(e[l]).next(u=>{o[l]=u,++a,a===s&&n(o)},u=>i(u))}})}static doWhile(e,r){return new Se((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new zn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new jf(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=tx(n.target.error);this.V.reject(new jf(e,i))}}static open(e,r,n,i){try{return new Yv(r,e.transaction(i,n))}catch(s){throw new jf(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new YO(r)}}class jo{constructor(e,r,n){this.name=e,this.version=r,this.p=n,jo.S(Dr())===12.2&&on("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Je("SimpleDb","Removing database:",e),hu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ep())return!1;if(jo.v())return!0;const e=Dr(),r=jo.S(e),n=0<r&&r<10,i=VT(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Je("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;r(o)},i.onblocked=()=>{n(new jf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?n(new $e(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?n(new $e(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):n(new jf(e,o))},i.onupgradeneeded=s=>{Je("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{Je("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=Yv.open(this.db,e,s?"readonly":"readwrite",n),A=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),Se.reject(l))).toPromise();return A.catch(()=>{}),await a.m,A}catch(a){const A=a,l=A.name!=="FirebaseError"&&o<3;if(Je("SimpleDb","Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}}close(){this.db&&this.db.close(),this.db=void 0}}function VT(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class JO{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return hu(this.B.delete())}}class jf extends $e{constructor(e,r){super(ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ql(t){return t.name==="IndexedDbTransactionError"}class YO{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Je("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(Je("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),hu(n)}add(e){return Je("SimpleDb","ADD",this.store.name,e,e),hu(this.store.add(e))}get(e){return hu(this.store.get(e)).next(r=>(r===void 0&&(r=null),Je("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Je("SimpleDb","DELETE",this.store.name,e),hu(this.store.delete(e))}count(){return Je("SimpleDb","COUNT",this.store.name),hu(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new Se((o,a)=>{s.onerror=A=>{a(A.target.error)},s.onsuccess=A=>{o(A.target.result)}})}{const s=this.cursor(n),o=[];return this.W(s,(a,A)=>{o.push(A)}).next(()=>o)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new Se((i,s)=>{n.onerror=o=>{s(o.target.error)},n.onsuccess=o=>{i(o.target.result)}})}j(e,r){Je("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,(s,o,a)=>a.delete())}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new Se((n,i)=>{r.onerror=s=>{const o=tx(s.target.error);i(o)},r.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():n()}):n()}})}W(e,r){const n=[];return new Se((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const A=new JO(a),l=r(a.primaryKey,a.value,A);if(l instanceof Se){const u=l.catch(c=>(A.done(),Se.reject(c)));n.push(u)}A.isDone?i():A.K===null?a.continue():a.continue(A.K)}}).next(()=>Se.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function hu(t){return new Se((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=tx(n.target.error);r(i)}})}let R5=!1;function tx(t){const e=jo.S(Dr());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return R5||(R5=!0,setTimeout(()=>{throw n},0)),n}}return t}class XO{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Je("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Je("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){Ql(r)?Je("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await Nl(r)}await this.X(6e4)})}}class ZO{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let i=r,s=!0;return Se.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!n.has(o))return Je("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,n.add(o)});s=!1})).next(()=>r-i)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(Je("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,r,a))).next(()=>o.size)}))}re(e,r){let n=e;return r.changes.forEach((i,s)=>{const o=MT(s);ex(o,n)>0&&(n=o)}),new cs(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ji.oe=-1;function sg(t){return t==null}function Np(t){return t===0&&1/t==-1/0}function KT(t){return typeof t=="number"&&Number.isInteger(t)&&!Np(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=D5(e)),e=eM(t.get(r),e);return D5(e)}function eM(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function D5(t){return t+""}function Lo(t){const e=t.length;if(xt(e>=2),e===2)return xt(t.charAt(0)===""&&t.charAt(1)===""),Vt.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>r)&&pt(),t.charAt(o+1)){case"":const a=t.substring(s,o);let A;i.length===0?A=a:(i+=a,A=i,i=""),n.push(A);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:pt()}s=o+2}return new Vt(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t,e){return[t,xi(e)]}function zT(t,e,r){return[t,xi(e),r]}const tM={},rM=["prefixPath","collectionGroup","readTime","documentId"],nM=["prefixPath","collectionGroup","documentId"],iM=["collectionGroup","readTime","prefixPath","documentId"],sM=["canonicalId","targetId"],oM=["targetId","path"],aM=["path","targetId"],AM=["collectionId","parent"],lM=["indexId","uid"],uM=["uid","sequenceNumber"],cM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dM=["indexId","uid","orderedDocumentKey"],hM=["userId","collectionPath","documentId"],fM=["userId","collectionPath","largestBatchId"],pM=["userId","collectionGroup","largestBatchId"],GT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gM=[...GT,"documentOverlays"],qT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],WT=qT,rx=[...WT,"indexConfiguration","indexState","indexEntries"],mM=rx,vM=[...rx,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2 extends HT{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Cn(t,e){const r=At(t);return jo.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ac(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function $T(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,r){this.comparator=e,this.root=r||Mn.EMPTY}insert(e,r){return new yr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gm(this.root,e,this.comparator,!1)}getReverseIterator(){return new gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gm(this.root,e,this.comparator,!0)}}class gm{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Mn.RED,this.left=i??Mn.EMPTY,this.right=s??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Mn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Mn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Mn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new j5(this.data.getIterator())}getIteratorFrom(e){return new j5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new cr(this.comparator);return r.data=e,r}}class j5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Hi([])}unionWith(e){let r=new cr(Tr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Hi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Gd(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JT("Invalid base64 string: "+s):s}}(e);return new zr(r)}static fromUint8Array(e){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zr.EMPTY_BYTE_STRING=new zr("");const yM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(t){if(xt(!!t),typeof t=="string"){let e=0;const r=yM.exec(t);if(xt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Sr(t.seconds),nanos:Sr(t.nanos)}}function Sr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ml(t){return typeof t=="string"?zr.fromBase64String(t):zr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function nx(t){const e=t.mapValue.fields.__previous_value__;return Xv(e)?nx(e):e}function Qp(t){const e=Pa(t.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,r,n,i,s,o,a,A,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=A,this.useFetchStreams=l}}class vl{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},d0={nullValue:"NULL_VALUE"};function zu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xv(t)?4:YT(t)?9007199254740991:Zv(t)?10:11:pt()}function Go(t,e){if(t===e)return!0;const r=zu(t);if(r!==zu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qp(t).isEqual(Qp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Pa(i.timestampValue),a=Pa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ml(i.bytesValue).isEqual(ml(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Sr(i.geoPointValue.latitude)===Sr(s.geoPointValue.latitude)&&Sr(i.geoPointValue.longitude)===Sr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Sr(i.integerValue)===Sr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Sr(i.doubleValue),a=Sr(s.doubleValue);return o===a?Np(o)===Np(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Gd(t.arrayValue.values||[],e.arrayValue.values||[],Go);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(M5(o)!==M5(a))return!1;for(const A in o)if(o.hasOwnProperty(A)&&(a[A]===void 0||!Go(o[A],a[A])))return!1;return!0}(t,e);default:return pt()}}function Up(t,e){return(t.values||[]).find(r=>Go(r,e))!==void 0}function wl(t,e){if(t===e)return 0;const r=zu(t),n=zu(e);if(r!==n)return Ut(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ut(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Sr(s.integerValue||s.doubleValue),A=Sr(o.integerValue||o.doubleValue);return a<A?-1:a>A?1:a===A?0:isNaN(a)?isNaN(A)?0:-1:1}(t,e);case 3:return H5(t.timestampValue,e.timestampValue);case 4:return H5(Qp(t),Qp(e));case 5:return Ut(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ml(s),A=ml(o);return a.compareTo(A)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),A=o.split("/");for(let l=0;l<a.length&&l<A.length;l++){const u=Ut(a[l],A[l]);if(u!==0)return u}return Ut(a.length,A.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ut(Sr(s.latitude),Sr(o.latitude));return a!==0?a:Ut(Sr(s.longitude),Sr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return V5(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,A,l,u;const c=s.fields||{},f=o.fields||{},g=(a=c.value)===null||a===void 0?void 0:a.arrayValue,v=(A=f.value)===null||A===void 0?void 0:A.arrayValue,b=Ut(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:V5(g,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===KA.mapValue&&o===KA.mapValue)return 0;if(s===KA.mapValue)return 1;if(o===KA.mapValue)return-1;const a=s.fields||{},A=Object.keys(a),l=o.fields||{},u=Object.keys(l);A.sort(),u.sort();for(let c=0;c<A.length&&c<u.length;++c){const f=Ut(A[c],u[c]);if(f!==0)return f;const g=wl(a[A[c]],l[u[c]]);if(g!==0)return g}return Ut(A.length,u.length)}(t.mapValue,e.mapValue);default:throw pt()}}function H5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ut(t,e);const r=Pa(t),n=Pa(e),i=Ut(r.seconds,n.seconds);return i!==0?i:Ut(r.nanos,n.nanos)}function V5(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=wl(r[i],n[i]);if(s)return s}return Ut(r.length,n.length)}function qd(t){return D2(t)}function D2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Pa(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ml(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return st.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=D2(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${D2(r.fields[o])}`;return i+"}"}(t.mapValue):pt()}function Gu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function O2(t){return!!t&&"integerValue"in t}function Lp(t){return!!t&&"arrayValue"in t}function K5(t){return!!t&&"nullValue"in t}function z5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function h0(t){return!!t&&"mapValue"in t}function Zv(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Hf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ac(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Hf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Hf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function YT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const XT={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function bM(t){return"nullValue"in t?d0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Gu(vl.empty(),st.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Zv(t)?XT:{mapValue:{}}:pt()}function xM(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Gu(vl.empty(),st.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?XT:"mapValue"in t?Zv(t)?{mapValue:{}}:KA:pt()}function G5(t,e){const r=wl(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function q5(t,e){const r=wl(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!h0(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hf(r)}setAll(e){let r=Tr.emptyPath(),n={},i=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const A=this.getFieldsMap(r);this.applyChanges(A,n,i),n={},i=[],r=a.popLast()}o?n[a.lastSegment()]=Hf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());h0(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Go(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];h0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ac(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Hn(Hf(this.value))}}function ZT(t){const e=[];return Ac(t.fields,(r,n)=>{const i=new Tr([r]);if(h0(n)){const s=ZT(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,r,n,i,s,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _r(e,0,_t.min(),_t.min(),_t.min(),Hn.empty(),0)}static newFoundDocument(e,r,n,i){return new _r(e,1,r,_t.min(),n,i,0)}static newNoDocument(e,r){return new _r(e,2,r,_t.min(),_t.min(),Hn.empty(),0)}static newUnknownDocument(e,r){return new _r(e,3,r,_t.min(),_t.min(),Hn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,r){this.position=e,this.inclusive=r}}function W5(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=st.comparator(st.fromName(o.referenceValue),r.key):n=wl(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function $5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Go(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,r="asc"){this.field=e,this.dir=r}}function _M(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{}class Kt extends ek{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new CM(e,r,n):r==="array-contains"?new SM(e,n):r==="in"?new ok(e,n):r==="not-in"?new FM(e,n):r==="array-contains-any"?new TM(e,n):new Kt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new EM(e,n):new IM(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(wl(r,this.value)):r!==null&&zu(this.value)===zu(r)&&this.matchesComparison(wl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends ek{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new sr(e,r)}matches(e){return Wd(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Wd(t){return t.op==="and"}function M2(t){return t.op==="or"}function ix(t){return tk(t)&&Wd(t)}function tk(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function j2(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+qd(t.value);if(ix(t))return t.filters.map(e=>j2(e)).join(",");{const e=t.filters.map(r=>j2(r)).join(",");return`${t.op}(${e})`}}function rk(t,e){return t instanceof Kt?function(n,i){return i instanceof Kt&&n.op===i.op&&n.field.isEqual(i.field)&&Go(n.value,i.value)}(t,e):t instanceof sr?function(n,i){return i instanceof sr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,a)=>s&&rk(o,i.filters[a]),!0):!1}(t,e):void pt()}function nk(t,e){const r=t.filters.concat(e);return sr.create(r,t.op)}function ik(t){return t instanceof Kt?function(r){return`${r.field.canonicalString()} ${r.op} ${qd(r.value)}`}(t):t instanceof sr?function(r){return r.op.toString()+" {"+r.getFilters().map(ik).join(" ,")+"}"}(t):"Filter"}class CM extends Kt{constructor(e,r,n){super(e,r,n),this.key=st.fromName(n.referenceValue)}matches(e){const r=st.comparator(e.key,this.key);return this.matchesComparison(r)}}class EM extends Kt{constructor(e,r){super(e,"in",r),this.keys=sk("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class IM extends Kt{constructor(e,r){super(e,"not-in",r),this.keys=sk("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function sk(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>st.fromName(n.referenceValue))}class SM extends Kt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Lp(r)&&Up(r.arrayValue,this.value)}}class ok extends Kt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Up(this.value.arrayValue,r)}}class FM extends Kt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Up(this.value.arrayValue,r)}}class TM extends Kt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Lp(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Up(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,r=null,n=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function H2(t,e=null,r=[],n=[],i=null,s=null,o=null){return new kM(t,e,r,n,i,s,o)}function qu(t){const e=At(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>j2(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),sg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>qd(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>qd(n)).join(",")),e.ue=r}return e.ue}function og(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!_M(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!rk(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$5(t.startAt,e.startAt)&&$5(t.endAt,e.endAt)}function rv(t){return st.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function nv(t,e){return t.filters.filter(r=>r instanceof Kt&&r.field.isEqual(e))}function J5(t,e,r){let n=d0,i=!0;for(const s of nv(t,e)){let o=d0,a=!0;switch(s.op){case"<":case"<=":o=bM(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=d0}G5({value:n,inclusive:i},{value:o,inclusive:a})<0&&(n=o,i=a)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=r.position[s];G5({value:n,inclusive:i},{value:o,inclusive:r.inclusive})<0&&(n=o,i=r.inclusive);break}}return{value:n,inclusive:i}}function Y5(t,e,r){let n=KA,i=!0;for(const s of nv(t,e)){let o=KA,a=!0;switch(s.op){case">=":case">":o=xM(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=KA}q5({value:n,inclusive:i},{value:o,inclusive:a})>0&&(n=o,i=a)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=r.position[s];q5({value:n,inclusive:i},{value:o,inclusive:r.inclusive})>0&&(n=o,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,r=null,n=[],i=[],s=null,o="F",a=null,A=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ak(t,e,r,n,i,s,o,a){return new Va(t,e,r,n,i,s,o,a)}function ph(t){return new Va(t)}function X5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sx(t){return t.collectionGroup!==null}function Fd(t){const e=At(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new cr(Tr.comparator);return o.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Pp(s,n))}),r.has(Tr.keyField().canonicalString())||e.ce.push(new Pp(Tr.keyField(),n))}return e.ce}function _i(t){const e=At(t);return e.le||(e.le=NM(e,Fd(t))),e.le}function NM(t,e){if(t.limitType==="F")return H2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Pp(i.field,s)});const r=t.endAt?new yl(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new yl(t.startAt.position,t.startAt.inclusive):null;return H2(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function V2(t,e){const r=t.filters.concat([e]);return new Va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function iv(t,e,r){return new Va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ag(t,e){return og(_i(t),_i(e))&&t.limitType===e.limitType}function Ak(t){return`${qu(_i(t))}|lt:${t.limitType}`}function td(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>ik(i)).join(", ")}]`),sg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>qd(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>qd(i)).join(",")),`Target(${n})`}(_i(t))}; limitType=${t.limitType})`}function Ag(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):st.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Fd(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,a,A){const l=W5(o,a,A);return o.inclusive?l<=0:l<0}(n.startAt,Fd(n),i)||n.endAt&&!function(o,a,A){const l=W5(o,a,A);return o.inclusive?l>=0:l>0}(n.endAt,Fd(n),i))}(t,e)}function lk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uk(t){return(e,r)=>{let n=!1;for(const i of Fd(t)){const s=QM(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function QM(t,e,r){const n=t.field.isKeyField()?st.comparator(e.key,r.key):function(s,o,a){const A=o.data.field(s),l=a.data.field(s);return A!==null&&l!==null?wl(A,l):pt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ac(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new yr(st.comparator);function Vi(){return UM}const ck=new yr(st.comparator);function yf(...t){let e=ck;for(const r of t)e=e.insert(r.key,r);return e}function dk(t){let e=ck;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Po(){return Vf()}function hk(){return Vf()}function Vf(){return new Ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const LM=new yr(st.comparator),PM=new cr(st.comparator);function Pt(...t){let e=PM;for(const r of t)e=e.add(r);return e}const RM=new cr(Ut);function ox(){return RM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Np(e)?"-0":e}}function fk(t){return{integerValue:""+t}}function pk(t,e){return KT(e)?fk(e):ax(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this._=void 0}}function DM(t,e,r){return t instanceof $d?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xv(s)&&(s=nx(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(r,e):t instanceof Wu?mk(t,e):t instanceof $u?vk(t,e):function(i,s){const o=gk(i,s),a=Z5(o)+Z5(i.Pe);return O2(o)&&O2(i.Pe)?fk(a):ax(i.serializer,a)}(t,e)}function OM(t,e,r){return t instanceof Wu?mk(t,e):t instanceof $u?vk(t,e):r}function gk(t,e){return t instanceof Jd?function(n){return O2(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class $d extends ew{}class Wu extends ew{constructor(e){super(),this.elements=e}}function mk(t,e){const r=wk(e);for(const n of t.elements)r.some(i=>Go(i,n))||r.push(n);return{arrayValue:{values:r}}}class $u extends ew{constructor(e){super(),this.elements=e}}function vk(t,e){let r=wk(e);for(const n of t.elements)r=r.filter(i=>!Go(i,n));return{arrayValue:{values:r}}}class Jd extends ew{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Z5(t){return Sr(t.integerValue||t.doubleValue)}function wk(t){return Lp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,r){this.field=e,this.transform=r}}function MM(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Wu&&i instanceof Wu||n instanceof $u&&i instanceof $u?Gd(n.elements,i.elements,Go):n instanceof Jd&&i instanceof Jd?Go(n.Pe,i.Pe):n instanceof $d&&i instanceof $d}(t.transform,e.transform)}class jM{constructor(e,r){this.version=e,this.transformResults=r}}class kr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function f0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tw{}function yk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mh(t.key,kr.none()):new gh(t.key,t.data,kr.none());{const r=t.data,n=Hn.empty();let i=new cr(Tr.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new Ka(t.key,n,new Hi(i.toArray()),kr.none())}}function HM(t,e,r){t instanceof gh?function(i,s,o){const a=i.value.clone(),A=tE(i.fieldTransforms,s,o.transformResults);a.setAll(A),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof Ka?function(i,s,o){if(!f0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=tE(i.fieldTransforms,s,o.transformResults),A=s.data;A.setAll(Bk(i)),A.setAll(a),s.convertToFoundDocument(o.version,A).setHasCommittedMutations()}(t,e,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Kf(t,e,r,n){return t instanceof gh?function(s,o,a,A){if(!f0(s.precondition,o))return a;const l=s.value.clone(),u=rE(s.fieldTransforms,A,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ka?function(s,o,a,A){if(!f0(s.precondition,o))return a;const l=rE(s.fieldTransforms,A,o),u=o.data;return u.setAll(Bk(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,r,n):function(s,o,a){return f0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function VM(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=gk(n.transform,i||null);s!=null&&(r===null&&(r=Hn.empty()),r.set(n.field,s))}return r||null}function eE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Gd(n,i,(s,o)=>MM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gh extends tw{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ka extends tw{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Bk(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function tE(t,e,r){const n=new Map;xt(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);n.set(s.field,OM(o,a,r[i]))}return n}function rE(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,DM(s,o,e))}return n}class mh extends tw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax extends tw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&HM(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Kf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Kf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=hk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=r.has(i.key)?null:a;const A=yk(o,a);A!==null&&n.set(i.key,A),o.isValidDocument()||o.convertToNoDocument(_t.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Pt())}isEqual(e){return this.batchId===e.batchId&&Gd(this.mutations,e.mutations,(r,n)=>eE(r,n))&&Gd(this.baseMutations,e.baseMutations,(r,n)=>eE(r,n))}}class ux{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){xt(e.mutations.length===n.length);let i=function(){return LM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new ux(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,zt;function bk(t){switch(t){default:return pt();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function xk(t){if(t===void 0)return on("GRPC error has no .code"),ke.UNKNOWN;switch(t){case fn.OK:return ke.OK;case fn.CANCELLED:return ke.CANCELLED;case fn.UNKNOWN:return ke.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ke.INTERNAL;case fn.UNAVAILABLE:return ke.UNAVAILABLE;case fn.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case fn.NOT_FOUND:return ke.NOT_FOUND;case fn.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case fn.ABORTED:return ke.ABORTED;case fn.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case fn.DATA_LOSS:return ke.DATA_LOSS;default:return pt()}}(zt=fn||(fn={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new Tu([4294967295,4294967295],0);function nE(t){const e=_k().encode(t),r=new TT;return r.update(e),new Uint8Array(r.digest())}function iE(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Tu([r,n],0),new Tu([i,s],0)]}class dx{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Bf(`Invalid padding: ${r}`);if(n<0)throw new Bf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Bf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Bf(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Tu.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Tu.fromNumber(n)));return i.compare(zM)===1&&(i=new Tu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=nE(e),[n,i]=iE(r);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,i,s);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dx(s,i,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const r=nE(e),[n,i]=iE(r);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,i,s);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Bf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,cg.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new ug(_t.min(),i,new yr(Ut),Vi(),Pt())}}class cg{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new cg(n,r,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class Ck{constructor(e,r){this.targetId=e,this.me=r}}class Ek{constructor(e,r,n=zr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class sE{constructor(){this.fe=0,this.ge=aE(),this.pe=zr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pt(),r=Pt(),n=Pt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:pt()}}),new cg(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=aE()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vi(),this.qe=oE(),this.Qe=new yr(Ut)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:pt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(rv(s))if(n===0){const o=new st(s.path);this.Ue(r,o,_r.newNoDocument(o,_t.min()))}else xt(n===1);else{const o=this.Ye(r);if(o!==n){const a=this.Ze(e),A=a?this.Xe(a,e,o):1;if(A!==0){this.je(r);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,a;try{o=ml(n).toUint8Array()}catch(A){if(A instanceof JT)return zo("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{a=new dx(o,i,s)}catch(A){return zo(A instanceof Bf?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&rv(a.target)){const A=new st(a.target.path);this.ke.get(A)!==null||this.it(o,A)||this.Ue(o,A,_r.newNoDocument(A,e))}s.be&&(r.set(o,s.ve()),s.Ce())}});let n=Pt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ug(e,r,this.Qe,this.ke,n);return this.ke=Vi(),this.qe=oE(),this.Qe=new yr(Ut),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new sE,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new cr(Ut),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Je("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new sE),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function oE(){return new yr(st.comparator)}function aE(){return new yr(st.comparator)}const qM={asc:"ASCENDING",desc:"DESCENDING"},WM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$M={and:"AND",or:"OR"};class JM{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function K2(t,e){return t.useProto3Json||sg(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ik(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YM(t,e){return Yd(t,e.toTimestamp())}function an(t){return xt(!!t),_t.fromTimestamp(function(r){const n=Pa(r);return new Nr(n.seconds,n.nanos)}(t))}function hx(t,e){return z2(t,e).canonicalString()}function z2(t,e){const r=function(i){return new Vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Sk(t){const e=Vt.fromString(t);return xt(Dk(e)),e}function Rp(t,e){return hx(t.databaseId,e.path)}function Ho(t,e){const r=Sk(e);if(r.get(1)!==t.databaseId.projectId)throw new $e(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new $e(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new st(kk(r))}function Fk(t,e){return hx(t.databaseId,e)}function Tk(t){const e=Sk(t);return e.length===4?Vt.emptyPath():kk(e)}function G2(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kk(t){return xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AE(t,e,r){return{name:Rp(t,e),fields:r.value.mapValue.fields}}function Nk(t,e,r){const n=Ho(t,e.name),i=an(e.updateTime),s=e.createTime?an(e.createTime):_t.min(),o=new Hn({mapValue:{fields:e.fields}}),a=_r.newFoundDocument(n,i,s,o);return r&&a.setHasCommittedMutations(),r?a.setHasCommittedMutations():a}function XM(t,e){return"found"in e?function(n,i){xt(!!i.found),i.found.name,i.found.updateTime;const s=Ho(n,i.found.name),o=an(i.found.updateTime),a=i.found.createTime?an(i.found.createTime):_t.min(),A=new Hn({mapValue:{fields:i.found.fields}});return _r.newFoundDocument(s,o,a,A)}(t,e):"missing"in e?function(n,i){xt(!!i.missing),xt(!!i.readTime);const s=Ho(n,i.missing),o=an(i.readTime);return _r.newNoDocument(s,o)}(t,e):pt()}function ZM(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:pt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(xt(u===void 0||typeof u=="string"),zr.fromBase64String(u||"")):(xt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),zr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?ke.UNKNOWN:xk(l.code);return new $e(u,l.message||"")}(o);r=new Ek(n,i,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Ho(t,n.document.name),s=an(n.document.updateTime),o=n.document.createTime?an(n.document.createTime):_t.min(),a=new Hn({mapValue:{fields:n.document.fields}}),A=_r.newFoundDocument(i,s,o,a),l=n.targetIds||[],u=n.removedTargetIds||[];r=new p0(l,u,A.key,A)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Ho(t,n.document),s=n.readTime?an(n.readTime):_t.min(),o=_r.newNoDocument(i,s),a=n.removedTargetIds||[];r=new p0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Ho(t,n.document),s=n.removedTargetIds||[];r=new p0([],s,i,null)}else{if(!("filter"in e))return pt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new KM(i,s),a=n.targetId;r=new Ck(a,o)}}return r}function Dp(t,e){let r;if(e instanceof gh)r={update:AE(t,e.key,e.value)};else if(e instanceof mh)r={delete:Rp(t,e.key)};else if(e instanceof Ka)r={update:AE(t,e.key,e.data),updateMask:sj(e.fieldMask)};else{if(!(e instanceof Ax))return pt();r={verify:Rp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const a=o.transform;if(a instanceof $d)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $u)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw pt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:YM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pt()}(t,e.precondition)),r}function q2(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?kr.updateTime(an(s.updateTime)):s.exists!==void 0?kr.exists(s.exists):kr.none()}(e.currentDocument):kr.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let A=null;if("setToServerValue"in a)xt(a.setToServerValue==="REQUEST_TIME"),A=new $d;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];A=new Wu(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];A=new $u(u)}else"increment"in a?A=new Jd(o,a.increment):pt();const l=Tr.fromServerFormat(a.fieldPath);return new lg(l,A)}(t,i)):[];if(e.update){e.update.name;const i=Ho(t,e.update.name),s=new Hn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(A){const l=A.fieldPaths||[];return new Hi(l.map(u=>Tr.fromServerFormat(u)))}(e.updateMask);return new Ka(i,s,o,r,n)}return new gh(i,s,r,n)}if(e.delete){const i=Ho(t,e.delete);return new mh(i,r)}if(e.verify){const i=Ho(t,e.verify);return new Ax(i,r)}return pt()}function ej(t,e){return t&&t.length>0?(xt(e!==void 0),t.map(r=>function(i,s){let o=i.updateTime?an(i.updateTime):an(s);return o.isEqual(_t.min())&&(o=an(s)),new jM(o,i.transformResults||[])}(r,e))):[]}function Qk(t,e){return{documents:[Fk(t,e.path)]}}function Uk(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Fk(t,i);const s=function(l){if(l.length!==0)return Rk(sr.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:rd(f.field),direction:rj(f.dir)}}(u))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=K2(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function Lk(t){let e=Tk(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){xt(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(c){const f=Pk(c);return f instanceof sr&&ix(f)?f.getFilters():[f]}(r.where));let o=[];r.orderBy&&(o=function(c){return c.map(f=>function(v){return new Pp(nd(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(r.orderBy));let a=null;r.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,sg(f)?null:f}(r.limit));let A=null;r.startAt&&(A=function(c){const f=!!c.before,g=c.values||[];return new yl(g,f)}(r.startAt));let l=null;return r.endAt&&(l=function(c){const f=!c.before,g=c.values||[];return new yl(g,f)}(r.endAt)),ak(e,i,o,s,a,"F",A,l)}function tj(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Pk(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=nd(r.unaryFilter.field);return Kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=nd(r.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nd(r.unaryFilter.field);return Kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nd(r.unaryFilter.field);return Kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(t):t.fieldFilter!==void 0?function(r){return Kt.create(nd(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return sr.create(r.compositeFilter.filters.map(n=>Pk(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pt()}}(r.compositeFilter.op))}(t):pt()}function rj(t){return qM[t]}function nj(t){return WM[t]}function ij(t){return $M[t]}function rd(t){return{fieldPath:t.canonicalString()}}function nd(t){return Tr.fromServerFormat(t.fieldPath)}function Rk(t){return t instanceof Kt?function(r){if(r.op==="=="){if(z5(r.value))return{unaryFilter:{field:rd(r.field),op:"IS_NAN"}};if(K5(r.value))return{unaryFilter:{field:rd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(z5(r.value))return{unaryFilter:{field:rd(r.field),op:"IS_NOT_NAN"}};if(K5(r.value))return{unaryFilter:{field:rd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rd(r.field),op:nj(r.op),value:r.value}}}(t):t instanceof sr?function(r){const n=r.getFilters().map(i=>Rk(i));return n.length===1?n[0]:{compositeFilter:{op:ij(r.op),filters:n}}}(t):pt()}function sj(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Dk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,r,n,i,s=_t.min(),o=_t.min(),a=zr.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=A}withSequenceNumber(e){return new xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.ct=e}}function oj(t,e){let r;if(e.document)r=Nk(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=st.fromSegments(e.noDocument.path),i=Yu(e.noDocument.readTime);r=_r.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const n=st.fromSegments(e.unknownDocument.path),i=Yu(e.unknownDocument.version);r=_r.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(i){const s=new Nr(i[0],i[1]);return _t.fromTimestamp(s)}(e.readTime)),r}function lE(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:sv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,o){return{name:Rp(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Yd(s,o.version.toTimestamp()),createTime:Yd(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Ju(e.version)};else{if(!e.isUnknownDocument())return pt();n.unknownDocument={path:r.path.toArray(),version:Ju(e.version)}}return n}function sv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ju(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yu(t){const e=new Nr(t.seconds,t.nanoseconds);return _t.fromTimestamp(e)}function fu(t,e){const r=(e.baseMutations||[]).map(s=>q2(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>q2(t.ct,s)),i=Nr.fromMillis(e.localWriteTimeMs);return new lx(e.batchId,i,r,n)}function bf(t){const e=Yu(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?Yu(t.lastLimboFreeSnapshotVersion):_t.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){return xt(s.documents.length===1),_i(ph(Tk(s.documents[0])))}(t.query):function(s){return _i(Lk(s))}(t.query),new xa(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,zr.fromBase64String(t.resumeToken))}function Mk(t,e){const r=Ju(e.snapshotVersion),n=Ju(e.lastLimboFreeSnapshotVersion);let i;i=rv(e.target)?Qk(t.ct,e.target):Uk(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qu(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function fx(t){const e=Lk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iv(e,e.limit,"L"):e}function H1(t,e){return new cx(e.largestBatchId,q2(t.ct,e.overlayMutation))}function uE(t,e){const r=e.path.lastSegment();return[t,xi(e.path.popLast()),r]}function cE(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:Ju(n.readTime),documentKey:xi(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{getBundleMetadata(e,r){return dE(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:Yu(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return dE(e).put(function(i){return{bundleId:i.id,createTime:Ju(an(i.createTime)),version:i.version}}(r))}getNamedQuery(e,r){return hE(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:fx(s.bundledQuery),readTime:Yu(s.readTime)}}(n)})}saveNamedQuery(e,r){return hE(e).put(function(i){return{name:i.name,readTime:Ju(an(i.readTime)),bundledQuery:i.bundledQuery}}(r))}}function dE(t){return Cn(t,"bundles")}function hE(t){return Cn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new rw(e,n)}getOverlay(e,r){return Zh(e).get(uE(this.userId,r)).next(n=>n?H1(this.serializer,n):null)}getOverlays(e,r){const n=Po();return Se.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((s,o)=>{const a=new cx(r,o);i.push(this.ht(e,a))}),Se.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(o=>i.add(xi(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);s.push(Zh(e).j("collectionPathOverlayIndex",a))}),Se.waitFor(s)}getOverlaysForCollection(e,r,n){const i=Po(),s=xi(r),o=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Zh(e).U("collectionPathOverlayIndex",o).next(a=>{for(const A of a){const l=H1(this.serializer,A);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const s=Po();let o;const a=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Zh(e).J({index:"collectionGroupOverlayIndex",range:a},(A,l,u)=>{const c=H1(this.serializer,l);s.size()<i||c.largestBatchId===o?(s.set(c.getKey(),c),o=c.largestBatchId):u.done()}).next(()=>s)}ht(e,r){return Zh(e).put(function(i,s,o){const[a,A,l]=uE(s,o.mutation.key);return{userId:s,collectionPath:A,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Dp(i.ct,o.mutation)}}(this.serializer,this.userId,r))}}function Zh(t){return Cn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{Pt(e){return Cn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?zr.fromUint8Array(n):zr.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Sr(e.integerValue));else if("doubleValue"in e){const n=Sr(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Np(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=Pa(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(ml(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?YT(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Zv(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):pt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const o="value",a=((i=(n=s[o].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(Sr(a)),this.Vt(o,r),this.Tt(s[o],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),st.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}pu.vt=new pu;function lj(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function fE(t){const e=64-function(n){let i=0;for(let s=0;s<8;++s){const o=lj(255&n[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class uj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=fE(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=fE(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class cj{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class dj{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class ef{constructor(){this.jt=new uj,this.Ht=new cj(this.jt),this.Jt=new dj(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new gu(this.indexId,this.documentKey,this.arrayValue,n)}}function CA(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=pE(t.arrayValue,e.arrayValue),r!==0?r:(r=pE(t.directionalValue,e.directionalValue),r!==0?r:st.comparator(t.documentKey,e.documentKey)))}function pE(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.Xt=new cr((r,n)=>Tr.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(xt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=P2(e);if(r!==void 0&&!this.sn(r))return!1;const n=uu(e);let i=new Set,s=0,o=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const A=n[s];if(!this.on(a,A)||!this._n(this.en[o++],A))return!1}++s}for(;s<n.length;++s){const a=n[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new cr(Tr.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new u0(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new u0(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new u0(n.field,n.dir==="asc"?0:1)));return new tv(tv.UNKNOWN_ID,this.collectionId,r,kp.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){var e,r;if(xt(t instanceof Kt||t instanceof sr),t instanceof Kt){if(t instanceof ok){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Kt.create(t.field,"==",s)))||[];return sr.create(i,"or")}return t}const n=t.filters.map(i=>jk(i));return sr.create(n,t.op)}function hj(t){if(t.getFilters().length===0)return[];const e=J2(jk(t));return xt(Hk(e)),W2(e)||$2(e)?[e]:e.getFilters()}function W2(t){return t instanceof Kt}function $2(t){return t instanceof sr&&ix(t)}function Hk(t){return W2(t)||$2(t)||function(r){if(r instanceof sr&&M2(r)){for(const n of r.getFilters())if(!W2(n)&&!$2(n))return!1;return!0}return!1}(t)}function J2(t){if(xt(t instanceof Kt||t instanceof sr),t instanceof Kt)return t;if(t.filters.length===1)return J2(t.filters[0]);const e=t.filters.map(n=>J2(n));let r=sr.create(e,t.op);return r=ov(r),Hk(r)?r:(xt(r instanceof sr),xt(Wd(r)),xt(r.filters.length>1),r.filters.reduce((n,i)=>px(n,i)))}function px(t,e){let r;return xt(t instanceof Kt||t instanceof sr),xt(e instanceof Kt||e instanceof sr),r=t instanceof Kt?e instanceof Kt?function(i,s){return sr.create([i,s],"and")}(t,e):mE(t,e):e instanceof Kt?mE(e,t):function(i,s){if(xt(i.filters.length>0&&s.filters.length>0),Wd(i)&&Wd(s))return nk(i,s.getFilters());const o=M2(i)?i:s,a=M2(i)?s:i,A=o.filters.map(l=>px(l,a));return sr.create(A,"or")}(t,e),ov(r)}function mE(t,e){if(Wd(e))return nk(e,t.getFilters());{const r=e.filters.map(n=>px(t,n));return sr.create(r,"or")}}function ov(t){if(xt(t instanceof Kt||t instanceof sr),t instanceof Kt)return t;const e=t.getFilters();if(e.length===1)return ov(e[0]);if(tk(t))return t;const r=e.map(i=>ov(i)),n=[];return r.forEach(i=>{i instanceof Kt?n.push(i):i instanceof sr&&(i.op===t.op?n.push(...i.filters):n.push(i))}),n.length===1?n[0]:sr.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.un=new gx}addToCollectionParentIndex(e,r){return this.un.add(r),Se.resolve()}getCollectionParents(e,r){return Se.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Se.resolve()}deleteFieldIndex(e,r){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,r){return Se.resolve()}getDocumentsMatchingTarget(e,r){return Se.resolve(null)}getIndexType(e,r){return Se.resolve(0)}getFieldIndexes(e,r){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,r){return Se.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,r){return Se.resolve(cs.min())}updateCollectionGroup(e,r,n){return Se.resolve()}updateIndexEntries(e,r){return Se.resolve()}}class gx{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new cr(Vt.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new cr(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new Uint8Array(0);class pj{constructor(e,r){this.databaseId=r,this.cn=new gx,this.ln=new Ul(n=>qu(n),(n,i)=>og(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const s={collectionId:n,parent:xi(i)};return vE(e).put(s)}return Se.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[DT(r),""],!1,!0);return vE(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==r)break;n.push(Lo(o.parent))}return n})}addFieldIndex(e,r){const n=tf(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])}}(r);delete i.indexId;const s=n.add(i);if(r.indexState){const o=Hc(e);return s.next(a=>{o.put(cE(a,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=tf(e),i=Hc(e),s=jc(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=tf(e),n=jc(e),i=Hc(e);return r.j().next(()=>n.j()).next(()=>i.j())}createTargetIndexes(e,r){return Se.forEach(this.hn(r),n=>this.getIndexType(e,n).next(i=>{if(i===0||i===1){const s=new gE(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=jc(e);let i=!0;const s=new Map;return Se.forEach(this.hn(r),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Pt();const a=[];return Se.forEach(s,(A,l)=>{Je("IndexedDbIndexManager",`Using index ${function(x){return`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(L=>`${L.fieldPath}:${L.kind}`).join(",")}`}(A)} to execute ${qu(r)}`);const u=function(x,L){const P=P2(L);if(P===void 0)return null;for(const M of nv(x,P.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(l,A),c=function(x,L){const P=new Map;for(const M of uu(L))for(const I of nv(x,M.fieldPath))switch(I.op){case"==":case"in":P.set(M.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return P.set(M.fieldPath.canonicalString(),I.value),Array.from(P.values())}return null}(l,A),f=function(x,L){const P=[];let M=!0;for(const I of uu(L)){const _=I.kind===0?J5(x,I.fieldPath,x.startAt):Y5(x,I.fieldPath,x.startAt);P.push(_.value),M&&(M=_.inclusive)}return new yl(P,M)}(l,A),g=function(x,L){const P=[];let M=!0;for(const I of uu(L)){const _=I.kind===0?Y5(x,I.fieldPath,x.endAt):J5(x,I.fieldPath,x.endAt);P.push(_.value),M&&(M=_.inclusive)}return new yl(P,M)}(l,A),v=this.In(A,l,f),b=this.In(A,l,g),S=this.Tn(A,l,c),w=this.En(A.indexId,u,v,f.inclusive,b,g.inclusive,S);return Se.forEach(w,y=>n.G(y,r.limit).next(x=>{x.forEach(L=>{const P=st.fromSegments(L.documentKey);o.has(P)||(o=o.add(P),a.push(P))})}))}).next(()=>a)}return Se.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=hj(sr.create(e.filters,"and")).map(n=>H2(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,i,s,o,a){const A=(r!=null?r.length:1)*Math.max(n.length,s.length),l=A/(r!=null?r.length:1),u=[];for(let c=0;c<A;++c){const f=r?this.dn(r[c/l]):mm,g=this.An(e,f,n[c%l],i),v=this.Rn(e,f,s[c%l],o),b=a.map(S=>this.An(e,f,S,!0));u.push(...this.createRange(g,v,b))}return u}An(e,r,n,i){const s=new gu(e,st.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new gu(e,st.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new gE(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)n.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,r){let n=2;const i=this.hn(r);return Se.forEach(i,s=>this.Pn(e,s).next(o=>{o?n!==0&&o.fields.length<function(A){let l=new cr(Tr.comparator),u=!1;for(const c of A.filters)for(const f of c.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:l=l.add(f.field));for(const c of A.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(n=1):n=0})).next(()=>function(o){return o.limit!==null}(r)&&i.length>1&&n===2?1:n)}Vn(e,r){const n=new ef;for(const i of uu(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const o=n.Yt(i.kind);pu.vt.It(s,o)}return n.zt()}dn(e){const r=new ef;return pu.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new ef;return pu.vt.It(Gu(this.databaseId,r),n.Yt(function(s){const o=uu(s);return o.length===0?0:o[o.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new ef);let s=0;for(const o of uu(e)){const a=n[s++];for(const A of i)if(this.fn(r,o.fieldPath)&&Lp(a))i=this.gn(i,o,a);else{const l=A.Yt(o.kind);pu.vt.It(a,l)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const o of n.arrayValue.values||[])for(const a of i){const A=new ef;A.seed(a.zt()),pu.vt.It(o,A.Yt(r.kind)),s.push(A)}return s}fn(e,r){return!!e.filters.find(n=>n instanceof Kt&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=tf(e),i=Hc(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(s=>{const o=[];return Se.forEach(s,a=>i.get([a.indexId,this.uid]).next(A=>{o.push(function(u,c){const f=c?new kp(c.sequenceNumber,new cs(Yu(c.readTime),new st(Lo(c.documentKey)),c.largestBatchId)):kp.empty(),g=u.fields.map(([v,b])=>new u0(Tr.fromServerFormat(v),b));return new tv(u.indexId,u.collectionGroup,g,f)}(a,A))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ut(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=tf(e),s=Hc(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(a=>Se.forEach(a,A=>s.put(cE(A.indexId,this.uid,o,n)))))}updateIndexEntries(e,r){const n=new Map;return Se.forEach(r,(i,s)=>{const o=n.get(i.collectionGroup);return(o?Se.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(n.set(i.collectionGroup,a),Se.forEach(a,A=>this.wn(e,i,A).next(l=>{const u=this.Sn(s,A);return l.isEqual(u)?Se.resolve():this.bn(e,s,A,l,u)}))))})}Dn(e,r,n,i){return jc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return jc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=jc(e);let s=new cr(CA);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(o,a)=>{s=s.add(new gu(n.indexId,r,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,r){let n=new cr(CA);const i=this.Vn(r,e);if(i==null)return n;const s=P2(r);if(s!=null){const o=e.data.field(s.fieldPath);if(Lp(o))for(const a of o.arrayValue.values||[])n=n.add(new gu(r.indexId,e.key,this.dn(a),i))}else n=n.add(new gu(r.indexId,e.key,mm,i));return n}bn(e,r,n,i,s){Je("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const o=[];return function(A,l,u,c,f){const g=A.getIterator(),v=l.getIterator();let b=Mc(g),S=Mc(v);for(;b||S;){let w=!1,y=!1;if(b&&S){const x=u(b,S);x<0?y=!0:x>0&&(w=!0)}else b!=null?y=!0:w=!0;w?(c(S),S=Mc(v)):y?(f(b),b=Mc(g)):(b=Mc(g),S=Mc(v))}}(i,s,CA,a=>{o.push(this.Dn(e,r,n,a))},a=>{o.push(this.vn(e,r,n,a))}),Se.waitFor(o)}yn(e){let r=1;return Hc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,s)=>{s.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((o,a)=>CA(o,a)).filter((o,a,A)=>!a||CA(o,A[a-1])!==0);const i=[];i.push(e);for(const o of n){const a=CA(o,e),A=CA(o,r);if(a===0)i[0]=e.Zt();else if(a>0&&A<0)i.push(o),i.push(o.Zt());else if(A>0)break}i.push(r);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,mm,[]],A=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,mm,[]];s.push(IDBKeyRange.bound(a,A))}return s}Cn(e,r){return CA(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(wE)}getMinOffset(e,r){return Se.mapArray(this.hn(r),n=>this.Pn(e,n).next(i=>i||pt())).next(wE)}}function vE(t){return Cn(t,"collectionParents")}function jc(t){return Cn(t,"indexEntries")}function tf(t){return Cn(t,"indexConfiguration")}function Hc(t){return Cn(t,"indexState")}function wE(t){xt(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;ex(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new cs(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Li{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(r.batchId);let a=0;const A=n.J({range:o},(u,c,f)=>(a++,f.delete()));s.push(A.next(()=>{xt(a===1)}));const l=[];for(const u of r.mutations){const c=zT(e,u.key.path,r.batchId);s.push(i.delete(c)),l.push(u.key)}return Se.waitFor(s).next(()=>l)}function av(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class nw{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){xt(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new nw(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return EA(e).J({index:"userMutationsIndex",range:n},(i,s,o)=>{r=!1,o.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const s=id(e),o=EA(e);return o.add({}).next(a=>{xt(typeof a=="number");const A=new lx(a,r,n,i),l=function(g,v,b){const S=b.baseMutations.map(y=>Dp(g.ct,y)),w=b.mutations.map(y=>Dp(g.ct,y));return{userId:v,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:S,mutations:w}}(this.serializer,this.userId,A),u=[];let c=new cr((f,g)=>Ut(f.canonicalString(),g.canonicalString()));for(const f of i){const g=zT(this.userId,f.key.path,a);c=c.add(f.key.path.popLast()),u.push(o.put(l)),u.push(s.put(g,tM))}return c.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=A.keys()}),Se.waitFor(u).next(()=>A)})}lookupMutationBatch(e,r){return EA(e).get(r).next(n=>n?(xt(n.userId===this.userId),fu(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?Se.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return EA(e).J({index:"userMutationsIndex",range:i},(o,a,A)=>{a.userId===this.userId&&(xt(a.batchId>=n),s=fu(this.serializer,a)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return EA(e).J({index:"userMutationsIndex",range:r,reverse:!0},(i,s,o)=>{n=s.batchId,o.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return EA(e).U("userMutationsIndex",r).next(n=>n.map(i=>fu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=c0(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return id(e).J({range:i},(o,a,A)=>{const[l,u,c]=o,f=Lo(u);if(l===this.userId&&r.path.isEqual(f))return EA(e).get(c).next(g=>{if(!g)throw pt();xt(g.userId===this.userId),s.push(fu(this.serializer,g))});A.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new cr(Ut);const i=[];return r.forEach(s=>{const o=c0(this.userId,s.path),a=IDBKeyRange.lowerBound(o),A=id(e).J({range:a},(l,u,c)=>{const[f,g,v]=l,b=Lo(g);f===this.userId&&s.path.isEqual(b)?n=n.add(v):c.done()});i.push(A)}),Se.waitFor(i).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=c0(this.userId,n),o=IDBKeyRange.lowerBound(s);let a=new cr(Ut);return id(e).J({range:o},(A,l,u)=>{const[c,f,g]=A,v=Lo(f);c===this.userId&&n.isPrefixOf(v)?v.length===i&&(a=a.add(g)):u.done()}).next(()=>this.xn(e,a))}xn(e,r){const n=[],i=[];return r.forEach(s=>{i.push(EA(e).get(s).next(o=>{if(o===null)throw pt();xt(o.userId===this.userId),n.push(fu(this.serializer,o))}))}),Se.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return Vk(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),Se.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Se.resolve();const n=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return id(e).J({range:n},(s,o,a)=>{if(s[0]===this.userId){const A=Lo(s[1]);i.push(A)}else a.done()}).next(()=>{xt(i.length===0)})})}containsKey(e,r){return Kk(e,this.userId,r)}Nn(e){return zk(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kk(t,e,r){const n=c0(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let o=!1;return id(t).J({range:s,H:!0},(a,A,l)=>{const[u,c,f]=a;u===e&&c===i&&(o=!0),l.done()}).next(()=>o)}function EA(t){return Cn(t,"mutations")}function id(t){return Cn(t,"documentMutations")}function zk(t){return Cn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xu(0)}static kn(){return new Xu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new Xu(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>_t.fromTimestamp(new Nr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Vc(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(xt(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let i=0;const s=[];return Vc(e).J((o,a)=>{const A=bf(a);A.sequenceNumber<=r&&n.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>Se.waitFor(s)).next(()=>i)}forEachTarget(e,r){return Vc(e).J((n,i)=>{const s=bf(i);r(s)})}qn(e){return BE(e).get("targetGlobalKey").next(r=>(xt(r!==null),r))}Qn(e,r){return BE(e).put("targetGlobalKey",r)}Kn(e,r){return Vc(e).put(Mk(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=qu(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return Vc(e).J({range:i,index:"queryTargetsIndex"},(o,a,A)=>{const l=bf(a);og(r,l.target)&&(s=l,A.done())}).next(()=>s)}addMatchingKeys(e,r,n){const i=[],s=DA(e);return r.forEach(o=>{const a=xi(o.path);i.push(s.put({targetId:n,path:a})),i.push(this.referenceDelegate.addReference(e,n,o))}),Se.waitFor(i)}removeMatchingKeys(e,r,n){const i=DA(e);return Se.forEach(r,s=>{const o=xi(s.path);return Se.waitFor([i.delete([n,o]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=DA(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=DA(e);let s=Pt();return i.J({range:n,H:!0},(o,a,A)=>{const l=Lo(o[1]),u=new st(l);s=s.add(u)}).next(()=>s)}containsKey(e,r){const n=xi(r.path),i=IDBKeyRange.bound([n],[DT(n)],!1,!0);let s=0;return DA(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],A,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,r){return Vc(e).get(r).next(n=>n?bf(n):null)}}function Vc(t){return Cn(t,"targets")}function BE(t){return Cn(t,"targetGlobal")}function DA(t){return Cn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE([t,e],[r,n]){const i=Ut(t,r);return i===0?Ut(e,n):i}class mj{constructor(e){this.Un=e,this.buffer=new cr(bE),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();bE(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class vj{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ql(r)?Je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Nl(r)}await this.Hn(3e5)})}}class wj{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Se.resolve(ji.oe);const n=new mj(r);return this.Jn.forEachTarget(e,i=>n.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>n.zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(yE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,o,a,A,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),i=this.params.maximumSequenceNumbersToCollect):i=c,o=Date.now(),this.nthSequenceNumber(e,i))).next(c=>(n=c,a=Date.now(),this.removeTargets(e,n,r))).next(c=>(s=c,A=Date.now(),this.removeOrphanedDocuments(e,n))).next(c=>(l=Date.now(),ed()<=Dt.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(A-a)+`ms
	Removed ${c} documents in `+(l-A)+`ms
Total Duration: ${l-u}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:c})))}}function yj(t,e){return new wj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,r){this.db=e,this.garbageCollector=yj(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,i)=>r(i))}addReference(e,r,n){return vm(e,n)}removeReference(e,r,n){return vm(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return vm(e,r)}nr(e,r){return function(i,s){let o=!1;return zk(i).Y(a=>Kk(i,a,s).next(A=>(A&&(o=!0),Se.resolve(!A)))).next(()=>o)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=r){const A=this.nr(e,o).next(l=>{if(!l)return s++,n.getEntry(e,o).next(()=>(n.removeEntry(o,_t.min()),DA(e).delete(function(c){return[0,xi(c.path)]}(o))))});i.push(A)}}).next(()=>Se.waitFor(i)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return vm(e,r)}tr(e,r){const n=DA(e);let i,s=ji.oe;return n.J({index:"documentTargetsIndex"},([o,a],{path:A,sequenceNumber:l})=>{o===0?(s!==ji.oe&&r(new st(Lo(i)),s),s=l,i=A):s=ji.oe}).next(()=>{s!==ji.oe&&r(new st(Lo(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vm(t,e){return DA(t).put(function(n,i){return{targetId:0,path:xi(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.changes=new Ul(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Se.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return iu(e).put(n)}removeEntry(e,r,n){return iu(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],sv(o),a[a.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=_r.newInvalidDocument(r);return iu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(rf(r))},(i,s)=>{n=this.ir(r,s)}).next(()=>n)}sr(e,r){let n={size:0,document:_r.newInvalidDocument(r)};return iu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(rf(r))},(i,s)=>{n={document:this.ir(r,s),size:av(s)}}).next(()=>n)}getEntries(e,r){let n=Vi();return this._r(e,r,(i,s)=>{const o=this.ir(i,s);n=n.insert(i,o)}).next(()=>n)}ar(e,r){let n=Vi(),i=new yr(st.comparator);return this._r(e,r,(s,o)=>{const a=this.ir(s,o);n=n.insert(s,a),i=i.insert(s,av(o))}).next(()=>({documents:n,ur:i}))}_r(e,r,n){if(r.isEmpty())return Se.resolve();let i=new cr(CE);r.forEach(A=>i=i.add(A));const s=IDBKeyRange.bound(rf(i.first()),rf(i.last())),o=i.getIterator();let a=o.getNext();return iu(e).J({index:"documentKeyIndex",range:s},(A,l,u)=>{const c=st.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&CE(a,c)<0;)n(a,null),a=o.getNext();a&&a.isEqual(c)&&(n(a,l),a=o.hasNext()?o.getNext():null),a?u.$(rf(a)):u.done()}).next(()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,r,n,i,s){const o=r.path,a=[o.popLast().toArray(),o.lastSegment(),sv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],A=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return iu(e).U(IDBKeyRange.bound(a,A,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let u=Vi();for(const c of l){const f=this.ir(st.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);f.isFoundDocument()&&(Ag(r,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,r,n,i){let s=Vi();const o=_E(r,n),a=_E(r,cs.max());return iu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(A,l,u)=>{const c=this.ir(st.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(c.key,c),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new xj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return xE(e).get("remoteDocumentGlobalKey").next(r=>(xt(!!r),r))}rr(e,r){return xE(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=oj(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(_t.min())))return n}return _r.newInvalidDocument(e)}}function qk(t){return new bj(t)}class xj extends Gk{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Ul(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new cr((s,o)=>Ut(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const A=lE(this.cr.serializer,o);i=i.add(s.path.popLast());const l=av(A);n+=l-a.size,r.push(this.cr.addEntry(e,s,A))}else if(n-=a.size,this.trackRemovals){const A=lE(this.cr.serializer,o.convertToNoDocument(_t.min()));r.push(this.cr.addEntry(e,s,A))}}),i.forEach(s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.cr.updateMetadata(e,n)),Se.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:n.get(s).readTime})}),n))}}function xE(t){return Cn(t,"remoteDocumentGlobal")}function iu(t){return Cn(t,"remoteDocumentsV14")}function rf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _E(t,e){const r=e.documentKey.path.toArray();return[t,sv(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function CE(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Ut(r[s],n[s]),i)return i;return i=Ut(r.length,n.length),i||(i=Ut(r[r.length-2],n[n.length-2]),i||Ut(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Kf(n.mutation,i,Hi.empty(),Nr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Pt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Pt()){const i=Po();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let o=yf();return s.forEach((a,A)=>{o=o.insert(a,A.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Po();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Pt()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,i){let s=Vi();const o=Vf(),a=function(){return Vf()}();return r.forEach((A,l)=>{const u=n.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Ka)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Kf(u.mutation,l,u.mutation.getFieldMask(),Nr.now())):o.set(l.key,Hi.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,u)=>o.set(l,u)),r.forEach((l,u)=>{var c;return a.set(l,new _j(u,(c=o.get(l))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(e,r){const n=Vf();let i=new yr((o,a)=>o-a),s=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(A=>{const l=r.get(A);if(l===null)return;let u=n.get(A)||Hi.empty();u=a.applyToLocalView(l,u),n.set(A,u);const c=(i.get(a.batchId)||Pt()).add(A);i=i.insert(a.batchId,c)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const A=a.getNext(),l=A.key,u=A.value,c=hk();u.forEach(f=>{if(!s.has(f)){const g=yk(r.get(f),n.get(f));g!==null&&c.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,c))}return Se.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return st.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):sx(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Se.resolve(Po());let a=-1,A=s;return o.next(l=>Se.forEach(l,(u,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),s.get(u)?Se.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{A=A.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,Pt())).next(u=>({batchId:a,changes:dk(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new st(r)).next(n=>{let i=yf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=yf();return this.indexManager.getCollectionParents(e,s).next(a=>Se.forEach(a,A=>{const l=function(c,f){return new Va(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(r,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(u=>{u.forEach((c,f)=>{o=o.insert(c,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(o=>{s.forEach((A,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,_r.newInvalidDocument(u)))});let a=yf();return o.forEach((A,l)=>{const u=s.get(A);u!==void 0&&Kf(u.mutation,l,Hi.empty(),Nr.now()),Ag(r,l)&&(a=a.insert(A,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Se.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:an(i.createTime)}}(r)),Se.resolve()}getNamedQuery(e,r){return Se.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:fx(i.bundledQuery),readTime:an(i.readTime)}}(r)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(){this.overlays=new yr(st.comparator),this.Ir=new Map}getOverlay(e,r){return Se.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Po();return Se.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),Se.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),Se.resolve()}getOverlaysForCollection(e,r,n){const i=Po(),s=r.length+1,o=new st(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const A=a.getNext().value,l=A.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&A.largestBatchId>n&&i.set(A.getKey(),A)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new yr((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let u=s.get(l.largestBatchId);u===null&&(u=Po(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Po(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return Se.resolve(a)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new cx(r,n));let s=this.Ir.get(r);s===void 0&&(s=Pt(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.sessionToken=zr.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.Tr=new cr(Fn.Er),this.dr=new cr(Fn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Fn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Fn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new st(new Vt([])),n=new Fn(r,e),i=new Fn(r,e+1),s=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new st(new Vt([])),n=new Fn(r,e),i=new Fn(r,e+1);let s=Pt();return this.dr.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new Fn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Fn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return st.comparator(e.key,r.key)||Ut(e.wr,r.wr)}static Ar(e,r){return Ut(e.wr,r.wr)||st.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new cr(Fn.Er)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lx(s,r,n,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Fn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,r){return Se.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return Se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Fn(r,0),i=new Fn(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new cr(Ut);return r.forEach(i=>{const s=new Fn(i,0),o=new Fn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{n=n.add(a.wr)})}),Se.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;st.isDocumentKey(s)||(s=s.child(""));const o=new Fn(new st(s),0);let a=new cr(Ut);return this.br.forEachWhile(A=>{const l=A.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(a=a.add(A.wr)),!0)},o),Se.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){xt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Se.forEach(r.mutations,i=>{const s=new Fn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Fn(r,0),i=this.br.firstAfterOrEqual(n);return Se.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.Mr=e,this.docs=function(){return new yr(st.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Se.resolve(n?n.document.mutableCopy():_r.newInvalidDocument(r))}getEntries(e,r){let n=Vi();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():_r.newInvalidDocument(i))}),Se.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Vi();const o=r.path,a=new st(o.child("")),A=this.docs.getIteratorFrom(a);for(;A.hasNext();){const{key:l,value:{document:u}}=A.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||ex(MT(u),n)<=0||(i.has(u.key)||Ag(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Se.resolve(s)}getAllFromCollectionGroup(e,r,n,i){pt()}Or(e,r){return Se.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Tj(this)}getSize(e){return Se.resolve(this.size)}}class Tj extends Gk{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),Se.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.persistence=e,this.Nr=new Ul(r=>qu(r),og),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new mx,this.targetCount=0,this.kr=Xu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Se.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Xu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Se.resolve()}updateTargetData(e,r){return this.Kn(r),Se.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Se.waitFor(s).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Se.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Se.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Se.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Se.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Se.resolve(n)}containsKey(e,r){return Se.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,r){this.qr={},this.overlays={},this.Qr=new ji(0),this.Kr=!1,this.Kr=!0,this.$r=new Ij,this.referenceDelegate=e(this),this.Ur=new kj(this),this.indexManager=new fj,this.remoteDocumentCache=function(i){return new Fj(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new Ok(r),this.Gr=new Cj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Ej,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new Sj(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Je("MemoryPersistence","Starting transaction:",e);const i=new Nj(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return Se.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class Nj extends HT{constructor(e){super(),this.currentSequenceNumber=e}}class iw{constructor(e){this.persistence=e,this.Jr=new mx,this.Yr=null}static Zr(e){return new iw(e)}get Xr(){if(this.Yr)return this.Yr;throw pt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Se.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Se.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Se.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Xr,n=>{const i=st.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,_t.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Se.or([()=>Se.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.serializer=e}O(e,r,n,i){const s=new Yv("createOrUpgrade",r);n<1&&i>=1&&(function(A){A.createObjectStore("owner")}(e),function(A){A.createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",O5,{unique:!0}),A.createObjectStore("documentMutations")}(e),EE(e),function(A){A.createObjectStore("remoteDocuments")}(e));let o=Se.resolve();return n<3&&i>=3&&(n!==0&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),EE(e)),o=o.next(()=>function(A){const l=A.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),n<4&&i>=4&&(n!==0&&(o=o.next(()=>function(A,l){return l.store("mutations").U().next(u=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",O5,{unique:!0});const c=l.store("mutations"),f=u.map(g=>c.put(g));return Se.waitFor(f)})}(e,s))),o=o.next(()=>{(function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&i>=5&&(o=o.next(()=>this.ni(s))),n<6&&i>=6&&(o=o.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),n<7&&i>=7&&(o=o.next(()=>this.ii(s))),n<8&&i>=8&&(o=o.next(()=>this.si(e,s))),n<9&&i>=9&&(o=o.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&i>=10&&(o=o.next(()=>this.oi(s))),n<11&&i>=11&&(o=o.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(o=o.next(()=>{(function(A){const l=A.createObjectStore("documentOverlays",{keyPath:hM});l.createIndex("collectionPathOverlayIndex",fM,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",pM,{unique:!1})})(e)})),n<13&&i>=13&&(o=o.next(()=>function(A){const l=A.createObjectStore("remoteDocumentsV14",{keyPath:rM});l.createIndex("documentKeyIndex",nM),l.createIndex("collectionGroupIndex",iM)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),n<15&&i>=15&&(o=o.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:lM}).createIndex("sequenceNumberIndex",uM,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:cM}).createIndex("documentKeyIndex",dM,{unique:!1})}(e))),n<16&&i>=16&&(o=o.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&i>=17&&(o=o.next(()=>{(function(A){A.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let r=0;return e.store("remoteDocuments").J((n,i)=>{r+=av(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(i=>Se.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",o).next(a=>Se.forEach(a,A=>{xt(A.userId===s.userId);const l=fu(this.serializer,A);return Vk(e,s.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return n.J((o,a)=>{const A=new Vt(o),l=function(c){return[0,xi(c)]}(A);s.push(r.get(l).next(u=>u?Se.resolve():(c=>r.put({targetId:0,path:xi(c),sequenceNumber:i.highestListenSequenceNumber}))(A)))}).next(()=>Se.waitFor(s))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:AM});const n=r.store("collectionParents"),i=new gx,s=o=>{if(i.add(o)){const a=o.lastSegment(),A=o.popLast();return n.put({collectionId:a,parent:xi(A)})}};return r.store("remoteDocuments").J({H:!0},(o,a)=>{const A=new Vt(o);return s(A.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([o,a,A],l)=>{const u=Lo(a);return s(u.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,i)=>{const s=bf(i),o=Mk(this.serializer,s);return r.put(o)})}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J((s,o)=>{const a=r.store("remoteDocumentsV14"),A=function(c){return c.document?new st(Vt.fromString(c.document.name).popFirst(5)):c.noDocument?st.fromSegments(c.noDocument.path):c.unknownDocument?st.fromSegments(c.unknownDocument.path):pt()}(o).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>Se.waitFor(i))}ai(e,r){const n=r.store("mutations"),i=qk(this.serializer),s=new $k(iw.Zr,this.serializer.ct);return n.U().next(o=>{const a=new Map;return o.forEach(A=>{var l;let u=(l=a.get(A.userId))!==null&&l!==void 0?l:Pt();fu(this.serializer,A).keys().forEach(c=>u=u.add(c)),a.set(A.userId,u)}),Se.forEach(a,(A,l)=>{const u=new kn(l),c=rw.lt(this.serializer,u),f=s.getIndexManager(u),g=nw.lt(u,this.serializer,f,s.referenceDelegate);return new Wk(i,g,c,f).recalculateAndSaveOverlaysForDocumentKeys(new R2(r,ji.oe),A).next()})})}}function EE(t){t.createObjectStore("targetDocuments",{keyPath:oM}).createIndex("documentTargetsIndex",aM,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sM,{unique:!0}),t.createObjectStore("targetGlobal")}const V1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vx{constructor(e,r,n,i,s,o,a,A,l,u,c=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=o,this.document=a,this.ci=l,this.li=u,this.hi=c,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!vx.D())throw new $e(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bj(this,i),this.Ai=r+"main",this.serializer=new Ok(A),this.Ri=new jo(this.Ai,this.hi,new Qj(this.serializer)),this.$r=new Aj,this.Ur=new gj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qk(this.serializer),this.Gr=new aj,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&on("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(ke.FAILED_PRECONDITION,V1);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new ji(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(Ql(e))return Je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return nf(e).get("owner").next(r=>Se.resolve(this.vi(r)))}Ci(e){return wm(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Cn(r,"clientMetadata");return n.U().next(i=>{const s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return Se.forEach(o,a=>n.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Se.resolve(!0):nf(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new $e(ke.FAILED_PRECONDITION,V1);return!1}}return!(!this.networkEnabled||!this.inForeground)||wm(e).U().next(n=>this.xi(n,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&Je("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new R2(e,ji.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>wm(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return nw.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pj(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return rw.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){Je("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=function(A){return A===17?vM:A===16?mM:A===15?rx:A===14?WT:A===13?qT:A===12?gM:A===11?GT:void pt()}(this.hi);let o;return this.Ri.runTransaction(e,i,s,a=>(o=new R2(a,this.Qr?this.Qr.next():ji.oe),r==="readwrite-primary"?this.wi(o).next(A=>!!A||this.Si(o)).next(A=>{if(!A)throw on(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new $e(ke.FAILED_PRECONDITION,jT);return n(o)}).next(A=>this.Di(o).next(()=>A)):this.Ki(o).next(()=>n(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return nf(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new $e(ke.FAILED_PRECONDITION,V1)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nf(e).put("owner",r)}static D(){return jo.D()}bi(e){const r=nf(e);return r.get("owner").next(n=>this.vi(n)?(Je("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Se.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(on(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;gT()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return Je("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return on("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){on("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nf(t){return Cn(t,"owner")}function wm(t){return Cn(t,"clientMetadata")}function wx(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Pt(),i=Pt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yx(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gT()?8:VT(Dr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Uj;return this.Xi(e,r,o).next(a=>{if(s.result=a,this.zi)return this.es(e,r,o,a.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(ed()<=Dt.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",td(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Se.resolve()):(ed()<=Dt.DEBUG&&Je("QueryEngine","Query:",td(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(ed()<=Dt.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",td(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(r))):Se.resolve())}Yi(e,r){if(X5(r))return Se.resolve(null);let n=_i(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=iv(r,null,"F"),n=_i(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=Pt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(A=>{const l=this.ts(r,a);return this.ns(r,l,o,A.readTime)?this.Yi(e,iv(r,null,"F")):this.rs(e,l,r,A)}))})))}Zi(e,r,n,i){return X5(r)||i.isEqual(_t.min())?Se.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const o=this.ts(r,s);return this.ns(r,o,n,i)?Se.resolve(null):(ed()<=Dt.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),td(r)),this.rs(e,o,r,OT(i,-1)).next(a=>a))})}ts(e,r){let n=new cr(uk(e));return r.forEach((i,s)=>{Ag(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return ed()<=Dt.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",td(r)),this.Ji.getDocumentsMatchingQuery(e,r,cs.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new yr(Ut),this._s=new Ul(s=>qu(s),og),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Yk(t,e,r,n){return new Lj(t,e,r,n)}async function Xk(t,e){const r=At(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],a=[];let A=Pt();for(const l of i){o.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}return r.localDocuments.getDocuments(n,A).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})}function Pj(t,e){const r=At(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,A,l,u){const c=l.batch,f=c.keys();let g=Se.resolve();return f.forEach(v=>{g=g.next(()=>u.getEntry(A,v)).next(b=>{const S=l.docVersions.get(v);xt(S!==null),b.version.compareTo(S)<0&&(c.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),u.addEntry(b)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(A,c))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let A=Pt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(A=A.add(a.batch.mutations[l].key));return A}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function Zk(t){const e=At(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Rj(t,e){const r=At(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const a=[];e.targetChanges.forEach((u,c)=>{const f=i.get(c);if(!f)return;a.push(r.Ur.removeMatchingKeys(s,u.removedDocuments,c).next(()=>r.Ur.addMatchingKeys(s,u.addedDocuments,c)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(c)!==null?g=g.withResumeToken(zr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,n)),i=i.insert(c,g),function(b,S,w){return b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,g,u)&&a.push(r.Ur.updateTargetData(s,g))});let A=Vi(),l=Pt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(eN(s,o,e.documentUpdates).next(u=>{A=u.Ps,l=u.Is})),!n.isEqual(_t.min())){const u=r.Ur.getLastRemoteSnapshotVersion(s).next(c=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));a.push(u)}return Se.waitFor(a).next(()=>o.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(r.os=i,s))}function eN(t,e,r){let n=Pt(),i=Pt();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=Vi();return r.forEach((a,A)=>{const l=s.get(a);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),A.isNoDocument()&&A.version.isEqual(_t.min())?(e.removeEntry(a,A.readTime),o=o.insert(a,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),o=o.insert(a,A)):Je("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",A.version)}),{Ps:o,Is:i}})}function Dj(t,e){const r=At(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Xd(t,e){const r=At(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,Se.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new xa(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Zd(t,e,r){const n=At(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ql(o))throw o;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Av(t,e,r){const n=At(t);let i=_t.min(),s=Pt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(A,l,u){const c=At(A),f=c._s.get(u);return f!==void 0?Se.resolve(c.os.get(f)):c.Ur.getTargetData(l,u)}(n,o,_i(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,a.targetId).next(A=>{s=A})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:_t.min(),r?s:Pt())).next(a=>(nN(n,lk(e),a),{documents:a,Ts:s})))}function tN(t,e){const r=At(t),n=At(r.Ur),i=r.os.get(e);return i?Promise.resolve(i.target):r.persistence.runTransaction("Get target data","readonly",s=>n.ot(s,e).next(o=>o?o.target:null))}function rN(t,e){const r=At(t),n=r.us.get(e)||_t.min();return r.persistence.runTransaction("Get new document changes","readonly",i=>r.cs.getAllFromCollectionGroup(i,e,OT(n,-1),Number.MAX_SAFE_INTEGER)).then(i=>(nN(r,e,i),i))}function nN(t,e,r){let n=t.us.get(e)||_t.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}async function Oj(t,e,r,n){const i=At(t);let s=Pt(),o=Vi();for(const l of r){const u=e.Es(l.metadata.name);l.document&&(s=s.add(u));const c=e.ds(l);c.setReadTime(e.As(l.metadata.readTime)),o=o.insert(u,c)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),A=await Xd(i,function(u){return _i(ph(Vt.fromString(`__bundle__/docs/${u}`)))}(n));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>eN(l,a,o).next(u=>(a.apply(l),u)).next(u=>i.Ur.removeMatchingKeysForTargetId(l,A.targetId).next(()=>i.Ur.addMatchingKeys(l,s,A.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,u.Ps,u.Is)).next(()=>u.Ps)))}async function Mj(t,e,r=Pt()){const n=await Xd(t,_i(fx(e.bundledQuery))),i=At(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=an(e.readTime);if(n.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(s,e);const a=n.withResumeToken(zr.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(s,a).next(()=>i.Ur.removeMatchingKeysForTargetId(s,n.targetId)).next(()=>i.Ur.addMatchingKeys(s,r,n.targetId)).next(()=>i.Gr.saveNamedQuery(s,e))})}function IE(t,e){return`firestore_clients_${t}_${e}`}function SE(t,e,r){let n=`firestore_mutations_${t}_${r}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function K1(t,e){return`firestore_targets_${t}_${e}`}class lv{constructor(e,r,n,i){this.user=e,this.batchId=r,this.state=n,this.error=i}static Rs(e,r,n){const i=JSON.parse(n);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new $e(i.error.code,i.error.message))),o?new lv(e,r,i.state,s):(on("SharedClientState",`Failed to parse mutation state for ID '${r}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zf{constructor(e,r,n){this.targetId=e,this.state=r,this.error=n}static Rs(e,r){const n=JSON.parse(r);let i,s=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return s&&n.error&&(s=typeof n.error.message=="string"&&typeof n.error.code=="string",s&&(i=new $e(n.error.code,n.error.message))),s?new zf(e,n.state,i):(on("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uv{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const n=JSON.parse(r);let i=typeof n=="object"&&n.activeTargetIds instanceof Array,s=ox();for(let o=0;i&&o<n.activeTargetIds.length;++o)i=KT(n.activeTargetIds[o]),s=s.add(n.activeTargetIds[o]);return i?new uv(e,s):(on("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Bx{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return typeof r=="object"&&["Unknown","Online","Offline"].indexOf(r.onlineState)!==-1&&typeof r.clientId=="string"?new Bx(r.clientId,r.onlineState):(on("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Y2{constructor(){this.activeTargetIds=ox()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z1{constructor(e,r,n,i,s){this.window=e,this.ui=r,this.persistenceKey=n,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new yr(Ut),this.started=!1,this.bs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=IE(this.persistenceKey,this.ps),this.vs=function(A){return`firestore_sequence_number_${A}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new Y2),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(A){return`firestore_online_state_${A}`}(this.persistenceKey),this.Os=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const n of e){if(n===this.ps)continue;const i=this.getItem(IE(this.persistenceKey,n));if(i){const s=uv.Rs(n,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const r=this.storage.getItem(this.xs);if(r){const n=this.Ls(r);n&&this.Bs(n)}for(const n of this.bs)this.ws(n);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((n,i)=>{i.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,n){this.qs(e,r,n),this.Qs(e)}addLocalQueryTarget(e,r=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(K1(this.persistenceKey,e));if(i){const s=zf.Rs(e,i);s&&(n=s.state)}}return r&&this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(K1(this.persistenceKey,e))}updateQueryState(e,r,n){this.$s(e,r,n)}handleUserChange(e,r,n){r.forEach(i=>{this.Qs(i)}),this.currentUser=e,n.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Je("SharedClientState","READ",e,r),r}setItem(e,r){Je("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const r=e;if(r.storageArea===this.storage){if(Je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ds)return void on("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(r.key!==null){if(this.Cs.test(r.key)){if(r.newValue==null){const n=this.Gs(r.key);return this.zs(n,null)}{const n=this.js(r.key,r.newValue);if(n)return this.zs(n.clientId,n)}}else if(this.Fs.test(r.key)){if(r.newValue!==null){const n=this.Hs(r.key,r.newValue);if(n)return this.Js(n)}}else if(this.Ms.test(r.key)){if(r.newValue!==null){const n=this.Ys(r.key,r.newValue);if(n)return this.Zs(n)}}else if(r.key===this.xs){if(r.newValue!==null){const n=this.Ls(r.newValue);if(n)return this.Bs(n)}}else if(r.key===this.vs){const n=function(s){let o=ji.oe;if(s!=null)try{const a=JSON.parse(s);xt(typeof a=="number"),o=a}catch(a){on("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(r.newValue);n!==ji.oe&&this.sequenceNumberHandler(n)}else if(r.key===this.Os){const n=this.Xs(r.newValue);await Promise.all(n.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(r)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,n){const i=new lv(this.currentUser,e,r,n),s=SE(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const r=SE(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){const r={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(r))}$s(e,r,n){const i=K1(this.persistenceKey,e),s=new zf(e,r,n);this.setItem(i,s.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const n=this.Gs(e);return uv.Rs(n,r)}Hs(e,r){const n=this.Fs.exec(e),i=Number(n[1]),s=n[2]!==void 0?n[2]:null;return lv.Rs(new kn(s),i,r)}Ys(e,r){const n=this.Ms.exec(e),i=Number(n[1]);return zf.Rs(i,r)}Ls(e){return Bx.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const n=r?this.Ss.insert(e,r):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(n),o=[],a=[];return s.forEach(A=>{i.has(A)||o.push(A)}),i.forEach(A=>{s.has(A)||a.push(A)}),this.syncEngine.io(o,a).then(()=>{this.Ss=n})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=ox();return e.forEach((n,i)=>{r=r.unionWith(i.activeTargetIds)}),r}}class iN{constructor(){this.so=new Y2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Y2,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym=null;function G1(){return ym===null?ym=function(){return 268435456+Math.round(2147483648*Math.random())}():ym++,"0x"+ym.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="WebChannelConnection";class Kj extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,o){const a=G1(),A=this.xo(r,n.toUriEncodedString());Je("RestConnection",`Sending RPC '${r}' ${a}:`,A,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(r,A,l,i).then(u=>(Je("RestConnection",`Received RPC '${r}' ${a}: `,u),u),u=>{throw zo("RestConnection",`RPC '${r}' ${a} failed with error: `,u,"url: ",A,"request:",i),u})}Lo(r,n,i,s,o,a){return this.Mo(r,n,i,s,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fh}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>r[o]=s),i&&i.headers.forEach((s,o)=>r[o]=s)}xo(r,n){const i=Hj[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=G1();return new Promise((o,a)=>{const A=new kT;A.setWithCredentials(!0),A.listenOnce(NT.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case l0.NO_ERROR:const u=A.getResponseJson();Je(ei,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case l0.TIMEOUT:Je(ei,`RPC '${e}' ${s} timed out`),a(new $e(ke.DEADLINE_EXCEEDED,"Request time out"));break;case l0.HTTP_ERROR:const c=A.getStatus();if(Je(ei,`RPC '${e}' ${s} failed with status:`,c,"response text:",A.getResponseText()),c>0){let f=A.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(S){const w=S.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(w)>=0?w:ke.UNKNOWN}(g.status);a(new $e(v,g.message))}else a(new $e(ke.UNKNOWN,"Server responded with status "+A.getStatus()))}else a(new $e(ke.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Je(ei,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);Je(ei,`RPC '${e}' ${s} sending request:`,i),A.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=G1(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LT(),a=UT(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,r,n),A.encodeInitMessageHeaders=!0;const u=s.join("");Je(ei,`Creating RPC '${e}' stream ${i}: ${u}`,A);const c=o.createWebChannel(u,A);let f=!1,g=!1;const v=new Vj({Io:S=>{g?Je(ei,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(Je(ei,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),Je(ei,`RPC '${e}' stream ${i} sending:`,S),c.send(S))},To:()=>c.close()}),b=(S,w,y)=>{S.listen(w,x=>{try{y(x)}catch(L){setTimeout(()=>{throw L},0)}})};return b(c,wf.EventType.OPEN,()=>{g||(Je(ei,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(c,wf.EventType.CLOSE,()=>{g||(g=!0,Je(ei,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(c,wf.EventType.ERROR,S=>{g||(g=!0,zo(ei,`RPC '${e}' stream ${i} transport errored:`,S),v.So(new $e(ke.UNAVAILABLE,"The operation could not be completed")))}),b(c,wf.EventType.MESSAGE,S=>{var w;if(!g){const y=S.data[0];xt(!!y);const x=y,L=x.error||((w=x[0])===null||w===void 0?void 0:w.error);if(L){Je(ei,`RPC '${e}' stream ${i} received error:`,L);const P=L.status;let M=function(k){const O=fn[k];if(O!==void 0)return xk(O)}(P),I=L.message;M===void 0&&(M=ke.INTERNAL,I="Unknown error status: "+P+" with message "+L.message),g=!0,v.So(new $e(M,I)),c.close()}else Je(ei,`RPC '${e}' stream ${i} received:`,y),v.bo(y)}}),b(a,QT.STAT_EVENT,S=>{S.stat===L2.PROXY?Je(ei,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===L2.NOPROXY&&Je(ei,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return typeof window<"u"?window:null}function g0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){return new JM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,r,n,i,s,o,a,A){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bx(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ke.RESOURCE_EXHAUSTED?(on(r.toString()),on("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new $e(ke.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zj extends oN{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=ZM(this.serializer,e),n=function(s){if(!("targetChange"in s))return _t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_t.min():o.readTime?an(o.readTime):_t.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=G2(this.serializer),r.addTarget=function(s,o){let a;const A=o.target;if(a=rv(A)?{documents:Qk(s,A)}:{query:Uk(s,A)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ik(s,o.resumeToken);const l=K2(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(_t.min())>0){a.readTime=Yd(s,o.snapshotVersion.toTimestamp());const l=K2(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const n=tj(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=G2(this.serializer),r.removeTarget=e,this.a_(r)}}class Gj extends oN{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return xt(!!e.streamToken),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=ej(e.writeResults,e.commitTime),n=an(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=G2(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Dp(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new $e(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,z2(r,n),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(ke.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,z2(r,n),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(ke.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Wj{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(on(r),this.D_=!1):Je("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{n.enqueueAndForget(async()=>{Ll(this)&&(Je("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=At(A);l.L_.add(4),await vh(l),l.q_.set("Unknown"),l.L_.delete(4),await hg(l)}(this))})}),this.q_=new Wj(n,i)}}async function hg(t){if(Ll(t))for(const e of t.B_)await e(!0)}async function vh(t){for(const e of t.B_)await e(!1)}function sw(t,e){const r=At(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Cx(r)?_x(r):yh(r).r_()&&xx(r,e))}function eh(t,e){const r=At(t),n=yh(r);r.N_.delete(e),n.r_()&&aN(r,e),r.N_.size===0&&(n.r_()?n.o_():Ll(r)&&r.q_.set("Unknown"))}function xx(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}yh(t).A_(e)}function aN(t,e){t.Q_.xe(e),yh(t).R_(e)}function _x(t){t.Q_=new GM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yh(t).start(),t.q_.v_()}function Cx(t){return Ll(t)&&!yh(t).n_()&&t.N_.size>0}function Ll(t){return At(t).L_.size===0}function AN(t){t.Q_=void 0}async function Jj(t){t.q_.set("Online")}async function Yj(t){t.N_.forEach((e,r)=>{xx(t,e)})}async function Xj(t,e){AN(t),Cx(t)?(t.q_.M_(e),_x(t)):t.q_.set("Unknown")}async function Zj(t,e,r){if(t.q_.set("Online"),e instanceof Ek&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(n){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await cv(t,n)}else if(e instanceof p0?t.Q_.Ke(e):e instanceof Ck?t.Q_.He(e):t.Q_.We(e),!r.isEqual(_t.min()))try{const n=await Zk(t.localStore);r.compareTo(n)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(A.resumeToken,o))}}),a.targetMismatches.forEach((A,l)=>{const u=s.N_.get(A);if(!u)return;s.N_.set(A,u.withResumeToken(zr.EMPTY_BYTE_STRING,u.snapshotVersion)),aN(s,A);const c=new xa(u.target,A,l,u.sequenceNumber);xx(s,c)}),s.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){Je("RemoteStore","Failed to raise snapshot:",n),await cv(t,n)}}async function cv(t,e,r){if(!Ql(e))throw e;t.L_.add(1),await vh(t),t.q_.set("Offline"),r||(r=()=>Zk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Je("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await hg(t)})}function lN(t,e){return e().catch(r=>cv(t,r,e))}async function wh(t){const e=At(t),r=Bl(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;e8(e);)try{const i=await Dj(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,t8(e,i)}catch(i){await cv(e,i)}uN(e)&&cN(e)}function e8(t){return Ll(t)&&t.O_.length<10}function t8(t,e){t.O_.push(e);const r=Bl(t);r.r_()&&r.V_&&r.m_(e.mutations)}function uN(t){return Ll(t)&&!Bl(t).n_()&&t.O_.length>0}function cN(t){Bl(t).start()}async function r8(t){Bl(t).p_()}async function n8(t){const e=Bl(t);for(const r of t.O_)e.m_(r.mutations)}async function i8(t,e,r){const n=t.O_.shift(),i=ux.from(n,e,r);await lN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wh(t)}async function s8(t,e){e&&Bl(t).V_&&await async function(n,i){if(function(o){return bk(o)&&o!==ke.ABORTED}(i.code)){const s=n.O_.shift();Bl(n).s_(),await lN(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await wh(n)}}(t,e),uN(t)&&cN(t)}async function TE(t,e){const r=At(t);r.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const n=Ll(r);r.L_.add(3),await vh(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await hg(r)}async function X2(t,e){const r=At(t);e?(r.L_.delete(2),await hg(r)):e||(r.L_.add(2),await vh(r),r.q_.set("Unknown"))}function yh(t){return t.K_||(t.K_=function(r,n,i){const s=At(r);return s.w_(),new zj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Jj.bind(null,t),Ro:Yj.bind(null,t),mo:Xj.bind(null,t),d_:Zj.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Cx(t)?_x(t):t.q_.set("Unknown")):(await t.K_.stop(),AN(t))})),t.K_}function Bl(t){return t.U_||(t.U_=function(r,n,i){const s=At(r);return s.w_(),new Gj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:r8.bind(null,t),mo:s8.bind(null,t),f_:n8.bind(null,t),g_:i8.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await wh(t)):(await t.U_.stop(),t.O_.length>0&&(Je("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,a=new Ex(e,r,o,i,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bh(t,e){if(on("AsyncQueue",`${e}: ${t}`),Ql(t))return new $e(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.comparator=e?(r,n)=>e(r,n)||st.comparator(r.key,n.key):(r,n)=>st.comparator(r.key,n.key),this.keyedMap=yf(),this.sortedSet=new yr(this.comparator)}static emptySet(e){return new Td(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Td)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Td;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.W_=new yr(st.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):pt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class th{constructor(e,r,n,i,s,o,a,A,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new th(e,r,Td.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class a8{constructor(){this.queries=NE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=At(r),s=i.queries;i.queries=NE(),s.forEach((o,a)=>{for(const A of a.j_)A.onError(n)})})(this,new $e(ke.ABORTED,"Firestore shutting down"))}}function NE(){return new Ul(t=>Ak(t),ag)}async function Ix(t,e){const r=At(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new o8,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const a=Bh(o,`Initialization of query '${td(e.query)}' failed`);return void e.onError(a)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&Fx(r)}async function Sx(t,e){const r=At(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function A8(t,e){const r=At(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(n=!0);o.z_=i}}n&&Fx(r)}function l8(t,e,r){const n=At(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function Fx(t){t.Y_.forEach(e=>{e.next()})}var Z2,QE;(QE=Z2||(Z2={})).ea="default",QE.Cache="cache";class Tx{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new th(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Z2.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.serializer=e}Es(e){return Ho(this.serializer,e)}ds(e){return e.metadata.exists?Nk(this.serializer,e.document,!1):_r.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return an(e)}}class c8{constructor(e,r,n){this.ca=e,this.localStore=r,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dN(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const n=Vt.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,n=new UE(this.serializer);for(const i of e)if(i.metadata.queries){const s=n.Es(i.metadata.name);for(const o of i.metadata.queries){const a=(r.get(o)||Pt()).add(s);r.set(o,a)}}return r}async complete(){const e=await Oj(this.localStore,new UE(this.serializer),this.documents,this.ca.id),r=this.ha(this.documents);for(const n of this.queries)await Mj(this.localStore,n,r.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function dN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.key=e}}class fN{constructor(e){this.key=e}}class pN{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pt(),this.mutatedKeys=Pt(),this.Aa=uk(e),this.Ra=new Td(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new kE,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,a=!1;const A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,c)=>{const f=i.get(u),g=Ag(this.query,c)?c:null,v=!!f&&this.mutatedKeys.has(f.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;f&&g?f.data.isEqual(g.data)?v!==b&&(n.track({type:3,doc:g}),S=!0):this.ga(f,g)||(n.track({type:2,doc:g}),S=!0,(A&&this.Aa(g,A)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!f&&g?(n.track({type:0,doc:g}),S=!0):f&&!g&&(n.track({type:1,doc:f}),S=!0,(A||l)&&(a=!0)),S&&(g?(o=o.add(g),s=b?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:o,fa:n,ns:a,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,c)=>function(g,v){const b=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return b(g)-b(v)}(u.type,c.type)||this.Aa(u.doc,c.doc)),this.pa(n),i=i!=null&&i;const a=r&&!i?this.ya():[],A=this.da.size===0&&this.current&&!i?1:0,l=A!==this.Ea;return this.Ea=A,o.length!==0||l?{snapshot:new th(this.query,e.Ra,s,o,e.mutatedKeys,A===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new kE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new fN(n))}),this.da.forEach(n=>{e.has(n)||r.push(new hN(n))}),r}ba(e){this.Ta=e.Ts,this.da=Pt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return th.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class d8{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class h8{constructor(e){this.key=e,this.va=!1}}class f8{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ul(a=>Ak(a),ag),this.Ma=new Map,this.xa=new Set,this.Oa=new yr(st.comparator),this.Na=new Map,this.La=new mx,this.Ba={},this.ka=new Map,this.qa=Xu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function p8(t,e,r=!0){const n=ow(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await gN(n,e,r,!0),i}async function g8(t,e){const r=ow(t);await gN(r,e,!0,!1)}async function gN(t,e,r,n){const i=await Xd(t.localStore,_i(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let a;return n&&(a=await kx(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&sw(t.remoteStore,i),a}async function kx(t,e,r,n,i){t.Ka=(c,f,g)=>async function(b,S,w,y){let x=S.view.ma(w);x.ns&&(x=await Av(b.localStore,S.query,!1).then(({documents:I})=>S.view.ma(I,x)));const L=y&&y.targetChanges.get(S.targetId),P=y&&y.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(x,b.isPrimaryClient,L,P);return eB(b,S.targetId,M.wa),M.snapshot}(t,c,f,g);const s=await Av(t.localStore,e,!0),o=new pN(e,s.Ts),a=o.ma(s.documents),A=cg.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,A);eB(t,r,l.wa);const u=new d8(e,r,o);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function m8(t,e,r){const n=At(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(o=>!ag(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Zd(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&eh(n.remoteStore,i.targetId),rh(n,i.targetId)}).catch(Nl)):(rh(n,i.targetId),await Zd(n.localStore,i.targetId,!0))}async function v8(t,e){const r=At(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),eh(r.remoteStore,n.targetId))}async function w8(t,e,r){const n=Lx(t);try{const i=await function(o,a){const A=At(o),l=Nr.now(),u=a.reduce((g,v)=>g.add(v.key),Pt());let c,f;return A.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Vi(),b=Pt();return A.cs.getEntries(g,u).next(S=>{v=S,v.forEach((w,y)=>{y.isValidDocument()||(b=b.add(w))})}).next(()=>A.localDocuments.getOverlayedDocuments(g,v)).next(S=>{c=S;const w=[];for(const y of a){const x=VM(y,c.get(y.key).overlayedDocument);x!=null&&w.push(new Ka(y.key,x,ZT(x.value.mapValue),kr.exists(!0)))}return A.mutationQueue.addMutationBatch(g,l,w,a)}).next(S=>{f=S;const w=S.applyToLocalDocumentSet(c,b);return A.documentOverlayCache.saveOverlays(g,S.batchId,w)})}).then(()=>({batchId:f.batchId,changes:dk(c)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,a,A){let l=o.Ba[o.currentUser.toKey()];l||(l=new yr(Ut)),l=l.insert(a,A),o.Ba[o.currentUser.toKey()]=l}(n,i.batchId,r),await za(n,i.changes),await wh(n.remoteStore)}catch(i){const s=Bh(i,"Failed to persist write");r.reject(s)}}async function mN(t,e){const r=At(t);try{const n=await Rj(r.localStore,e);e.targetChanges.forEach((i,s)=>{const o=r.Na.get(s);o&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?xt(o.va):i.removedDocuments.size>0&&(xt(o.va),o.va=!1))}),await za(r,n,e)}catch(n){await Nl(n)}}function LE(t,e,r){const n=At(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const A=At(o);A.onlineState=a;let l=!1;A.queries.forEach((u,c)=>{for(const f of c.j_)f.Z_(a)&&(l=!0)}),l&&Fx(A)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function y8(t,e,r){const n=At(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let o=new yr(st.comparator);o=o.insert(s,_r.newNoDocument(s,_t.min()));const a=Pt().add(s),A=new ug(_t.min(),new Map,new yr(Ut),o,a);await mN(n,A),n.Oa=n.Oa.remove(s),n.Na.delete(e),Ux(n)}else await Zd(n.localStore,e,!1).then(()=>rh(n,e,r)).catch(Nl)}async function B8(t,e){const r=At(t),n=e.batch.batchId;try{const i=await Pj(r.localStore,e);Qx(r,n,null),Nx(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await za(r,i)}catch(i){await Nl(i)}}async function b8(t,e,r){const n=At(t);try{const i=await function(o,a){const A=At(o);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return A.mutationQueue.lookupMutationBatch(l,a).next(c=>(xt(c!==null),u=c.keys(),A.mutationQueue.removeMutationBatch(l,c))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>A.localDocuments.getDocuments(l,u))})}(n.localStore,e);Qx(n,e,r),Nx(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await za(n,i)}catch(i){await Nl(i)}}async function x8(t,e){const r=At(t);Ll(r.remoteStore)||Je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=await function(o){const a=At(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>a.mutationQueue.getHighestUnacknowledgedBatchId(A))}(r.localStore);if(n===-1)return void e.resolve();const i=r.ka.get(n)||[];i.push(e),r.ka.set(n,i)}catch(n){const i=Bh(n,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Nx(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function Qx(t,e,r){const n=At(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function rh(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||vN(t,n)})}function vN(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(eh(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Ux(t))}function eB(t,e,r){for(const n of r)n instanceof hN?(t.La.addReference(n.key,e),_8(t,n)):n instanceof fN?(Je("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||vN(t,n.key)):pt()}function _8(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Je("SyncEngine","New document in limbo: "+r),t.xa.add(n),Ux(t))}function Ux(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new st(Vt.fromString(e)),n=t.qa.next();t.Na.set(n,new h8(r)),t.Oa=t.Oa.insert(r,n),sw(t.remoteStore,new xa(_i(ph(r.path)),n,"TargetPurposeLimboResolution",ji.oe))}}async function za(t,e,r){const n=At(t),i=[],s=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((a,A)=>{o.push(n.Ka(A,e,r).then(l=>{var u;if((l||r)&&n.isPrimaryClient){const c=l?!l.fromCache:(u=r==null?void 0:r.targetChanges.get(A.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(A.targetId,c?"current":"not-current")}if(l){i.push(l);const c=yx.Wi(A.targetId,l);s.push(c)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(A,l){const u=At(A);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Se.forEach(l,f=>Se.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(c,f.targetId,g)).next(()=>Se.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(c,f.targetId,g)))))}catch(c){if(!Ql(c))throw c;Je("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const g=u.os.get(f),v=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(f,b)}}}(n.localStore,s))}async function C8(t,e){const r=At(t);if(!r.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const n=await Xk(r.localStore,e);r.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(A=>{A.reject(new $e(ke.CANCELLED,o))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await za(r,n.hs)}}function E8(t,e){const r=At(t),n=r.Na.get(e);if(n&&n.va)return Pt().add(n.key);{let i=Pt();const s=r.Ma.get(e);if(!s)return i;for(const o of s){const a=r.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}async function I8(t,e){const r=At(t),n=await Av(r.localStore,e.query,!0),i=e.view.ba(n);return r.isPrimaryClient&&eB(r,e.targetId,i.wa),i}async function S8(t,e){const r=At(t);return rN(r.localStore,e).then(n=>za(r,n))}async function F8(t,e,r,n){const i=At(t),s=await function(a,A){const l=At(a),u=At(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.Mn(c,A).next(f=>f?l.localDocuments.getDocuments(c,f):Se.resolve(null)))}(i.localStore,e);s!==null?(r==="pending"?await wh(i.remoteStore):r==="acknowledged"||r==="rejected"?(Qx(i,e,n||null),Nx(i,e),function(a,A){At(At(a).mutationQueue).On(A)}(i.localStore,e)):pt(),await za(i,s)):Je("SyncEngine","Cannot apply mutation batch with id: "+e)}async function T8(t,e){const r=At(t);if(ow(r),Lx(r),e===!0&&r.Qa!==!0){const n=r.sharedClientState.getAllActiveQueryTargets(),i=await PE(r,n.toArray());r.Qa=!0,await X2(r.remoteStore,!0);for(const s of i)sw(r.remoteStore,s)}else if(e===!1&&r.Qa!==!1){const n=[];let i=Promise.resolve();r.Ma.forEach((s,o)=>{r.sharedClientState.isLocalQueryTarget(o)?n.push(o):i=i.then(()=>(rh(r,o),Zd(r.localStore,o,!0))),eh(r.remoteStore,o)}),await i,await PE(r,n),function(o){const a=At(o);a.Na.forEach((A,l)=>{eh(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new yr(st.comparator)}(r),r.Qa=!1,await X2(r.remoteStore,!1)}}async function PE(t,e,r){const n=At(t),i=[],s=[];for(const o of e){let a;const A=n.Ma.get(o);if(A&&A.length!==0){a=await Xd(n.localStore,_i(A[0]));for(const l of A){const u=n.Fa.get(l),c=await I8(n,u);c.snapshot&&s.push(c.snapshot)}}else{const l=await tN(n.localStore,o);a=await Xd(n.localStore,l),await kx(n,wN(l),o,!1,a.resumeToken)}i.push(a)}return n.Ca.d_(s),i}function wN(t){return ak(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function k8(t){return function(r){return At(At(r).persistence).Qi()}(At(t).localStore)}async function N8(t,e,r,n){const i=At(t);if(i.Qa)return void Je("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(r){case"current":case"not-current":{const o=await rN(i.localStore,lk(s[0])),a=ug.createSynthesizedRemoteEventForCurrentChange(e,r==="current",zr.EMPTY_BYTE_STRING);await za(i,o,a);break}case"rejected":await Zd(i.localStore,e,!0),rh(i,e,n);break;default:pt()}}async function Q8(t,e,r){const n=ow(t);if(n.Qa){for(const i of e){if(n.Ma.has(i)&&n.sharedClientState.isActiveQueryTarget(i)){Je("SyncEngine","Adding an already active target "+i);continue}const s=await tN(n.localStore,i),o=await Xd(n.localStore,s);await kx(n,wN(s),o.targetId,!1,o.resumeToken),sw(n.remoteStore,o)}for(const i of r)n.Ma.has(i)&&await Zd(n.localStore,i,!1).then(()=>{eh(n.remoteStore,i),rh(n,i)}).catch(Nl)}}function ow(t){const e=At(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y8.bind(null,e),e.Ca.d_=A8.bind(null,e.eventManager),e.Ca.$a=l8.bind(null,e.eventManager),e}function Lx(t){const e=At(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b8.bind(null,e),e}function U8(t,e,r){const n=At(t);(async function(s,o,a){try{const A=await o.getMetadata();if(await function(g,v){const b=At(g),S=an(v.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",w=>b.Gr.getBundleMetadata(w,v.id)).then(w=>!!w&&w.createTime.compareTo(S)>=0)}(s.localStore,A))return await o.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(A)),Promise.resolve(new Set);a._updateProgress(dN(A));const l=new c8(A,s.localStore,o.serializer);let u=await o.Ua();for(;u;){const f=await l.la(u);f&&a._updateProgress(f),u=await o.Ua()}const c=await l.complete();return await za(s,c.Ia,void 0),await function(g,v){const b=At(g);return b.persistence.runTransaction("Save bundle","readwrite",S=>b.Gr.saveBundleMetadata(S,v))}(s.localStore,A),a._completeWith(c.progress),Promise.resolve(c.Pa)}catch(A){return zo("SyncEngine",`Loading bundle failed with ${A}`),a._failWith(A),Promise.resolve(new Set)}})(n,e,r).then(i=>{n.sharedClientState.notifyBundleLoaded(i)})}class Op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return Yk(this.persistence,new Jk,e.initialUser,this.serializer)}Ga(e){return new $k(iw.Zr,this.serializer)}Wa(e){return new iN}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Op.provider={build:()=>new Op};class yN extends Op{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await Lx(this.Ja.syncEngine),await wh(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return Yk(this.persistence,new Jk,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new vj(n,e.asyncQueue,r)}Ha(e,r){const n=new ZO(r,this.persistence);return new XO(e.asyncQueue,n)}Ga(e){const r=wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new vx(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,sN(),g0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new iN}}class L8 extends yN{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const r=this.Ja.syncEngine;this.sharedClientState instanceof z1&&(this.sharedClientState.syncEngine={no:F8.bind(null,r),ro:N8.bind(null,r),io:Q8.bind(null,r),Qi:k8.bind(null,r),eo:S8.bind(null,r)},await this.sharedClientState.start()),await this.persistence.yi(async n=>{await T8(this.Ja.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())})}Wa(e){const r=sN();if(!z1.D(r))throw new $e(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new z1(r,e.asyncQueue,n,e.clientId,e.initialUser)}}class Mp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>LE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=C8.bind(null,this.syncEngine),await X2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a8}()}createDatastore(e){const r=dg(e.databaseInfo.databaseId),n=function(s){return new Kj(s)}(e.databaseInfo);return function(s,o,a,A){return new qj(s,o,a,A)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,o,a){return new $j(n,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>LE(this.syncEngine,r,0),function(){return FE.D()?new FE:new jj}())}createSyncEngine(e,r){return function(i,s,o,a,A,l,u){const c=new f8(i,s,o,a,A,l);return u&&(c.Qa=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=At(i);Je("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await vh(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Mp.provider={build:()=>new Mp};function RE(t,e=10240){let r=0;return{async read(){if(r<t.byteLength){const n={value:t.slice(r,r+e),done:!1};return r+=e,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):on("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new zn,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(n=>{n&&n.ua()?this.metadata.resolve(n.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(n==null?void 0:n.aa)}`))},n=>this.metadata.reject(n))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const r=this.eu.decode(e),n=Number(r);isNaN(n)&&this.ru(`length string (${r}) is not valid number`);const i=await this.iu(n);return new u8(JSON.parse(i),e.length+n)}su(){return this.buffer.findIndex(e=>e===123)}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const r=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),r}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const r=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),r}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const r=new Uint8Array(this.buffer.length+e.value.length);r.set(this.buffer),r.set(e.value,this.buffer.length),this.buffer=r}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $e(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(i,s){const o=At(i),a={documents:s.map(c=>Rp(o.serializer,c))},A=await o.Lo("BatchGetDocuments",o.serializer.databaseId,Vt.emptyPath(),a,s.length),l=new Map;A.forEach(c=>{const f=XM(o.serializer,c);l.set(f.key.toString(),f)});const u=[];return s.forEach(c=>{const f=l.get(c.toString());xt(!!f),u.push(f)}),u}(this.datastore,e);return r.forEach(n=>this.recordVersion(n)),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,n)=>{const i=st.fromPath(n);this.mutations.push(new Ax(i,this.precondition(i)))}),await async function(n,i){const s=At(n),o={writes:i.map(a=>Dp(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,Vt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw pt();r=_t.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new $e(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(_t.min())?kr.exists(!1):kr.updateTime(r):kr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(_t.min()))throw new $e(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kr.updateTime(r)}return kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,r,n,i,s){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=s,this._u=n.maxAttempts,this.t_=new bx(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new R8(this.datastore),r=this.cu(e);r&&r.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(i=>{this.lu(i)}))}).catch(n=>{this.lu(n)})})}cu(e){try{const r=this.updateFunction(e);return!sg(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!bk(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=kn.UNAUTHENTICATED,this.clientId=RT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Je("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Je("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Bh(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function q1(t,e){t.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Xk(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function DE(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Px(t);Je("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>TE(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>TE(e.remoteStore,i)),t._onlineComponents=e}async function Px(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Je("FirestoreClient","Using user provided OfflineComponentProvider");try{await q1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ke.FAILED_PRECONDITION||i.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;zo("Error using user provided cache. Falling back to memory cache: "+r),await q1(t,new Op)}}else Je("FirestoreClient","Using default OfflineComponentProvider"),await q1(t,new Op);return t._offlineComponents}async function Aw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Je("FirestoreClient","Using user provided OnlineComponentProvider"),await DE(t,t._uninitializedComponentsProvider._online)):(Je("FirestoreClient","Using default OnlineComponentProvider"),await DE(t,new Mp))),t._onlineComponents}function BN(t){return Px(t).then(e=>e.persistence)}function Rx(t){return Px(t).then(e=>e.localStore)}function bN(t){return Aw(t).then(e=>e.remoteStore)}function Dx(t){return Aw(t).then(e=>e.syncEngine)}function M8(t){return Aw(t).then(e=>e.datastore)}async function nh(t){const e=await Aw(t),r=e.eventManager;return r.onListen=p8.bind(null,e.syncEngine),r.onUnlisten=m8.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=g8.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=v8.bind(null,e.syncEngine),r}function j8(t){return t.asyncQueue.enqueue(async()=>{const e=await BN(t),r=await bN(t);return e.setNetworkEnabled(!0),function(i){const s=At(i);return s.L_.delete(0),hg(s)}(r)})}function H8(t){return t.asyncQueue.enqueue(async()=>{const e=await BN(t),r=await bN(t);return e.setNetworkEnabled(!1),async function(i){const s=At(i);s.L_.add(0),await vh(s),s.q_.set("Offline")}(r)})}function V8(t,e){const r=new zn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(l,u){const c=At(l);return c.persistence.runTransaction("read document","readonly",f=>c.localDocuments.getDocument(f,u))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new $e(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const A=Bh(a,`Failed to get document '${s} from cache`);o.reject(A)}}(await Rx(t),e,r)),r.promise}function xN(t,e,r={}){const n=new zn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,A,l){const u=new aw({next:f=>{u.Za(),o.enqueueAndForget(()=>Sx(s,c));const g=f.docs.has(a);!g&&f.fromCache?l.reject(new $e(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&A&&A.source==="server"?l.reject(new $e(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new Tx(ph(a.path),u,{includeMetadataChanges:!0,_a:!0});return Ix(s,c)}(await nh(t),t.asyncQueue,e,r,n)),n.promise}function K8(t,e){const r=new zn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Av(i,s,!0),A=new pN(s,a.Ts),l=A.ma(a.documents),u=A.applyChanges(l,!1);o.resolve(u.snapshot)}catch(a){const A=Bh(a,`Failed to execute query '${s} against cache`);o.reject(A)}}(await Rx(t),e,r)),r.promise}function _N(t,e,r={}){const n=new zn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,A,l){const u=new aw({next:f=>{u.Za(),o.enqueueAndForget(()=>Sx(s,c)),f.fromCache&&A.source==="server"?l.reject(new $e(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new Tx(a,u,{includeMetadataChanges:!0,_a:!0});return Ix(s,c)}(await nh(t),t.asyncQueue,e,r,n)),n.promise}function z8(t,e){const r=new aw(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){At(i).Y_.add(s),s.next()}(await nh(t),r)),()=>{r.Za(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){At(i).Y_.delete(s)}(await nh(t),r))}}function G8(t,e,r,n){const i=function(o,a){let A;return A=typeof o=="string"?_k().encode(o):o,function(u,c){return new P8(u,c)}(function(u,c){if(u instanceof Uint8Array)return RE(u,c);if(u instanceof ArrayBuffer)return RE(new Uint8Array(u),c);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),a)}(r,dg(e));t.asyncQueue.enqueueAndForget(async()=>{U8(await Dx(t),i,n)})}function q8(t,e){return t.asyncQueue.enqueue(async()=>function(n,i){const s=At(n);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(await Rx(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e,r){if(!r)throw new $e(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EN(t,e,r,n){if(e===!0&&n===!0)throw new $e(ke.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ME(t){if(!st.isDocumentKey(t))throw new $e(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jE(t){if(st.isDocumentKey(t))throw new $e(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pt()}function Jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=lw(t);throw new $e(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function IN(t,e){if(e<=0)throw new $e(ke.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $e(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CN((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $e(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $e(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $e(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fg{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jO;switch(n.type){case"firstParty":return new zO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=OE.get(r);n&&(Je("ComponentProvider","Removing Datastore"),OE.delete(r),n.terminate())}(this),Promise.resolve()}}function W8(t,e,r,n={}){var i;const s=(t=Jt(t,fg))._getSettings(),o=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let a,A;if(typeof n.mockUserToken=="string")a=n.mockUserToken,A=kn.MOCK_USER;else{a=g6(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new $e(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new kn(l)}t._authCredentials=new HO(new PT(a,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ci=class SN{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new SN(this.firestore,e,this._query)}},Pr=class FN{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new FN(this.firestore,e,this._key)}},ol=class TN extends Ci{constructor(e,r,n){super(e,r,ph(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pr(this.firestore,null,new st(e))}withConverter(e){return new TN(this.firestore,e,this._path)}};function kN(t,e,...r){if(t=St(t),Ox("collection","path",e),t instanceof fg){const n=Vt.fromString(e,...r);return jE(n),new ol(t,null,n)}{if(!(t instanceof Pr||t instanceof ol))throw new $e(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vt.fromString(e,...r));return jE(n),new ol(t.firestore,null,n)}}function $8(t,e){if(t=Jt(t,fg),Ox("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $e(ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ci(t,null,function(n){return new Va(Vt.emptyPath(),n)}(e))}function no(t,e,...r){if(t=St(t),arguments.length===1&&(e=RT.newId()),Ox("doc","path",e),t instanceof fg){const n=Vt.fromString(e,...r);return ME(n),new Pr(t,null,new st(n))}{if(!(t instanceof Pr||t instanceof ol))throw new $e(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vt.fromString(e,...r));return ME(n),new Pr(t.firestore,t instanceof ol?t.converter:null,new st(n))}}function NN(t,e){return t=St(t),e=St(e),(t instanceof Pr||t instanceof ol)&&(e instanceof Pr||e instanceof ol)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function QN(t,e){return t=St(t),e=St(e),t instanceof Ci&&e instanceof Ci&&t.firestore===e.firestore&&ag(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bx(this,"async_queue_retry"),this.Vu=()=>{const n=g0();n&&Je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=g0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=g0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new zn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ql(e))throw e;Je("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw on("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=Ex.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&pt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function tB(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class J8{constructor(){this._progressObserver={},this._taskCompletionResolver=new zn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,n){this._progressObserver={next:e,error:r,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=-1;let An=class extends fg{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new VE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VE(e),this._firestoreClient=void 0,await e}}};function ui(t){if(t._terminated)throw new $e(ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UN(t),t._firestoreClient}function UN(t){var e,r,n;const i=t._freezeSettings(),s=function(a,A,l,u){return new BM(a,A,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,CN(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new O8(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const A=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(A),_online:A}}(t._componentsProvider))}function X8(t,e){zo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return LN(t,Mp.provider,{build:n=>new yN(n,r.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Z8(t){zo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();LN(t,Mp.provider,{build:r=>new L8(r,e.cacheSizeBytes)})}function LN(t,e,r){if((t=Jt(t,An))._firestoreClient||t._terminated)throw new $e(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new $e(ke.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},UN(t)}function eH(t){if(t._initialized&&!t._terminated)throw new $e(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!jo.D())return Promise.resolve();const i=n+"main";await jo.delete(i)}(wx(t._databaseId,t._persistenceKey)),e.resolve()}catch(r){e.reject(r)}}),e.promise}function tH(t){return function(r){const n=new zn;return r.asyncQueue.enqueueAndForget(async()=>x8(await Dx(r),n)),n.promise}(ui(t=Jt(t,An)))}function rH(t){return j8(ui(t=Jt(t,An)))}function nH(t){return H8(ui(t=Jt(t,An)))}function iH(t,e){const r=ui(t=Jt(t,An)),n=new J8;return G8(r,t._databaseId,e,n),n}function sH(t,e){return q8(ui(t=Jt(t,An)),e).then(r=>r?new Ci(t,null,r.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(zr.fromBase64String(e))}catch(r){throw new $e(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new qo(zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl=class{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new $e(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new $e(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new $e(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=/^__.*__$/;class aH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,r,this.fieldTransforms):new gh(e,this.data,r,this.fieldTransforms)}}class PN{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Ka(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function RN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class cw{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(RN(this.Cu)&&oH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||dg(e)}Qu(e,r,n,i=!1){return new cw({Cu:e,methodName:r,qu:n,path:Tr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uc(t){const e=t._freezeSettings(),r=dg(t._databaseId);return new AH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function dw(t,e,r,n,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);qx("Data must be an object, but it was:",o,n);const a=MN(n,o);let A,l;if(s.merge)A=new Hi(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const c of s.mergeFields){const f=rB(e,c,r);if(!o.contains(f))throw new $e(ke.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);HN(u,f)||u.push(f)}A=new Hi(u),l=o.fieldTransforms.filter(c=>A.covers(c.field))}else A=null,l=o.fieldTransforms;return new aH(new Hn(a),A,l)}class pg extends lc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pg}}function DN(t,e,r){return new cw({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jx extends lc{_toFieldTransform(e){return new lg(e.path,new $d)}isEqual(e){return e instanceof jx}}class Hx extends lc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=DN(this,e,!0),n=this.Ku.map(s=>cc(s,r)),i=new Wu(n);return new lg(e.path,i)}isEqual(e){return e instanceof Hx&&Ip(this.Ku,e.Ku)}}class Vx extends lc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=DN(this,e,!0),n=this.Ku.map(s=>cc(s,r)),i=new $u(n);return new lg(e.path,i)}isEqual(e){return e instanceof Vx&&Ip(this.Ku,e.Ku)}}class Kx extends lc{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new Jd(e.serializer,pk(e.serializer,this.$u));return new lg(e.path,r)}isEqual(e){return e instanceof Kx&&this.$u===e.$u}}function zx(t,e,r,n){const i=t.Qu(1,e,r);qx("Data must be an object, but it was:",i,n);const s=[],o=Hn.empty();Ac(n,(A,l)=>{const u=Wx(e,A,r);l=St(l);const c=i.Nu(u);if(l instanceof pg)s.push(u);else{const f=cc(l,c);f!=null&&(s.push(u),o.set(u,f))}});const a=new Hi(s);return new PN(o,a,i.fieldTransforms)}function Gx(t,e,r,n,i,s){const o=t.Qu(1,e,r),a=[rB(e,n,r)],A=[i];if(s.length%2!=0)throw new $e(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(rB(e,s[f])),A.push(s[f+1]);const l=[],u=Hn.empty();for(let f=a.length-1;f>=0;--f)if(!HN(l,a[f])){const g=a[f];let v=A[f];v=St(v);const b=o.Nu(g);if(v instanceof pg)l.push(g);else{const S=cc(v,b);S!=null&&(l.push(g),u.set(g,S))}}const c=new Hi(l);return new PN(u,c,o.fieldTransforms)}function ON(t,e,r,n=!1){return cc(r,t.Qu(n?4:3,e))}function cc(t,e){if(jN(t=St(t)))return qx("Unsupported field value:",e,t),MN(t,e);if(t instanceof lc)return function(n,i){if(!RN(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const a of n){let A=cc(a,i.Lu(o));A==null&&(A={nullValue:"NULL_VALUE"}),s.push(A),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=St(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return pk(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Nr.fromDate(n);return{timestampValue:Yd(i.serializer,s)}}if(n instanceof Nr){const s=new Nr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yd(i.serializer,s)}}if(n instanceof uw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof qo)return{bytesValue:Ik(i.serializer,n._byteString)};if(n instanceof Pr){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hx(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Mx)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(A=>{if(typeof A!="number")throw a.Bu("VectorValues must only contain numeric values.");return ax(a.serializer,A)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${lw(n)}`)}(t,e)}function MN(t,e){const r={};return $T(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ac(t,(n,i)=>{const s=cc(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function jN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nr||t instanceof uw||t instanceof qo||t instanceof Pr||t instanceof lc||t instanceof Mx)}function qx(t,e,r){if(!jN(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=lw(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function rB(t,e,r){if((e=St(e))instanceof bl)return e._internalPath;if(typeof e=="string")return Wx(t,e);throw dv("Field path arguments must be of type string or ",t,!1,void 0,r)}const lH=new RegExp("[~\\*/\\[\\]]");function Wx(t,e,r){if(e.search(lH)>=0)throw dv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new bl(...e.split("."))._internalPath}catch{throw dv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function dv(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let A="";return(s||o)&&(A+=" (found",s&&(A+=` in field ${n}`),o&&(A+=` in document ${i}`),A+=")"),new $e(ke.INVALID_ARGUMENT,a+t+A)}function HN(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(hw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class uH extends jp{data(){return super.data()}}function hw(t,e){return typeof e=="string"?Wx(t,e):e instanceof bl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $x{}class gg extends $x{}function IA(t,e,...r){let n=[];e instanceof $x&&n.push(e),n=n.concat(r),function(s){const o=s.filter(A=>A instanceof Jx).length,a=s.filter(A=>A instanceof fw).length;if(o>1||o>0&&a>0)throw new $e(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class fw extends gg{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new fw(e,r,n)}_apply(e){const r=this._parse(e);return zN(e._query,r),new Ci(e.firestore,e.converter,V2(e._query,r))}_parse(e){const r=uc(e.firestore);return function(s,o,a,A,l,u,c){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new $e(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){zE(c,u);const g=[];for(const v of c)g.push(KE(A,s,v));f={arrayValue:{values:g}}}else f=KE(A,s,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||zE(c,u),f=ON(a,o,c,u==="in"||u==="not-in");return Kt.create(l,u,f)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function cH(t,e,r){const n=e,i=hw("where",t);return fw._create(i,n,r)}class Jx extends $x{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Jx(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:sr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const A of a)zN(o,A),o=V2(o,A)}(e._query,r),new Ci(e.firestore,e.converter,V2(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yx extends gg{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Yx(e,r)}_apply(e){const r=function(i,s,o){if(i.startAt!==null)throw new $e(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $e(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pp(s,o)}(e._query,this._field,this._direction);return new Ci(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Va(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function dH(t,e="asc"){const r=e,n=hw("orderBy",t);return Yx._create(n,r)}class pw extends gg{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new pw(e,r,n)}_apply(e){return new Ci(e.firestore,e.converter,iv(e._query,this._limit,this._limitType))}}function hH(t){return IN("limit",t),pw._create("limit",t,"F")}function fH(t){return IN("limitToLast",t),pw._create("limitToLast",t,"L")}class gw extends gg{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new gw(e,r,n)}_apply(e){const r=KN(e,this.type,this._docOrFields,this._inclusive);return new Ci(e.firestore,e.converter,function(i,s){return new Va(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,r))}}function pH(...t){return gw._create("startAt",t,!0)}function gH(...t){return gw._create("startAfter",t,!1)}class mw extends gg{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new mw(e,r,n)}_apply(e){const r=KN(e,this.type,this._docOrFields,this._inclusive);return new Ci(e.firestore,e.converter,function(i,s){return new Va(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,r))}}function mH(...t){return mw._create("endBefore",t,!1)}function vH(...t){return mw._create("endAt",t,!0)}function KN(t,e,r,n){if(r[0]=St(r[0]),r[0]instanceof jp)return function(s,o,a,A,l){if(!A)throw new $e(ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const c of Fd(s))if(c.field.isKeyField())u.push(Gu(o,A.key));else{const f=A.data.field(c.field);if(Xv(f))throw new $e(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const g=c.field.canonicalString();throw new $e(ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}u.push(f)}return new yl(u,l)}(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=uc(t.firestore);return function(o,a,A,l,u,c){const f=o.explicitOrderBy;if(u.length>f.length)throw new $e(ke.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let v=0;v<u.length;v++){const b=u[v];if(f[v].field.isKeyField()){if(typeof b!="string")throw new $e(ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!sx(o)&&b.indexOf("/")!==-1)throw new $e(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const S=o.path.child(Vt.fromString(b));if(!st.isDocumentKey(S))throw new $e(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const w=new st(S);g.push(Gu(a,w))}else{const S=ON(A,l,b);g.push(S)}}return new yl(g,c)}(t._query,t.firestore._databaseId,i,e,r,n)}}function KE(t,e,r){if(typeof(r=St(r))=="string"){if(r==="")throw new $e(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sx(e)&&r.indexOf("/")!==-1)throw new $e(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Vt.fromString(r));if(!st.isDocumentKey(n))throw new $e(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Gu(t,new st(n))}if(r instanceof Pr)return Gu(t,r._key);throw new $e(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lw(r)}.`)}function zE(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zN(t,e){const r=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new $e(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Xx{convertValue(e,r="none"){switch(zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw pt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ac(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Sr(o.doubleValue));return new Mx(s)}convertGeoPoint(e){return new uw(Sr(e.latitude),Sr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=nx(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Qp(e));default:return null}}convertTimestamp(e){const r=Pa(e);return new Nr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Vt.fromString(e);xt(Dk(n));const i=new vl(n.get(1),n.get(3)),s=new st(n.popFirst(5));return i.isEqual(r)||on(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class wH extends Xx{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Pr(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ra=class extends jp{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(hw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}},Gf=class extends Ra{data(e={}){return super.data(e)}},xl=class{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new xu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Gf(this._firestore,this._userDataWriter,n.key,n,new xu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new $e(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const A=new Gf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:A,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const A=new Gf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:yH(a.type),doc:A,oldIndex:l,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}};function yH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function GN(t,e){return t instanceof Ra&&e instanceof Ra?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof xl&&e instanceof xl&&t._firestore===e._firestore&&QN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){t=Jt(t,Pr);const e=Jt(t.firestore,An);return xN(ui(e),t._key).then(r=>e_(e,t,r))}class dc extends Xx{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Pr(this.firestore,null,r)}}function BH(t){t=Jt(t,Pr);const e=Jt(t.firestore,An),r=ui(e),n=new dc(e);return V8(r,t._key).then(i=>new Ra(e,n,t._key,i,new xu(i!==null&&i.hasLocalMutations,!0),t.converter))}function bH(t){t=Jt(t,Pr);const e=Jt(t.firestore,An);return xN(ui(e),t._key,{source:"server"}).then(r=>e_(e,t,r))}function xH(t){t=Jt(t,Ci);const e=Jt(t.firestore,An),r=ui(e),n=new dc(e);return VN(t._query),_N(r,t._query).then(i=>new xl(e,n,t,i))}function _H(t){t=Jt(t,Ci);const e=Jt(t.firestore,An),r=ui(e),n=new dc(e);return K8(r,t._query).then(i=>new xl(e,n,t,i))}function CH(t){t=Jt(t,Ci);const e=Jt(t.firestore,An),r=ui(e),n=new dc(e);return _N(r,t._query,{source:"server"}).then(i=>new xl(e,n,t,i))}function qf(t,e,r){t=Jt(t,Pr);const n=Jt(t.firestore,An),i=vw(t.converter,e,r);return mg(n,[dw(uc(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,kr.none())])}function GE(t,e,r,...n){t=Jt(t,Pr);const i=Jt(t.firestore,An),s=uc(i);let o;return o=typeof(e=St(e))=="string"||e instanceof bl?Gx(s,"updateDoc",t._key,e,r,n):zx(s,"updateDoc",t._key,e),mg(i,[o.toMutation(t._key,kr.exists(!0))])}function qN(t){return mg(Jt(t.firestore,An),[new mh(t._key,kr.none())])}function EH(t,e){const r=Jt(t.firestore,An),n=no(t),i=vw(t.converter,e);return mg(r,[dw(uc(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,kr.exists(!1))]).then(()=>n)}function Zx(t,...e){var r,n,i;t=St(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||tB(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(tB(e[o])){const c=e[o];e[o]=(r=c.next)===null||r===void 0?void 0:r.bind(c),e[o+1]=(n=c.error)===null||n===void 0?void 0:n.bind(c),e[o+2]=(i=c.complete)===null||i===void 0?void 0:i.bind(c)}let A,l,u;if(t instanceof Pr)l=Jt(t.firestore,An),u=ph(t._key.path),A={next:c=>{e[o]&&e[o](e_(l,t,c))},error:e[o+1],complete:e[o+2]};else{const c=Jt(t,Ci);l=Jt(c.firestore,An),u=c._query;const f=new dc(l);A={next:g=>{e[o]&&e[o](new xl(l,f,c,g))},error:e[o+1],complete:e[o+2]},VN(t._query)}return function(f,g,v,b){const S=new aw(b),w=new Tx(g,S,v);return f.asyncQueue.enqueueAndForget(async()=>Ix(await nh(f),w)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>Sx(await nh(f),w))}}(ui(l),u,a,A)}function IH(t,e){return z8(ui(t=Jt(t,An)),tB(e)?e:{next:e})}function mg(t,e){return function(n,i){const s=new zn;return n.asyncQueue.enqueueAndForget(async()=>w8(await Dx(n),i,s)),s.promise}(ui(t),e)}function e_(t,e,r){const n=r.docs.get(e._key),i=new dc(t);return new Ra(t,i,e._key,n,new xu(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FH=class{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=uc(e)}set(e,r,n){this._verifyNotCommitted();const i=OA(e,this._firestore),s=vw(i.converter,r,n),o=dw(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(o.toMutation(i._key,kr.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=OA(e,this._firestore);let o;return o=typeof(r=St(r))=="string"||r instanceof bl?Gx(this._dataReader,"WriteBatch.update",s._key,r,n,i):zx(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(o.toMutation(s._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=OA(e,this._firestore);return this._mutations=this._mutations.concat(new mh(r._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function OA(t,e){if((t=St(t)).firestore!==e)throw new $e(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TH=class extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=uc(r)}get(r){const n=OA(r,this._firestore),i=new wH(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||s.length!==1)return pt();const o=s[0];if(o.isFoundDocument())return new jp(this._firestore,i,o.key,o,n.converter);if(o.isNoDocument())return new jp(this._firestore,i,n._key,null,n.converter);throw pt()})}set(r,n,i){const s=OA(r,this._firestore),o=vw(s.converter,n,i),a=dw(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(r,n,i,...s){const o=OA(r,this._firestore);let a;return a=typeof(n=St(n))=="string"||n instanceof bl?Gx(this._dataReader,"Transaction.update",o._key,n,i,s):zx(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,a),this}delete(r){const n=OA(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=OA(e,this._firestore),n=new dc(this._firestore);return super.get(e).then(i=>new Ra(this._firestore,n,r._key,i._document,new xu(!1,!1),r.converter))}};function kH(t,e,r){t=Jt(t,An);const n=Object.assign(Object.assign({},SH),r);return function(s){if(s.maxAttempts<1)throw new $e(ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(s,o,a){const A=new zn;return s.asyncQueue.enqueueAndForget(async()=>{const l=await M8(s);new D8(s.asyncQueue,l,a,o,A).au()}),A.promise}(ui(t),i=>e(new TH(t,i)),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(){return new pg("deleteField")}function QH(){return new jx("serverTimestamp")}function UH(...t){return new Hx("arrayUnion",t)}function LH(...t){return new Vx("arrayRemove",t)}function PH(t){return new Kx("increment",t)}(function(e,r=!0){(function(i){fh=i})(kl),pl(new Ko("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),a=new An(new VO(n.getProvider("auth-internal")),new qO(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $e(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:r},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),oo(P5,"4.7.3",e),oo(P5,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e,r){this._delegate=e,this.firebase=r,Sp(e,new Ko("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Xb(this._delegate)))}_getService(e,r=hl){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((n=i.getComponent())===null||n===void 0?void 0:n.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:r})}_removeServiceInstance(e,r=hl){this._delegate.container.getProvider(e).clearInstance(r)}_addComponent(e){Sp(this._delegate,e)}_addOrOverwriteComponent(e){bT(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},qE=new ac("app-compat","Firebase",DH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(t){const e={},r={__esModule:!0,initializeApp:s,app:i,registerVersion:oo,setLogLevel:IT,onLog:ET,apps:null,SDK_VERSION:kl,INTERNAL:{registerComponent:a,removeApp:n,useAsService:A,modularAPIs:DO}};r.default=r,Object.defineProperty(r,"apps",{get:o});function n(l){delete e[l]}function i(l){if(l=l||hl,!I5(e,l))throw qE.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,u={}){const c=Yb(l,u);if(I5(e,c.name))return e[c.name];const f=new t(c,r);return e[c.name]=f,f}function o(){return Object.keys(e).map(l=>e[l])}function a(l){const u=l.name,c=u.replace("-compat","");if(pl(l)&&l.type==="PUBLIC"){const f=(g=i())=>{if(typeof g[c]!="function")throw qE.create("invalid-app-argument",{appName:u});return g[c]()};l.serviceProps!==void 0&&Z0(f,l.serviceProps),r[c]=f,t.prototype[c]=function(...g){return this._getService.bind(this,u).apply(this,l.multipleInstances?g:[])}}return l.type==="PUBLIC"?r[c]:null}function A(l,u){return u==="serverAuth"?null:u}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){const t=OH(RH);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:WN,extendNamespace:e,createSubscribe:mT,ErrorFactory:ac,deepExtend:Z0});function e(r){Z0(t,r)}return t}const MH=WN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Jv("@firebase/app-compat"),jH="@firebase/app-compat",HH="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(t){oo(jH,HH,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=cT();if(t.firebase!==void 0){WE.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&WE.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Pl=MH;VH();var KH="firebase",zH="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pl.registerVersion(KH,zH,"app-compat");const GH="@firebase/firestore-compat",qH="0.3.38";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new $e("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function JE(){if(!wM())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}let $N=class iB{constructor(e){this._delegate=e}static fromBase64String(e){return JE(),new iB(qo.fromBase64String(e))}static fromUint8Array(e){return $E(),new iB(qo.fromUint8Array(e))}toBase64(){return JE(),this._delegate.toBase64()}toUint8Array(){return $E(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){return WH(t,["next","error","complete"])}function WH(t,e){if(typeof t!="object"||t===null)return!1;const r=t;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{enableIndexedDbPersistence(e,r){return X8(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return Z8(e._delegate)}clearIndexedDbPersistence(e){return eH(e._delegate)}}class JN{constructor(e,r,n){this._delegate=r,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof vl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&zo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},r),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,r,n={}){W8(this._delegate,e,r,n)}enableNetwork(){return rH(this._delegate)}disableNetwork(){return nH(this._delegate)}enablePersistence(e){let r=!1,n=!1;return e&&(r=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,EN("synchronizeTabs",r,"experimentalForceOwningTab",n)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return tH(this._delegate)}onSnapshotsInSync(e){return IH(this._delegate,e)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ih(this,kN(this._delegate,e))}catch(r){throw yi(r,"collection()","Firestore.collection()")}}doc(e){try{return new Ts(this,no(this._delegate,e))}catch(r){throw yi(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wi(this,$8(this._delegate,e))}catch(r){throw yi(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return kH(this._delegate,r=>e(new YN(this,r)))}batch(){return ui(this._delegate),new XN(new FH(this._delegate,e=>mg(this._delegate,e)))}loadBundle(e){return iH(this._delegate,e)}namedQuery(e){return sH(this._delegate,e).then(r=>r?new wi(this,r):null)}}class ww extends Xx{constructor(e){super(),this.firestore=e}convertBytes(e){return new $N(new qo(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Ts.forKey(r,this.firestore,null)}}function JH(t){OO(t)}class YN{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new ww(e)}get(e){const r=_u(e);return this._delegate.get(r).then(n=>new Hp(this._firestore,new Ra(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,r.converter)))}set(e,r,n){const i=_u(e);return n?(t_("Transaction.set",n),this._delegate.set(i,r,n)):this._delegate.set(i,r),this}update(e,r,n,...i){const s=_u(e);return arguments.length===2?this._delegate.update(s,r):this._delegate.update(s,r,n,...i),this}delete(e){const r=_u(e);return this._delegate.delete(r),this}}class XN{constructor(e){this._delegate=e}set(e,r,n){const i=_u(e);return n?(t_("WriteBatch.set",n),this._delegate.set(i,r,n)):this._delegate.set(i,r),this}update(e,r,n,...i){const s=_u(e);return arguments.length===2?this._delegate.update(s,r):this._delegate.update(s,r,n,...i),this}delete(e){const r=_u(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Zu{constructor(e,r,n){this._firestore=e,this._userDataWriter=r,this._delegate=n}fromFirestore(e,r){const n=new Gf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Vp(this._firestore,n),r??{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const n=Zu.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let s=i.get(r);return s||(s=new Zu(e,new ww(e),r),i.set(r,s)),s}}Zu.INSTANCES=new WeakMap;class Ts{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new ww(e)}static forPath(e,r,n){if(e.length%2!==0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ts(r,new Pr(r._delegate,n,new st(e)))}static forKey(e,r,n){return new Ts(r,new Pr(r._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new ih(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ih(this.firestore,kN(this._delegate,e))}catch(r){throw yi(r,"collection()","DocumentReference.collection()")}}isEqual(e){return e=St(e),e instanceof Pr?NN(this._delegate,e):!1}set(e,r){r=t_("DocumentReference.set",r);try{return r?qf(this._delegate,e,r):qf(this._delegate,e)}catch(n){throw yi(n,"setDoc()","DocumentReference.set()")}}update(e,r,...n){try{return arguments.length===1?GE(this._delegate,e):GE(this._delegate,e,r,...n)}catch(i){throw yi(i,"updateDoc()","DocumentReference.update()")}}delete(){return qN(this._delegate)}onSnapshot(...e){const r=ZN(e),n=eQ(e,i=>new Hp(this.firestore,new Ra(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Zx(this._delegate,r,n)}get(e){let r;return(e==null?void 0:e.source)==="cache"?r=BH(this._delegate):(e==null?void 0:e.source)==="server"?r=bH(this._delegate):r=nB(this._delegate),r.then(n=>new Hp(this.firestore,new Ra(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(e){return new Ts(this.firestore,e?this._delegate.withConverter(Zu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function yi(t,e,r){return t.message=t.message.replace(e,r),t}function ZN(t){for(const e of t)if(typeof e=="object"&&!sB(e))return e;return{}}function eQ(t,e){var r,n;let i;return sB(t[0])?i=t[0]:sB(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(r=i.error)===null||r===void 0?void 0:r.bind(i),complete:(n=i.complete)===null||n===void 0?void 0:n.bind(i)}}class Hp{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Ts(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return GN(this._delegate,e._delegate)}}class Vp extends Hp{data(e){const r=this._delegate.data(e);return this._delegate._converter||MO(r!==void 0),r}}class wi{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new ww(e)}where(e,r,n){try{return new wi(this.firestore,IA(this._delegate,cH(e,r,n)))}catch(i){throw yi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new wi(this.firestore,IA(this._delegate,dH(e,r)))}catch(n){throw yi(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wi(this.firestore,IA(this._delegate,hH(e)))}catch(r){throw yi(r,"limit()","Query.limit()")}}limitToLast(e){try{return new wi(this.firestore,IA(this._delegate,fH(e)))}catch(r){throw yi(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wi(this.firestore,IA(this._delegate,pH(...e)))}catch(r){throw yi(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wi(this.firestore,IA(this._delegate,gH(...e)))}catch(r){throw yi(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wi(this.firestore,IA(this._delegate,mH(...e)))}catch(r){throw yi(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wi(this.firestore,IA(this._delegate,vH(...e)))}catch(r){throw yi(r,"endAt()","Query.endAt()")}}isEqual(e){return QN(this._delegate,e._delegate)}get(e){let r;return(e==null?void 0:e.source)==="cache"?r=_H(this._delegate):(e==null?void 0:e.source)==="server"?r=CH(this._delegate):r=xH(this._delegate),r.then(n=>new oB(this.firestore,new xl(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...e){const r=ZN(e),n=eQ(e,i=>new oB(this.firestore,new xl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Zx(this._delegate,r,n)}withConverter(e){return new wi(this.firestore,e?this._delegate.withConverter(Zu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class YH{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Vp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oB{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new wi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Vp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new YH(this._firestore,r))}forEach(e,r){this._delegate.forEach(n=>{e.call(r,new Vp(this._firestore,n))})}isEqual(e){return GN(this._delegate,e._delegate)}}class ih extends wi{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ts(this.firestore,e):null}doc(e){try{return e===void 0?new Ts(this.firestore,no(this._delegate)):new Ts(this.firestore,no(this._delegate,e))}catch(r){throw yi(r,"doc()","CollectionReference.doc()")}}add(e){return EH(this._delegate,e).then(r=>new Ts(this.firestore,r))}isEqual(e){return NN(this._delegate,e._delegate)}withConverter(e){return new ih(this.firestore,e?this._delegate.withConverter(Zu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function _u(t){return Jt(t,Pr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(...e){this._delegate=new bl(...e)}static documentId(){return new r_(Tr.keyField().canonicalString())}isEqual(e){return e=St(e),e instanceof bl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this._delegate=e}static serverTimestamp(){const e=QH();return e._methodName="FieldValue.serverTimestamp",new mu(e)}static delete(){const e=NH();return e._methodName="FieldValue.delete",new mu(e)}static arrayUnion(...e){const r=UH(...e);return r._methodName="FieldValue.arrayUnion",new mu(r)}static arrayRemove(...e){const r=LH(...e);return r._methodName="FieldValue.arrayRemove",new mu(r)}static increment(e){const r=PH(e);return r._methodName="FieldValue.increment",new mu(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH={Firestore:JN,GeoPoint:uw,Timestamp:Nr,Blob:$N,Transaction:YN,WriteBatch:XN,DocumentReference:Ts,DocumentSnapshot:Hp,Query:wi,QueryDocumentSnapshot:Vp,QuerySnapshot:oB,CollectionReference:ih,FieldPath:r_,FieldValue:mu,setLogLevel:JH,CACHE_SIZE_UNLIMITED:Y8};function ZH(t,e){t.INTERNAL.registerComponent(new Ko("firestore-compat",r=>{const n=r.getProvider("app-compat").getImmediate(),i=r.getProvider("firestore").getImmediate();return e(n,i)},"PUBLIC").setServiceProps(Object.assign({},XH)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){ZH(t,(e,r)=>new JN(e,r,new $H)),t.registerVersion(GH,qH)}e7(Pl);function n_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}const sf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Kc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function tQ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r7=t7,n7=tQ,rQ=new ac("auth","Firebase",tQ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Jv("@firebase/auth");function i7(t,...e){hv.logLevel<=Dt.WARN&&hv.warn(`Auth (${kl}): ${t}`,...e)}function m0(t,...e){hv.logLevel<=Dt.ERROR&&hv.error(`Auth (${kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw s_(t,...e)}function _n(t,...e){return s_(t,...e)}function i_(t,e,r){const n=Object.assign(Object.assign({},n7()),{[e]:r});return new ac("auth","Firebase",n).create(e,{appName:t.name})}function Qn(t){return i_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bh(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&qn(t,"argument-error"),i_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function s_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return rQ.create(t,...e)}function tt(t,e,...r){if(!t)throw s_(e,...r)}function Ro(t){const e="INTERNAL ASSERTION FAILED: "+t;throw m0(e),new Error(e)}function Ao(t,e){t||Ro(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function o_(){return YE()==="http:"||YE()==="https:"}function YE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o_()||fT()||"connection"in navigator)?navigator.onLine:!0}function o7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ao(r>e,"Short delay should be less than long delay!"),this.isMobile=m6()||Wb()}get(){return s7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e){Ao(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=new vg(3e4,6e4);function qr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wr(t,e,r,n,i={}){return iQ(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const a=hh(Object.assign({key:t.config.apiKey},o)).slice(1),A=await t._getAdditionalHeaders();A["Content-Type"]="application/json",t.languageCode&&(A["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:A},s);return w6()||(l.referrerPolicy="no-referrer"),nQ.fetch()(sQ(t,t.config.apiHost,r,a),l)})}async function iQ(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},a7),e);try{const i=new u7(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[A,l]=a.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw xf(t,"credential-already-in-use",o);if(A==="EMAIL_EXISTS")throw xf(t,"email-already-in-use",o);if(A==="USER_DISABLED")throw xf(t,"user-disabled",o);const u=n[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw i_(t,u,l);qn(t,u)}}catch(i){if(i instanceof bi)throw i;qn(t,"network-request-failed",{message:String(i)})}}async function Ga(t,e,r,n,i={}){const s=await Wr(t,e,r,n,i);return"mfaPendingCredential"in s&&qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sQ(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?a_(t.config,i):`${t.config.apiScheme}://${i}`}function l7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(_n(this.auth,"network-request-failed")),A7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=_n(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t){return t!==void 0&&t.getResponse!==void 0}function ZE(t){return t!==void 0&&t.enterprise!==void 0}class c7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return l7(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d7(t){return(await Wr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function h7(t,e){return Wr(t,"GET","/v2/recaptchaConfig",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(t,e){return Wr(t,"POST","/v1/accounts:delete",e)}async function p7(t,e){return Wr(t,"POST","/v1/accounts:update",e)}async function oQ(t,e){return Wr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g7(t,e=!1){const r=St(t),n=await r.getIdToken(e),i=yw(n);tt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Wf(W1(i.auth_time)),issuedAtTime:Wf(W1(i.iat)),expirationTime:Wf(W1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function W1(t){return Number(t)*1e3}function yw(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return m0("JWT malformed, contained fewer than 3 sections"),null;try{const i=uT(r);return i?JSON.parse(i):(m0("Failed to decode base64 JWT payload"),null)}catch(i){return m0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eI(t){const e=yw(t);return tt(e,"internal-error"),tt(typeof e.exp<"u","internal-error"),tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof bi&&m7(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function m7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wf(this.lastLoginAt),this.creationTime=Wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Da(t,oQ(r,{idToken:n}));tt(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aQ(s.providerUserInfo):[],a=y7(t.providerData,o),A=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=A?l:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new aB(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function w7(t){const e=St(t);await zp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y7(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function aQ(t){return t.map(e=>{var{providerId:r}=e,n=n_(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(t,e){const r=await iQ(t,{},async()=>{const n=hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sQ(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nQ.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function b7(t,e){return Wr(t,"POST","/v2/accounts:revokeToken",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken<"u","internal-error"),tt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){tt(e.length!==0,"internal-error");const r=eI(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await B7(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new kd;return n&&(tt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(tt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(tt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kd,this.toJSON())}_performRefresh(){return Ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e){tt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _a{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=n_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new aB(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Da(this,this.stsTokenManager.getToken(this.auth,e));return tt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return g7(this,e)}reload(){return w7(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new _a(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await zp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(Qn(this.auth));const e=await this.getIdToken();return await Da(this,f7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,o,a,A,l,u;const c=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,g=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=r.photoURL)!==null&&o!==void 0?o:void 0,b=(a=r.tenantId)!==null&&a!==void 0?a:void 0,S=(A=r._redirectEventId)!==null&&A!==void 0?A:void 0,w=(l=r.createdAt)!==null&&l!==void 0?l:void 0,y=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:L,isAnonymous:P,providerData:M,stsTokenManager:I}=r;tt(x&&I,e,"internal-error");const _=kd.fromJSON(this.name,I);tt(typeof x=="string",e,"internal-error"),SA(c,e.name),SA(f,e.name),tt(typeof L=="boolean",e,"internal-error"),tt(typeof P=="boolean",e,"internal-error"),SA(g,e.name),SA(v,e.name),SA(b,e.name),SA(S,e.name),SA(w,e.name),SA(y,e.name);const k=new _a({uid:x,auth:e,email:f,emailVerified:L,displayName:c,isAnonymous:P,photoURL:v,phoneNumber:g,tenantId:b,stsTokenManager:_,createdAt:w,lastLoginAt:y});return M&&Array.isArray(M)&&(k.providerData=M.map(O=>Object.assign({},O))),S&&(k._redirectEventId=S),k}static async _fromIdTokenResponse(e,r,n=!1){const i=new kd;i.updateFromServerResponse(r);const s=new _a({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await zp(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];tt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?aQ(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new kd;a.updateFromIdToken(n);const A=new _a({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new aB(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Map;function as(t){Ao(t instanceof Function,"Expected a class definition");let e=tI.get(t);return e?(Ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}AQ.type="NONE";const sh=AQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t,e,r){return`firebase:${t}:${e}:${r}`}class Nd{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=ku(this.userKey,i.apiKey,s),this.fullPersistenceKey=ku("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_a._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Nd(as(sh),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||as(sh);const o=ku(n,e.config.apiKey,e.name);let a=null;for(const l of r)try{const u=await l._get(o);if(u){const c=_a._fromJSON(e,u);l!==s&&(a=c),s=l;break}}catch{}const A=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new Nd(s,e,n):(s=A[0],a&&await s._set(o,a.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Nd(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dQ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lQ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hQ(e))return"Blackberry";if(fQ(e))return"Webos";if(uQ(e))return"Safari";if((e.includes("chrome/")||cQ(e))&&!e.includes("edge/"))return"Chrome";if(wg(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function lQ(t=Dr()){return/firefox\//i.test(t)}function uQ(t=Dr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cQ(t=Dr()){return/crios\//i.test(t)}function dQ(t=Dr()){return/iemobile/i.test(t)}function wg(t=Dr()){return/android/i.test(t)}function hQ(t=Dr()){return/blackberry/i.test(t)}function fQ(t=Dr()){return/webos/i.test(t)}function yg(t=Dr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x7(t=Dr()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function _7(t=Dr()){var e;return yg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C7(){return pT()&&document.documentMode===10}function pQ(t=Dr()){return yg(t)||wg(t)||fQ(t)||hQ(t)||/windows phone/i.test(t)||dQ(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(t,e=[]){let r;switch(t){case"Browser":r=rI(Dr());break;case"Worker":r=`${rI(Dr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${kl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,a)=>{try{const A=e(s);o(A)}catch(A){a(A)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(t,e={}){return Wr(t,"GET","/v2/passwordPolicy",qr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=6;class F7{constructor(e){var r,n,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:S7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,o,a;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(r=A.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(n=A.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(o=A.containsNumericCharacter)!==null&&o!==void 0?o:!0),A.isValid&&(A.isValid=(a=A.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),A}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nI(this),this.idTokenSubscription=new nI(this),this.beforeStateQueue=new E7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rQ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=as(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Nd.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await oQ(this,{idToken:e}),n=await _a._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Kr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=i==null?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!o||o===a)&&(A!=null&&A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await zp(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kr(this.app))return Promise.reject(Qn(this));const r=e?St(e):null;return r&&tt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kr(this.app)?Promise.reject(Qn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kr(this.app)?Promise.reject(Qn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I7(this),r=new F7(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await b7(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&as(e)||this._popupRedirectResolver;tt(r,this,"argument-error"),this.redirectPersistenceManager=await Nd.create(this,[as(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const A=e.addObserver(r,n,i);return()=>{o=!0,A()}}else{const A=e.addObserver(r);return()=>{o=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gQ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&i7(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Gr(t){return St(t)}class nI{constructor(e){this.auth=e,this.observer=null,this.addObserver=mT(r=>this.observer=r)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k7(t){Bg=t}function A_(t){return Bg.loadJS(t)}function N7(){return Bg.recaptchaV2Script}function Q7(){return Bg.recaptchaEnterpriseScript}function U7(){return Bg.gapiScript}function mQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const L7="recaptcha-enterprise",P7="NO_RECAPTCHA";class R7{constructor(e){this.type=L7,this.auth=Gr(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{h7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(A.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new c7(A);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(A=>{a(A)})})}function i(s,o,a){const A=window.grecaptcha;ZE(A)?A.enterprise.ready(()=>{A.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(P7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{n(this.auth).then(a=>{if(!r&&ZE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let A=Q7();A.length!==0&&(A+=a),A_(A).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function iI(t,e,r,n=!1){const i=new R7(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gp(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await iI(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await iI(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(s)})}function D7(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(as);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function O7(t,e,r){const n=Gr(t);tt(n._canInitEmulator,n,"emulator-config-failed"),tt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),s=vQ(e),{host:o,port:a}=M7(e),A=a===null?"":`:${a}`;n.config.emulator={url:`${s}//${o}${A}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||j7()}function vQ(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function M7(t){const e=vQ(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:sI(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:sI(o)}}}function sI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j7(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ro("not implemented")}_getIdTokenResponse(e){return Ro("not implemented")}_linkToIdToken(e,r){return Ro("not implemented")}_getReauthenticationResolver(e){return Ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wQ(t,e){return Wr(t,"POST","/v1/accounts:resetPassword",qr(t,e))}async function H7(t,e){return Wr(t,"POST","/v1/accounts:update",e)}async function V7(t,e){return Wr(t,"POST","/v1/accounts:signUp",e)}async function K7(t,e){return Wr(t,"POST","/v1/accounts:update",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z7(t,e){return Ga(t,"POST","/v1/accounts:signInWithPassword",qr(t,e))}async function Bw(t,e){return Wr(t,"POST","/v1/accounts:sendOobCode",qr(t,e))}async function G7(t,e){return Bw(t,e)}async function q7(t,e){return Bw(t,e)}async function W7(t,e){return Bw(t,e)}async function $7(t,e){return Bw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(t,e){return Ga(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}async function Y7(t,e){return Ga(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends xh{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new qp(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new qp(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,r,"signInWithPassword",z7);case"emailLink":return J7(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,n,"signUpPassword",V7);case"emailLink":return Y7(e,{idToken:r,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t,e){return Ga(t,"POST","/v1/accounts:signInWithIdp",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7="http://localhost";class Wo extends xh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):qn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=n_(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Wo(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Fa(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Fa(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Fa(e,r)}buildRequest(){const e={requestUri:X7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=hh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z7(t,e){return Wr(t,"POST","/v1/accounts:sendVerificationCode",qr(t,e))}async function eV(t,e){return Ga(t,"POST","/v1/accounts:signInWithPhoneNumber",qr(t,e))}async function tV(t,e){const r=await Ga(t,"POST","/v1/accounts:signInWithPhoneNumber",qr(t,e));if(r.temporaryProof)throw xf(t,"account-exists-with-different-credential",r);return r}const rV={USER_NOT_FOUND:"user-not-found"};async function nV(t,e){const r=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ga(t,"POST","/v1/accounts:signInWithPhoneNumber",qr(t,r),rV)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends xh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,r){return new Nu({verificationId:e,verificationCode:r})}static _fromTokenResponse(e,r){return new Nu({phoneNumber:e,temporaryProof:r})}_getIdTokenResponse(e){return eV(e,this._makeVerificationRequest())}_linkToIdToken(e,r){return tV(e,Object.assign({idToken:r},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return nV(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:r,verificationId:n,verificationCode:i}=this.params;return e&&r?{temporaryProof:e,phoneNumber:r}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:r,verificationCode:n,phoneNumber:i,temporaryProof:s}=e;return!n&&!r&&!i&&!s?null:new Nu({verificationId:r,verificationCode:n,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sV(t){const e=Bd(vf(t)).link,r=e?Bd(vf(e)).deep_link_id:null,n=Bd(vf(t)).deep_link_id;return(n?Bd(vf(n)).link:null)||n||r||e||t}class bw{constructor(e){var r,n,i,s,o,a;const A=Bd(vf(e)),l=(r=A.apiKey)!==null&&r!==void 0?r:null,u=(n=A.oobCode)!==null&&n!==void 0?n:null,c=iV((i=A.mode)!==null&&i!==void 0?i:null);tt(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=(s=A.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=A.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=A.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=sV(e);try{return new bw(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,r){return qp._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=bw.parseLink(r);return tt(n,"argument-error"),qp._fromEmailAndCode(e,n.code,n.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends qa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qd extends _h{static credentialFromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;return tt("providerId"in r&&"signInMethod"in r,"argument-error"),Wo._fromParams(r)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return tt(e.idToken||e.accessToken,"argument-error"),Wo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Qd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Qd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!n&&!i&&!r&&!s||!a)return null;try{return new Qd(a)._credential({idToken:r,accessToken:n,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends _h{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends _h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Wo._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return No.credential(r,n)}catch{return null}}}No.GOOGLE_SIGN_IN_METHOD="google.com";No.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends _h{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qo.credential(e.oauthAccessToken)}catch{return null}}}Qo.GITHUB_SIGN_IN_METHOD="github.com";Qo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="http://localhost";class oh extends xh{constructor(e,r){super(e,e),this.pendingToken=r}_getIdTokenResponse(e){const r=this.buildRequest();return Fa(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Fa(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Fa(e,r)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:s}=r;return!n||!i||!s||n!==i?null:new oh(n,s)}static _create(e,r){return new oh(e,r)}buildRequest(){return{requestUri:oV,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="saml.";class fv extends qa{constructor(e){tt(e.startsWith(aV),"argument-error"),super(e)}static credentialFromResult(e){return fv.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return fv.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const r=oh.fromJSON(e);return tt(r,"argument-error"),r}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:r,providerId:n}=e;if(!r||!n)return null;try{return oh._create(n,r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends _h{constructor(){super("twitter.com")}static credential(e,r){return Wo._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Uo.credential(r,n)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yQ(t,e){return Ga(t,"POST","/v1/accounts:signUp",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await _a._fromIdTokenResponse(e,n,i),o=oI(n);return new Rs({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=oI(n);return new Rs({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function oI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(t){var e;if(Kr(t.app))return Promise.reject(Qn(t));const r=Gr(t);if(await r._initializationPromise,!((e=r.currentUser)===null||e===void 0)&&e.isAnonymous)return new Rs({user:r.currentUser,providerId:null,operationType:"signIn"});const n=await yQ(r,{returnSecureToken:!0}),i=await Rs._fromIdTokenResponse(r,"signIn",n,!0);return await r._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends bi{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,pv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new pv(e,r,n,i)}}function BQ(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pv._fromErrorAndOperation(t,s,e,n):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t,e){const r=St(t);await xw(!0,r,e);const{providerUserInfo:n}=await p7(r.auth,{idToken:await r.getIdToken(),deleteProvider:[e]}),i=bQ(n||[]);return r.providerData=r.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(r.phoneNumber=null),await r.auth._persistUserIfCurrent(r),r}async function l_(t,e,r=!1){const n=await Da(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Rs._forOperation(t,"link",n)}async function xw(t,e,r){await zp(e);const n=bQ(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";tt(n.has(r)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xQ(t,e,r=!1){const{auth:n}=t;if(Kr(n.app))return Promise.reject(Qn(n));const i="reauthenticate";try{const s=await Da(t,BQ(n,i,e,t),r);tt(s.idToken,n,"internal-error");const o=yw(s.idToken);tt(o,n,"internal-error");const{sub:a}=o;return tt(t.uid===a,n,"user-mismatch"),Rs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qn(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Q(t,e,r=!1){if(Kr(t.app))return Promise.reject(Qn(t));const n="signIn",i=await BQ(t,n,e),s=await Rs._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function _w(t,e){return _Q(Gr(t),e)}async function CQ(t,e){const r=St(t);return await xw(!1,r,e.providerId),l_(r,e)}async function EQ(t,e){return xQ(St(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,e){return Ga(t,"POST","/v1/accounts:signInWithCustomToken",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e){if(Kr(t.app))return Promise.reject(Qn(t));const r=Gr(t),n=await uV(r,{token:e,returnSecureToken:!0}),i=await Rs._fromIdTokenResponse(r,"signIn",n);return await r._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,r){this.factorId=e,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}static _fromServerResponse(e,r){return"phoneInfo"in r?u_._fromServerResponse(e,r):"totpInfo"in r?c_._fromServerResponse(e,r):qn(e,"internal-error")}}class u_ extends bg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,r){return new u_(r)}}class c_ extends bg{constructor(e){super("totp",e)}static _fromServerResponse(e,r){return new c_(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t,e,r){var n;tt(((n=r.url)===null||n===void 0?void 0:n.length)>0,t,"invalid-continue-uri"),tt(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(tt(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(tt(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d_(t){const e=Gr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dV(t,e,r){const n=Gr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&Cw(n,i,r),await Gp(n,i,"getOobCode",q7)}async function hV(t,e,r){await wQ(St(t),{oobCode:e,newPassword:r}).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&d_(t),n})}async function fV(t,e){await K7(St(t),{oobCode:e})}async function IQ(t,e){const r=St(t),n=await wQ(r,{oobCode:e}),i=n.requestType;switch(tt(i,r,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":tt(n.newEmail,r,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":tt(n.mfaInfo,r,"internal-error");default:tt(n.email,r,"internal-error")}let s=null;return n.mfaInfo&&(s=bg._fromServerResponse(Gr(r),n.mfaInfo)),{data:{email:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.newEmail:n.email)||null,previousEmail:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.email:n.newEmail)||null,multiFactorInfo:s},operation:i}}async function pV(t,e){const{data:r}=await IQ(St(t),e);return r.email}async function gV(t,e,r){if(Kr(t.app))return Promise.reject(Qn(t));const n=Gr(t),o=await Gp(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yQ).catch(A=>{throw A.code==="auth/password-does-not-meet-requirements"&&d_(t),A}),a=await Rs._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function mV(t,e,r){return Kr(t.app)?Promise.reject(Qn(t)):_w(St(t),Rl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&d_(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t,e,r){const n=Gr(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){tt(a.handleCodeInApp,n,"argument-error"),a&&Cw(n,o,a)}s(i,r),await Gp(n,i,"getOobCode",W7)}function wV(t,e){const r=bw.parseLink(e);return(r==null?void 0:r.operation)==="EMAIL_SIGNIN"}async function yV(t,e,r){if(Kr(t.app))return Promise.reject(Qn(t));const n=St(t),i=Rl.credentialWithLink(e,r||Kp());return tt(i._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),_w(n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e){return Wr(t,"POST","/v1/accounts:createAuthUri",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){const r=o_()?Kp():"http://localhost",n={identifier:e,continueUri:r},{signinMethods:i}=await BV(St(t),n);return i||[]}async function xV(t,e){const r=St(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Cw(r.auth,i,e);const{email:s}=await G7(r.auth,i);s!==t.email&&await t.reload()}async function _V(t,e,r){const n=St(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};r&&Cw(n.auth,s,r);const{email:o}=await $7(n.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e){return Wr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=St(t),s={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Da(n,CV(n.auth,s));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const a=n.providerData.find(({providerId:A})=>A==="password");a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function IV(t,e){const r=St(t);return Kr(r.auth.app)?Promise.reject(Qn(r.auth)):SQ(r,e,null)}function SV(t,e){return SQ(St(t),null,e)}async function SQ(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),r&&(s.password=r);const o=await Da(t,H7(n,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){var e,r;if(!t)return null;const{providerId:n}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!n&&(t!=null&&t.idToken)){const o=(r=(e=yw(t.idToken))===null||e===void 0?void 0:e.firebase)===null||r===void 0?void 0:r.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Ud(s,a)}}if(!n)return null;switch(n){case"facebook.com":return new TV(s,i);case"github.com":return new kV(s,i);case"google.com":return new NV(s,i);case"twitter.com":return new QV(s,i,t.screenName||null);case"custom":case"anonymous":return new Ud(s,null);default:return new Ud(s,n,i)}}class Ud{constructor(e,r,n={}){this.isNewUser=e,this.providerId=r,this.profile=n}}class FQ extends Ud{constructor(e,r,n,i){super(e,r,n),this.username=i}}class TV extends Ud{constructor(e,r){super(e,"facebook.com",r)}}class kV extends FQ{constructor(e,r){super(e,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)}}class NV extends Ud{constructor(e,r){super(e,"google.com",r)}}class QV extends FQ{constructor(e,r,n){super(e,"twitter.com",r,n)}}function UV(t){const{user:e,_tokenResponse:r}=t;return e.isAnonymous&&!r?{providerId:null,isNewUser:!1,profile:null}:FV(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,r,n){this.type=e,this.credential=r,this.user=n}static _fromIdtoken(e,r){return new Cu("enroll",e,r)}static _fromMfaPendingCredential(e){return new Cu("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var r,n;if(e!=null&&e.multiFactorSession){if(!((r=e.multiFactorSession)===null||r===void 0)&&r.pendingCredential)return Cu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((n=e.multiFactorSession)===null||n===void 0)&&n.idToken)return Cu._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,r,n){this.session=e,this.hints=r,this.signInResolver=n}static _fromError(e,r){const n=Gr(e),i=r.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>bg._fromServerResponse(n,a));tt(i.mfaPendingCredential,n,"internal-error");const o=Cu._fromMfaPendingCredential(i.mfaPendingCredential);return new h_(o,s,async a=>{const A=await a._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:A.idToken,refreshToken:A.refreshToken});switch(r.operationType){case"signIn":const u=await Rs._fromIdTokenResponse(n,r.operationType,l);return await n._updateCurrentUser(u.user),u;case"reauthenticate":return tt(r.user,n,"internal-error"),Rs._forOperation(r.user,r.operationType,l);default:qn(n,"internal-error")}})}async resolveSignIn(e){const r=e;return this.signInResolver(r)}}function LV(t,e){var r;const n=St(t),i=e;return tt(e.customData.operationType,n,"argument-error"),tt((r=i.customData._serverResponse)===null||r===void 0?void 0:r.mfaPendingCredential,n,"argument-error"),h_._fromError(n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t,e){return Wr(t,"POST","/v2/accounts/mfaEnrollment:start",qr(t,e))}function RV(t,e){return Wr(t,"POST","/v2/accounts/mfaEnrollment:finalize",qr(t,e))}function DV(t,e){return Wr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",qr(t,e))}class f_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(r=>{r.mfaInfo&&(this.enrolledFactors=r.mfaInfo.map(n=>bg._fromServerResponse(e.auth,n)))})}static _fromUser(e){return new f_(e)}async getSession(){return Cu._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,r){const n=e,i=await this.getSession(),s=await Da(this.user,n._process(this.user.auth,i,r));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const r=typeof e=="string"?e:e.uid,n=await this.user.getIdToken();try{const i=await Da(this.user,DV(this.user.auth,{idToken:n,mfaEnrollmentId:r}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==r),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const $1=new WeakMap;function OV(t){const e=St(t);return $1.has(e)||$1.set(e,f_._fromUser(e)),$1.get(e)}const gv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(gv,"1"),this.storage.removeItem(gv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=1e3,jV=10;class kQ extends TQ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pQ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,A)=>{this.notifyListeners(o,A)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);C7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jV):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},MV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}kQ.type="LOCAL";const p_=kQ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ extends TQ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}NQ.type="SESSION";const ec=NQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Ew(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(o).map(async l=>l(r.origin,s)),A=await HV(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:A})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ew.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,A)=>{const l=xg("",20);i.port1.start();const u=setTimeout(()=>{A(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(c){const f=c;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),A(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return window}function KV(t){pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}async function zV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qV(){return g_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ="firebaseLocalStorageDb",WV=1,mv="firebaseLocalStorage",UQ="fbase_key";class _g{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Iw(t,e){return t.transaction([mv],e?"readwrite":"readonly").objectStore(mv)}function $V(){const t=indexedDB.deleteDatabase(QQ);return new _g(t).toPromise()}function AB(){const t=indexedDB.open(QQ,WV);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(mv,{keyPath:UQ})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(mv)?e(n):(n.close(),await $V(),e(await AB()))})})}async function aI(t,e,r){const n=Iw(t,!0).put({[UQ]:e,value:r});return new _g(n).toPromise()}async function JV(t,e){const r=Iw(t,!1).get(e),n=await new _g(r).toPromise();return n===void 0?null:n.value}function AI(t,e){const r=Iw(t,!0).delete(e);return new _g(r).toPromise()}const YV=800,XV=3;class LQ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await AB(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>XV)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ew._getInstance(qV()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await zV(),!this.activeServiceWorker)return;this.sender=new VV(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await AB();return await aI(e,gv,"1"),await AI(e,gv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>aI(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>JV(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>AI(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Iw(i,!1).getAll();return new _g(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LQ.type="LOCAL";const Wp=LQ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e){return Wr(t,"POST","/v2/accounts/mfaSignIn:start",qr(t,e))}function e9(t,e){return Wr(t,"POST","/v2/accounts/mfaSignIn:finalize",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=500,r9=6e4,Bm=1e12;class n9{constructor(e){this.auth=e,this.counter=Bm,this._widgets=new Map}render(e,r){const n=this.counter;return this._widgets.set(n,new i9(e,this.auth.name,r||{})),this.counter++,n}reset(e){var r;const n=e||Bm;(r=this._widgets.get(n))===null||r===void 0||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||Bm;return((r=this._widgets.get(n))===null||r===void 0?void 0:r.getResponse())||""}async execute(e){var r;const n=e||Bm;return(r=this._widgets.get(n))===null||r===void 0||r.execute(),""}}class i9{constructor(e,r,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;tt(i,"argument-error",{appName:r}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=s9(50);const{callback:e,"expired-callback":r}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,r)try{r()}catch{}this.isVisible&&this.execute()},r9)},t9))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function s9(t){const e=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<t;n++)e.push(r.charAt(Math.floor(Math.random()*r.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=mQ("rcb"),o9=new vg(3e4,6e4);class a9{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=pn().grecaptcha)===null||e===void 0)&&e.render)}load(e,r=""){return tt(A9(r),e,"argument-error"),this.shouldResolveImmediately(r)&&XE(pn().grecaptcha)?Promise.resolve(pn().grecaptcha):new Promise((n,i)=>{const s=pn().setTimeout(()=>{i(_n(e,"network-request-failed"))},o9.get());pn()[J1]=()=>{pn().clearTimeout(s),delete pn()[J1];const a=pn().grecaptcha;if(!a||!XE(a)){i(_n(e,"internal-error"));return}const A=a.render;a.render=(l,u)=>{const c=A(l,u);return this.counter++,c},this.hostLanguage=r,n(a)};const o=`${N7()}?${hh({onload:J1,render:"explicit",hl:r})}`;A_(o).catch(()=>{clearTimeout(s),i(_n(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var r;return!!(!((r=pn().grecaptcha)===null||r===void 0)&&r.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function A9(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class l9{async load(e){return new n9(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ="recaptcha",u9={theme:"light",type:"image"};let c9=class{constructor(e,r,n=Object.assign({},u9)){this.parameters=n,this.type=PQ,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gr(e),this.isInvisible=this.parameters.size==="invisible",tt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof r=="string"?document.getElementById(r):r;tt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new l9:new a9,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),r=this.getAssertedRecaptcha(),n=r.getResponse(e);return n||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&r.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){tt(!this.parameters.sitekey,this.auth,"argument-error"),tt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),tt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return r=>{if(this.tokenChangeListeners.forEach(n=>n(r)),typeof e=="function")e(r);else if(typeof e=="string"){const n=pn()[e];typeof n=="function"&&n(r)}}}assertNotDestroyed(){tt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const r=document.createElement("div");e.appendChild(r),e=r}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){tt(o_()&&!g_(),this.auth,"internal-error"),await d9(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await d7(this.auth);tt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return tt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function d9(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,r){this.verificationId=e,this.onConfirmation=r}confirm(e){const r=Nu._fromVerification(this.verificationId,e);return this.onConfirmation(r)}}async function h9(t,e,r){if(Kr(t.app))return Promise.reject(Qn(t));const n=Gr(t),i=await Sw(n,e,St(r));return new m_(i,s=>_w(n,s))}async function f9(t,e,r){const n=St(t);await xw(!1,n,"phone");const i=await Sw(n.auth,e,St(r));return new m_(i,s=>CQ(n,s))}async function p9(t,e,r){const n=St(t);if(Kr(n.auth.app))return Promise.reject(Qn(n.auth));const i=await Sw(n.auth,e,St(r));return new m_(i,s=>EQ(n,s))}async function Sw(t,e,r){var n;const i=await r.verify();try{tt(typeof i=="string",t,"argument-error"),tt(r.type===PQ,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return tt(o.type==="enroll",t,"internal-error"),(await PV(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{tt(o.type==="signin",t,"internal-error");const a=((n=s.multiFactorHint)===null||n===void 0?void 0:n.uid)||s.multiFactorUid;return tt(a,t,"missing-multi-factor-info"),(await ZV(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await Z7(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{r._reset()}}async function g9(t,e){const r=St(t);if(Kr(r.auth.app))return Promise.reject(Qn(r.auth));await l_(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=class v0{constructor(e){this.providerId=v0.PROVIDER_ID,this.auth=Gr(e)}verifyPhoneNumber(e,r){return Sw(this.auth,e,St(r))}static credential(e,r){return Nu._fromVerification(e,r)}static credentialFromResult(e){const r=e;return v0.credentialFromTaggedObject(r)}static credentialFromError(e){return v0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:r,temporaryProof:n}=e;return r&&n?Nu._fromTokenResponse(r,n):null}};tc.PROVIDER_ID="phone";tc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,e){return e?as(e):(tt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends xh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Fa(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function m9(t){return _Q(t.auth,new v_(t),t.bypassAuthState)}function v9(t){const{auth:e,user:r}=t;return tt(r,e,"internal-error"),xQ(r,new v_(t),t.bypassAuthState)}async function w9(t){const{auth:e,user:r}=t;return tt(r,e,"internal-error"),l_(r,new v_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const A={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m9;case"linkViaPopup":case"linkViaRedirect":return w9;case"reauthViaPopup":case"reauthViaRedirect":return v9;default:qn(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=new vg(2e3,1e4);async function B9(t,e,r){if(Kr(t.app))return Promise.reject(_n(t,"operation-not-supported-in-this-environment"));const n=Gr(t);bh(t,e,qa);const i=hc(n,r);return new Ca(n,"signInViaPopup",e,i).executeNotNull()}async function b9(t,e,r){const n=St(t);if(Kr(n.auth.app))return Promise.reject(_n(n.auth,"operation-not-supported-in-this-environment"));bh(n.auth,e,qa);const i=hc(n.auth,r);return new Ca(n.auth,"reauthViaPopup",e,i,n).executeNotNull()}async function x9(t,e,r){const n=St(t);bh(n.auth,e,qa);const i=hc(n.auth,r);return new Ca(n.auth,"linkViaPopup",e,i,n).executeNotNull()}class Ca extends RQ{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tt(e,this.auth,"internal-error"),e}async onExecution(){Ao(this.filter.length===1,"Popup operations only handle one event");const e=xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y9.get())};e()}}Ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="pendingRedirect",$f=new Map;class C9 extends RQ{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const n=await E9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E9(t,e){const r=OQ(e),n=DQ(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}async function w_(t,e){return DQ(t)._set(OQ(e),"true")}function I9(){$f.clear()}function y_(t,e){$f.set(t._key(),e)}function DQ(t){return as(t._redirectPersistence)}function OQ(t){return ku(_9,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t,e,r){return F9(t,e,r)}async function F9(t,e,r){if(Kr(t.app))return Promise.reject(Qn(t));const n=Gr(t);bh(t,e,qa),await n._initializationPromise;const i=hc(n,r);return await w_(i,n),i._openRedirect(n,e,"signInViaRedirect")}function T9(t,e,r){return k9(t,e,r)}async function k9(t,e,r){const n=St(t);if(bh(n.auth,e,qa),Kr(n.auth.app))return Promise.reject(Qn(n.auth));await n.auth._initializationPromise;const i=hc(n.auth,r);await w_(i,n.auth);const s=await MQ(n);return i._openRedirect(n.auth,e,"reauthViaRedirect",s)}function N9(t,e,r){return Q9(t,e,r)}async function Q9(t,e,r){const n=St(t);bh(n.auth,e,qa),await n.auth._initializationPromise;const i=hc(n.auth,r);await xw(!1,n,e.providerId),await w_(i,n.auth);const s=await MQ(n);return i._openRedirect(n.auth,e,"linkViaRedirect",s)}async function U9(t,e){return await Gr(t)._initializationPromise,Fw(t,e,!1)}async function Fw(t,e,r=!1){if(Kr(t.app))return Promise.reject(Qn(t));const n=Gr(t),i=hc(n,e),o=await new C9(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}async function MQ(t){const e=xg(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=10*60*1e3;class jQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!HQ(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(_n(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L9&&this.cachedEventUids.clear(),this.cachedEventUids.has(lI(e))}saveEventToCache(e){this.cachedEventUids.add(lI(e)),this.lastProcessedEventTime=Date.now()}}function lI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HQ({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HQ(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VQ(t,e={}){return Wr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D9=/^https?/;async function O9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VQ(t);for(const r of e)try{if(M9(r))return}catch{}qn(t,"unauthorized-domain")}function M9(t){const e=Kp(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!D9.test(r))return!1;if(R9.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new vg(3e4,6e4);function uI(){const t=pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function H9(t){return new Promise((e,r)=>{var n,i,s;function o(){uI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uI(),r(_n(t,"network-request-failed"))},timeout:j9.get()})}if(!((i=(n=pn().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pn().gapi)===null||s===void 0)&&s.load)o();else{const a=mQ("iframefcb");return pn()[a]=()=>{gapi.load?o():r(_n(t,"network-request-failed"))},A_(`${U7()}?onload=${a}`).catch(A=>r(A))}}).catch(e=>{throw w0=null,e})}let w0=null;function V9(t){return w0=w0||H9(t),w0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new vg(5e3,15e3),z9="__/auth/iframe",G9="emulator/auth/iframe",q9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $9(t){const e=t.config;tt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?a_(e,G9):`https://${t.config.authDomain}/${z9}`,n={apiKey:e.apiKey,appName:t.name,v:kl},i=W9.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${hh(n).slice(1)}`}async function J9(t){const e=await V9(t),r=pn().gapi;return tt(r,t,"internal-error"),e.open({where:document.body,url:$9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q9,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=_n(t,"network-request-failed"),a=pn().setTimeout(()=>{s(o)},K9.get());function A(){pn().clearTimeout(a),i(n)}n.ping(A).then(A,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X9=500,Z9=600,eK="_blank",tK="http://localhost";class cI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rK(t,e,r,n=X9,i=Z9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const A=Object.assign(Object.assign({},Y9),{width:n.toString(),height:i.toString(),top:s,left:o}),l=Dr().toLowerCase();r&&(a=cQ(l)?eK:r),lQ(l)&&(e=e||tK,A.scrollbars="yes");const u=Object.entries(A).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(_7(l)&&a!=="_self")return nK(e||"",a),new cI(null);const c=window.open(e||"",a,u);tt(c,t,"popup-blocked");try{c.focus()}catch{}return new cI(c)}function nK(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK="__/auth/handler",sK="emulator/auth/handler",oK=encodeURIComponent("fac");async function lB(t,e,r,n,i,s){tt(t.config.authDomain,t,"auth-domain-config-required"),tt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:kl,eventId:i};if(e instanceof qa){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof _h){const u=e.getScopes().filter(c=>c!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const A=await t._getAppCheckToken(),l=A?`#${oK}=${encodeURIComponent(A)}`:"";return`${aK(t)}?${hh(a).slice(1)}${l}`}function aK({config:t}){return t.emulator?a_(t,sK):`https://${t.authDomain}/${iK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="webStorageSupport";class AK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ec,this._completeRedirectFn=Fw,this._overrideRedirectResult=y_}async _openPopup(e,r,n,i){var s;Ao((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lB(e,r,n,Kp(),i);return rK(e,o,xg())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await lB(e,r,n,Kp(),i);return KV(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Ao(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await J9(e),n=new jQ(e);return r.register("authEvent",i=>(tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Y1,{type:Y1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Y1];o!==void 0&&r(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=O9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return pQ()||uQ()||yg()}}const lK=AK;class uK{constructor(e){this.factorId=e}_process(e,r,n){switch(r.type){case"enroll":return this._finalizeEnroll(e,r.credential,n);case"signin":return this._finalizeSignIn(e,r.credential);default:return Ro("unexpected MultiFactorSessionType")}}}class B_ extends uK{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new B_(e)}_finalizeEnroll(e,r,n){return RV(e,{idToken:r,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,r){return e9(e,{mfaPendingCredential:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class KQ{constructor(){}static assertion(e){return B_._fromCredential(e)}}KQ.FACTOR_ID="phone";var dI="@firebase/auth",hI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hK(t){pl(new Ko("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;tt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const A={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gQ(t)},l=new T7(n,i,s,A);return D7(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),pl(new Ko("auth-internal",e=>{const r=Gr(e.getProvider("auth").getImmediate());return(n=>new cK(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),oo(dI,hI,dK(t)),oo(dI,hI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK=5*60;f6("authIdTokenMaxAge");function pK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k7({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=_n("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",pK().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hK("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK=2e3;async function mK(t,e,r){var n;const{BuildInfo:i}=rc();Ao(e.sessionId,"AuthEvent did not contain a session ID");const s=await bK(e.sessionId),o={};return yg()?o.ibi=i.packageName:wg()?o.apn=i.packageName:qn(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,lB(t,r,e.type,void 0,(n=e.eventId)!==null&&n!==void 0?n:void 0,o)}async function vK(t){const{BuildInfo:e}=rc(),r={};yg()?r.iosBundleId=e.packageName:wg()?r.androidPackageName=e.packageName:qn(t,"operation-not-supported-in-this-environment"),await VQ(t,r)}function wK(t){const{cordova:e}=rc();return new Promise(r=>{e.plugins.browsertab.isAvailable(n=>{let i=null;n?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,x7()?"_blank":"_system","location=yes"),r(i)})})}async function yK(t,e,r){const{cordova:n}=rc();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function A(){var c;s();const f=(c=n.plugins.browsertab)===null||c===void 0?void 0:c.close;typeof f=="function"&&f(),typeof(r==null?void 0:r.close)=="function"&&r.close()}function l(){a||(a=window.setTimeout(()=>{o(_n(t,"redirect-cancelled-by-user"))},gK))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&l()}e.addPassiveListener(A),document.addEventListener("resume",l,!1),wg()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(A),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}function BK(t){var e,r,n,i,s,o,a,A,l,u;const c=rc();tt(typeof((e=c==null?void 0:c.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),tt(typeof((r=c==null?void 0:c.BuildInfo)===null||r===void 0?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),tt(typeof((s=(i=(n=c==null?void 0:c.cordova)===null||n===void 0?void 0:n.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),tt(typeof((A=(a=(o=c==null?void 0:c.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||A===void 0?void 0:A.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),tt(typeof((u=(l=c==null?void 0:c.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function bK(t){const e=xK(t),r=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(r)).map(i=>i.toString(16).padStart(2,"0")).join("")}function xK(t){if(Ao(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K=20;class CK extends jQ{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(r=>r(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function EK(t,e,r=null){return{type:e,eventId:r,urlResponse:null,sessionId:FK(),postBody:null,tenantId:t.tenantId,error:_n(t,"no-auth-event")}}function IK(t,e){return uB()._set(cB(t),e)}async function fI(t){const e=await uB()._get(cB(t));return e&&await uB()._remove(cB(t)),e}function SK(t,e){var r,n;const i=kK(e);if(i.includes("/__/auth/callback")){const s=y0(i),o=s.firebaseError?TK(decodeURIComponent(s.firebaseError)):null,a=(n=(r=o==null?void 0:o.code)===null||r===void 0?void 0:r.split("auth/"))===null||n===void 0?void 0:n[1],A=a?_n(a):null;return A?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:A,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function FK(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<_K;r++){const n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function uB(){return as(p_)}function cB(t){return ku("authEvent",t.config.apiKey,t.name)}function TK(t){try{return JSON.parse(t)}catch{return null}}function kK(t){const e=y0(t),r=e.link?decodeURIComponent(e.link):void 0,n=y0(r).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return y0(i).link||i||n||r||t}function y0(t){if(!(t!=null&&t.includes("?")))return{};const[e,...r]=t.split("?");return Bd(r.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NK=500;class QK{constructor(){this._redirectPersistence=ec,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fw,this._overrideRedirectResult=y_}async _initialize(e){const r=e._key();let n=this.eventManagers.get(r);return n||(n=new CK(e),this.eventManagers.set(r,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){qn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,r,n,i){BK(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),I9(),await this._originValidation(e);const o=EK(e,n,i);await IK(e,o);const a=await mK(e,o,r),A=await wK(a);return yK(e,s,A)}_isIframeWebStorageSupported(e,r){throw new Error("Method not implemented.")}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=vK(e)),this.originValidationPromises[r]}attachCallbackListeners(e,r){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=rc(),o=setTimeout(async()=>{await fI(e),r.onEvent(pI())},NK),a=async u=>{clearTimeout(o);const c=await fI(e);let f=null;c&&(u!=null&&u.url)&&(f=SK(c,u.url)),r.onEvent(f||pI())};typeof n<"u"&&typeof n.subscribe=="function"&&n.subscribe(null,a);const A=i,l=`${s.packageName.toLowerCase()}://`;rc().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(l)&&a({url:u}),typeof A=="function")try{A(u)}catch(c){console.error(c)}}}}const UK=QK;function pI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_n("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LK(t,e){Gr(t)._logFramework(e)}var PK="@firebase/auth-compat",RK="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=1e3;function Jf(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function OK(){return Jf()==="http:"||Jf()==="https:"}function zQ(t=Dr()){return!!((Jf()==="file:"||Jf()==="ionic:"||Jf()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function MK(){return Wb()||qb()}function jK(){return pT()&&(document==null?void 0:document.documentMode)===11}function HK(t=Dr()){return/Edge\/\d+/.test(t)}function VK(t=Dr()){return jK()||HK(t)}function GQ(){try{const t=self.localStorage,e=xg();if(t)return t.setItem(e,"1"),t.removeItem(e),VK()?Ep():!0}catch{return b_()&&Ep()}return!1}function b_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function X1(){return(OK()||fT()||zQ())&&!MK()&&GQ()&&!b_()}function qQ(){return zQ()&&typeof document<"u"}async function KK(){return qQ()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},DK);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function zK(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss={LOCAL:"local",NONE:"none",SESSION:"session"},of=tt,WQ="persistence";function GK(t,e){if(of(Object.values(ss).includes(e),t,"invalid-persistence-type"),Wb()){of(e!==ss.SESSION,t,"unsupported-persistence-type");return}if(qb()){of(e===ss.NONE,t,"unsupported-persistence-type");return}if(b_()){of(e===ss.NONE||e===ss.LOCAL&&Ep(),t,"unsupported-persistence-type");return}of(e===ss.NONE||GQ(),t,"unsupported-persistence-type")}async function dB(t){await t._initializationPromise;const e=$Q(),r=ku(WQ,t.config.apiKey,t.name);e&&e.setItem(r,t._getPersistence())}function qK(t,e){const r=$Q();if(!r)return[];const n=ku(WQ,t,e);switch(r.getItem(n)){case ss.NONE:return[sh];case ss.LOCAL:return[Wp,ec];case ss.SESSION:return[ec];default:return[]}}function $Q(){var t;try{return((t=zK())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK=tt;class zA{constructor(){this.browserResolver=as(lK),this.cordovaResolver=as(UK),this.underlyingResolver=null,this._redirectPersistence=ec,this._completeRedirectFn=Fw,this._overrideRedirectResult=y_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,r,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,r,n,i)}async _openRedirect(e,r,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,r,n,i)}_isIframeWebStorageSupported(e,r){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,r)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return qQ()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return WK(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await KK();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(t){return t.unwrap()}function $K(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(t){return YQ(t)}function YK(t,e){var r;const n=(r=e.customData)===null||r===void 0?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new XK(t,LV(t,e))}else if(n){const i=YQ(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function YQ(t){const{_tokenResponse:e}=t instanceof bi?t.customData:t;if(!e)return null;if(!(t instanceof bi)&&"temporaryProof"in e&&"phoneNumber"in e)return tc.credentialFromResult(t);const r=e.providerId;if(!r||r===sf.PASSWORD)return null;let n;switch(r){case sf.GOOGLE:n=No;break;case sf.FACEBOOK:n=ko;break;case sf.GITHUB:n=Qo;break;case sf.TWITTER:n=Uo;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:A}=e;return!s&&!o&&!i&&!a?null:a?r.startsWith("saml.")?oh._create(r,a):Wo._fromParams({providerId:r,signInMethod:r,pendingToken:a,idToken:i,accessToken:s}):new Qd(r).credential({idToken:i,accessToken:s,rawNonce:A})}return t instanceof bi?n.credentialFromError(t):n.credentialFromResult(t)}function Pi(t,e){return e.catch(r=>{throw r instanceof bi&&YK(t,r),r}).then(r=>{const n=r.operationType,i=r.user;return{operationType:n,credential:JK(r),additionalUserInfo:UV(r),user:Ea.getOrCreate(i)}})}async function hB(t,e){const r=await e;return{verificationId:r.verificationId,confirm:n=>Pi(t,r.confirm(n))}}class XK{constructor(e,r){this.resolver=r,this.auth=$K(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Pi(JQ(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._delegate=e,this.multiFactor=OV(e)}static getOrCreate(e){return Ea.USER_MAP.has(e)||Ea.USER_MAP.set(e,new Ea(e)),Ea.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Pi(this.auth,CQ(this._delegate,e))}async linkWithPhoneNumber(e,r){return hB(this.auth,f9(this._delegate,e,r))}async linkWithPopup(e){return Pi(this.auth,x9(this._delegate,e,zA))}async linkWithRedirect(e){return await dB(Gr(this.auth)),N9(this._delegate,e,zA)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Pi(this.auth,EQ(this._delegate,e))}reauthenticateWithPhoneNumber(e,r){return hB(this.auth,p9(this._delegate,e,r))}reauthenticateWithPopup(e){return Pi(this.auth,b9(this._delegate,e,zA))}async reauthenticateWithRedirect(e){return await dB(Gr(this.auth)),T9(this._delegate,e,zA)}sendEmailVerification(e){return xV(this._delegate,e)}async unlink(e){return await lV(this._delegate,e),this}updateEmail(e){return IV(this._delegate,e)}updatePassword(e){return SV(this._delegate,e)}updatePhoneNumber(e){return g9(this._delegate,e)}updateProfile(e){return EV(this._delegate,e)}verifyBeforeUpdateEmail(e,r){return _V(this._delegate,e,r)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ea.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=tt;class fB{constructor(e,r){if(this.app=e,r.isInitialized()){this._delegate=r.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:n}=e.options;af(n,"invalid-api-key",{appName:e.name}),af(n,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?zA:void 0;this._delegate=r.initialize({options:{persistence:ZK(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(r7),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ea.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,r){O7(this._delegate,e,r)}applyActionCode(e){return fV(this._delegate,e)}checkActionCode(e){return IQ(this._delegate,e)}confirmPasswordReset(e,r){return hV(this._delegate,e,r)}async createUserWithEmailAndPassword(e,r){return Pi(this._delegate,gV(this._delegate,e,r))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return bV(this._delegate,e)}isSignInWithEmailLink(e){return wV(this._delegate,e)}async getRedirectResult(){af(X1(),this._delegate,"operation-not-supported-in-this-environment");const e=await U9(this._delegate,zA);return e?Pi(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){LK(this._delegate,e)}onAuthStateChanged(e,r,n){const{next:i,error:s,complete:o}=gI(e,r,n);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,r,n){const{next:i,error:s,complete:o}=gI(e,r,n);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,r){return vV(this._delegate,e,r)}sendPasswordResetEmail(e,r){return dV(this._delegate,e,r||void 0)}async setPersistence(e){GK(this._delegate,e);let r;switch(e){case ss.SESSION:r=ec;break;case ss.LOCAL:r=await as(Wp)._isAvailable()?Wp:p_;break;case ss.NONE:r=sh;break;default:return qn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(r)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Pi(this._delegate,AV(this._delegate))}signInWithCredential(e){return Pi(this._delegate,_w(this._delegate,e))}signInWithCustomToken(e){return Pi(this._delegate,cV(this._delegate,e))}signInWithEmailAndPassword(e,r){return Pi(this._delegate,mV(this._delegate,e,r))}signInWithEmailLink(e,r){return Pi(this._delegate,yV(this._delegate,e,r))}signInWithPhoneNumber(e,r){return hB(this._delegate,h9(this._delegate,e,r))}async signInWithPopup(e){return af(X1(),this._delegate,"operation-not-supported-in-this-environment"),Pi(this._delegate,B9(this._delegate,e,zA))}async signInWithRedirect(e){return af(X1(),this._delegate,"operation-not-supported-in-this-environment"),await dB(this._delegate),S9(this._delegate,e,zA)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return pV(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}fB.Persistence=ss;function gI(t,e,r){let n=t;typeof t!="function"&&({next:n,error:e,complete:r}=t);const i=n;return{next:o=>i(o&&Ea.getOrCreate(o)),error:e,complete:r}}function ZK(t,e){const r=qK(t,e);if(typeof self<"u"&&!r.includes(Wp)&&r.push(Wp),typeof window<"u")for(const n of[p_,ec])r.includes(n)||r.push(n);return r.includes(sh)||r.push(sh),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.providerId="phone",this._delegate=new tc(JQ(Pl.auth()))}static credential(e,r){return tc.credential(e,r)}verifyPhoneNumber(e,r){return this._delegate.verifyPhoneNumber(e,r)}unwrap(){return this._delegate}}x_.PHONE_SIGN_IN_METHOD=tc.PHONE_SIGN_IN_METHOD;x_.PROVIDER_ID=tc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=tt;class tz{constructor(e,r,n=Pl.app()){var i;ez((i=n.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new c9(n.auth(),e,r),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz="auth-compat";function nz(t){t.INTERNAL.registerComponent(new Ko(rz,e=>{const r=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new fB(r,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Kc.EMAIL_SIGNIN,PASSWORD_RESET:Kc.PASSWORD_RESET,RECOVER_EMAIL:Kc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Kc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Kc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Kc.VERIFY_EMAIL}},EmailAuthProvider:Rl,FacebookAuthProvider:ko,GithubAuthProvider:Qo,GoogleAuthProvider:No,OAuthProvider:Qd,SAMLAuthProvider:fv,PhoneAuthProvider:x_,PhoneMultiFactorGenerator:KQ,RecaptchaVerifier:tz,TwitterAuthProvider:Uo,Auth:fB,AuthCredential:xh,Error:bi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(PK,RK)}nz(Pl);const iz={VITE_FIREBASE_API_KEY:"AIzaSyA-lCfZRMFfLjdG4vg3JnPWMAXq_6zgl5I",VITE_FIREBASE_APP_ID:"1:323355347910:web:c81f2813dce5ee9373c0c7",VITE_FIREBASE_AUTH_DOMAIN:"zameny-b6c3f.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"323355347910",VITE_FIREBASE_PROJECT_ID:"zameny-b6c3f",VITE_FIREBASE_STORAGE_BUCKET:"zameny-b6c3f.firebasestorage.app"},zc=iz,XQ={apiKey:zc.VITE_FIREBASE_API_KEY,authDomain:zc.VITE_FIREBASE_AUTH_DOMAIN,projectId:zc.VITE_FIREBASE_PROJECT_ID,storageBucket:zc.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:zc.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:zc.VITE_FIREBASE_APP_ID};if(!XQ.apiKey)throw alert(" :  Firebase API . ,    .env          VITE_"),new Error("CRITICAL ERROR: Firebase API Key is missing. Check that your .env file exists and is configured correctly with VITE_ variables.");Pl.initializeApp(XQ);const cu=Pl.firestore(),B0=Pl.auth();var at=(t=>(t.First="1 ",t.Second="2 ",t))(at||{}),Ss=(t=>(t.Monday="",t.Tuesday="",t.Wednesday="",t.Thursday="",t.Friday="",t))(Ss||{});const Ri=["","","","",""],Ia={"1 ":[1,2,3,4,5,6,7],"2 ":[0,1,2,3,4,5,6]},mI=["","","/","","","",""," "],ZQ=[{shift:at.First,period:1,start:"08:00",end:"08:45",day:"default"},{shift:at.First,period:2,start:"08:55",end:"09:40",day:"default"},{shift:at.First,period:3,start:"09:50",end:"10:35",day:"default"},{shift:at.First,period:4,start:"10:55",end:"11:40",day:"default"},{shift:at.First,period:5,start:"11:50",end:"12:35",day:"default"},{shift:at.First,period:6,start:"12:40",end:"13:25",day:"default"},{shift:at.First,period:7,start:"13:30",end:"14:15",day:"default"},{shift:at.Second,period:0,start:"13:30",end:"14:15",day:"default"},{shift:at.Second,period:1,start:"14:20",end:"15:05",day:"default"},{shift:at.Second,period:2,start:"15:15",end:"16:00",day:"default"},{shift:at.Second,period:3,start:"16:10",end:"16:55",day:"default"},{shift:at.Second,period:4,start:"17:05",end:"17:50",day:"default"},{shift:at.Second,period:5,start:"18:00",end:"18:45",day:"default"},{shift:at.Second,period:6,start:"18:50",end:"19:35",day:"default"}],jn={subjects:[{id:"s1",name:"",color:"#e0e7ff",difficulty:11,requiredRoomType:""},{id:"s2",name:" ",color:"#dcfce7",difficulty:10,requiredRoomType:""}],teachers:[],classes:[{id:"c1",name:"5",shift:at.First,studentsCount:25},{id:"c2",name:"6",shift:at.Second,studentsCount:28}],rooms:[{id:"r1",name:"101",capacity:30,type:""}],schedule:[],substitutions:[],bellSchedule:ZQ,settings:{telegramToken:"",publicScheduleId:null,feedbackChatId:""}},Z1="schoolData",ey="main",ty="publicSchedules",Qu={save:async t=>{try{const e=no(cu,Z1,ey);await qf(e,t)}catch(e){throw console.error("Error saving to cloud:",e),e}},load:async()=>{try{const t=no(cu,Z1,ey),e=await nB(t);if(e.exists()){const r=e.data(),n={...jn,...r};return r.settings&&(n.settings={...jn.settings,...r.settings}),n}else{console.log("No data found, initializing cloud DB...");const r=no(cu,Z1,ey);return await qf(r,jn),jn}}catch(t){return console.error("Error loading from cloud:",t),jn}},exportJson:t=>{const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=`gymnasium_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n)},setPublicData:async(t,e)=>{try{const r={subjects:e.subjects,teachers:e.teachers.map(i=>({id:i.id,name:i.name,subjectIds:i.subjectIds,shifts:i.shifts,unavailableDates:[],telegramChatId:"",birthDate:void 0,absenceReasons:void 0})),classes:e.classes,rooms:e.rooms,schedule:e.schedule,substitutions:e.substitutions,bellSchedule:e.bellSchedule,settings:{telegramToken:"",feedbackChatId:"",publicScheduleId:e.settings.publicScheduleId}},n=no(cu,ty,t);await qf(n,r)}catch(r){throw console.error("Error publishing schedule:",r),r}},getPublicData:async t=>{try{const e=no(cu,ty,t),r=await nB(e);return r.exists()?r.data():null}catch(e){return console.error("Error loading public schedule:",e),null}},deletePublicData:async t=>{try{const e=no(cu,ty,t);await qN(e)}catch(e){throw console.error("Error deleting public schedule:",e),e}}},eU=Ae.createContext(void 0),sz="admin@gymnasium22.com",oz="teacher@gymnasium22.com",az=({children:t})=>{const[e,r]=Ae.useState(null),[n,i]=Ae.useState(null),[s,o]=Ae.useState(!0);Ae.useEffect(()=>{const l=B0.onAuthStateChanged(u=>{r(u),u?u.email===sz?i("admin"):u.email===oz?i("teacher"):(i(null),B0.signOut()):i(null),o(!1)});return()=>l()},[]);const a=async()=>{await B0.signOut(),i(null)},A=()=>{i("guest"),o(!1)};return p.jsx(eU.Provider,{value:{user:e,role:n,loading:s,logout:a,setGuestRole:A},children:t})},Tw=()=>{const t=Ae.useContext(eU);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},tU=Ae.createContext(void 0),rU=({children:t,initialData:e})=>{const{role:r}=Tw(),n=r!=="admin",[i,s]=Ae.useState(jn),[o,a]=Ae.useState(!0),[A,l]=Ae.useState([]),[u,c]=Ae.useState(-1);Ae.useEffect(()=>{if(e)s(e),l([e]),c(0),a(!1);else{a(!0);const w=no(cu,"schoolData","main"),y=Zx(w,x=>{if(x.exists()){const L=x.data(),P={...jn,...L};P.teachers||(P.teachers=[]),P.teachers=P.teachers.map(M=>({shifts:[at.First,at.Second],telegramChatId:"",...M})),P.schedule||(P.schedule=[]),P.substitutions||(P.substitutions=[]),P.bellSchedule||(P.bellSchedule=ZQ),P.settings?P.settings={...jn.settings,...P.settings}:P.settings=jn.settings,s(P),l(M=>{const I=M[M.length-1];return!I||JSON.stringify(I)!==JSON.stringify(P)?[...M,P].slice(-50):M}),c(M=>M<0?0:M+1)}else s(jn),l([jn]),c(0);a(!1)},x=>{console.error("Firebase sync error:",x),a(!1)});return()=>y()}},[e]);const f=Ae.useCallback(async(w,y=!0)=>{if(n){console.warn("Attempted to save in Read-Only mode");return}const x={...i,...w};await Qu.save(x)},[i,n]),g=Ae.useCallback(async()=>{if(!n&&u>0){const w=A[u-1];await Qu.save(w)}},[A,u,n]),v=Ae.useCallback(async()=>{if(!n&&u<A.length-1){const w=A[u+1];await Qu.save(w)}},[A,u,n]),b=Ae.useCallback(async()=>{await f(jn)},[f]),S=Ae.useMemo(()=>({data:i,isLoading:o,saveData:f,resetData:b,undo:g,redo:v,canUndo:!n&&u>0,canRedo:!n&&u<A.length-1,isReadOnly:n}),[i,o,f,b,g,v,u,n]);return p.jsx(tU.Provider,{value:S,children:t})},Cg=()=>{const t=Ae.useContext(tU);if(!t)throw new Error("useFullData must be used within DataProvider");return t},nU=Ae.createContext(void 0),iU=Ae.createContext(void 0),sU=({children:t})=>{const{data:e,saveData:r}=Cg(),n=Ae.useMemo(()=>({subjects:e.subjects,teachers:e.teachers,classes:e.classes,rooms:e.rooms,bellSchedule:e.bellSchedule,settings:e.settings}),[e.subjects,e.teachers,e.classes,e.rooms,e.bellSchedule,e.settings]),i=Ae.useCallback(async(o,a)=>{await r(o,a)},[r]),s=Ae.useMemo(()=>({...n,saveStaticData:i}),[n,i]);return p.jsx(nU.Provider,{value:s,children:t})},oU=({children:t})=>{const{data:e,saveData:r}=Cg(),n=Ae.useMemo(()=>({schedule:e.schedule,substitutions:e.substitutions}),[e.schedule,e.substitutions]),i=Ae.useCallback(async(o,a)=>{await r(o,a)},[r]),s=Ae.useMemo(()=>({...n,saveScheduleData:i}),[n,i]);return p.jsx(iU.Provider,{value:s,children:t})},Wa=()=>{const t=Ae.useContext(nU);if(!t)throw new Error("useStaticData must be used within StaticDataProvider");const e=Cg();return{...t,isLoading:e.isLoading,undo:e.undo,redo:e.redo,canUndo:e.canUndo,canRedo:e.canRedo,resetData:e.resetData,isReadOnly:e.isReadOnly}},Ch=()=>{const t=Ae.useContext(iU);if(!t)throw new Error("useScheduleData must be used within ScheduleDataProvider");const e=Cg();return{...t,isLoading:e.isLoading,undo:e.undo,redo:e.redo,canUndo:e.canUndo,canRedo:e.canRedo,resetData:e.resetData,isReadOnly:e.isReadOnly}},Az=Cg,lz={Home:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Calendar:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Repeat:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"17 1 21 5 17 9"}),p.jsx("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"}),p.jsx("polyline",{points:"7 23 3 19 7 15"}),p.jsx("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"})]}),BookOpen:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),p.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Settings:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"3"}),p.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),BarChart2:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),p.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),p.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),Download:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),p.jsx("polyline",{points:"7 10 12 15 17 10"}),p.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Menu:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),p.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),p.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),X:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Plus:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Trash2:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"3 6 5 6 21 6"}),p.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Edit2:t=>p.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),Users:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),GraduationCap:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),p.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]}),Clock:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"12 6 12 12 16 14"})]}),CheckCircle:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),Sun:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"5"}),p.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),p.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),p.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),p.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),p.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),p.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),p.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),p.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Moon:t=>p.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Search:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Filter:t=>p.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),RotateCcw:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"1 4 1 10 7 10"}),p.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),RotateCw:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"23 4 23 10 17 10"}),p.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),Printer:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),Loader:t=>p.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),Share2:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"18",cy:"5",r:"3"}),p.jsx("circle",{cx:"6",cy:"12",r:"3"}),p.jsx("circle",{cx:"18",cy:"19",r:"3"}),p.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),p.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),AlertTriangle:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),p.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),p.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),Copy:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),p.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),Clipboard:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]}),PieChart:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),p.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),List:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),p.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),p.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),p.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),p.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),p.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),Gift:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"20 12 20 22 4 22 4 12"}),p.jsx("rect",{x:"2",y:"7",width:"20",height:"5"}),p.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"7"}),p.jsx("path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"}),p.jsx("path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"})]}),Save:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),p.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),p.jsx("polyline",{points:"7 3 7 8 15 8"})]}),FileSpreadsheet:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),p.jsx("polyline",{points:"14 2 14 8 20 8"}),p.jsx("path",{d:"M8 13h2"}),p.jsx("path",{d:"M8 17h2"}),p.jsx("path",{d:"M14 13h2"}),p.jsx("path",{d:"M14 17h2"})]}),Activity:t=>p.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),TrendingUp:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),p.jsx("polyline",{points:"17 6 23 6 23 12"})]}),Table:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-7z"}),p.jsx("path",{d:"M3 9h18"}),p.jsx("path",{d:"M12 21V9"})]}),Image:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),p.jsx("circle",{cx:"9",cy:"9",r:"2"}),p.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),Upload:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),p.jsx("polyline",{points:"17 8 12 3 7 8"}),p.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),History:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M3 3v5h5"}),p.jsx("path",{d:"M3.05 13A9 9 0 1 0 6 5.3L3 8"}),p.jsx("path",{d:"M12 7v5l4 2"})]}),UserX:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),p.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]}),ArrowRight:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),p.jsx("polyline",{points:"12 5 19 12 12 19"})]}),Star:t=>p.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),GripVertical:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"9",cy:"12",r:"1"}),p.jsx("circle",{cx:"9",cy:"5",r:"1"}),p.jsx("circle",{cx:"9",cy:"19",r:"1"}),p.jsx("circle",{cx:"15",cy:"12",r:"1"}),p.jsx("circle",{cx:"15",cy:"5",r:"1"}),p.jsx("circle",{cx:"15",cy:"19",r:"1"})]}),DoorOpen:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M13 4h3a2 2 0 0 1 2 2v14"}),p.jsx("path",{d:"M2 20h3"}),p.jsx("path",{d:"M13 20h9"}),p.jsx("path",{d:"M10 20v-6a2 2 0 0 1 2-2h1v1"}),p.jsx("path",{d:"M13 12h1"}),p.jsx("path",{d:"M5 20v-6a2 2 0 0 1 2-2h1v1"}),p.jsx("path",{d:"M8 12h1"}),p.jsx("path",{d:"M4 20v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v8"})]}),Bell:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),p.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),Briefcase:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),p.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),User:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),CheckSquare:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"9 11 12 14 22 4"}),p.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),QrCode:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),p.jsx("path",{d:"M17 17h.01"}),p.jsx("path",{d:"M12 17h.01"}),p.jsx("path",{d:"M14 14h.01"}),p.jsx("path",{d:"M17 14h.01"}),p.jsx("path",{d:"M14 12h.01"}),p.jsx("path",{d:"M19 12h.01"}),p.jsx("path",{d:"M12 19h.01"}),p.jsx("path",{d:"M19 19h.01"})]}),Eraser:t=>p.jsx("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M22 21h-4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2zm-4-4L6 4m0 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8"})}),Columns:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 3h8a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),p.jsx("path",{d:"M2 3h8a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"})]}),Rows:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 12H3"}),p.jsx("path",{d:"M21 6H3"}),p.jsx("path",{d:"M21 18H3"})]}),Send:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),p.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),Eye:t=>p.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]})},Ke=({name:t,size:e=24,className:r="",...n})=>{const i=lz[t];return i?p.jsx(i,{width:e,height:e,className:r,...n}):(console.warn(`Icon '${t}' not found.`),null)},al=({isOpen:t,onClose:e,title:r,children:n,maxWidth:i="max-w-lg"})=>t?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4 animate-fade-in no-print",children:p.jsxs("div",{className:`bg-white dark:bg-dark-800 rounded-2xl shadow-2xl w-full ${i} flex flex-col max-h-[90vh] transition-colors duration-300`,children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100 dark:border-slate-700",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white tracking-tight",children:r}),p.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:p.jsx(Ke,{name:"X",size:24})})]}),p.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:n})]})}):null,uz=({x:t,y:e,onClose:r,actions:n})=>{if(Ae.useEffect(()=>{const s=()=>r();return window.addEventListener("click",s),()=>window.removeEventListener("click",s)},[r]),t===null||e===null)return null;const i={top:e,left:t};return window.innerWidth-t<200&&(i.left=t-200),p.jsx("div",{className:"fixed z-[100] bg-white dark:bg-slate-800 shadow-xl rounded-xl border border-slate-100 dark:border-slate-700 py-2 w-56 context-menu no-print",style:i,children:n.map((s,o)=>p.jsxs("button",{onClick:a=>{a.stopPropagation(),s.onClick(),r()},className:`w-full text-left px-4 py-2.5 text-sm font-bold flex items-center gap-3 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${s.color||"text-slate-700 dark:text-slate-200"}`,children:[s.icon&&p.jsx(Ke,{name:s.icon,size:16}),s.label]},o))})},cz=()=>{const{bellSchedule:t}=Wa(),[e,r]=Ae.useState("..."),[n,i]=Ae.useState(""),[s,o]=Ae.useState(0),[a,A]=Ae.useState("bg-slate-500"),[l,u]=Ae.useState("");return Ae.useEffect(()=>{const c=()=>{const g=new Date,v=g.getDay(),S=[null,Ss.Monday,Ss.Tuesday,Ss.Wednesday,Ss.Thursday,Ss.Friday,null][v];if(u(S||""),!S){r(" "),i(" "),A("bg-slate-400"),o(0);return}const w=g.getHours()*60+g.getMinutes();let y=t.filter(P=>P.day===S);y.length===0&&(y=t.filter(P=>P.day==="default"));let x=null;const L=P=>{const[M,I]=P.split(":").map(Number);return M*60+I};for(const P of y){const M=L(P.start),I=L(P.end);if(w>=M&&w<I){x={...P,duration:I-M,passed:w-M};break}}if(x)r(`${x.period} `),i(`${x.shift===at.First?"1 ":"2 "}  . ${x.duration-x.passed} `),o(x.passed/x.duration*100),A("bg-indigo-600");else{let P=1/0,M=null;for(const I of y){const _=L(I.start);_>w&&_-w<P&&(P=_-w,M=I)}M&&P<30?(r(""),i(` ${P}  ${M.period} `),A("bg-amber-500"),o(100-P/20*100)):(r(" "),i(" "),A("bg-slate-400"),o(0))}};c();const f=setInterval(c,6e4);return()=>clearInterval(f)},[t]),p.jsxs("div",{className:"mx-4 mt-auto mb-4 p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 flex flex-col gap-3 relative overflow-hidden group",children:[p.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${a}`}),p.jsxs("div",{className:"flex justify-between items-start z-10",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider mb-0.5",children:l}),p.jsx("div",{className:"text-lg font-black text-slate-800 dark:text-white leading-none mb-1",children:e}),p.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:n})]}),p.jsx("div",{className:`w-8 h-8 rounded-full ${a} bg-opacity-10 dark:bg-opacity-20 flex items-center justify-center text-${a.replace("bg-","")}`,children:p.jsx(Ke,{name:"Clock",size:16,className:a.replace("bg-","text-")})})]}),s>0&&p.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden mt-1",children:p.jsx("div",{className:`h-full ${a} transition-all duration-1000`,style:{width:`${s}%`}})})]})},bm=({options:t,value:e,onChange:r,placeholder:n,groupBy:i})=>{var g;const[s,o]=Ae.useState(!1),[a,A]=Ae.useState(""),l=Ae.useRef(null);Ae.useEffect(()=>{const v=b=>{l.current&&!l.current.contains(b.target)&&o(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const c=((g=(i?t.flatMap(v=>v.options):t).find(v=>v.value===e))==null?void 0:g.label)||n,f=i?t.map(v=>({...v,options:v.options.filter(b=>b.label.toLowerCase().includes(a.toLowerCase()))})).filter(v=>v.options.length>0):t.filter(v=>v.label.toLowerCase().includes(a.toLowerCase()));return p.jsxs("div",{className:"relative w-full",ref:l,children:[p.jsxs("div",{onClick:()=>o(!s),className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white cursor-pointer flex justify-between items-center",children:[p.jsx("span",{className:e?"":"text-slate-400",children:c}),p.jsx(Ke,{name:"Filter",size:14,className:"text-slate-400"})]}),s&&p.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-600 rounded-xl shadow-xl max-h-60 overflow-auto",children:[p.jsx("div",{className:"p-2 sticky top-0 bg-white dark:bg-slate-800",children:p.jsx("input",{autoFocus:!0,value:a,onChange:v=>A(v.target.value),placeholder:"...",className:"w-full bg-slate-100 dark:bg-slate-700 rounded-lg p-2 text-sm outline-none dark:text-white"})}),i?f.map((v,b)=>p.jsxs("div",{children:[p.jsx("div",{className:"px-3 py-1 text-xs font-bold text-slate-400 bg-slate-50 dark:bg-slate-700/50",children:v.label}),v.options.map(S=>p.jsx("div",{onClick:()=>{r(S.value),o(!1),A("")},className:`px-3 py-2 text-sm cursor-pointer hover:bg-indigo-50 dark:hover:bg-indigo-900/30 dark:text-slate-200 ${e===S.value?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600":""}`,children:S.label},S.value))]},b)):f.map(v=>p.jsx("div",{onClick:()=>{r(v.value),o(!1),A("")},className:`px-3 py-2 text-sm cursor-pointer hover:bg-indigo-50 dark:hover:bg-indigo-900/30 dark:text-slate-200 ${e===v.value?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600":""}`,children:v.label},v.value))]})]})},xm=({children:t,className:e=""})=>{const r=wu.Children.toArray(t);return p.jsx("div",{className:e,children:r.map((n,i)=>p.jsx("div",{style:{animation:`fadeIn 0.3s ease-out forwards ${i*.05}s`,opacity:0},children:n},i))})},ry=({items:t,max:e,barClassName:r="bg-indigo-500"})=>p.jsx("div",{className:"space-y-3",children:t.map((n,i)=>p.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[p.jsx("div",{className:"w-32 truncate font-medium text-slate-700 dark:text-slate-300",title:n.label,children:n.label}),p.jsx("div",{className:"flex-1 h-4 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full rounded-full ${r} transition-all duration-500`,style:{width:`${n.value/e*100}%`}})}),p.jsx("div",{className:"w-12 text-right font-bold text-slate-800 dark:text-slate-200",children:n.value})]},i))}),dz=()=>{const{subjects:t,teachers:e,classes:r,rooms:n,bellSchedule:i,settings:s}=Wa(),{schedule:o,substitutions:a}=Ch(),A=dh(),[l,u]=Ae.useState(localStorage.getItem("gym_notes")||""),[c]=Ae.useState(new Date),[f,g]=Ae.useState(""),[v,b]=Ae.useState(null),[S,w]=Ae.useState(!1),[y,x]=Ae.useState(""),[L,P]=Ae.useState(!1),[M,I]=Ae.useState(""),[_,k]=Ae.useState(!1);Ae.useEffect(()=>{if(localStorage.setItem("gym_notes",l),l){x("");const R=setTimeout(()=>x(""),2e3);return()=>clearTimeout(R)}},[l]);const O=R=>new Date(R.getTime()-R.getTimezoneOffset()*6e4).toISOString().split("T")[0],E=Ae.useMemo(()=>O(c),[c]),T=Ae.useMemo(()=>{const R=c.getDay();return R===0||R===6?null:Ri[R-1]},[c]),N=Ae.useMemo(()=>{const R=new Date;return R.setHours(0,0,0,0),e.filter(q=>q.birthDate).map(q=>{const re=new Date(q.birthDate);let Q=new Date(R.getFullYear(),re.getMonth(),re.getDate());Q<R&&Q.setFullYear(R.getFullYear()+1);const j=Math.ceil((Q.getTime()-R.getTime())/(1e3*60*60*24));return{...q,diff:j,age:R.getFullYear()-re.getFullYear()}}).filter(q=>q.diff<=30).sort((q,re)=>q.diff-re.diff)},[e]),X=Ae.useMemo(()=>{const R=e.length,q=e.filter(G=>G.unavailableDates.includes(E)),re=q.length,Q=R-re;return{presentPercent:R>0?Math.round(Q/R*100):0,absentCount:re,totalTeachers:R,absentTeachersList:q}},[e,E]),ce=Ae.useMemo(()=>{const R=new Date(c);for(R.setDate(c.getDate()+1);R.getDay()===0||R.getDay()===6;)R.setDate(R.getDate()+1);const re=[null,"","","","","",null][R.getDay()];if(!re)return[];const Q=[];return r.forEach(j=>{const G=o.filter(ee=>ee.classId===j.id&&ee.day===re);G.length===0?Q.push({class:j.name,issue:`   ${re}`}):G.length<4&&Q.push({class:j.name,issue:`  (${G.length})`}),G.forEach(ee=>{if(o.some(ae=>ae.id!==ee.id&&ae.day===re&&ae.period===ee.period&&ae.shift===ee.shift&&ae.teacherId===ee.teacherId)&&Q.push({class:j.name,issue:`  (${ee.period} )`}),ee.roomId){const ae=n.find(ge=>ge.id===ee.roomId);ae&&ae.capacity<j.studentsCount&&Q.push({class:j.name,issue:`: ${ae.name} (${ee.period} )`})}})}),Q.filter((j,G,ee)=>ee.findIndex(ne=>ne.class===j.class&&ne.issue===j.issue)===G).slice(0,10)},[o,r,e,n,c]),te=Ae.useMemo(()=>{if(!T)return 0;let R=0;const q=o.filter(re=>re.day===T);for(const re of q){const Q=e.find(j=>j.id===re.teacherId);if(Q&&Q.unavailableDates.includes(E)){const j=a.find(G=>G.scheduleItemId===re.id&&G.date===E);(!j||j.replacementTeacherId==="cancelled"||j.replacementTeacherId==="conducted")&&R++}}return R},[o,e,a,E,T]),K=()=>{var we;if(!f){b(null);return}const R=new Date,re=[null,Ss.Monday,Ss.Tuesday,Ss.Wednesday,Ss.Thursday,Ss.Friday,null][R.getDay()];if(!re){b({status:"",detail:"  ",color:"text-slate-500"});return}const Q=Te=>{const[Ne,je]=Te.split(":").map(Number);return Ne*60+je},j=R.getHours()*60+R.getMinutes();let G=i.filter(Te=>Te.day===re);G.length===0&&(G=i.filter(Te=>Te.day==="default"));const ee=G.find(Te=>{const Ne=Q(Te.start),je=Q(Te.end);return j>=Ne&&j<=je}),ne=f.toLowerCase(),ae=e.find(Te=>Te.name.toLowerCase().includes(ne)),ge=r.find(Te=>Te.name.toLowerCase().includes(ne));if(!ae&&!ge){b({status:" ",detail:" ",color:"text-red-500"});return}if(ae){if(ae.unavailableDates.includes(E)){b({status:"",detail:((we=ae.absenceReasons)==null?void 0:we[E])||"/",color:"text-red-500",icon:"UserX",items:[]});return}if(!ee){b({status:" /  ",detail:" ",color:"text-amber-500",icon:"Clock",items:[]});return}const Te=o.filter(Le=>Le.teacherId===ae.id&&Le.day===re&&Le.period===ee.period),Ne=a.filter(Le=>Le.date===E&&Le.replacementTeacherId===ae.id).map(Le=>o.find(He=>He.id===Le.scheduleItemId)).filter(Le=>!!Le&&Le.day===re&&Le.period===ee.period);let je=[];Te.forEach(Le=>{var _e,oe,bt;const He=a.find(le=>le.date===E&&le.scheduleItemId===Le.id);if(!He||He.replacementTeacherId===ae.id){const le=((_e=n.find(xe=>xe.id===((He==null?void 0:He.replacementRoomId)||Le.roomId)))==null?void 0:_e.name)||(He==null?void 0:He.replacementRoomId)||Le.roomId||" .",pe=(oe=t.find(xe=>xe.id===Le.subjectId))==null?void 0:oe.name,be=(bt=r.find(xe=>xe.id===Le.classId))==null?void 0:bt.name;je.push({room:le,subject:pe,entityName:be,direction:Le.direction,isSubstitution:!!(He&&He.replacementTeacherId===ae.id),originalTeacherName:null})}}),Ne.forEach(Le=>{var pe,be,xe;const He=a.find(Fe=>Fe.date===E&&Fe.scheduleItemId===Le.id&&Fe.replacementTeacherId===ae.id);if(!He)return;const _e=((pe=n.find(Fe=>Fe.id===(He.replacementRoomId||Le.roomId)))==null?void 0:pe.name)||He.replacementRoomId||Le.roomId||" .",oe=(be=t.find(Fe=>Fe.id===Le.subjectId))==null?void 0:be.name,bt=(xe=r.find(Fe=>Fe.id===Le.classId))==null?void 0:xe.name,le=e.find(Fe=>Fe.id===He.originalTeacherId);je.push({room:_e,subject:oe,entityName:bt,direction:Le.direction,isSubstitution:!0,originalTeacherName:le==null?void 0:le.name})}),je.length>0?b({status:` ${ee.period}`,detail:"",color:"text-emerald-600",icon:"MapPin",items:je}):b({status:"",detail:` ( ${ee.period}) `,color:"text-blue-500",icon:"User",items:[]})}else if(ge){if(!ee){b({status:"",detail:" ",color:"text-amber-500",icon:"Clock",items:[]});return}const Te=o.filter(Ne=>Ne.classId===ge.id&&Ne.day===re&&Ne.period===ee.period);if(Te.length>0){const Ne=Te.map(He=>{var Re,Pe,Ge,Ve,qe;const _e=a.find(ct=>ct.scheduleItemId===He.id&&ct.date===E);if(_e&&_e.replacementTeacherId==="cancelled")return{cancelled:!0,subject:(Re=t.find(ct=>ct.id===He.subjectId))==null?void 0:Re.name};const oe=!!(_e&&_e.replacementTeacherId!=="conducted"&&_e.replacementTeacherId!=="cancelled"),bt=oe?_e.replacementTeacherId:He.teacherId,le=(_e==null?void 0:_e.replacementRoomId)||He.roomId,pe=(Pe=e.find(ct=>ct.id===bt))==null?void 0:Pe.name,be=((Ge=n.find(ct=>ct.id===le))==null?void 0:Ge.name)||le||" .",xe=(Ve=t.find(ct=>ct.id===He.subjectId))==null?void 0:Ve.name,Fe=oe?(qe=e.find(ct=>ct.id===_e.originalTeacherId))==null?void 0:qe.name:null;return{room:be,subject:xe,entityName:pe,direction:He.direction,isSubstitution:oe,originalTeacherName:Fe}}),je=Ne.filter(He=>!He.cancelled),Le=Ne.filter(He=>!!He.cancelled);je.length>0?b({status:` ${ee.period}`,detail:"",color:"text-emerald-600",icon:"MapPin",items:je}):Le.length>0?b({status:" ",detail:Le.map(He=>He.subject).join(", "),color:"text-red-500",icon:"X",items:[]}):b({status:" ",detail:" ",color:"text-blue-500",icon:"BookOpen",items:[]})}else b({status:" ",detail:" ",color:"text-blue-500",icon:"BookOpen",items:[]})}},$=async()=>{if(!M.trim()){alert(",   .");return}if(!(s!=null&&s.telegramToken)||!(s!=null&&s.feedbackChatId)){alert("     .");return}k(!0);const R=` *   :*

${M}`;try{const re=await(await fetch(`https://api.telegram.org/bot${s.telegramToken}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:s.feedbackChatId,text:R,parse_mode:"Markdown"})})).json();if(re.ok)alert("!   ."),P(!1),I("");else throw new Error(re.description)}catch(q){console.error("   Telegram:",q),alert(`   . : ${q}`)}finally{k(!1)}};return p.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[p.jsxs("header",{className:"mb-6 flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-black text-slate-800 dark:text-white",children:"  "}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:c.toLocaleDateString("ru-RU",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),p.jsxs("button",{onClick:()=>P(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition text-sm",children:[p.jsx(Ke,{name:"Send",size:16}),"  "]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full relative overflow-hidden",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 p-2 rounded-lg",children:p.jsx(Ke,{name:"Search",size:20})}),p.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" ?"})]}),p.jsxs("div",{className:"flex gap-2 mb-4",children:[p.jsx("input",{placeholder:"  ...",value:f,onChange:R=>g(R.target.value),onKeyDown:R=>R.key==="Enter"&&K(),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm outline-none dark:text-white"}),p.jsx("button",{onClick:K,className:"bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-xl transition-colors",children:p.jsx(Ke,{name:"Search",size:20})})]}),v&&p.jsxs("div",{className:"mt-auto p-3 bg-slate-50 dark:bg-slate-700/30 rounded-xl border border-slate-100 dark:border-slate-700 animate-fade-in",children:[p.jsxs("div",{className:`text-xs font-bold uppercase mb-2 flex items-center gap-2 ${v.color}`,children:[p.jsx(Ke,{name:v.icon||"Info",size:14})," ",v.status]}),v.items&&v.items.length>0?p.jsx("div",{className:"space-y-2",children:v.items.map((R,q)=>p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-2 rounded-lg border border-slate-100 dark:border-slate-600 text-xs shadow-sm",children:[R.direction&&p.jsx("div",{className:"text-[10px] font-bold text-indigo-500 mb-0.5",children:R.direction}),p.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200",children:R.subject}),R.isSubstitution&&p.jsx("div",{className:"text-[10px] font-bold text-orange-500",children:R.originalTeacherName?` ( ${R.originalTeacherName})`:" "}),p.jsxs("div",{className:"flex justify-between items-center mt-1 text-slate-500 dark:text-slate-400",children:[p.jsx("span",{children:R.entityName}),p.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1.5 rounded font-mono",children:R.room})]})]},q))}):p.jsx("div",{className:"font-bold text-slate-800 dark:text-white text-sm leading-snug",children:v.detail})]})]}),p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 p-2 rounded-lg",children:p.jsx(Ke,{name:"AlertTriangle",size:20})}),p.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "})]}),p.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:te>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"text-5xl font-black text-red-500 mb-2",children:te}),p.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"   "}),p.jsxs("button",{onClick:()=>A("/substitutions"),className:"px-6 py-2 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition shadow-lg shadow-red-200 dark:shadow-none flex items-center gap-2",children:[p.jsx(Ke,{name:"ArrowRight",size:16}),"   "]})]}):p.jsxs(p.Fragment,{children:[p.jsx(Ke,{name:"CheckCircle",size:48,className:"mb-4 text-emerald-400"}),p.jsx("p",{className:"text-sm text-slate-400",children:"  ,  "})]})})]}),p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 p-2 rounded-lg",children:p.jsx(Ke,{name:"PieChart",size:20})}),p.jsx("h3",{className:"font-bold text-lg dark:text-white",children:""})]}),p.jsx("button",{onClick:()=>w(!S),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:S?" ":" ",children:p.jsx(Ke,{name:S?"PieChart":"List",size:20})})]}),S?p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar animate-fade-in",children:X.absentTeachersList.length>0?p.jsx("div",{className:"space-y-2",children:X.absentTeachersList.map(R=>{var q;return p.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-50 dark:border-slate-700 pb-1 mb-1 last:border-0",children:[p.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate pr-2",children:R.name}),p.jsx("span",{className:"text-xs text-red-500 font-bold whitespace-nowrap",children:((q=R.absenceReasons)==null?void 0:q[O(c)])||""})]},R.id)})}):p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-400",children:[p.jsx(Ke,{name:"CheckCircle",size:32,className:"text-emerald-400 mb-2"}),p.jsx("p",{className:"text-sm",children:"   "})]})}):p.jsxs("div",{className:"flex items-center justify-between flex-1 animate-fade-in",children:[p.jsxs("div",{className:"relative w-24 h-24",children:[p.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full transform -rotate-90",children:[p.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#f1f5f9",strokeWidth:"4",className:"dark:stroke-slate-700"}),p.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#10b981",strokeWidth:"4",strokeDasharray:`${X.presentPercent}, 100`})]}),p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[p.jsx("span",{className:"text-xs text-slate-400 font-bold",children:"."}),p.jsxs("span",{className:"font-black text-slate-700 dark:text-white",children:[X.presentPercent,"%"]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-3xl font-black text-red-500",children:X.absentCount}),p.jsxs("div",{className:"text-xs text-slate-400 font-bold uppercase leading-tight",children:["",p.jsx("br",{}),""]})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400 p-2 rounded-lg",children:p.jsx(Ke,{name:"Gift",size:20})}),p.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "})]}),p.jsx("div",{className:"flex-1 overflow-y-auto max-h-40 custom-scrollbar space-y-3",children:N.length?N.map(R=>p.jsxs("div",{className:"flex justify-between text-sm text-slate-700 dark:text-slate-300",children:[p.jsx("span",{children:R.name}),p.jsx("span",{className:"font-bold text-slate-400",children:R.diff===0?"!":`${R.diff} .`})]},R.id)):p.jsx("div",{className:"text-slate-400 text-sm text-center",children:" "})})]}),p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col h-full",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-2 rounded-lg",children:p.jsx(Ke,{name:"AlertTriangle",size:20})}),p.jsx("h3",{className:"font-bold text-lg dark:text-white",children:""})]}),p.jsx("div",{className:"flex-1 overflow-y-auto max-h-40 custom-scrollbar space-y-2",children:ce.length?ce.map((R,q)=>p.jsxs("div",{className:"flex justify-between text-sm text-slate-700 dark:text-slate-300",children:[p.jsx("span",{children:R.class}),p.jsx("span",{className:"text-amber-600 text-xs font-bold",children:R.issue})]},q)):p.jsx("div",{className:"text-slate-400 text-sm text-center",children:"  "})})]}),p.jsxs("div",{className:"md:col-span-2 lg:col-span-4 bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col relative group",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 p-2 rounded-lg",children:p.jsx(Ke,{name:"CheckSquare",size:20})}),p.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "})]}),p.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>{navigator.clipboard.writeText(l),alert("")},className:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded font-bold text-slate-500 hover:text-indigo-600",children:""}),p.jsx("button",{onClick:()=>{confirm(" ?")&&u("")},className:"text-xs bg-red-50 dark:bg-red-900/30 px-2 py-1 rounded font-bold text-red-500 hover:text-red-700",children:""})]})]}),p.jsxs("div",{className:"relative flex-1",children:[p.jsx("textarea",{className:"w-full h-48 p-6 rounded-xl bg-yellow-50 dark:bg-slate-700 border border-yellow-200 dark:border-slate-600 outline-none font-medium text-slate-700 dark:text-slate-200 resize-none focus:ring-4 ring-yellow-100 dark:ring-slate-600/50 transition-shadow leading-relaxed shadow-inner",placeholder:"   ...",value:l,onChange:R=>u(R.target.value),style:{backgroundImage:"linear-gradient(transparent, transparent 27px, #e5e7eb 28px)",backgroundSize:"100% 28px",lineHeight:"28px"}}),y&&p.jsxs("div",{className:"absolute bottom-4 right-4 text-[10px] font-bold uppercase tracking-widest text-slate-400 animate-fade-in flex items-center gap-1",children:[p.jsx(Ke,{name:"Save",size:12})," ",y]})]})]})]}),p.jsx(al,{isOpen:L,onClose:()=>P(!1),title:"   ",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"       ?  !      ."}),p.jsx("textarea",{value:M,onChange:R=>I(R.target.value),rows:6,className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500 resize-y",placeholder:" ..."}),p.jsx("div",{className:"flex justify-end",children:p.jsxs("button",{onClick:$,disabled:_,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none flex items-center gap-2 disabled:opacity-50",children:[_?p.jsx(Ke,{name:"Loader",size:16,className:"animate-spin"}):p.jsx(Ke,{name:"Send",size:16}),_?"...":""]})})]})})]})};var aU={},AU={},lU={},kw={};Object.defineProperty(kw,"__esModule",{value:!0});function hz(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()}kw.default=hz;var __={};Object.defineProperty(__,"__esModule",{value:!0});var fz=kw,pz=" and ";function gz(t){return typeof t=="string"?t:Object.entries(t).map(function(e){var r=e[0],n=e[1],i=fz.default(r),s=n;return typeof s=="boolean"?s?i:"not "+i:(typeof s=="number"&&/[height|width]$/.test(i)&&(s=s+"px"),"("+i+": "+s+")")}).join(pz)}__.default=gz;var C_={};Object.defineProperty(C_,"__esModule",{value:!0});function mz(){}C_.default=mz;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=t.queryObjectToString=t.camelToHyphen=void 0;var e=kw;Object.defineProperty(t,"camelToHyphen",{enumerable:!0,get:function(){return e.default}});var r=__;Object.defineProperty(t,"queryObjectToString",{enumerable:!0,get:function(){return r.default}});var n=C_;Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return n.default}})})(lU);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.useMediaLayout=t.useMedia=t.mockMediaQueryList=void 0;var e=Ae,r=lU;t.mockMediaQueryList={media:"",matches:!1,onchange:r.noop,addListener:r.noop,removeListener:r.noop,addEventListener:r.noop,removeEventListener:r.noop,dispatchEvent:function(i){return!0}};var n=function(i){return function(s,o){o===void 0&&(o=!1);var a=e.useState(o),A=a[0],l=a[1],u=r.queryObjectToString(s);return i(function(){var c=!0,f=typeof window>"u"?t.mockMediaQueryList:window.matchMedia(u),g=function(){c&&l(!!f.matches)};return f.addListener(g),l(f.matches),function(){c=!1,f.removeListener(g)}},[u]),A}};t.useMedia=n(e.useEffect),t.useMediaLayout=n(e.useLayoutEffect),t.default=t.useMedia})(AU);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.useMediaLayout=t.useMedia=t.default=void 0;var e=AU;Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"useMedia",{enumerable:!0,get:function(){return e.useMedia}}),Object.defineProperty(t,"useMediaLayout",{enumerable:!0,get:function(){return e.useMediaLayout}})})(aU);const vz=O4(aU),wz=({isOpen:t,onClose:e,item:r,onSave:n,onDelete:i})=>{const{subjects:s,teachers:o,classes:a,rooms:A}=Wa(),[l,u]=Ae.useState({}),[c,f]=Ae.useState([]);Ae.useEffect(()=>{r&&u(r)},[r]);const g=(w,y,x)=>{const L=[],P=a.find(_=>_.id===w),M=s.find(_=>_.id===y),I=A.find(_=>_.id===x);return!I||!P||!M?[]:(I.capacity<P.studentsCount&&L.push(`  !   ${P.studentsCount} .,     ${I.capacity}.`),M.requiredRoomType!==""&&I.type!==M.requiredRoomType&&L.push(`   !   "${M.requiredRoomType}",   "${I.type}".`),L)},v=(w,y)=>{const x={...l,[w]:y};u(x),x.classId&&x.subjectId&&x.roomId&&f(g(x.classId,x.subjectId,x.roomId))},b=l.subjectId?o.filter(w=>w.subjectIds.includes(l.subjectId)):[],S=l.subjectId?o.filter(w=>!w.subjectIds.includes(l.subjectId)):o;return t?p.jsx(al,{isOpen:t,onClose:e,title:r.subjectId?" ":" ",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bm,{placeholder:"",value:l.classId,onChange:w=>v("classId",w),options:a.map(w=>({value:w.id,label:w.name}))}),p.jsx(bm,{placeholder:"",value:l.subjectId,onChange:w=>v("subjectId",w),options:s.map(w=>({value:w.id,label:w.name}))})]}),p.jsx(bm,{placeholder:"",value:l.teacherId,onChange:w=>v("teacherId",w),options:[{label:"",options:b.map(w=>({value:w.id,label:w.name}))},{label:"",options:S.map(w=>({value:w.id,label:w.name}))}],groupBy:!0}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bm,{placeholder:"",value:l.roomId,onChange:w=>v("roomId",w),options:A.map(w=>({value:w.id,label:`${w.name} (${w.type})`}))}),p.jsx("input",{placeholder:"/ ()",value:l.direction||"",onChange:w=>v("direction",w.target.value),className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500"})]}),c.length>0&&p.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg space-y-1",children:c.map((w,y)=>p.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 font-medium",children:w},y))}),p.jsxs("div",{className:"flex justify-between items-center pt-4",children:[p.jsx("button",{onClick:()=>{window.confirm(" ?")&&i()},className:"px-5 py-2 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-xl font-bold hover:bg-red-100 dark:hover:bg-red-900/50 transition",children:""}),p.jsx("button",{onClick:()=>n(l),className:"px-6 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none",children:""})]})]})}):null},uU=({readOnly:t=!1})=>{var gt;const{subjects:e,teachers:r,classes:n,rooms:i}=Wa(),{schedule:s,saveScheduleData:o,canUndo:a,canRedo:A,undo:l,redo:u,isReadOnly:c}=Ch(),f=t||c,[g,v]=Ae.useState(at.First),[b,S]=Ae.useState(Ss.Monday),[w,y]=Ae.useState(!1),[x,L]=Ae.useState(null),[P,M]=Ae.useState("class"),[I,_]=Ae.useState(""),[k,O]=Ae.useState(""),[E,T]=Ae.useState(""),[N,X]=Ae.useState(!1),[ce,te]=Ae.useState({visible:!1,x:0,y:0,item:null,cell:null}),[K,$]=Ae.useState(null),[R,q]=Ae.useState(null),[re,Q]=Ae.useState(null),j=vz({maxWidth:767}),[G,ee]=Ae.useState(!0),[ne,ae]=Ae.useState(!1),[ge,we]=Ae.useState(null),Te=Ia[g],Ne=()=>P==="week"?Ia[g].map(ue=>({id:ue.toString(),name:`${ue} `})):P==="class"?I?n.filter(ue=>ue.id===I&&ue.shift===g):n.filter(ue=>ue.shift===g):P==="teacher"?I?r.filter(ue=>ue.id===I):r:P==="subject"?I?e.filter(ue=>ue.id===I):e:[],je=(ue,Ye)=>{let Ze=[];if(P==="week"){const nt=parseInt(ue),rt=Ye;Ze=s.filter(wt=>wt.shift===g&&wt.period===nt&&wt.day===rt),I&&(Ze=Ze.filter(wt=>wt.classId===I))}else{const nt=Ye;P==="class"&&(Ze=s.filter(rt=>rt.classId===ue&&rt.period===nt&&rt.day===b&&rt.shift===g)),P==="teacher"&&(Ze=s.filter(rt=>rt.teacherId===ue&&rt.period===nt&&rt.day===b&&rt.shift===g)),P==="subject"&&(Ze=s.filter(rt=>rt.subjectId===ue&&rt.period===nt&&rt.day===b&&rt.shift===g))}return k&&(Ze=Ze.filter(nt=>{if(!nt.roomId)return!1;const rt=i.find($t=>$t.id===nt.roomId);return(rt?rt.name:nt.roomId).toLowerCase().includes(k.toLowerCase())})),E&&(Ze=Ze.filter(nt=>{var rt;return(rt=nt.direction)==null?void 0:rt.toLowerCase().includes(E.toLowerCase())})),Ze},Le=ue=>{const Ye=[],Ze=s.filter(wt=>wt.id!==ue.id&&wt.day===ue.day&&wt.period===ue.period&&wt.shift===ue.shift);return Ze.find(wt=>wt.teacherId===ue.teacherId)&&Ye.push("teacher"),Ze.find(wt=>!(wt.classId!==ue.classId||wt.direction&&ue.direction&&wt.direction!==ue.direction))&&Ye.push("class"),ue.roomId&&Ze.find($t=>$t.roomId===ue.roomId)&&Ye.push("room"),Ye},He=ue=>{f||(L(ue),y(!0))},_e=(ue,Ye,Ze=b)=>{if(f)return;const nt={period:Ye,day:Ze,shift:g,id:Math.random().toString(36).substr(2,9)};P==="class"&&(nt.classId=ue),P==="teacher"&&(nt.teacherId=ue),P==="subject"&&(nt.subjectId=ue),P==="week"&&(nt.period=parseInt(ue),nt.day=Ze,I&&n.find(rt=>rt.id===I)&&(nt.classId=I)),L(nt),y(!0)},oe=async ue=>{if(!ue.subjectId||!ue.teacherId||!ue.classId)return;let Ye=[...s];const Ze=Ye.findIndex(nt=>nt.id===ue.id);Ze>=0?Ye[Ze]=ue:Ye.push(ue),await o({schedule:Ye}),y(!1)},bt=async ue=>{const Ye=ue||(x==null?void 0:x.id);if(!Ye)return;const Ze=s.filter(nt=>nt.id!==Ye);await o({schedule:Ze}),y(!1)},le=(ue,Ye,Ze)=>{f||(ue.preventDefault(),ue.stopPropagation(),te({visible:!0,x:ue.clientX,y:ue.clientY,item:Ye,cell:Ze}))},pe=(ue,Ye)=>{if(f)return;q(Ye),ue.dataTransfer.effectAllowed="move";const Ze=ue.target;setTimeout(()=>Ze.classList.add("dragging"),0)},be=ue=>{ue.target.classList.remove("dragging"),q(null),Q(null)},xe=(ue,Ye)=>{ue.preventDefault(),!f&&Q(`${Ye.rowId}-${Ye.colKey}`)},Fe=async(ue,Ye)=>{if(ue.preventDefault(),!R||f)return;const Ze={...R};P==="week"?(Ze.period=parseInt(Ye.rowId),Ze.day=Ye.colKey):(Ze.period=Ye.colKey,Ze.day=b,P==="class"&&(Ze.classId=Ye.rowId),P==="teacher"&&(Ze.teacherId=Ye.rowId),P==="subject"&&(Ze.subjectId=Ye.rowId));let nt=s.map(rt=>rt.id===Ze.id?Ze:rt);await o({schedule:nt}),q(null),Q(null)},Re=[];ce.item?Re.push({label:"",icon:"Copy",onClick:()=>$(ce.item)},{label:"",icon:"Trash2",color:"text-red-600",onClick:()=>bt(ce.item.id)}):ce.cell&&(K&&Re.push({label:"",icon:"Clipboard",onClick:async()=>{const ue={...K,id:Math.random().toString(36).substr(2,9),day:b,shift:g,period:ce.cell.colKey};P==="week"&&(ue.day=ce.cell.colKey,ue.period=parseInt(ce.cell.rowId)),P==="class"?ue.classId=ce.cell.rowId:P==="teacher"?ue.teacherId=ce.cell.rowId:P==="subject"&&(ue.subjectId=ce.cell.rowId);let Ye=[...s,ue];await o({schedule:Ye}),$(null)}}),Re.push({label:" ",icon:"Plus",onClick:()=>_e(ce.cell.rowId,ce.cell.colKey,P==="week"?ce.cell.colKey:b)})),Ae.useMemo(()=>{var ue,Ye,Ze;if(f&&I){if(P==="teacher")return(ue=r.find(nt=>nt.id===I))==null?void 0:ue.name;if(P==="class")return(Ye=n.find(nt=>nt.id===I))==null?void 0:Ye.name;if(P==="subject")return(Ze=e.find(nt=>nt.id===I))==null?void 0:Ze.name}return""},[I,P,r,n,e,f]);const Pe=Ne(),Ge=P==="week"?Ri:Te,Ve=async()=>{if(!ge)return;const{type:ue,day:Ye,classId:Ze}=ge;let nt=[...s];ue==="clearAll"?nt=[]:ue==="clearDay"&&Ye?nt=nt.filter(rt=>rt.day!==Ye):ue==="clearClass"&&Ze&&(nt=nt.filter(rt=>rt.classId!==Ze)),await o({schedule:nt}),ae(!1),we(null)},qe=()=>{ae(!1),we(null)},ct=(ue,Ye,Ze)=>f&&ue.length===0?null:p.jsxs("div",{className:"h-full flex flex-col gap-1",children:[ue.map(nt=>{const rt=e.find(tr=>tr.id===nt.subjectId),wt=r.find(tr=>tr.id===nt.teacherId),$t=n.find(tr=>tr.id===nt.classId),Bt=Le(nt),Rt=i.find(tr=>tr.id===nt.roomId),Ar=Rt?Rt.name:nt.roomId;return p.jsxs("div",{draggable:!f,onDragStart:f?void 0:tr=>pe(tr,nt),onDragEnd:f?void 0:be,onClick:f?void 0:()=>He(nt),onContextMenu:f?void 0:tr=>le(tr,nt,null),className:`rounded-lg p-2 text-xs shadow-sm ${f?"":"hover:shadow-md cursor-grab active:cursor-grabbing"} border flex flex-col gap-0.5 flex-1 relative group transition-transform ${Bt.length>0?"border-red-300 bg-red-50 dark:bg-red-900/20 ring-1 ring-red-200":"border-slate-100 dark:border-slate-600"}`,style:Bt.length===0&&(rt!=null&&rt.color)?{backgroundColor:`${rt.color}40`}:{},children:[p.jsxs("div",{className:"flex justify-between items-center gap-1",children:[p.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 line-clamp-1",children:P==="subject"||P==="week"?$t==null?void 0:$t.name:rt==null?void 0:rt.name}),nt.direction&&p.jsx("span",{className:"text-[9px] px-1 rounded bg-white/80 dark:bg-black/30 font-bold text-slate-600 dark:text-slate-300",children:nt.direction})]}),P==="week"&&p.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200 line-clamp-1",children:rt==null?void 0:rt.name}),p.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[p.jsxs("div",{className:"text-slate-600 dark:text-slate-400 text-[10px] flex items-center gap-1 leading-tight overflow-hidden",title:wt==null?void 0:wt.name,children:[p.jsx(Ke,{name:P==="teacher"?"GraduationCap":"User",size:10,className:"shrink-0"}),p.jsx("span",{className:"truncate",children:P==="teacher"?$t==null?void 0:$t.name:wt==null?void 0:wt.name})]}),Ar&&p.jsx("div",{className:"text-[9px] font-mono text-slate-400 bg-white/50 dark:bg-black/20 rounded px-1 flex items-center gap-0.5 shrink-0",title:Rt?`: ${Rt.capacity}, : ${Rt.type}`:"",children:Ar})]}),Bt.length>0&&p.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px] font-bold",title:`: ${Bt.join(", ")}`,children:"!"})]},nt.id)}),!f&&ue.length<3&&p.jsx("button",{onClick:()=>_e(Ze,Ye,P==="week"?Ye:b),className:"w-full rounded-lg border-2 border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-300 dark:text-slate-600 hover:border-indigo-300 hover:text-indigo-400 transition-colors mt-auto h-6",children:p.jsx(Ke,{name:"Plus",size:16})})]}),ut=()=>{if(!I)return p.jsx("div",{className:"p-8 text-center text-slate-400 dark:text-slate-500",children:" ,       ."});const ue=s.filter(Ye=>Ye.day===b&&Ye.shift===g&&(P==="class"&&Ye.classId===I||P==="teacher"&&Ye.teacherId===I||P==="subject"&&Ye.subjectId===I)).sort((Ye,Ze)=>Ye.period-Ze.period);return ue.length===0?p.jsxs("div",{className:"p-8 text-center text-slate-400 dark:text-slate-500",children:["   ",b,"  ",g,"."]}):p.jsx("div",{className:"p-4 space-y-4",children:ue.map(Ye=>{const Ze=e.find(Rt=>Rt.id===Ye.subjectId),nt=r.find(Rt=>Rt.id===Ye.teacherId),rt=n.find(Rt=>Rt.id===Ye.classId),wt=i.find(Rt=>Rt.id===Ye.roomId),$t=wt?wt.name:Ye.roomId,Bt=Le(Ye);return p.jsxs("div",{onClick:f?void 0:()=>He(Ye),className:`rounded-xl p-4 shadow-sm border ${Bt.length>0?"border-red-300 bg-red-50 dark:bg-red-900/20 ring-1 ring-red-200":"border-slate-100 dark:border-slate-600 bg-white dark:bg-dark-800"} transition-colors ${f?"":"cursor-pointer"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("span",{className:"text-sm font-bold text-slate-800 dark:text-slate-100",children:[Ye.period," "]}),Bt.length>0&&p.jsx("span",{className:"bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",title:`: ${Bt.join(", ")}`,children:"!"})]}),p.jsxs("div",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400 mb-1",children:[Ze==null?void 0:Ze.name," ",Ye.direction&&`(${Ye.direction})`]}),p.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[rt==null?void 0:rt.name,"  ",nt==null?void 0:nt.name]}),$t&&p.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[": ",$t]})]},Ye.id)})})};return p.jsxs("div",{className:"h-full flex flex-col",children:[ce.visible&&p.jsx(uz,{x:ce.x,y:ce.y,onClose:()=>te({...ce,visible:!1}),actions:Re}),p.jsx(wz,{isOpen:w,onClose:()=>y(!1),item:x,onSave:oe,onDelete:bt}),p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mb-6 flex flex-col xl:flex-row gap-4 items-start xl:items-center justify-between no-print",children:[p.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[p.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[p.jsx("button",{onClick:()=>v(at.First),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${g===at.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),p.jsx("button",{onClick:()=>v(at.Second),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${g===at.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]}),P!=="week"&&p.jsx("div",{className:"flex overflow-x-auto pb-1 gap-1 max-w-[40vw] hide-scrollbar",children:Ri.map(ue=>p.jsx("button",{onClick:()=>S(ue),className:`whitespace-nowrap px-4 py-2 rounded-xl text-sm font-bold transition-all ${b===ue?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:ue},ue))}),!f&&p.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[p.jsx("button",{onClick:l,disabled:!a,className:"p-2 text-slate-500 disabled:opacity-30 hover:bg-white dark:hover:bg-slate-600 rounded-lg transition",children:p.jsx(Ke,{name:"RotateCcw",size:18})}),p.jsx("button",{onClick:u,disabled:!A,className:"p-2 text-slate-500 disabled:opacity-30 hover:bg-white dark:hover:bg-slate-600 rounded-lg transition",children:p.jsx(Ke,{name:"RotateCw",size:18})})]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full xl:w-auto",children:[p.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[p.jsx("button",{onClick:()=>{M("class"),_("")},className:`p-2 rounded-md ${P==="class"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:" ",children:p.jsx(Ke,{name:"GraduationCap",size:18})}),p.jsx("button",{onClick:()=>{M("teacher"),_("")},className:`p-2 rounded-md ${P==="teacher"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:" ",children:p.jsx(Ke,{name:"Users",size:18})}),p.jsx("button",{onClick:()=>{M("subject"),_("")},className:`p-2 rounded-md ${P==="subject"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:" ",children:p.jsx(Ke,{name:"BookOpen",size:18})}),p.jsx("button",{onClick:()=>{var ue;M("week"),_(((ue=n[0])==null?void 0:ue.id)||"")},className:`p-2 rounded-md ${P==="week"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-400"}`,title:"",children:p.jsx(Ke,{name:"Calendar",size:18})})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-1.5 pl-3 flex-1",children:[p.jsx(Ke,{name:"Filter",size:16,className:"text-slate-400"}),p.jsxs("select",{value:I,onChange:ue=>_(ue.target.value),className:"bg-transparent text-sm font-bold text-slate-700 dark:text-slate-200 outline-none w-full xl:w-32",children:[p.jsxs("option",{value:"",children:[" ",P==="class"?"":P==="teacher"?"":P==="week"?" ()":""]}),(P==="class"||P==="week")&&n.filter(ue=>ue.shift===g).map(ue=>p.jsx("option",{value:ue.id,children:ue.name},ue.id)),P==="teacher"&&r.map(ue=>p.jsx("option",{value:ue.id,children:ue.name},ue.id)),P==="subject"&&e.map(ue=>p.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),p.jsx("input",{placeholder:"...",value:k,onChange:ue=>O(ue.target.value),className:"w-20 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-2 text-xs font-bold"}),p.jsx("input",{placeholder:"...",value:E,onChange:ue=>T(ue.target.value),className:"w-20 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg p-2 text-xs font-bold"}),!f&&p.jsxs("button",{onClick:()=>ae(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-red-200 dark:shadow-none transition-all",children:[p.jsx(Ke,{name:"List",size:16})," . ."]}),(I||P==="week")&&p.jsx("button",{onClick:()=>X(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none transition-all",children:p.jsx(Ke,{name:"Printer",size:16})})]})]}),j&&!f&&I&&p.jsx("div",{className:"flex justify-center mb-4 no-print",children:p.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[p.jsx("button",{onClick:()=>ee(!1),className:`flex-1 py-1 px-3 text-xs font-bold rounded-md ${G?"text-slate-500 dark:text-slate-400":"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white"}`,title:" ",children:p.jsx(Ke,{name:"Columns",size:16})}),p.jsx("button",{onClick:()=>ee(!0),className:`flex-1 py-1 px-3 text-xs font-bold rounded-md ${G?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,title:" ",children:p.jsx(Ke,{name:"Rows",size:16})})]})}),p.jsx("div",{className:"flex-1 bg-white dark:bg-dark-800 rounded-2xl shadow-xl shadow-slate-200/50 dark:shadow-none border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col transition-colors duration-300 no-print",children:p.jsx("div",{className:"overflow-auto flex-1 custom-scrollbar",children:j&&G&&!f&&I?ut():p.jsxs("table",{className:"w-full border-collapse min-w-[1000px]",children:[p.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0 z-20",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 border-b border-r border-slate-100 dark:border-slate-600 text-left text-xs font-extrabold text-slate-400 uppercase w-40 sticky left-0 bg-slate-50 dark:bg-slate-700 z-30",children:P==="week"?"":P==="class"?"":P==="teacher"?"":""}),Ge.map(ue=>p.jsx("th",{className:"p-4 border-b border-slate-100 dark:border-slate-600 text-center text-xs font-extrabold text-slate-400 uppercase min-w-[160px]",children:P==="week"?ue:`${ue} `},ue))]})}),p.jsx("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-700",children:Pe.length>0?Pe.map(ue=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-4 border-r border-slate-100 dark:border-slate-600 font-black text-lg text-slate-700 dark:text-slate-200 sticky left-0 bg-white dark:bg-dark-800 z-10 text-left",children:ue.name}),Ge.map(Ye=>{const Ze=je(ue.id,Ye),nt=`${ue.id}-${Ye}`;return p.jsx("td",{className:`p-2 border-r border-slate-50 dark:border-slate-700 h-28 align-top transition-colors ${re===nt?"drag-over":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,onContextMenu:f?void 0:rt=>le(rt,null,{rowId:ue.id,colKey:Ye}),onDragOver:f?void 0:rt=>xe(rt,{rowId:ue.id,colKey:Ye}),onDrop:f?void 0:rt=>Fe(rt,{rowId:ue.id,colKey:Ye}),children:ct(Ze,Ye,ue.id)},Ye)})]},ue.id)):p.jsx("tr",{children:p.jsx("td",{colSpan:8,className:"p-8 text-center text-slate-400 dark:text-slate-500",children:"   "})})})]})})}),p.jsx(al,{isOpen:ne,onClose:qe,title:" ",children:ge?p.jsxs("div",{className:"space-y-4 text-center",children:[p.jsx(Ke,{name:"AlertTriangle",size:48,className:"mx-auto text-red-500"}),p.jsx("h3",{className:"text-lg font-bold dark:text-white",children:""}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:ge.message}),p.jsxs("div",{className:"flex justify-center gap-4 pt-4",children:[p.jsx("button",{onClick:qe,className:"px-6 py-2 bg-slate-100 dark:bg-slate-700 rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition",children:""}),p.jsx("button",{onClick:Ve,className:"px-6 py-2 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition",children:""})]})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:' .        "".'}),p.jsxs("button",{onClick:()=>we({type:"clearDay",day:b,message:` ,       ${b}?`}),disabled:P==="week",className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-amber-500 dark:hover:border-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/20 group transition-all text-left disabled:opacity-50 disabled:pointer-events-none",children:[p.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-amber-700 dark:group-hover:text-amber-400",children:" "}),p.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["    ",p.jsx("b",{children:b})]})]}),p.jsxs("button",{onClick:()=>{var ue;return we({type:"clearClass",classId:I,message:` ,        ${(ue=n.find(Ye=>Ye.id===I))==null?void 0:ue.name}?`})},disabled:!I||P==="teacher"||P==="subject",className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-amber-500 dark:hover:border-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/20 group transition-all text-left disabled:opacity-50 disabled:pointer-events-none",children:[p.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-amber-700 dark:group-hover:text-amber-400",children:" "}),p.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["    ",p.jsx("b",{children:((gt=n.find(ue=>ue.id===I))==null?void 0:gt.name)||" "})]})]}),p.jsxs("button",{onClick:()=>we({type:"clearAll",message:" ,     ?    ."}),className:"w-full p-4 rounded-xl border-2 border-red-100 dark:border-red-900 hover:border-red-500 dark:hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 group transition-all text-left",children:[p.jsxs("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-red-700 dark:group-hover:text-red-400 flex items-center gap-2",children:[p.jsx(Ke,{name:"AlertTriangle",size:16}),"   "]}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"       ."})]})]})})]})},yz=()=>{var K,$;const{subjects:t,teachers:e,classes:r,rooms:n,bellSchedule:i,saveStaticData:s}=Wa(),[o,a]=Ae.useState("teachers"),[A,l]=Ae.useState(!1),[u,c]=Ae.useState(null),[f,g]=Ae.useState({}),[v,b]=Ae.useState({}),[S,w]=Ae.useState({}),[y,x]=Ae.useState({}),[L,P]=Ae.useState("default"),[M,I]=Ae.useState(null),_=R=>{c(R||null),o==="teachers"?g(R?e.find(q=>q.id===R):{subjectIds:[],unavailableDates:[],shifts:[at.First,at.Second],telegramChatId:""}):o==="subjects"?b(R?t.find(q=>q.id===R):{color:"#e0e7ff",difficulty:5,requiredRoomType:""}):o==="classes"?w(R?r.find(q=>q.id===R):{shift:at.First,studentsCount:25}):o==="rooms"&&x(R?n.find(q=>q.id===R):{capacity:30,type:""}),l(!0)},k=async()=>{const R=()=>Math.random().toString(36).substr(2,9);if(o==="teachers"){if(!f.name)return;let q=[...e];u?q=q.map(re=>re.id===u?{...re,...f}:re):q.push({...f,id:R(),unavailableDates:[]}),await s({teachers:q})}else if(o==="subjects"){if(!v.name)return;let q=[...t];u?q=q.map(re=>re.id===u?{...re,...v}:re):q.push({...v,id:R()}),await s({subjects:q})}else if(o==="classes"){if(!S.name)return;let q=[...r];u?q=q.map(re=>re.id===u?{...re,...S}:re):q.push({...S,id:R()}),await s({classes:q})}else if(o==="rooms"){if(!y.name)return;let q=[...n];u?q=q.map(re=>re.id===u?{...re,...y}:re):q.push({...y,id:R()}),await s({rooms:q})}l(!1)},O=async R=>{window.confirm(" ?")&&(o==="teachers"&&await s({teachers:e.filter(q=>q.id!==R)}),o==="subjects"&&await s({subjects:t.filter(q=>q.id!==R)}),o==="classes"&&await s({classes:r.filter(q=>q.id!==R)}),o==="rooms"&&await s({rooms:n.filter(q=>q.id!==R)}))},E=(R,q)=>{I(q),R.dataTransfer.effectAllowed="move"},T=R=>{R.preventDefault()},N=async(R,q)=>{if(M===null||M===q)return;let re=[];o==="teachers"?re=[...e]:o==="subjects"?re=[...t]:o==="classes"?re=[...r]:re=[...n];const Q=re.splice(M,1)[0];re.splice(q,0,Q),o==="teachers"?await s({teachers:re}):o==="subjects"?await s({subjects:re}):o==="classes"?await s({classes:re}):await s({rooms:re}),I(null)},X=(R,q)=>{const re=L;let Q=i.find(j=>j.shift===R&&j.period===q&&j.day===re);if(!Q&&re!=="default"){const j=i.find(G=>G.shift===R&&G.period===q&&G.day==="default");return j?{...j,start:"",end:"",isInherited:!0}:{start:"",end:"",isInherited:!1}}return Q||{start:"",end:""}},ce=async(R,q,re,Q)=>{let j=[...i];const G=L,ee=j.findIndex(ne=>ne.shift===R&&ne.period===q&&ne.day===G);ee>=0?j[ee]={...j[ee],[re]:Q}:j.push({shift:R,period:q,[re]:Q,start:"00:00",end:"00:00",day:G}),await s({bellSchedule:j})},te=R=>{const q=f.shifts||[];q.includes(R)?g({...f,shifts:q.filter(re=>re!==R)}):g({...f,shifts:[...q,R]})};return p.jsxs("div",{className:"max-w-7xl mx-auto w-full h-full flex flex-col",children:[p.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8 shrink-0",children:[p.jsx("div",{className:"flex p-1 bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-x-auto",children:[{id:"teachers",icon:"Users",label:""},{id:"subjects",icon:"BookOpen",label:""},{id:"classes",icon:"GraduationCap",label:""},{id:"rooms",icon:"DoorOpen",label:""},{id:"bells",icon:"Bell",label:""}].map(R=>p.jsxs("button",{onClick:()=>a(R.id),className:`px-5 py-2.5 rounded-lg text-sm font-bold flex items-center gap-2 transition-all ${o===R.id?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[p.jsx(Ke,{name:R.icon,size:18})," ",R.label]},R.id))}),o!=="bells"&&p.jsxs("button",{onClick:()=>_(),className:"flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none font-semibold",children:[p.jsx(Ke,{name:"Plus",size:20})," "]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 custom-scrollbar pr-2",children:[o==="teachers"&&p.jsx(xm,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((R,q)=>{var re,Q;return p.jsxs("div",{draggable:!0,onDragStart:j=>E(j,q),onDragOver:T,onDrop:j=>N(j,q),className:"bg-white dark:bg-dark-800 p-5 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-all group flex flex-col cursor-grab active:cursor-grabbing",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Ke,{name:"GripVertical",className:"text-slate-300 dark:text-slate-600",size:16}),p.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:R.name})]}),p.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>_(R.id),className:"p-2 text-slate-600 dark:text-slate-300 hover:text-indigo-600 bg-slate-50 dark:bg-slate-700 rounded-full",children:p.jsx(Ke,{name:"Edit2",size:16})}),p.jsx("button",{onClick:()=>O(R.id),className:"p-2 text-slate-600 dark:text-slate-300 hover:text-red-600 bg-slate-50 dark:bg-slate-700 rounded-full",children:p.jsx(Ke,{name:"Trash2",size:16})})]})]}),p.jsx("div",{className:"text-xs text-slate-500 mb-2",children:R.birthDate?`: ${new Date(R.birthDate).toLocaleDateString("ru-RU")}`:""}),p.jsxs("div",{className:"flex gap-2 mb-3",children:[((re=R.shifts)==null?void 0:re.includes(at.First))&&p.jsx("span",{className:"text-[10px] bg-indigo-50 text-indigo-700 px-2 py-0.5 rounded font-bold",children:"1 "}),((Q=R.shifts)==null?void 0:Q.includes(at.Second))&&p.jsx("span",{className:"text-[10px] bg-purple-50 text-purple-700 px-2 py-0.5 rounded font-bold",children:"2 "})]}),p.jsx("div",{className:"flex flex-wrap gap-1 mt-auto pl-7",children:R.subjectIds.map(j=>{const G=t.find(ee=>ee.id===j);return G?p.jsx("span",{className:"text-xs px-2 py-1 rounded-md font-medium",style:{backgroundColor:G.color,color:"#334155"},children:G.name},j):null})})]},R.id)})}),o==="subjects"&&p.jsx(xm,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((R,q)=>p.jsxs("div",{draggable:!0,onDragStart:re=>E(re,q),onDragOver:T,onDrop:re=>N(re,q),className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between group cursor-grab active:cursor-grabbing border-l-4",style:{borderLeftColor:R.color},children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Ke,{name:"GripVertical",className:"text-slate-300 dark:text-slate-600",size:16}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200",children:R.name}),p.jsxs("div",{className:"text-xs text-slate-400",children:[": ",R.difficulty,"  ",R.requiredRoomType]})]})]}),p.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>_(R.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-indigo-600",children:p.jsx(Ke,{name:"Edit2",size:16})}),p.jsx("button",{onClick:()=>O(R.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-red-600",children:p.jsx(Ke,{name:"Trash2",size:16})})]})]},R.id))}),o==="classes"&&p.jsx(xm,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:r.map((R,q)=>p.jsxs("div",{draggable:!0,onDragStart:re=>E(re,q),onDragOver:T,onDrop:re=>N(re,q),className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm text-center group hover:shadow-md transition-all relative cursor-grab active:cursor-grabbing",children:[p.jsx("div",{className:"absolute left-2 top-2 text-slate-300 dark:text-slate-600",children:p.jsx(Ke,{name:"GripVertical",size:14})}),p.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-slate-100 mb-1",children:R.name}),p.jsxs("div",{className:"text-xs text-slate-500 mb-1",children:[R.studentsCount||0," "]}),p.jsxs("div",{className:`text-xs font-bold px-2 py-0.5 rounded-full inline-block ${R.shift===at.First?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:[R.shift===at.First?"I":"II"," "]}),p.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>_(R.id),className:"p-1 text-slate-600 dark:text-slate-300 hover:text-indigo-600",children:p.jsx(Ke,{name:"Edit2",size:14})}),p.jsx("button",{onClick:()=>O(R.id),className:"p-1 text-slate-600 dark:text-slate-300 hover:text-red-600",children:p.jsx(Ke,{name:"Trash2",size:14})})]})]},R.id))}),o==="rooms"&&p.jsx(xm,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map((R,q)=>p.jsxs("div",{draggable:!0,onDragStart:re=>E(re,q),onDragOver:T,onDrop:re=>N(re,q),className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between group cursor-grab active:cursor-grabbing",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Ke,{name:"GripVertical",className:"text-slate-300 dark:text-slate-600",size:16}),p.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-2 rounded-lg text-indigo-600",children:p.jsx(Ke,{name:"DoorOpen",size:20})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200",children:R.name}),p.jsxs("div",{className:"text-xs text-slate-400",children:[": ",R.capacity,"  ",R.type]})]})]}),p.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>_(R.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-indigo-600",children:p.jsx(Ke,{name:"Edit2",size:16})}),p.jsx("button",{onClick:()=>O(R.id),className:"p-1.5 text-slate-600 dark:text-slate-300 hover:text-red-600",children:p.jsx(Ke,{name:"Trash2",size:16})})]})]},R.id))}),o==="bells"&&p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-1 rounded-xl flex gap-1",children:["default","",""].map(R=>p.jsx("button",{onClick:()=>P(R),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all ${L===R?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:R==="default"?"":R===""?"":""},R))})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[at.First,at.Second].map(R=>p.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[p.jsx("div",{className:`p-4 font-bold text-lg text-white ${R===at.First?"bg-indigo-600":"bg-purple-600"}`,children:R}),p.jsx("div",{className:"p-6 space-y-3",children:Ia[R].map(q=>{const re=X(R,q);return p.jsxs("div",{className:`flex items-center gap-4 p-2 rounded-xl transition-colors ${re.isInherited?"bg-slate-50/50 dark:bg-slate-800/50 opacity-60":"bg-slate-50 dark:bg-slate-700/50"}`,children:[p.jsx("div",{className:"w-10 h-10 rounded-lg bg-white dark:bg-slate-600 flex items-center justify-center font-black text-slate-500 dark:text-slate-300 shadow-sm",children:q}),p.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[p.jsx("input",{type:"time",className:"flex-1 border-none bg-transparent font-bold text-slate-800 dark:text-white text-center focus:ring-0",value:re.start,onChange:Q=>ce(R,q,"start",Q.target.value)}),p.jsx("span",{className:"text-slate-300",children:""}),p.jsx("input",{type:"time",className:"flex-1 border-none bg-transparent font-bold text-slate-800 dark:text-white text-center focus:ring-0",value:re.end,onChange:Q=>ce(R,q,"end",Q.target.value)})]})]},q)})})]},R))})]})]}),p.jsx(al,{isOpen:A,onClose:()=>l(!1),title:"",children:p.jsxs("div",{className:"space-y-4",children:[o==="teachers"&&p.jsxs(p.Fragment,{children:[p.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:" ",value:f.name||"",onChange:R=>g({...f,name:R.target.value})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" "}),p.jsx("input",{type:"date",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:f.birthDate||"",onChange:R=>g({...f,birthDate:R.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"Telegram Chat ID"}),p.jsx("input",{type:"text",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:f.telegramChatId||"",onChange:R=>g({...f,telegramChatId:R.target.value}),placeholder:"12345678"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:""}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",className:"rounded text-indigo-600 focus:ring-indigo-500",checked:(K=f.shifts)==null?void 0:K.includes(at.First),onChange:()=>te(at.First)}),p.jsx("span",{className:"text-sm font-medium dark:text-slate-300",children:"1 "})]}),p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",className:"rounded text-purple-600 focus:ring-purple-500",checked:($=f.shifts)==null?void 0:$.includes(at.Second),onChange:()=>te(at.Second)}),p.jsx("span",{className:"text-sm font-medium dark:text-slate-300",children:"2 "})]})]})]}),p.jsx("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mt-2",children:""}),p.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto custom-scrollbar border border-slate-100 dark:border-slate-700 p-2 rounded-xl",children:t.map(R=>{var q;return p.jsxs("label",{className:"flex items-center gap-2 p-1 rounded hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer",children:[p.jsx("input",{type:"checkbox",className:"rounded text-indigo-600 focus:ring-indigo-500",checked:(q=f.subjectIds)==null?void 0:q.includes(R.id),onChange:re=>{const Q=f.subjectIds||[];g({...f,subjectIds:re.target.checked?[...Q,R.id]:Q.filter(j=>j!==R.id)})}}),p.jsx("span",{className:"text-sm dark:text-slate-300",children:R.name})]},R.id)})})]}),o==="subjects"&&p.jsxs(p.Fragment,{children:[p.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:" ",value:v.name||"",onChange:R=>b({...v,name:R.target.value})}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:":"}),p.jsx("input",{type:"color",className:"w-20 h-10 cursor-pointer bg-transparent",value:v.color||"#ffffff",onChange:R=>b({...v,color:R.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" ( 1-12)"}),p.jsx("input",{type:"number",min:"1",max:"12",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:v.difficulty||5,onChange:R=>b({...v,difficulty:parseInt(R.target.value)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:"  "}),p.jsx("select",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:v.requiredRoomType,onChange:R=>b({...v,requiredRoomType:R.target.value}),children:mI.map(R=>p.jsx("option",{value:R,children:R},R))})]})]}),o==="classes"&&p.jsxs(p.Fragment,{children:[p.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:"  (5)",value:S.name||"",onChange:R=>w({...S,name:R.target.value})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" "}),p.jsx("input",{type:"number",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:S.studentsCount||25,onChange:R=>w({...S,studentsCount:parseInt(R.target.value)})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx("button",{onClick:()=>w({...S,shift:at.First}),className:`p-3 rounded-xl border text-sm font-bold transition-all ${S.shift===at.First?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400":"border-slate-200 dark:border-slate-600 text-slate-500 dark:text-slate-400"}`,children:"1 "}),p.jsx("button",{onClick:()=>w({...S,shift:at.Second}),className:`p-3 rounded-xl border text-sm font-bold transition-all ${S.shift===at.Second?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400":"border-slate-200 dark:border-slate-600 text-slate-500 dark:text-slate-400"}`,children:"2 "})]})]}),o==="rooms"&&p.jsxs(p.Fragment,{children:[p.jsx("input",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",placeholder:"/ (. 101)",value:y.name||"",onChange:R=>x({...y,name:R.target.value})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" ()"}),p.jsx("input",{type:"number",className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:y.capacity||30,onChange:R=>x({...y,capacity:parseInt(R.target.value)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1",children:" "}),p.jsx("select",{className:"w-full border border-slate-200 dark:border-slate-600 rounded-xl p-3 text-sm bg-white dark:bg-slate-700 dark:text-white outline-none focus:border-indigo-500",value:y.type,onChange:R=>x({...y,type:R.target.value}),children:mI.map(R=>p.jsx("option",{value:R,children:R},R))})]})]}),p.jsx("div",{className:"flex justify-end pt-4",children:p.jsx("button",{onClick:k,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none",children:""})})]})})]})},Bz=()=>{const{subjects:t,teachers:e,classes:r,rooms:n,settings:i,saveStaticData:s}=Wa(),{schedule:o,substitutions:a,saveScheduleData:A}=Ch(),l=Tl(),[u,c]=Ae.useState(new Date().toISOString().split("T")[0]),[f,g]=Ae.useState(!1),[v,b]=Ae.useState(null),[S,w]=Ae.useState(!1),[y,x]=Ae.useState(!1),[L,P]=Ae.useState(null),[M,I]=Ae.useState(""),[_,k]=Ae.useState(!1),[O,E]=Ae.useState(""),[T,N]=Ae.useState(""),[X,ce]=Ae.useState("all"),[te,K]=Ae.useState(""),[$,R]=Ae.useState(""),[q,re]=Ae.useState("");Ae.useEffect(()=>{var le;(le=l.state)!=null&&le.subParams&&(b(l.state.subParams),re(""),g(!0),window.history.replaceState({},document.title))},[l.state]);const Q=Ae.useMemo(()=>{const le=new Date(u).getDay();return le===0||le===6?null:Ri[le-1]},[u]),j=Ae.useMemo(()=>e.filter(le=>{const pe=le.name.toLowerCase().includes(T.toLowerCase()),be=X==="all"?!0:le.shifts.includes(X);return pe&&be}),[e,T,X]),G=Ae.useMemo(()=>e.filter(le=>le.unavailableDates.includes(u)),[e,u]),ee=Ae.useMemo(()=>{if(!Q)return[];const le=G.map(Pe=>Pe.id),pe=o.filter(Pe=>Pe.day===Q&&le.includes(Pe.teacherId)),xe=a.filter(Pe=>Pe.date===u).map(Pe=>Pe.scheduleItemId),Fe=o.filter(Pe=>xe.includes(Pe.id)),Re=[...pe];return Fe.forEach(Pe=>{Re.find(Ge=>Ge.id===Pe.id)||Re.push(Pe)}),Re.sort((Pe,Ge)=>Pe.period-Ge.period)},[o,Q,G,a,u]),ne=le=>{var be;const pe=e.find(xe=>xe.id===le);P(le),I(((be=pe==null?void 0:pe.absenceReasons)==null?void 0:be[u])||""),w(!0)},ae=Ae.useCallback(async()=>{let le=[...e];const pe=le.findIndex(xe=>xe.id===L);if(pe===-1)return;const be={...le[pe]};be.unavailableDates.includes(u)||(be.unavailableDates=[...be.unavailableDates,u]),be.absenceReasons||(be.absenceReasons={}),be.absenceReasons[u]=M,le[pe]=be,await s({teachers:le}),w(!1)},[e,L,u,M,s]),ge=Ae.useCallback(async le=>{let pe=[...e];const be=pe.findIndex(Fe=>Fe.id===le);if(be===-1)return;const xe={...pe[be]};xe.unavailableDates=xe.unavailableDates.filter(Fe=>Fe!==u),xe.absenceReasons&&delete xe.absenceReasons[u],pe[be]=xe,await s({teachers:pe})},[e,u,s]),we=async le=>{if(!v)return;let pe=[...a],be=[...e];const xe=pe.findIndex(Pe=>Pe.scheduleItemId===v.scheduleItemId&&Pe.date===u),Fe=o.find(Pe=>Pe.id===v.scheduleItemId);if(!Fe)return;const Re={id:xe>=0?pe[xe].id:Math.random().toString(36).substr(2,9),date:u,scheduleItemId:v.scheduleItemId,originalTeacherId:Fe.teacherId,replacementTeacherId:le,replacementRoomId:q||void 0};if(xe>=0?pe[xe]=Re:pe.push(Re),le!=="conducted"&&le!=="cancelled"&&le!==Fe.teacherId){const Pe=be.findIndex(Ge=>Ge.id===Fe.teacherId);Pe>-1&&!be[Pe].unavailableDates.includes(u)&&(be[Pe]={...be[Pe],unavailableDates:[...be[Pe].unavailableDates,u],absenceReasons:{...be[Pe].absenceReasons,[u]:" "}},await s({teachers:be}))}await A({substitutions:pe}),g(!1),K(""),re("")},Te=Ae.useCallback(async le=>{const pe=a.filter(be=>!(be.scheduleItemId===le&&be.date===u));await A({substitutions:pe})},[a,u,A]),Ne=Ae.useCallback(()=>{let le=`*  ${new Date(u).toLocaleDateString("ru-RU")}*
`;const pe=a.some(xe=>xe.date===u&&xe.replacementTeacherId!=="conducted"),be=(xe,Fe)=>{const Pe=ee.filter(Ge=>Ge.shift===Fe).filter(Ge=>{const Ve=a.find(qe=>qe.scheduleItemId===Ge.id&&qe.date===u);return Ve&&Ve.replacementTeacherId!=="conducted"});Pe.length>0&&(le+=`
 *${xe.toUpperCase()}*
`,Pe.forEach(Ge=>{var rt,wt,$t;const Ve=a.find(Bt=>Bt.scheduleItemId===Ge.id&&Bt.date===u),qe=r.find(Bt=>Bt.id===Ge.classId),ct=t.find(Bt=>Bt.id===Ge.subjectId),ut=Ve?e.find(Bt=>Bt.id===Ve.replacementTeacherId):null,gt=e.find(Bt=>Bt.id===Ge.teacherId),ue=((rt=n.find(Bt=>Bt.id===Ge.roomId))==null?void 0:rt.name)||Ge.roomId||"?",Ye=(wt=gt==null?void 0:gt.absenceReasons)==null?void 0:wt[u],Ze=(gt==null?void 0:gt.name)+(Ye===" "?" ( )":""),nt=Ve!=null&&Ve.replacementRoomId?(($t=n.find(Bt=>Bt.id===Ve.replacementRoomId))==null?void 0:$t.name)||Ve.replacementRoomId:null;if(Ve)if(Ve.replacementTeacherId==="cancelled")le+=` ${qe==null?void 0:qe.name} (${Ge.period} ): ${ct==null?void 0:ct.name} (${Ze}) ->  
`;else if(Ve.replacementTeacherId===Ve.originalTeacherId&&nt)le+=` ${qe==null?void 0:qe.name} (${Ge.period} ): ${ct==null?void 0:ct.name} (${gt==null?void 0:gt.name}) ->  ${ue}  ${nt}
`;else{let Bt=` ${qe==null?void 0:qe.name} (${Ge.period} ): ${ct==null?void 0:ct.name} -> ${ut==null?void 0:ut.name} ( ${Ze})`;nt&&(Bt+=`  . ${nt}`),le+=Bt+`
`}}))};pe?(be(at.First,at.First),be(at.Second,at.Second)):le+=`
 .`,navigator.clipboard.writeText(le),alert("     !")},[u,a,ee,r,t,e,n]),je=Ae.useCallback(()=>{let le=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Gymnasium//Manager//RU
`;a.filter(Re=>Re.date===u).forEach(Re=>{const Pe=o.find(ut=>ut.id===Re.scheduleItemId);if(!Pe)return;let Ge="Unknown";if(Re.replacementTeacherId==="cancelled")Ge=" ";else if(Re.replacementTeacherId==="conducted")Ge=" ";else{const ut=e.find(gt=>gt.id===Re.replacementTeacherId);ut&&(Ge=ut.name)}const Ve=t.find(ut=>ut.id===Pe.subjectId),qe=r.find(ut=>ut.id===Pe.classId),ct=Re.date.replace(/-/g,"");le+=`BEGIN:VEVENT
DTSTART;VALUE=DATE:${ct}
SUMMARY:: ${qe==null?void 0:qe.name} - ${Ve==null?void 0:Ve.name}
DESCRIPTION:: ${Ge}
END:VEVENT
`}),le+="END:VCALENDAR";const be=new Blob([le],{type:"text/calendar"}),xe=URL.createObjectURL(be),Fe=document.createElement("a");Fe.href=xe,Fe.download="substitutions.ics",document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe)},[u,a,o,e,t,r]),Le=Ae.useCallback(async()=>{if(!(i!=null&&i.telegramToken)){alert(" Telegram      ''.");return}let le=`*  ${new Date(u).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}*

`,pe=!1;const be=new Set,xe=[at.First,at.Second];for(const Re of xe){const Ge=ee.filter(Ve=>Ve.shift===Re).filter(Ve=>a.some(qe=>qe.scheduleItemId===Ve.id&&qe.date===u&&qe.replacementTeacherId!=="conducted"));Ge.length>0&&(pe=!0,le+=` *${Re.toUpperCase()}*
`,Ge.forEach(Ve=>{var $t,Bt;const qe=a.find(Rt=>Rt.scheduleItemId===Ve.id&&Rt.date===u);if(!qe)return;const ct=r.find(Rt=>Rt.id===Ve.classId),ut=t.find(Rt=>Rt.id===Ve.subjectId),gt=e.find(Rt=>Rt.id===qe.originalTeacherId),ue=e.find(Rt=>Rt.id===qe.replacementTeacherId),Ye=(($t=n.find(Rt=>Rt.id===Ve.roomId))==null?void 0:$t.name)||Ve.roomId||"",Ze=qe.replacementRoomId?((Bt=n.find(Rt=>Rt.id===qe.replacementRoomId))==null?void 0:Bt.name)||qe.replacementRoomId:Ye,nt=(gt==null?void 0:gt.name)||"/",rt=(ue==null?void 0:ue.name)||"/";let wt=`${Ve.period}  (${ct==null?void 0:ct.name} ${ut==null?void 0:ut.name}${Ve.direction?` ${Ve.direction}`:""}): `;qe.replacementTeacherId==="cancelled"?wt+=`* * ( ${nt})`:qe.replacementTeacherId===qe.originalTeacherId?wt+=`: ${nt}.  : ${Ye}  ${Ze}`:(wt+=`*${rt}* ( *${nt}*)`,Ye!==Ze?wt+=`. : ${Ye}  ${Ze}`:Ze!==""&&(wt+=`. : ${Ze}`)),le+=`${wt}
`,gt!=null&&gt.telegramChatId&&be.add(gt.telegramChatId),ue!=null&&ue.telegramChatId&&be.add(ue.telegramChatId)}),le+=`
`)}if(pe||(le+=` .
`),G.forEach(Re=>{const Pe=a.some(Ge=>Ge.date===u&&Ge.originalTeacherId===Re.id&&Ge.replacementTeacherId!=="cancelled"&&Ge.replacementTeacherId!=="conducted");Re.telegramChatId&&!Pe&&(be.add(Re.telegramChatId),pe?le+=`_:  ${Re.name} ,        /._
`:le+=`_:  ${Re.name} ,      ._
`)}),be.size===0){alert("    Telegram Chat ID   .");return}const Fe=`https://api.telegram.org/bot${i.telegramToken}/sendMessage`;try{const Re=Array.from(be).map(Pe=>fetch(Fe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:Pe,text:le,parse_mode:"Markdown"})}));await Promise.all(Re),alert(`   ${be.size} !`)}catch(Re){console.error("    Telegram:",Re),alert("     Telegram.     .")}},[u,ee,a,r,t,e,n,G,i==null?void 0:i.telegramToken,o]),He=Ae.useMemo(()=>{if(!v||!Q)return[];const le=u.substring(0,7);return e.filter(pe=>pe.name.toLowerCase().includes(te.toLowerCase())).map(pe=>{const be=pe.unavailableDates.includes(u),xe=o.some(Ge=>Ge.teacherId===pe.id&&Ge.day===Q&&Ge.period===v.period&&Ge.shift===v.shift),Fe=pe.subjectIds.includes(v.subjectId),Re=a.filter(Ge=>Ge.replacementTeacherId===pe.id&&Ge.date.startsWith(le)).length;let Pe=0;return be&&(Pe-=1e3),xe&&(Pe-=100),Fe&&(Pe+=50),{teacher:pe,isAbsent:be,isBusy:xe,isSpecialist:Fe,score:Pe,subsCount:Re}}).sort((pe,be)=>be.score-pe.score)},[e,v,u,te,Q,o,a]),_e=Ae.useMemo(()=>{if(!v)return null;const le=o.find(Re=>Re.id===v.scheduleItemId);if(!le)return null;const pe=r.find(Re=>Re.id===le.classId),be=t.find(Re=>Re.id===le.subjectId),xe=e.find(Re=>Re.id===le.teacherId),Fe=xe==null?void 0:xe.unavailableDates.includes(u);return{className:pe==null?void 0:pe.name,subjectName:be==null?void 0:be.name,teacherName:xe==null?void 0:xe.name,teacherId:xe==null?void 0:xe.id,period:le.period,roomId:le.roomId,isTeacherAbsent:Fe}},[v,o,r,t,e,u]),oe=Ae.useMemo(()=>{if(!Q||$.length<2)return[];const le=$.toLowerCase(),pe=e.filter(Fe=>Fe.name.toLowerCase().includes(le)),be=r.filter(Fe=>Fe.name.toLowerCase().includes(le)),xe=[];return pe.forEach(Fe=>{o.filter(Pe=>Pe.teacherId===Fe.id&&Pe.day===Q).forEach(Pe=>{const Ge=r.find(qe=>qe.id===Pe.classId),Ve=t.find(qe=>qe.id===Pe.subjectId);xe.push({...Pe,entityName:Fe.name,subInfo:Ge==null?void 0:Ge.name,subjectName:Ve==null?void 0:Ve.name})})}),be.forEach(Fe=>{o.filter(Pe=>Pe.classId===Fe.id&&Pe.day===Q).forEach(Pe=>{if(xe.find(qe=>qe.id===Pe.id))return;const Ge=e.find(qe=>qe.id===Pe.teacherId),Ve=t.find(qe=>qe.id===Pe.subjectId);xe.push({...Pe,entityName:Fe.name,subInfo:Ge==null?void 0:Ge.name,subjectName:Ve==null?void 0:Ve.name})})}),xe.sort((Fe,Re)=>Fe.period-Re.period)},[$,Q,e,r,o,t]),bt=Ae.useCallback(async(le,pe,be,xe,Fe,Re)=>{const Ge=new Date(Re).toLocaleDateString("ru-RU",{day:"numeric",month:"long"}),Ve=pe.shift===at.First?"1 ":"2 ",qe=` *  *
${le.name}

 : ${Ge}
 : ${Ve}
 : ${be==null?void 0:be.name}
1 : ${pe.period}
 : ${xe==null?void 0:xe.name}
 : ${Fe||" "}`;if(i!=null&&i.telegramToken&&le.telegramChatId)try{const ut=await(await fetch(`https://api.telegram.org/bot${i.telegramToken}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:le.telegramChatId,text:qe,parse_mode:"Markdown"})})).json();ut.ok?alert(`   Telegram  ${le.name}!`):ut.description.includes("chat not found")?alert(` Telegram:   .

  ${le.name}       "" (/start).`):alert(` Telegram: ${ut.description}`)}catch(ct){alert("   Telegram (/)."),console.error(ct)}else navigator.share?navigator.share({title:"",text:qe}).catch(()=>{}):(navigator.clipboard.writeText(qe),alert(" ! (Telegram     Chat ID)"))},[i==null?void 0:i.telegramToken]);return p.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6",children:[p.jsxs("div",{className:"w-full md:w-80 flex flex-col gap-6",children:[p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2 block",children:" "}),p.jsxs("div",{className:"relative",children:[p.jsx(Ke,{name:"Calendar",className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"date",value:u,onChange:le=>c(le.target.value),className:"w-full pl-10 border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm font-bold outline-none focus:border-indigo-500 bg-transparent dark:text-white"})]}),p.jsxs("button",{onClick:()=>k(!_),className:`mt-3 w-full py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 border transition-all ${_?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white border-indigo-200 dark:border-slate-500"}`,children:[p.jsx(Ke,{name:"History",size:16})," ",_?" ":" "]})]}),_?p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex-1 overflow-hidden flex flex-col",children:[p.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-2",children:""}),p.jsx("input",{placeholder:"  /...",value:O,onChange:le=>E(le.target.value),className:"mb-4 w-full bg-slate-100 dark:bg-slate-700 border-none rounded-lg p-2 text-xs"}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2",children:a.filter(le=>{var pe;return le.date.includes(O)||((pe=e.find(be=>be.id===le.replacementTeacherId))==null?void 0:pe.name.toLowerCase().includes(O.toLowerCase()))}).map(le=>{const pe=e.find(xe=>xe.id===le.replacementTeacherId),be=n.find(xe=>xe.id===le.replacementRoomId);return p.jsxs("div",{className:"p-2 border border-slate-100 dark:border-slate-700 rounded-lg text-xs",children:[p.jsx("div",{className:"font-bold",children:le.date}),p.jsx("div",{children:(pe==null?void 0:pe.name)||(le.replacementTeacherId==="cancelled"?"":"")}),be&&p.jsxs("div",{className:"text-indigo-500",children:[". ",be.name]})]},le.id)})})]}):p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex-1 overflow-hidden flex flex-col",children:[p.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(Ke,{name:"UserX",size:18,className:"text-red-500"})," "]}),p.jsxs("div",{className:"mb-3 space-y-2",children:[p.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[p.jsx("button",{onClick:()=>ce("all"),className:`flex-1 py-1 text-xs font-bold rounded-md ${X==="all"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:""}),p.jsx("button",{onClick:()=>ce(at.First),className:`flex-1 py-1 text-xs font-bold rounded-md ${X===at.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),p.jsx("button",{onClick:()=>ce(at.Second),className:`flex-1 py-1 text-xs font-bold rounded-md ${X===at.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]}),p.jsxs("div",{className:"relative",children:[p.jsx(Ke,{name:"Search",className:"absolute left-3 top-2.5 text-slate-400",size:14}),p.jsx("input",{placeholder:" ...",value:T,onChange:le=>N(le.target.value),className:"w-full pl-8 pr-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-100 dark:border-slate-600 rounded-xl text-xs outline-none focus:ring-1 ring-indigo-500 dark:text-white"})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-1 space-y-2",children:[j.map(le=>{const pe=le.unavailableDates.includes(u),be=le.absenceReasons?le.absenceReasons[u]:"";return p.jsxs("div",{className:`flex flex-col p-3 rounded-xl border transition-all ${pe?"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900":"bg-slate-50 dark:bg-slate-700/50 border-slate-100 dark:border-slate-600"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("span",{className:`text-sm font-medium ${pe?"text-red-700 dark:text-red-400":"text-slate-600 dark:text-slate-300"}`,children:le.name}),p.jsx("button",{onClick:()=>pe?ge(le.id):ne(le.id),className:`text-xs px-2 py-1 rounded-lg font-bold transition-colors ${pe?"bg-white dark:bg-dark-800 text-red-600 dark:text-red-400 shadow-sm":"text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:pe?"":""})]}),p.jsxs("div",{className:"flex justify-between items-end",children:[p.jsx("div",{className:"flex gap-1",children:le.shifts.map(xe=>p.jsx("span",{className:"text-[9px] bg-white dark:bg-slate-600 px-1 rounded border border-slate-100 dark:border-slate-500 text-slate-400",children:xe===at.First?"1":"2"},xe))}),pe&&p.jsxs("div",{className:"flex items-center gap-1",children:[be&&p.jsx("div",{className:"text-[10px] text-red-500 dark:text-red-400 italic",children:be}),p.jsx("button",{onClick:()=>ne(le.id),className:"w-6 h-6 flex items-center justify-center bg-white dark:bg-dark-800 text-red-600 dark:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full shadow-sm border border-slate-200 dark:border-slate-600",title:" ",children:p.jsx(Ke,{name:"Edit2",size:14})})]})]})]},le.id)}),j.length===0&&p.jsx("div",{className:"text-center text-xs text-slate-400 py-4",children:" "})]})]})]}),p.jsxs("div",{className:"flex-1 bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:["  (",ee.length,")"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:je,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-xl text-sm font-bold hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",children:[p.jsx(Ke,{name:"Calendar",size:16})," iCal"]}),ee.length>0&&p.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-3 py-2 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-xl text-sm font-bold hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors",children:[p.jsx(Ke,{name:"Copy",size:16})," "]}),p.jsxs("button",{onClick:Le,className:"px-4 py-2 bg-blue-500 text-white rounded-xl font-bold hover:bg-blue-600 transition shadow-lg shadow-blue-200 dark:shadow-none flex items-center gap-2",children:[p.jsx(Ke,{name:"Send",size:16})," Telegram"]}),p.jsxs("button",{onClick:()=>{R(""),x(!0)},className:"flex items-center gap-2 px-3 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 rounded-xl text-sm font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:[p.jsx(Ke,{name:"Search",size:16}),"  "]})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-4",children:ee.length===0?p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[p.jsx(Ke,{name:"CheckCircle",size:48,className:"mb-4 text-slate-200 dark:text-slate-700"}),p.jsx("p",{children:" ,     "})]}):ee.map(le=>{var gt;const pe=a.find(ue=>ue.scheduleItemId===le.id&&ue.date===u),be=pe&&pe.replacementTeacherId!=="cancelled"&&pe.replacementTeacherId!=="conducted"?e.find(ue=>ue.id===pe.replacementTeacherId):null,xe=e.find(ue=>ue.id===le.teacherId),Fe=t.find(ue=>ue.id===le.subjectId),Re=r.find(ue=>ue.id===le.classId),Pe=n.find(ue=>ue.id===le.roomId),Ge=Pe?Pe.name:le.roomId,Ve=pe==null?void 0:pe.replacementRoomId,qe=Ve?((gt=n.find(ue=>ue.id===Ve))==null?void 0:gt.name)||Ve:null;let ct=null;if((pe==null?void 0:pe.replacementTeacherId)==="conducted")ct=p.jsxs("div",{className:"flex items-center gap-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-900 pl-4 pr-2 py-2 rounded-xl",children:[p.jsx("div",{className:"text-blue-700 dark:text-blue-400 font-bold text-sm",children:" "}),p.jsx("button",{onClick:()=>Te(le.id),className:"p-2 bg-white dark:bg-dark-800 rounded-lg text-blue-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors shadow-sm",children:p.jsx(Ke,{name:"X",size:16})})]});else if((pe==null?void 0:pe.replacementTeacherId)==="cancelled")ct=p.jsxs("div",{className:"flex items-center gap-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 pl-4 pr-2 py-2 rounded-xl",children:[p.jsx("div",{className:"text-red-700 dark:text-red-400 font-bold text-sm",children:" "}),p.jsx("button",{onClick:()=>Te(le.id),className:"p-2 bg-white dark:bg-dark-800 rounded-lg text-red-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors shadow-sm",children:p.jsx(Ke,{name:"X",size:16})})]});else if(be||Ve){const ue=(pe==null?void 0:pe.replacementTeacherId)===(pe==null?void 0:pe.originalTeacherId)&&Ve;ct=p.jsxs("div",{className:"flex items-center gap-3 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-900 pl-4 pr-2 py-2 rounded-xl",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] uppercase font-bold text-emerald-600 dark:text-emerald-400 tracking-wider",children:ue?" ":" "}),p.jsx("div",{className:"font-bold text-emerald-900 dark:text-emerald-200 text-sm",children:ue?"  ":be==null?void 0:be.name})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>bt(be||xe,le,Re,Fe,qe||Ge,u),className:"p-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 shadow-sm transition-all",title:" ",children:p.jsx(Ke,{name:"Send",size:18})}),p.jsx("button",{onClick:()=>Te(le.id),className:"p-2 rounded-lg bg-white dark:bg-slate-800 text-red-500 border border-red-100 dark:border-red-900/30 hover:bg-red-50 dark:hover:bg-red-900/20 shadow-sm transition-all",title:" ",children:p.jsx(Ke,{name:"UserX",size:18})})]})]})}else ct=p.jsxs("button",{onClick:()=>{b({scheduleItemId:le.id,subjectId:le.subjectId,period:le.period,shift:le.shift,classId:le.classId,teacherId:le.teacherId,roomId:le.roomId,day:le.day}),g(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-3 rounded-xl text-sm font-bold shadow-lg shadow-indigo-200 dark:shadow-none transition-all flex items-center justify-center gap-2 xl:w-auto w-full",children:["  ",p.jsx(Ke,{name:"ArrowRight",size:16})]});const ut=!G.find(ue=>ue.id===le.teacherId);return p.jsxs("div",{className:"p-4 rounded-xl border border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-700/30 flex flex-col xl:flex-row xl:items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-600 flex flex-col items-center justify-center text-indigo-600 dark:text-indigo-400",children:[p.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 leading-none",children:""}),p.jsx("span",{className:"text-xl font-black leading-none mt-1 dark:text-slate-200",children:le.period})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:Re==null?void 0:Re.name}),p.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[p.jsx("span",{className:"text-xs font-bold text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1 rounded",children:le.shift===at.First?"1":"2"}),p.jsx("span",{className:"text-slate-400",children:"|"}),p.jsx("span",{children:Fe==null?void 0:Fe.name})]})]}),p.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[p.jsx("span",{className:ut?"font-semibold":"line-through decoration-red-400 decoration-2",children:xe==null?void 0:xe.name}),Ge&&p.jsxs("span",{className:"text-xs bg-white dark:bg-slate-700 px-1.5 py-0.5 rounded border border-slate-200 dark:border-slate-600 flex items-center gap-1",children:[Ge," ",qe&&p.jsxs("span",{className:"text-indigo-600 font-bold",children:[" ",qe]})]})]})]})]}),ct]},le.id)})})]}),p.jsxs(al,{isOpen:f,onClose:()=>g(!1),title:" ",children:[_e&&p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-3 rounded-xl mb-4 text-sm border border-slate-100 dark:border-slate-600",children:[p.jsxs("div",{className:"font-bold text-slate-700 dark:text-slate-200 mb-1",children:[_e.className,"  ",_e.period," "]}),p.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-slate-400",children:[p.jsx("span",{children:_e.subjectName}),p.jsx("span",{className:_e.isTeacherAbsent?"line-through decoration-red-400":"font-semibold",children:_e.teacherName})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"  ()"}),p.jsxs("select",{value:q,onChange:le=>re(le.target.value),className:"w-full border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm outline-none focus:border-indigo-500 dark:bg-slate-700 dark:text-white",children:[p.jsx("option",{value:"",children:"  "}),n.map(le=>p.jsxs("option",{value:le.id,children:[le.name," (",le.capacity," )"]},le.id))]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[p.jsx("button",{onClick:()=>we("conducted"),className:"p-3 rounded-xl bg-blue-50 text-blue-700 font-bold text-sm hover:bg-blue-100 transition",children:" "}),p.jsx("button",{onClick:()=>we("cancelled"),className:"p-3 rounded-xl bg-red-50 text-red-700 font-bold text-sm hover:bg-red-100 transition",children:" "})]}),(_e==null?void 0:_e.teacherId)&&p.jsx("button",{onClick:()=>we(_e.teacherId),className:"w-full p-3 mb-4 rounded-xl bg-emerald-50 text-emerald-700 font-bold text-sm hover:bg-emerald-100 transition border border-emerald-200",children:"   (  )"}),p.jsxs("div",{className:"relative mb-4",children:[p.jsx(Ke,{name:"Search",className:"absolute left-3 top-2.5 text-slate-400",size:14}),p.jsx("input",{autoFocus:!0,placeholder:"  ...",value:te,onChange:le=>K(le.target.value),className:"w-full pl-8 pr-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm outline-none focus:border-indigo-500 dark:text-white"})]}),p.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:[He.map(({teacher:le,isAbsent:pe,isBusy:be,isSpecialist:xe,subsCount:Fe})=>p.jsxs("button",{disabled:pe||be,onClick:()=>we(le.id),className:`w-full p-3 rounded-xl border flex items-center justify-between transition-all text-left ${pe?"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900 opacity-60":be?"bg-orange-50 dark:bg-orange-900/20 border-orange-100 dark:border-orange-900 opacity-60":"bg-white dark:bg-dark-800 border-slate-100 dark:border-slate-700 hover:border-indigo-500 hover:shadow-md"}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${xe?"bg-emerald-100 text-emerald-700":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300"}`,children:xe?p.jsx(Ke,{name:"Star",size:14,fill:"currentColor"}):le.name[0]}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:le.name}),p.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 flex flex-wrap gap-2",children:[xe&&p.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 px-1.5 rounded",children:""}),be&&p.jsx("span",{className:"text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20 px-1.5 rounded",children:""}),pe&&p.jsx("span",{className:"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-1.5 rounded",children:""}),p.jsxs("span",{className:`px-1.5 rounded font-medium ${Fe>5?"text-amber-600 bg-amber-50 dark:bg-amber-900/20":"text-blue-600 bg-blue-50 dark:bg-blue-900/20"}`,children:["  : ",Fe]})]})]})]}),!pe&&!be&&p.jsx("div",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded text-xs font-bold",children:""})]},le.id)),He.length===0&&p.jsx("div",{className:"text-center text-slate-400 text-xs py-4",children:"  "})]})]}),p.jsxs(al,{isOpen:y,onClose:()=>x(!1),title:"  ",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"     ,       (  )."}),p.jsxs("div",{className:"relative",children:[p.jsx(Ke,{name:"Search",className:"absolute left-3 top-2.5 text-slate-400",size:14}),p.jsx("input",{autoFocus:!0,placeholder:": 6  ...",value:$,onChange:le=>R(le.target.value),className:"w-full pl-8 pr-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm outline-none focus:border-indigo-500 dark:text-white"})]})]}),p.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:[oe.map(le=>{var pe;return p.jsxs("button",{onClick:()=>{x(!1),b({scheduleItemId:le.id,subjectId:le.subjectId,period:le.period,shift:le.shift,classId:le.classId,teacherId:le.teacherId,roomId:le.roomId,day:le.day}),g(!0)},className:"w-full p-3 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors text-left group",children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:[le.entityName," ",p.jsxs("span",{className:"font-normal text-slate-500",children:["(",le.subInfo,")"]})]}),p.jsxs("span",{className:"text-xs font-bold bg-slate-100 dark:bg-slate-600 px-2 py-0.5 rounded",children:[le.period," "]})]}),p.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex gap-2",children:[p.jsx("span",{children:le.subjectName}),le.roomId&&p.jsxs("span",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 px-1 rounded",children:[". ",((pe=n.find(be=>be.id===le.roomId))==null?void 0:pe.name)||le.roomId]})]})]},le.id)}),$.length>1&&oe.length===0&&p.jsxs("div",{className:"text-center text-slate-400 text-xs py-4",children:["      (",u,")"]})]})]}),p.jsx(al,{isOpen:S,onClose:()=>w(!1),title:" ",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("select",{value:M,onChange:le=>I(le.target.value),className:"w-full border p-3 rounded-xl outline-none font-bold text-slate-700 dark:text-white dark:bg-slate-700 dark:border-slate-600",children:[p.jsx("option",{children:""}),p.jsx("option",{children:""}),p.jsx("option",{children:""}),p.jsx("option",{children:" "}),p.jsx("option",{children:""}),p.jsx("option",{children:" "})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{onClick:ae,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl font-bold",children:""})})]})})]})},bz=()=>{const{subjects:t,teachers:e,rooms:r,settings:n,saveStaticData:i}=Wa(),{schedule:s}=Ch(),[o,a]=Ae.useState("teachers"),[A,l]=Ae.useState(new Date().toISOString().split("T")[0]),[u,c]=Ae.useState(at.First),[f,g]=Ae.useState(1),[v,b]=Ae.useState(at.First),[S,w]=Ae.useState(1),[y,x]=Ae.useState((n==null?void 0:n.telegramToken)||""),[L,P]=Ae.useState((n==null?void 0:n.feedbackChatId)||"");Ae.useEffect(()=>{x((n==null?void 0:n.telegramToken)||""),P((n==null?void 0:n.feedbackChatId)||"")},[n]),Ae.useEffect(()=>{g(u===at.First?1:0)},[u]),Ae.useEffect(()=>{w(v===at.First?1:0)},[v]);const M=Ae.useMemo(()=>{const E=new Date(A).getDay();return E===0||E===6?null:Ri[E-1]},[A]),I=Ia[u],_=Ae.useMemo(()=>M?e.filter(E=>E.shifts&&!E.shifts.includes(u)||E.unavailableDates.includes(A)?!1:!s.some(N=>N.teacherId===E.id&&N.day===M&&N.period>f&&N.shift===u)).sort((E,T)=>E.name.localeCompare(T.name)):[],[e,A,M,f,u,s]),k=Ae.useMemo(()=>{if(!M)return[];const E=new Set;return s.forEach(N=>{N.day===M&&N.period===S&&N.shift===v&&N.roomId&&E.add(N.roomId)}),r.filter(N=>!E.has(N.id)).map(N=>N.name)},[s,r,M,S,v]),O=async()=>{await i({settings:{...n,telegramToken:y,feedbackChatId:L}}),alert(" !")};return p.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mb-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-6",children:[p.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[p.jsx(Ke,{name:"Settings",className:"text-indigo-600 dark:text-indigo-400"}),"  "]}),p.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[p.jsx("button",{onClick:()=>a("teachers"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${o==="teachers"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),p.jsx("button",{onClick:()=>a("rooms"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${o==="rooms"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""}),p.jsx("button",{onClick:()=>a("settings"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${o==="settings"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:""})]})]}),o!=="settings"&&p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),p.jsx("input",{type:"date",value:A,onChange:E=>l(E.target.value),className:"border border-slate-200 dark:border-slate-600 p-3 rounded-xl font-bold outline-none focus:border-indigo-500 bg-transparent dark:text-white w-full md:w-auto"})]}),o==="teachers"&&p.jsxs("div",{className:"flex flex-wrap gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),p.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[p.jsx("button",{onClick:()=>c(at.First),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${u===at.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),p.jsx("button",{onClick:()=>c(at.Second),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${u===at.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"   "}),p.jsx("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl w-fit",children:I.map(E=>p.jsx("button",{onClick:()=>g(E),className:`w-10 h-10 rounded-lg font-bold text-sm transition-all ${f===E?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:E},E))})]})]}),o==="rooms"&&p.jsxs("div",{className:"flex flex-wrap gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:""}),p.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl",children:[p.jsx("button",{onClick:()=>b(at.First),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${v===at.First?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"1 "}),p.jsx("button",{onClick:()=>b(at.Second),className:`px-3 py-2 rounded-lg text-sm font-bold transition-all ${v===at.Second?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"2 "})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:" "}),p.jsx("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl w-fit",children:Ia[v].map(E=>p.jsx("button",{onClick:()=>w(E),className:`w-10 h-10 rounded-lg font-bold text-sm transition-all ${S===E?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:E},E))})]})]}),o==="settings"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"Telegram Bot Token"}),p.jsx("input",{type:"password",value:y,onChange:E=>x(E.target.value),className:"w-full border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm outline-none dark:bg-slate-700 dark:text-white",placeholder:"123456789:ABCDefGhIjkLmNoPqRsTuVwXyZ"}),p.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["   @BotFather.        ",p.jsx("b",{children:"/start"}),",   ."]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"Telegram Chat ID   "}),p.jsx("input",{type:"text",value:L,onChange:E=>P(E.target.value),className:"w-full border border-slate-200 dark:border-slate-600 p-3 rounded-xl text-sm outline-none dark:bg-slate-700 dark:text-white",placeholder:"  Chat ID  ID "}),p.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"            ."})]}),p.jsx("button",{onClick:O,className:"bg-indigo-600 text-white px-6 py-2 rounded-xl font-bold hover:bg-indigo-700 transition",children:""})]})]}),o==="teachers"&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[_.map(E=>p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-5 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center gap-4 hover:shadow-md transition-all",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 flex items-center justify-center",children:p.jsx(Ke,{name:"CheckCircle",size:24})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:E.name}),p.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:E.subjectIds.slice(0,2).map(T=>{const N=t.find(X=>X.id===T);return N?p.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:N.name},T):null})})]})]},E.id)),_.length===0&&p.jsxs("div",{className:"col-span-full py-12 text-center text-slate-400",children:["  ,   ",f,"   ",u]})]}),o==="rooms"&&p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[k.map(E=>p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm text-center flex flex-col items-center justify-center hover:border-indigo-500 transition-all",children:[p.jsx(Ke,{name:"DoorOpen",size:24,className:"text-emerald-500 mb-2"}),p.jsx("div",{className:"text-xl font-black text-slate-800 dark:text-white",children:E}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-bold uppercase",children:""})]},E)),k.length===0&&p.jsxs("div",{className:"col-span-full py-12 text-center text-slate-400",children:[p.jsx(Ke,{name:"AlertTriangle",size:48,className:"mx-auto mb-4 text-slate-300 dark:text-slate-600"}),p.jsx("p",{children:"      (   )."})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pB=function(t,e){return pB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pB(t,e)};function lo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pB(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gB=function(){return gB=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gB.apply(this,arguments)};function mi(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(c){o(c)}}function A(u){try{l(n.throw(u))}catch(c){o(c)}}function l(u){u.done?s(u.value):i(u.value).then(a,A)}l((n=n.apply(t,[])).next())})}function si(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return A([l,u])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function _m(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Oa=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Nw=function(t,e){return Oa.fromClientRect(t,e.getBoundingClientRect())},xz=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Oa(0,0,n,i)},Qw=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},en=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},vI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_z=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Cm=0;Cm<vI.length;Cm++)_z[vI.charCodeAt(Cm)]=Cm;var wI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_f=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Em=0;Em<wI.length;Em++)_f[wI.charCodeAt(Em)]=Em;var Cz=function(t){var e=t.length*.75,r=t.length,n,i=0,s,o,a,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=_f[t.charCodeAt(n)],o=_f[t.charCodeAt(n+1)],a=_f[t.charCodeAt(n+2)],A=_f[t.charCodeAt(n+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|A&63;return l},Ez=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Iz=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Uu=5,E_=11,ny=2,Sz=E_-Uu,cU=65536>>Uu,Fz=1<<Uu,iy=Fz-1,Tz=1024>>Uu,kz=cU+Tz,Nz=kz,Qz=32,Uz=Nz+Qz,Lz=65536>>E_,Pz=1<<Sz,Rz=Pz-1,yI=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Dz=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Oz=function(t,e){var r=Cz(t),n=Array.isArray(r)?Iz(r):new Uint32Array(r),i=Array.isArray(r)?Ez(r):new Uint16Array(r),s=24,o=yI(i,s/2,n[4]/2),a=n[5]===2?yI(i,(s+n[4])/2):Dz(n,Math.ceil((s+n[4])/4));return new Mz(n[0],n[1],n[2],n[3],o,a)},Mz=function(){function t(e,r,n,i,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Uu],r=(r<<ny)+(e&iy),this.data[r];if(e<=65535)return r=this.index[cU+(e-55296>>Uu)],r=(r<<ny)+(e&iy),this.data[r];if(e<this.highStart)return r=Uz-Lz+(e>>E_),r=this.index[r],r+=e>>Uu&Rz,r=this.index[r],r=(r<<ny)+(e&iy),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),BI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Im=0;Im<BI.length;Im++)jz[BI.charCodeAt(Im)]=Im;var Hz="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",bI=50,Vz=1,dU=2,hU=3,Kz=4,zz=5,xI=7,fU=8,_I=9,GA=10,mB=11,CI=12,vB=13,Gz=14,Cf=15,wB=16,Sm=17,Af=18,qz=19,EI=20,yB=21,lf=22,sy=23,Gc=24,ns=25,Ef=26,If=27,qc=28,Wz=29,vu=30,$z=31,Fm=32,Tm=33,BB=34,bB=35,xB=36,$p=37,_B=38,b0=39,x0=40,oy=41,pU=42,Jz=43,Yz=[9001,65288],gU="!",Ht="",km="",CB=Oz(Hz),ga=[vu,xB],EB=[Vz,dU,hU,zz],mU=[GA,fU],II=[If,Ef],Xz=EB.concat(mU),SI=[_B,b0,x0,BB,bB],Zz=[Cf,vB],eG=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,o){var a=CB.get(s);if(a>bI?(i.push(!0),a-=bI):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(o),r.push(wB);if(a===Kz||a===mB){if(o===0)return n.push(o),r.push(vu);var A=r[o-1];return Xz.indexOf(A)===-1?(n.push(n[o-1]),r.push(A)):(n.push(o),r.push(vu))}if(n.push(o),a===$z)return r.push(e==="strict"?yB:$p);if(a===pU||a===Wz)return r.push(vu);if(a===Jz)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push($p):r.push(vu);r.push(a)}),[n,r,i]},ay=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var o=n[s];if(o===e)return!0;if(o!==GA)break}if(i===GA)for(var s=r;s>0;){s--;var a=n[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var A=r;A<=n.length;){A++;var o=n[A];if(o===e)return!0;if(o!==GA)break}if(a!==GA)break}return!1},FI=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===GA)r--;else return n}return 0},tG=function(t,e,r,n,i){if(r[n]===0)return Ht;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Ht;var o=s-1,a=s+1,A=e[s],l=o>=0?e[o]:0,u=e[a];if(A===dU&&u===hU)return Ht;if(EB.indexOf(A)!==-1)return gU;if(EB.indexOf(u)!==-1||mU.indexOf(u)!==-1)return Ht;if(FI(s,e)===fU)return km;if(CB.get(t[s])===mB||(A===Fm||A===Tm)&&CB.get(t[a])===mB||A===xI||u===xI||A===_I||[GA,vB,Cf].indexOf(A)===-1&&u===_I||[Sm,Af,qz,Gc,qc].indexOf(u)!==-1||FI(s,e)===lf||ay(sy,lf,s,e)||ay([Sm,Af],yB,s,e)||ay(CI,CI,s,e))return Ht;if(A===GA)return km;if(A===sy||u===sy)return Ht;if(u===wB||A===wB)return km;if([vB,Cf,yB].indexOf(u)!==-1||A===Gz||l===xB&&Zz.indexOf(A)!==-1||A===qc&&u===xB||u===EI||ga.indexOf(u)!==-1&&A===ns||ga.indexOf(A)!==-1&&u===ns||A===If&&[$p,Fm,Tm].indexOf(u)!==-1||[$p,Fm,Tm].indexOf(A)!==-1&&u===Ef||ga.indexOf(A)!==-1&&II.indexOf(u)!==-1||II.indexOf(A)!==-1&&ga.indexOf(u)!==-1||[If,Ef].indexOf(A)!==-1&&(u===ns||[lf,Cf].indexOf(u)!==-1&&e[a+1]===ns)||[lf,Cf].indexOf(A)!==-1&&u===ns||A===ns&&[ns,qc,Gc].indexOf(u)!==-1)return Ht;if([ns,qc,Gc,Sm,Af].indexOf(u)!==-1)for(var c=s;c>=0;){var f=e[c];if(f===ns)return Ht;if([qc,Gc].indexOf(f)!==-1)c--;else break}if([If,Ef].indexOf(u)!==-1)for(var c=[Sm,Af].indexOf(A)!==-1?o:s;c>=0;){var f=e[c];if(f===ns)return Ht;if([qc,Gc].indexOf(f)!==-1)c--;else break}if(_B===A&&[_B,b0,BB,bB].indexOf(u)!==-1||[b0,BB].indexOf(A)!==-1&&[b0,x0].indexOf(u)!==-1||[x0,bB].indexOf(A)!==-1&&u===x0||SI.indexOf(A)!==-1&&[EI,Ef].indexOf(u)!==-1||SI.indexOf(u)!==-1&&A===If||ga.indexOf(A)!==-1&&ga.indexOf(u)!==-1||A===Gc&&ga.indexOf(u)!==-1||ga.concat(ns).indexOf(A)!==-1&&u===lf&&Yz.indexOf(t[a])===-1||ga.concat(ns).indexOf(u)!==-1&&A===Af)return Ht;if(A===oy&&u===oy){for(var g=r[s],v=1;g>0&&(g--,e[g]===oy);)v++;if(v%2!==0)return Ht}return A===Fm&&u===Tm?Ht:km},rG=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=eG(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[ns,vu,pU].indexOf(a)!==-1?$p:a}));var o=e.wordBreak==="keep-all"?s.map(function(a,A){return a&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,o]},nG=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===gU,this.start=n,this.end=i}return t.prototype.slice=function(){return en.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),iG=function(t,e){var r=Qw(t),n=rG(r,e),i=n[0],s=n[1],o=n[2],a=r.length,A=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var u=Ht;l<a&&(u=tG(r,s,i,++l,o))===Ht;);if(u!==Ht||l===a){var c=new nG(r,u,A,l);return A=l,{value:c,done:!1}}return{done:!0,value:null}}}},sG=1,oG=2,Eg=4,TI=8,vv=10,kI=47,Yf=92,aG=9,AG=32,Nm=34,uf=61,lG=35,uG=36,cG=37,Qm=39,Um=40,cf=41,dG=95,Di=45,hG=33,fG=60,pG=62,gG=64,mG=91,vG=93,wG=61,yG=123,Lm=63,BG=125,NI=124,bG=126,xG=128,QI=65533,Ay=42,Eu=43,_G=44,CG=58,EG=59,Jp=46,IG=0,SG=8,FG=11,TG=14,kG=31,NG=127,Io=-1,vU=48,wU=97,yU=101,QG=102,UG=117,LG=122,BU=65,bU=69,xU=70,PG=85,RG=90,oi=function(t){return t>=vU&&t<=57},DG=function(t){return t>=55296&&t<=57343},Wc=function(t){return oi(t)||t>=BU&&t<=xU||t>=wU&&t<=QG},OG=function(t){return t>=wU&&t<=LG},MG=function(t){return t>=BU&&t<=RG},jG=function(t){return OG(t)||MG(t)},HG=function(t){return t>=xG},Pm=function(t){return t===vv||t===aG||t===AG},wv=function(t){return jG(t)||HG(t)||t===dG},UI=function(t){return wv(t)||oi(t)||t===Di},VG=function(t){return t>=IG&&t<=SG||t===FG||t>=TG&&t<=kG||t===NG},LA=function(t,e){return t!==Yf?!1:e!==vv},Rm=function(t,e,r){return t===Di?wv(e)||LA(e,r):wv(t)?!0:!!(t===Yf&&LA(t,e))},ly=function(t,e,r){return t===Eu||t===Di?oi(e)?!0:e===Jp&&oi(r):oi(t===Jp?e:t)},KG=function(t){var e=0,r=1;(t[e]===Eu||t[e]===Di)&&(t[e]===Di&&(r=-1),e++);for(var n=[];oi(t[e]);)n.push(t[e++]);var i=n.length?parseInt(en.apply(void 0,n),10):0;t[e]===Jp&&e++;for(var s=[];oi(t[e]);)s.push(t[e++]);var o=s.length,a=o?parseInt(en.apply(void 0,s),10):0;(t[e]===bU||t[e]===yU)&&e++;var A=1;(t[e]===Eu||t[e]===Di)&&(t[e]===Di&&(A=-1),e++);for(var l=[];oi(t[e]);)l.push(t[e++]);var u=l.length?parseInt(en.apply(void 0,l),10):0;return r*(i+a*Math.pow(10,-o))*Math.pow(10,A*u)},zG={type:2},GG={type:3},qG={type:4},WG={type:13},$G={type:8},JG={type:21},YG={type:9},XG={type:10},ZG={type:11},eq={type:12},tq={type:14},Dm={type:23},rq={type:1},nq={type:25},iq={type:24},sq={type:26},oq={type:27},aq={type:28},Aq={type:29},lq={type:31},IB={type:32},_U=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Qw(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==IB;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Nm:return this.consumeStringToken(Nm);case lG:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(UI(r)||LA(n,i)){var s=Rm(r,n,i)?oG:sG,o=this.consumeName();return{type:5,value:o,flags:s}}break;case uG:if(this.peekCodePoint(0)===uf)return this.consumeCodePoint(),WG;break;case Qm:return this.consumeStringToken(Qm);case Um:return zG;case cf:return GG;case Ay:if(this.peekCodePoint(0)===uf)return this.consumeCodePoint(),tq;break;case Eu:if(ly(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case _G:return qG;case Di:var a=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(ly(a,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Rm(a,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===Di&&l===pG)return this.consumeCodePoint(),this.consumeCodePoint(),iq;break;case Jp:if(ly(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case kI:if(this.peekCodePoint(0)===Ay)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Ay&&(u=this.consumeCodePoint(),u===kI))return this.consumeToken();if(u===Io)return this.consumeToken()}break;case CG:return sq;case EG:return oq;case fG:if(this.peekCodePoint(0)===hG&&this.peekCodePoint(1)===Di&&this.peekCodePoint(2)===Di)return this.consumeCodePoint(),this.consumeCodePoint(),nq;break;case gG:var c=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Rm(c,f,g)){var o=this.consumeName();return{type:7,value:o}}break;case mG:return aq;case Yf:if(LA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case vG:return Aq;case wG:if(this.peekCodePoint(0)===uf)return this.consumeCodePoint(),$G;break;case yG:return ZG;case BG:return eq;case UG:case PG:var v=this.peekCodePoint(0),b=this.peekCodePoint(1);return v===Eu&&(Wc(b)||b===Lm)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case NI:if(this.peekCodePoint(0)===uf)return this.consumeCodePoint(),YG;if(this.peekCodePoint(0)===NI)return this.consumeCodePoint(),JG;break;case bG:if(this.peekCodePoint(0)===uf)return this.consumeCodePoint(),XG;break;case Io:return IB}return Pm(e)?(this.consumeWhiteSpace(),lq):oi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):wv(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:en(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Wc(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Lm&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(en.apply(void 0,e.map(function(A){return A===Lm?vU:A})),16),s=parseInt(en.apply(void 0,e.map(function(A){return A===Lm?xU:A})),16);return{type:30,start:i,end:s}}var o=parseInt(en.apply(void 0,e),16);if(this.peekCodePoint(0)===Di&&Wc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var a=[];Wc(r)&&a.length<6;)a.push(r),r=this.consumeCodePoint();var s=parseInt(en.apply(void 0,a),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Um?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Um?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Io)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Qm||r===Nm){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Io||this.peekCodePoint(0)===cf)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Dm)}for(;;){var i=this.consumeCodePoint();if(i===Io||i===cf)return{type:22,value:en.apply(void 0,e)};if(Pm(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Io||this.peekCodePoint(0)===cf?(this.consumeCodePoint(),{type:22,value:en.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Dm);if(i===Nm||i===Qm||i===Um||VG(i))return this.consumeBadUrlRemnants(),Dm;if(i===Yf)if(LA(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Dm;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Pm(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===cf||e===Io)return;LA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=en.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Io||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===vv)return this._value.splice(0,n),rq;if(i===Yf){var s=this._value[n+1];s!==Io&&s!==void 0&&(s===vv?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):LA(i,s)&&(r+=this.consumeStringSlice(n),r+=en(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Eg,n=this.peekCodePoint(0);for((n===Eu||n===Di)&&e.push(this.consumeCodePoint());oi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Jp&&oi(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=TI;oi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===bU||n===yU)&&((i===Eu||i===Di)&&oi(s)||oi(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=TI;oi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[KG(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Rm(i,s,o)){var a=this.consumeName();return{type:15,number:r,flags:n,unit:a}}return i===cG?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Wc(e)){for(var r=en(e);Wc(this.peekCodePoint(0))&&r.length<6;)r+=en(this.consumeCodePoint());Pm(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||DG(n)||n>1114111?QI:n}return e===Io?QI:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(UI(r))e+=en(r);else if(LA(r,this.peekCodePoint(0)))e+=en(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),CU=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new _U;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||cq(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?IB:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Ig=function(t){return t.type===15},Eh=function(t){return t.type===17},ur=function(t){return t.type===20},uq=function(t){return t.type===0},SB=function(t,e){return ur(t)&&t.value===e},EU=function(t){return t.type!==31},ah=function(t){return t.type!==31&&t.type!==4},$o=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},cq=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},_l=function(t){return t.type===17||t.type===15},gn=function(t){return t.type===16||_l(t)},IU=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Vn={type:17,number:0,flags:Eg},I_={type:16,number:50,flags:Eg},qA={type:16,number:100,flags:Eg},Sf=function(t,e,r){var n=t[0],i=t[1];return[vr(n,e),vr(typeof i<"u"?i:n,r)]},vr=function(t,e){if(t.type===16)return t.number/100*e;if(Ig(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},SU="deg",FU="grad",TU="rad",kU="turn",Uw={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case SU:return Math.PI*e.number/180;case FU:return Math.PI/200*e.number;case TU:return e.number;case kU:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},NU=function(t){return t.type===15&&(t.unit===SU||t.unit===FU||t.unit===TU||t.unit===kU)},QU=function(t){var e=t.filter(ur).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Vn,Vn];case"to top":case"bottom":return ks(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Vn,qA];case"to right":case"left":return ks(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qA,qA];case"to bottom":case"top":return ks(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qA,Vn];case"to left":case"right":return ks(270)}return 0},ks=function(t){return Math.PI*t/180},Al={name:"color",parse:function(t,e){if(e.type===18){var r=dq[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return WA(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return WA(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return WA(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return WA(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var a=Ta[e.value.toUpperCase()];if(typeof a<"u")return a}return Ta.TRANSPARENT}},ll=function(t){return(255&t)===0},Sn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},WA=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},LI=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},PI=function(t,e){var r=e.filter(ah);if(r.length===3){var n=r.map(LI),i=n[0],s=n[1],o=n[2];return WA(i,s,o,1)}if(r.length===4){var a=r.map(LI),i=a[0],s=a[1],o=a[2],A=a[3];return WA(i,s,o,A)}return 0};function uy(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var RI=function(t,e){var r=e.filter(ah),n=r[0],i=r[1],s=r[2],o=r[3],a=(n.type===17?ks(n.number):Uw.parse(t,n))/(Math.PI*2),A=gn(i)?i.number/100:0,l=gn(s)?s.number/100:0,u=typeof o<"u"&&gn(o)?vr(o,1):1;if(A===0)return WA(l*255,l*255,l*255,1);var c=l<=.5?l*(A+1):l+A-l*A,f=l*2-c,g=uy(f,c,a+1/3),v=uy(f,c,a),b=uy(f,c,a-1/3);return WA(g*255,v*255,b*255,u)},dq={hsl:RI,hsla:RI,rgb:PI,rgba:PI},Xf=function(t,e){return Al.parse(t,CU.create(e).parseComponentValue())},Ta={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hq={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ur(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fq={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lw=function(t,e){var r=Al.parse(t,e[0]),n=e[1];return n&&gn(n)?{color:r,stop:n}:{color:r,stop:null}},DI=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Vn),n.stop===null&&(n.stop=qA);for(var i=[],s=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var A=vr(a,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var l=null,o=0;o<i.length;o++){var u=i[o];if(u===null)l===null&&(l=o);else if(l!==null){for(var c=o-l,f=i[l-1],g=(u-f)/(c+1),v=1;v<=c;v++)i[l+v-1]=g*v;l=null}}return t.map(function(b,S){var w=b.color;return{color:w,stop:Math.max(Math.min(1,i[S]/e),0)}})},pq=function(t,e,r){var n=e/2,i=r/2,s=vr(t[0],e)-n,o=i-vr(t[1],r);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},gq=function(t,e,r){var n=typeof t=="number"?t:pq(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,o=r/2,a=i/2,A=Math.sin(n-Math.PI/2)*a,l=Math.cos(n-Math.PI/2)*a;return[i,s-l,s+l,o-A,o+A]},Xs=function(t,e){return Math.sqrt(t*t+e*e)},OI=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,a){var A=a[0],l=a[1],u=Xs(r-A,n-l);return(i?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:a,optimumDistance:u}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},mq=function(t,e,r,n,i){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=o=Math.min(Xs(e,r),Xs(e,r-i),Xs(e-n,r),Xs(e-n,r-i));else if(t.shape===1){var a=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=OI(n,i,e,r,!0),l=A[0],u=A[1];s=Xs(l-e,(u-r)/a),o=a*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=o=Math.max(Xs(e,r),Xs(e,r-i),Xs(e-n,r),Xs(e-n,r-i));else if(t.shape===1){var a=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),c=OI(n,i,e,r,!1),l=c[0],u=c[1];s=Xs(l-e,(u-r)/a),o=a*s}break}return Array.isArray(t.size)&&(s=vr(t.size[0],n),o=t.size.length===2?vr(t.size[1],i):s),[s,o]},vq=function(t,e){var r=ks(180),n=[];return $o(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){r=QU(i);return}else if(NU(o)){r=Uw.parse(t,o);return}}var a=Lw(t,i);n.push(a)}),{angle:r,stops:n,type:1}},Om=function(t,e){var r=ks(180),n=[];return $o(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=QU(i);return}else if(NU(o)){r=(Uw.parse(t,o)+ks(270))%ks(360);return}}var a=Lw(t,i);n.push(a)}),{angle:r,stops:n,type:1}},wq=function(t,e){var r=ks(180),n=[],i=1,s=0,o=3,a=[];return $o(e).forEach(function(A,l){var u=A[0];if(l===0){if(ur(u)&&u.value==="linear"){i=1;return}else if(ur(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var c=Al.parse(t,u.values[0]);n.push({stop:Vn,color:c})}else if(u.name==="to"){var c=Al.parse(t,u.values[0]);n.push({stop:qA,color:c})}else if(u.name==="color-stop"){var f=u.values.filter(ah);if(f.length===2){var c=Al.parse(t,f[1]),g=f[0];Eh(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:c})}}}}),i===1?{angle:(r+ks(180))%ks(360),stops:n,type:i}:{size:o,shape:s,stops:n,position:a,type:i}},UU="closest-side",LU="farthest-side",PU="closest-corner",RU="farthest-corner",DU="circle",OU="ellipse",MU="cover",jU="contain",yq=function(t,e){var r=0,n=3,i=[],s=[];return $o(e).forEach(function(o,a){var A=!0;if(a===0){var l=!1;A=o.reduce(function(c,f){if(l)if(ur(f))switch(f.value){case"center":return s.push(I_),c;case"top":case"left":return s.push(Vn),c;case"right":case"bottom":return s.push(qA),c}else(gn(f)||_l(f))&&s.push(f);else if(ur(f))switch(f.value){case DU:return r=0,!1;case OU:return r=1,!1;case"at":return l=!0,!1;case UU:return n=0,!1;case MU:case LU:return n=1,!1;case jU:case PU:return n=2,!1;case RU:return n=3,!1}else if(_l(f)||gn(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return c},A)}if(A){var u=Lw(t,o);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},Mm=function(t,e){var r=0,n=3,i=[],s=[];return $o(e).forEach(function(o,a){var A=!0;if(a===0?A=o.reduce(function(u,c){if(ur(c))switch(c.value){case"center":return s.push(I_),!1;case"top":case"left":return s.push(Vn),!1;case"right":case"bottom":return s.push(qA),!1}else if(gn(c)||_l(c))return s.push(c),!1;return u},A):a===1&&(A=o.reduce(function(u,c){if(ur(c))switch(c.value){case DU:return r=0,!1;case OU:return r=1,!1;case jU:case UU:return n=0,!1;case LU:return n=1,!1;case PU:return n=2,!1;case MU:case RU:return n=3,!1}else if(_l(c)||gn(c))return Array.isArray(n)||(n=[]),n.push(c),!1;return u},A)),A){var l=Lw(t,o);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},Bq=function(t){return t.type===1},bq=function(t){return t.type===2},S_={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=HU[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function xq(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!HU[t.name])}var HU={"linear-gradient":vq,"-moz-linear-gradient":Om,"-ms-linear-gradient":Om,"-o-linear-gradient":Om,"-webkit-linear-gradient":Om,"radial-gradient":yq,"-moz-radial-gradient":Mm,"-ms-radial-gradient":Mm,"-o-radial-gradient":Mm,"-webkit-radial-gradient":Mm,"-webkit-gradient":wq},_q={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return ah(n)&&xq(n)}).map(function(n){return S_.parse(t,n)})}},Cq={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ur(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Eq={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return $o(e).map(function(r){return r.filter(gn)}).map(IU)}},Iq={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return $o(e).map(function(r){return r.filter(ur).map(function(n){return n.value}).join(" ")}).map(Sq)}},Sq=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ld;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Ld||(Ld={}));var Fq={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return $o(e).map(function(r){return r.filter(Tq)})}},Tq=function(t){return ur(t)||gn(t)},Pw=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},kq=Pw("top"),Nq=Pw("right"),Qq=Pw("bottom"),Uq=Pw("left"),Rw=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return IU(r.filter(gn))}}},Lq=Rw("top-left"),Pq=Rw("top-right"),Rq=Rw("bottom-right"),Dq=Rw("bottom-left"),Dw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Oq=Dw("top"),Mq=Dw("right"),jq=Dw("bottom"),Hq=Dw("left"),Ow=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Ig(r)?r.number:0}}},Vq=Ow("top"),Kq=Ow("right"),zq=Ow("bottom"),Gq=Ow("left"),qq={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wq={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},$q={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(ur).reduce(function(r,n){return r|Jq(n.value)},0)}},Jq=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Yq={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Xq={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},yv;(function(t){t.NORMAL="normal",t.STRICT="strict"})(yv||(yv={}));var Zq={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return yv.STRICT;case"normal":default:return yv.NORMAL}}},eW={name:"line-height",initialValue:"normal",prefix:!1,type:4},MI=function(t,e){return ur(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:gn(t)?vr(t,e):e},tW={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:S_.parse(t,e)}},rW={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},FB={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Mw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},nW=Mw("top"),iW=Mw("right"),sW=Mw("bottom"),oW=Mw("left"),aW={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(ur).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},AW={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},jw=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lW=jw("top"),uW=jw("right"),cW=jw("bottom"),dW=jw("left"),hW={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},fW={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},pW={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&SB(e[0],"none")?[]:$o(e).map(function(r){for(var n={color:Ta.TRANSPARENT,offsetX:Vn,offsetY:Vn,blur:Vn},i=0,s=0;s<r.length;s++){var o=r[s];_l(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=Al.parse(t,o)}return n})}},gW={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},mW={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=yW[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},vW=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},wW=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[r,n,i,s,o,a]:null},yW={matrix:vW,matrix3d:wW},jI={type:16,number:50,flags:Eg},BW=[jI,jI],bW={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(gn);return r.length!==2?BW:[r[0],r[1]]}},xW={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Zf;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Zf||(Zf={}));var _W={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Zf.BREAK_ALL;case"keep-all":return Zf.KEEP_ALL;case"normal":default:return Zf.NORMAL}}},CW={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Eh(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},VU={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},EW={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Eh(e)?e.number:1}},IW={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},SW={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(ur).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},FW={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},TW={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},kW={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Eh(e))return e.number;if(ur(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},NW={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(ur).map(function(r){return r.value})}},QW={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},bn=function(t,e){return(t&e)!==0},UW={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},LW={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(EU),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(o.type===20){var A=a&&Eh(a)?a.number:1;n.push({counter:o.value,increment:A})}}return n}},PW={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(EU),i=0;i<n.length;i++){var s=n[i],o=n[i+1];if(ur(s)&&s.value!=="none"){var a=o&&Eh(o)?o.number:0;r.push({counter:s.value,reset:a})}}return r}},RW={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Ig).map(function(r){return VU.parse(t,r)})}},DW={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(uq);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;n.push({open:o,close:a})}return n}},HI=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},OW={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&SB(e[0],"none")?[]:$o(e).map(function(r){for(var n={color:255,offsetX:Vn,offsetY:Vn,blur:Vn,spread:Vn,inset:!1},i=0,s=0;s<r.length;s++){var o=r[s];SB(o,"inset")?n.inset=!0:_l(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=Al.parse(t,o)}return n})}},MW={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(ur).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},jW={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},HW={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Ig(e)?e.number:0}},VW=function(){function t(e,r){var n,i;this.animationDuration=ft(e,RW,r.animationDuration),this.backgroundClip=ft(e,hq,r.backgroundClip),this.backgroundColor=ft(e,fq,r.backgroundColor),this.backgroundImage=ft(e,_q,r.backgroundImage),this.backgroundOrigin=ft(e,Cq,r.backgroundOrigin),this.backgroundPosition=ft(e,Eq,r.backgroundPosition),this.backgroundRepeat=ft(e,Iq,r.backgroundRepeat),this.backgroundSize=ft(e,Fq,r.backgroundSize),this.borderTopColor=ft(e,kq,r.borderTopColor),this.borderRightColor=ft(e,Nq,r.borderRightColor),this.borderBottomColor=ft(e,Qq,r.borderBottomColor),this.borderLeftColor=ft(e,Uq,r.borderLeftColor),this.borderTopLeftRadius=ft(e,Lq,r.borderTopLeftRadius),this.borderTopRightRadius=ft(e,Pq,r.borderTopRightRadius),this.borderBottomRightRadius=ft(e,Rq,r.borderBottomRightRadius),this.borderBottomLeftRadius=ft(e,Dq,r.borderBottomLeftRadius),this.borderTopStyle=ft(e,Oq,r.borderTopStyle),this.borderRightStyle=ft(e,Mq,r.borderRightStyle),this.borderBottomStyle=ft(e,jq,r.borderBottomStyle),this.borderLeftStyle=ft(e,Hq,r.borderLeftStyle),this.borderTopWidth=ft(e,Vq,r.borderTopWidth),this.borderRightWidth=ft(e,Kq,r.borderRightWidth),this.borderBottomWidth=ft(e,zq,r.borderBottomWidth),this.borderLeftWidth=ft(e,Gq,r.borderLeftWidth),this.boxShadow=ft(e,OW,r.boxShadow),this.color=ft(e,qq,r.color),this.direction=ft(e,Wq,r.direction),this.display=ft(e,$q,r.display),this.float=ft(e,Yq,r.cssFloat),this.fontFamily=ft(e,FW,r.fontFamily),this.fontSize=ft(e,TW,r.fontSize),this.fontStyle=ft(e,QW,r.fontStyle),this.fontVariant=ft(e,NW,r.fontVariant),this.fontWeight=ft(e,kW,r.fontWeight),this.letterSpacing=ft(e,Xq,r.letterSpacing),this.lineBreak=ft(e,Zq,r.lineBreak),this.lineHeight=ft(e,eW,r.lineHeight),this.listStyleImage=ft(e,tW,r.listStyleImage),this.listStylePosition=ft(e,rW,r.listStylePosition),this.listStyleType=ft(e,FB,r.listStyleType),this.marginTop=ft(e,nW,r.marginTop),this.marginRight=ft(e,iW,r.marginRight),this.marginBottom=ft(e,sW,r.marginBottom),this.marginLeft=ft(e,oW,r.marginLeft),this.opacity=ft(e,EW,r.opacity);var s=ft(e,aW,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ft(e,AW,r.overflowWrap),this.paddingTop=ft(e,lW,r.paddingTop),this.paddingRight=ft(e,uW,r.paddingRight),this.paddingBottom=ft(e,cW,r.paddingBottom),this.paddingLeft=ft(e,dW,r.paddingLeft),this.paintOrder=ft(e,MW,r.paintOrder),this.position=ft(e,fW,r.position),this.textAlign=ft(e,hW,r.textAlign),this.textDecorationColor=ft(e,IW,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ft(e,SW,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=ft(e,pW,r.textShadow),this.textTransform=ft(e,gW,r.textTransform),this.transform=ft(e,mW,r.transform),this.transformOrigin=ft(e,bW,r.transformOrigin),this.visibility=ft(e,xW,r.visibility),this.webkitTextStrokeColor=ft(e,jW,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ft(e,HW,r.webkitTextStrokeWidth),this.wordBreak=ft(e,_W,r.wordBreak),this.zIndex=ft(e,CW,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return ll(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return bn(this.display,4)||bn(this.display,33554432)||bn(this.display,268435456)||bn(this.display,536870912)||bn(this.display,67108864)||bn(this.display,134217728)},t}(),KW=function(){function t(e,r){this.content=ft(e,UW,r.content),this.quotes=ft(e,DW,r.quotes)}return t}(),VI=function(){function t(e,r){this.counterIncrement=ft(e,LW,r.counterIncrement),this.counterReset=ft(e,PW,r.counterReset)}return t}(),ft=function(t,e,r){var n=new _U,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new CU(n.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,ur(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Uw.parse(t,s.parseComponentValue());case"color":return Al.parse(t,s.parseComponentValue());case"image":return S_.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return _l(a)?a:Vn;case"length-percentage":var A=s.parseComponentValue();return gn(A)?A:Vn;case"time":return VU.parse(t,s.parseComponentValue())}break}},zW="data-html2canvas-debug",GW=function(t){var e=t.getAttribute(zW);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},TB=function(t,e){var r=GW(t);return r===1||e===r},Jo=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,TB(r,3))debugger;this.styles=new VW(e,window.getComputedStyle(r,null)),QB(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Nw(this.context,r),TB(r,4)&&(this.flags|=16)}return t}(),qW="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",KI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ff=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jm=0;jm<KI.length;jm++)Ff[KI.charCodeAt(jm)]=jm;var WW=function(t){var e=t.length*.75,r=t.length,n,i=0,s,o,a,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Ff[t.charCodeAt(n)],o=Ff[t.charCodeAt(n+1)],a=Ff[t.charCodeAt(n+2)],A=Ff[t.charCodeAt(n+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|A&63;return l},$W=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},JW=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Lu=5,F_=11,cy=2,YW=F_-Lu,KU=65536>>Lu,XW=1<<Lu,dy=XW-1,ZW=1024>>Lu,e$=KU+ZW,t$=e$,r$=32,n$=t$+r$,i$=65536>>F_,s$=1<<YW,o$=s$-1,zI=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},a$=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},A$=function(t,e){var r=WW(t),n=Array.isArray(r)?JW(r):new Uint32Array(r),i=Array.isArray(r)?$W(r):new Uint16Array(r),s=24,o=zI(i,s/2,n[4]/2),a=n[5]===2?zI(i,(s+n[4])/2):a$(n,Math.ceil((s+n[4])/4));return new l$(n[0],n[1],n[2],n[3],o,a)},l$=function(){function t(e,r,n,i,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Lu],r=(r<<cy)+(e&dy),this.data[r];if(e<=65535)return r=this.index[KU+(e-55296>>Lu)],r=(r<<cy)+(e&dy),this.data[r];if(e<this.highStart)return r=n$-i$+(e>>F_),r=this.index[r],r+=e>>Lu&o$,r=this.index[r],r=(r<<cy)+(e&dy),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),GI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u$=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Hm=0;Hm<GI.length;Hm++)u$[GI.charCodeAt(Hm)]=Hm;var c$=1,hy=2,fy=3,qI=4,WI=5,d$=7,$I=8,py=9,gy=10,JI=11,YI=12,XI=13,ZI=14,my=15,h$=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},f$=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},p$=A$(qW),_s="",vy="",g$=function(t){return p$.get(t)},m$=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],o=e[r];if(s===hy&&o===fy)return _s;if(s===hy||s===fy||s===qI||o===hy||o===fy||o===qI)return vy;if(s===$I&&[$I,py,JI,YI].indexOf(o)!==-1||(s===JI||s===py)&&(o===py||o===gy)||(s===YI||s===gy)&&o===gy||o===XI||o===WI||o===d$||s===c$)return _s;if(s===XI&&o===ZI){for(;i===WI;)i=e[--n];if(i===ZI)return _s}if(s===my&&o===my){for(var a=0;i===my;)a++,i=e[--n];if(a%2===0)return _s}return vy},v$=function(t){var e=h$(t),r=e.length,n=0,i=0,s=e.map(g$);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=_s;n<r&&(o=m$(e,s,++n))===_s;);if(o!==_s||n===r){var a=f$.apply(null,e.slice(i,n));return i=n,{value:a,done:!1}}return{done:!0,value:null}}}},w$=function(t){for(var e=v$(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},y$=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},B$=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Qw(n.data).map(function(A){return en(A)}),s=0,o={},a=i.every(function(A,l){r.setStart(n,s),r.setEnd(n,s+A.length);var u=r.getBoundingClientRect();s+=A.length;var c=u.x>o.x||u.y>o.y;return o=u,l===0?!0:c});return t.body.removeChild(e),a},b$=function(){return typeof new Image().crossOrigin<"u"},x$=function(){return typeof new XMLHttpRequest().responseType=="string"},_$=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},e4=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},C$=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var o=kB(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),t4(o).then(function(a){n.drawImage(a,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",e4(A)?t4(kB(r,r,0,0,l)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),e4(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},kB=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},t4=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},On={get SUPPORT_RANGE_BOUNDS(){var t=y$(document);return Object.defineProperty(On,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=On.SUPPORT_RANGE_BOUNDS&&B$(document);return Object.defineProperty(On,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=_$(document);return Object.defineProperty(On,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?C$(document):Promise.resolve(!1);return Object.defineProperty(On,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=b$();return Object.defineProperty(On,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=x$();return Object.defineProperty(On,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(On,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(On,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ep=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),E$=function(t,e,r,n){var i=F$(e,r),s=[],o=0;return i.forEach(function(a){if(r.textDecorationLine.length||a.trim().length>0)if(On.SUPPORT_RANGE_BOUNDS){var A=r4(n,o,a.length).getClientRects();if(A.length>1){var l=T_(a),u=0;l.forEach(function(f){s.push(new ep(f,Oa.fromDOMRectList(t,r4(n,u+o,f.length).getClientRects()))),u+=f.length})}else s.push(new ep(a,Oa.fromDOMRectList(t,A)))}else{var c=n.splitText(a.length);s.push(new ep(a,I$(t,n))),n=c}else On.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));o+=a.length}),s},I$=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=Nw(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Oa.EMPTY},r4=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},T_=function(t){if(On.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return w$(t)},S$=function(t,e){if(On.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return k$(t,e)},F$=function(t,e){return e.letterSpacing!==0?T_(t):S$(t,e)},T$=[32,160,4961,65792,65793,4153,4241],k$=function(t,e){for(var r=iG(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var o=i.value.slice(),a=Qw(o),A="";a.forEach(function(l){T$.indexOf(l)===-1?A+=en(l):(A.length&&n.push(A),n.push(en(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)s();return n},N$=function(){function t(e,r,n){this.text=Q$(r.data,n.textTransform),this.textBounds=E$(e,this.text,n,r)}return t}(),Q$=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(U$,L$);case 2:return t.toUpperCase();default:return t}},U$=/(^|\s|:|-|\(|\))([a-z])/g,L$=function(t,e,r){return t.length>0?e+r.toUpperCase():t},zU=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Jo),GU=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Jo),qU=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,o=Nw(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Jo),WU=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Jo),NB=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Jo),P$=[{type:15,flags:0,unit:"px",number:3}],R$=[{type:16,flags:0,number:50}],D$=function(t){return t.width>t.height?new Oa(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Oa(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},O$=function(t){var e=t.type===M$?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Bv="checkbox",bv="radio",M$="password",n4=707406591,k_=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=O$(n),(i.type===Bv||i.type===bv)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=D$(i.bounds)),i.type){case Bv:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=P$;break;case bv:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=R$;break}return i}return e}(Jo),$U=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Jo),JU=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Jo),YU=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=ZU(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Xf(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ta.TRANSPARENT,o=n.contentWindow.document.body?Xf(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ta.TRANSPARENT;i.backgroundColor=ll(s)?ll(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e}(Jo),j$=["OL","UL","MENU"],_0=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,e3(i)&&i.data.trim().length>0)r.textNodes.push(new N$(t,i,r.styles));else if(bd(i))if(i3(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return _0(t,a,r,n)});else{var o=XU(t,i);o.styles.isVisible()&&(H$(i,o,n)?o.flags|=4:V$(o.styles)&&(o.flags|=2),j$.indexOf(i.tagName)!==-1&&(o.flags|=8),r.elements.push(o),i.slot,i.shadowRoot?_0(t,i.shadowRoot,o,n):!xv(i)&&!t3(i)&&!_v(i)&&_0(t,i,o,n))}},XU=function(t,e){return UB(e)?new zU(t,e):r3(e)?new GU(t,e):t3(e)?new qU(t,e):K$(e)?new WU(t,e):z$(e)?new NB(t,e):G$(e)?new k_(t,e):_v(e)?new $U(t,e):xv(e)?new JU(t,e):n3(e)?new YU(t,e):new Jo(t,e)},ZU=function(t,e){var r=XU(t,e);return r.flags|=4,_0(t,e,r,r),r},H$=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||N_(t)&&r.styles.isTransparent()},V$=function(t){return t.isPositioned()||t.isFloating()},e3=function(t){return t.nodeType===Node.TEXT_NODE},bd=function(t){return t.nodeType===Node.ELEMENT_NODE},QB=function(t){return bd(t)&&typeof t.style<"u"&&!C0(t)},C0=function(t){return typeof t.className=="object"},K$=function(t){return t.tagName==="LI"},z$=function(t){return t.tagName==="OL"},G$=function(t){return t.tagName==="INPUT"},q$=function(t){return t.tagName==="HTML"},t3=function(t){return t.tagName==="svg"},N_=function(t){return t.tagName==="BODY"},r3=function(t){return t.tagName==="CANVAS"},i4=function(t){return t.tagName==="VIDEO"},UB=function(t){return t.tagName==="IMG"},n3=function(t){return t.tagName==="IFRAME"},s4=function(t){return t.tagName==="STYLE"},W$=function(t){return t.tagName==="SCRIPT"},xv=function(t){return t.tagName==="TEXTAREA"},_v=function(t){return t.tagName==="SELECT"},i3=function(t){return t.tagName==="SLOT"},o4=function(t){return t.tagName.indexOf("-")>0},$$=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(a){var A=r.counters[a.counter];A&&a.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=a.increment)});var o=[];return s&&i.forEach(function(a){var A=r.counters[a.counter];o.push(a.counter),A||(A=r.counters[a.counter]=[]),A.push(a.reset)}),o},t}(),a4={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},A4={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},J$={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Y$={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$c=function(t,e,r,n,i,s){return t<e||t>r?Yp(t,i,s.length>0):n.integers.reduce(function(o,a,A){for(;t>=a;)t-=a,o+=n.values[A];return o},"")+s},s3=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Zr=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(s3(Math.abs(t),s,n,function(o){return en(Math.floor(o%s)+e)})+i)},su=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return s3(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},sd=1,kA=2,NA=4,Tf=8,ma=function(t,e,r,n,i,s){if(t<-9999||t>9999)return Yp(t,4,i.length>0);var o=Math.abs(t),a=i;if(o===0)return e[0]+a;for(var A=0;o>0&&A<=4;A++){var l=o%10;l===0&&bn(s,sd)&&a!==""?a=e[l]+a:l>1||l===1&&A===0||l===1&&A===1&&bn(s,kA)||l===1&&A===1&&bn(s,NA)&&t>100||l===1&&A>1&&bn(s,Tf)?a=e[l]+(A>0?r[A-1]:"")+a:l===1&&A>0&&(a=r[A-1]+a),o=Math.floor(o/10)}return(t<0?n:"")+a},l4="",u4="",c4="",wy="",Yp=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var a=Zr(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return su(t,"",i);case 6:return $c(t,1,3999,a4,3,n).toLowerCase();case 7:return $c(t,1,3999,a4,3,n);case 8:return Zr(t,945,969,!1,n);case 9:return Zr(t,97,122,!1,n);case 10:return Zr(t,65,90,!1,n);case 11:return Zr(t,1632,1641,!0,n);case 12:case 49:return $c(t,1,9999,A4,3,n);case 35:return $c(t,1,9999,A4,3,n).toLowerCase();case 13:return Zr(t,2534,2543,!0,n);case 14:case 30:return Zr(t,6112,6121,!0,n);case 15:return su(t,"",i);case 16:return su(t,"",i);case 17:case 48:return ma(t,"",l4,"",i,kA|NA|Tf);case 47:return ma(t,"",u4,"",i,sd|kA|NA|Tf);case 42:return ma(t,"",l4,"",i,kA|NA|Tf);case 41:return ma(t,"",u4,"",i,sd|kA|NA|Tf);case 26:return ma(t,"","",c4,i,0);case 25:return ma(t,"","",c4,i,sd|kA|NA);case 31:return ma(t,"","",wy,s,sd|kA|NA);case 33:return ma(t,"","",wy,s,0);case 32:return ma(t,"","",wy,s,sd|kA|NA);case 18:return Zr(t,2406,2415,!0,n);case 20:return $c(t,1,19999,Y$,3,n);case 21:return Zr(t,2790,2799,!0,n);case 22:return Zr(t,2662,2671,!0,n);case 22:return $c(t,1,10999,J$,3,n);case 23:return su(t,"");case 24:return su(t,"");case 27:return Zr(t,3302,3311,!0,n);case 28:return su(t,"",i);case 29:return su(t,"",i);case 34:return Zr(t,3792,3801,!0,n);case 37:return Zr(t,6160,6169,!0,n);case 38:return Zr(t,4160,4169,!0,n);case 39:return Zr(t,2918,2927,!0,n);case 40:return Zr(t,1776,1785,!0,n);case 43:return Zr(t,3046,3055,!0,n);case 44:return Zr(t,3174,3183,!0,n);case 45:return Zr(t,3664,3673,!0,n);case 46:return Zr(t,3872,3881,!0,n);case 3:default:return Zr(t,48,57,!0,n)}},o3="data-html2canvas-ignore",d4=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new $$,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=X$(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=i.contentWindow,A=a.document,l=tJ(i).then(function(){return mi(n,void 0,void 0,function(){var u,c;return si(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(sJ),a&&(a.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==r.top||a.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-r.left,a.scrollY-r.top,0,0))),u=this.options.onclone,c=this.clonedReferenceElement,typeof c>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,eJ(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(A,c)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(nJ(document.doctype)+"<html></html>"),iJ(this.referenceElement.ownerDocument,s,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(TB(e,2))debugger;if(r3(e))return this.createCanvasClone(e);if(i4(e))return this.createVideoClone(e);if(s4(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return UB(r)&&(UB(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),o4(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return yy(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(a){var A=a.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!bd(r)||!W$(r)&&!r.hasAttribute(o3)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!bd(r)||!s4(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(bd(s)&&i3(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(a){return i.appendChildNode(r,a,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(e3(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&bd(e)&&(QB(e)||C0(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&QB(i)&&(this.clonedReferenceElement=i),N_(i)&&AJ(i);var A=this.counters.parse(new VI(this.context,s)),l=this.resolvePseudoContent(e,i,o,tp.BEFORE);o4(e)&&(r=!0),i4(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var u=this.resolvePseudoContent(e,i,a,tp.AFTER);return u&&i.appendChild(u),this.counters.pop(A),(s&&(this.options.copyStyles||C0(e))&&!n3(e)||r)&&yy(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(xv(e)||_v(e))&&(xv(i)||_v(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var o=n.content,a=r.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new VI(this.context,n));var A=new KW(this.context,n),l=a.createElement("html2canvaspseudoelement");yy(n,l),A.content.forEach(function(c){if(c.type===0)l.appendChild(a.createTextNode(c.value));else if(c.type===22){var f=a.createElement("img");f.src=c.value,f.style.opacity="1",l.appendChild(f)}else if(c.type===18){if(c.name==="attr"){var g=c.values.filter(ur);g.length&&l.appendChild(a.createTextNode(e.getAttribute(g[0].value)||""))}else if(c.name==="counter"){var v=c.values.filter(ah),b=v[0],S=v[1];if(b&&ur(b)){var w=s.counters.getCounterValue(b.value),y=S&&ur(S)?FB.parse(s.context,S.value):3;l.appendChild(a.createTextNode(Yp(w,y,!1)))}}else if(c.name==="counters"){var x=c.values.filter(ah),b=x[0],L=x[1],S=x[2];if(b&&ur(b)){var P=s.counters.getCounterValues(b.value),M=S&&ur(S)?FB.parse(s.context,S.value):3,I=L&&L.type===0?L.value:"",_=P.map(function(E){return Yp(E,M,!1)}).join(I);l.appendChild(a.createTextNode(_))}}}else if(c.type===20)switch(c.value){case"open-quote":l.appendChild(a.createTextNode(HI(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(HI(A.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(c.value))}}),l.className=LB+" "+PB;var u=i===tp.BEFORE?" "+LB:" "+PB;return C0(r)?r.className.baseValue+=u:r.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),tp;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(tp||(tp={}));var X$=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(o3,"true"),t.body.appendChild(r),r},Z$=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},eJ=function(t){return Promise.all([].slice.call(t.images,0).map(Z$))},tJ=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},rJ=["all","d","content"],yy=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);rJ.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},nJ=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},iJ=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},sJ=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},oJ=":before",aJ=":after",LB="___html2canvas___pseudoelement_before",PB="___html2canvas___pseudoelement_after",h4=`{
    content: "" !important;
    display: none !important;
}`,AJ=function(t){lJ(t,"."+LB+oJ+h4+`
         .`+PB+aJ+h4)},lJ=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},a3=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),uJ=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(by(e)||fJ(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return mi(this,void 0,void 0,function(){var r,n,i,s,o=this;return si(this,function(a){switch(a.label){case 0:return r=a3.isSameOrigin(e),n=!By(e)&&this._options.useCORS===!0&&On.SUPPORT_CORS_IMAGES&&!r,i=!By(e)&&!r&&!by(e)&&typeof this._options.proxy=="string"&&On.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!By(e)&&!by(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var u=new Image;u.onload=function(){return A(u)},u.onerror=l,(pJ(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return A(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var a=On.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(a==="text")s(A.response);else{var c=new FileReader;c.addEventListener("load",function(){return s(c.result)},!1),c.addEventListener("error",function(f){return o(f)},!1),c.readAsDataURL(A.response)}else o("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=o;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=a),r._options.imageTimeout){var u=r._options.imageTimeout;A.timeout=u,A.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+i)}}A.send()})},t}(),cJ=/^data:image\/svg\+xml/i,dJ=/^data:image\/.*;base64,/i,hJ=/^data:image\/.*/i,fJ=function(t){return On.SUPPORT_SVG_DRAWING||!gJ(t)},By=function(t){return hJ.test(t)},pJ=function(t){return dJ.test(t)},by=function(t){return t.substr(0,4)==="blob"},gJ=function(t){return t.substr(-3).toLowerCase()==="svg"||cJ.test(t)},dt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Jc=function(t,e,r){return new dt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Vm=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=Jc(this.start,this.startControl,e),i=Jc(this.startControl,this.endControl,e),s=Jc(this.endControl,this.end,e),o=Jc(n,i,e),a=Jc(i,s,e),A=Jc(o,a,e);return r?new t(this.start,n,o,A):new t(A,a,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Is=function(t){return t.type===1},mJ=function(){function t(e){var r=e.styles,n=e.bounds,i=Sf(r.borderTopLeftRadius,n.width,n.height),s=i[0],o=i[1],a=Sf(r.borderTopRightRadius,n.width,n.height),A=a[0],l=a[1],u=Sf(r.borderBottomRightRadius,n.width,n.height),c=u[0],f=u[1],g=Sf(r.borderBottomLeftRadius,n.width,n.height),v=g[0],b=g[1],S=[];S.push((s+A)/n.width),S.push((v+c)/n.width),S.push((o+b)/n.height),S.push((l+f)/n.height);var w=Math.max.apply(Math,S);w>1&&(s/=w,o/=w,A/=w,l/=w,c/=w,f/=w,v/=w,b/=w);var y=n.width-A,x=n.height-f,L=n.width-c,P=n.height-b,M=r.borderTopWidth,I=r.borderRightWidth,_=r.borderBottomWidth,k=r.borderLeftWidth,O=vr(r.paddingTop,e.bounds.width),E=vr(r.paddingRight,e.bounds.width),T=vr(r.paddingBottom,e.bounds.width),N=vr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?Ir(n.left+k/3,n.top+M/3,s-k/3,o-M/3,er.TOP_LEFT):new dt(n.left+k/3,n.top+M/3),this.topRightBorderDoubleOuterBox=s>0||o>0?Ir(n.left+y,n.top+M/3,A-I/3,l-M/3,er.TOP_RIGHT):new dt(n.left+n.width-I/3,n.top+M/3),this.bottomRightBorderDoubleOuterBox=c>0||f>0?Ir(n.left+L,n.top+x,c-I/3,f-_/3,er.BOTTOM_RIGHT):new dt(n.left+n.width-I/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=v>0||b>0?Ir(n.left+k/3,n.top+P,v-k/3,b-_/3,er.BOTTOM_LEFT):new dt(n.left+k/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?Ir(n.left+k*2/3,n.top+M*2/3,s-k*2/3,o-M*2/3,er.TOP_LEFT):new dt(n.left+k*2/3,n.top+M*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?Ir(n.left+y,n.top+M*2/3,A-I*2/3,l-M*2/3,er.TOP_RIGHT):new dt(n.left+n.width-I*2/3,n.top+M*2/3),this.bottomRightBorderDoubleInnerBox=c>0||f>0?Ir(n.left+L,n.top+x,c-I*2/3,f-_*2/3,er.BOTTOM_RIGHT):new dt(n.left+n.width-I*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||b>0?Ir(n.left+k*2/3,n.top+P,v-k*2/3,b-_*2/3,er.BOTTOM_LEFT):new dt(n.left+k*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=s>0||o>0?Ir(n.left+k/2,n.top+M/2,s-k/2,o-M/2,er.TOP_LEFT):new dt(n.left+k/2,n.top+M/2),this.topRightBorderStroke=s>0||o>0?Ir(n.left+y,n.top+M/2,A-I/2,l-M/2,er.TOP_RIGHT):new dt(n.left+n.width-I/2,n.top+M/2),this.bottomRightBorderStroke=c>0||f>0?Ir(n.left+L,n.top+x,c-I/2,f-_/2,er.BOTTOM_RIGHT):new dt(n.left+n.width-I/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=v>0||b>0?Ir(n.left+k/2,n.top+P,v-k/2,b-_/2,er.BOTTOM_LEFT):new dt(n.left+k/2,n.top+n.height-_/2),this.topLeftBorderBox=s>0||o>0?Ir(n.left,n.top,s,o,er.TOP_LEFT):new dt(n.left,n.top),this.topRightBorderBox=A>0||l>0?Ir(n.left+y,n.top,A,l,er.TOP_RIGHT):new dt(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||f>0?Ir(n.left+L,n.top+x,c,f,er.BOTTOM_RIGHT):new dt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=v>0||b>0?Ir(n.left,n.top+P,v,b,er.BOTTOM_LEFT):new dt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||o>0?Ir(n.left+k,n.top+M,Math.max(0,s-k),Math.max(0,o-M),er.TOP_LEFT):new dt(n.left+k,n.top+M),this.topRightPaddingBox=A>0||l>0?Ir(n.left+Math.min(y,n.width-I),n.top+M,y>n.width+I?0:Math.max(0,A-I),Math.max(0,l-M),er.TOP_RIGHT):new dt(n.left+n.width-I,n.top+M),this.bottomRightPaddingBox=c>0||f>0?Ir(n.left+Math.min(L,n.width-k),n.top+Math.min(x,n.height-_),Math.max(0,c-I),Math.max(0,f-_),er.BOTTOM_RIGHT):new dt(n.left+n.width-I,n.top+n.height-_),this.bottomLeftPaddingBox=v>0||b>0?Ir(n.left+k,n.top+Math.min(P,n.height-_),Math.max(0,v-k),Math.max(0,b-_),er.BOTTOM_LEFT):new dt(n.left+k,n.top+n.height-_),this.topLeftContentBox=s>0||o>0?Ir(n.left+k+N,n.top+M+O,Math.max(0,s-(k+N)),Math.max(0,o-(M+O)),er.TOP_LEFT):new dt(n.left+k+N,n.top+M+O),this.topRightContentBox=A>0||l>0?Ir(n.left+Math.min(y,n.width+k+N),n.top+M+O,y>n.width+k+N?0:A-k+N,l-(M+O),er.TOP_RIGHT):new dt(n.left+n.width-(I+E),n.top+M+O),this.bottomRightContentBox=c>0||f>0?Ir(n.left+Math.min(L,n.width-(k+N)),n.top+Math.min(x,n.height+M+O),Math.max(0,c-(I+E)),f-(_+T),er.BOTTOM_RIGHT):new dt(n.left+n.width-(I+E),n.top+n.height-(_+T)),this.bottomLeftContentBox=v>0||b>0?Ir(n.left+k+N,n.top+P,Math.max(0,v-(k+N)),b-(_+T),er.BOTTOM_LEFT):new dt(n.left+k+N,n.top+n.height-(_+T))}return t}(),er;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(er||(er={}));var Ir=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),o=r*s,a=n*s,A=t+r,l=e+n;switch(i){case er.TOP_LEFT:return new Vm(new dt(t,l),new dt(t,l-a),new dt(A-o,e),new dt(A,e));case er.TOP_RIGHT:return new Vm(new dt(t,e),new dt(t+o,e),new dt(A,l-a),new dt(A,l));case er.BOTTOM_RIGHT:return new Vm(new dt(A,e),new dt(A,e+a),new dt(t+o,l),new dt(t,l));case er.BOTTOM_LEFT:default:return new Vm(new dt(A,l),new dt(A-o,l),new dt(t,e+a),new dt(t,e))}},Cv=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},vJ=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Ev=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},wJ=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Km=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),yJ=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),BJ=function(t){return t.type===0},A3=function(t){return t.type===1},bJ=function(t){return t.type===2},f4=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},xJ=function(t,e,r,n,i){return t.map(function(s,o){switch(o){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},l3=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),u3=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new mJ(this.container),this.container.styles.opacity<1&&this.effects.push(new yJ(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new wJ(n,i,s))}if(this.container.styles.overflowX!==0){var o=Cv(this.curves),a=Ev(this.curves);f4(o,a)?this.effects.push(new Km(o,6)):(this.effects.push(new Km(o,2)),this.effects.push(new Km(a,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(A){return!A3(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=Cv(n.curves),a=Ev(n.curves);f4(o,a)||i.unshift(new Km(a,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(A){return bn(A.target,e)})},t}(),RB=function(t,e,r,n){t.container.elements.forEach(function(i){var s=bn(i.flags,4),o=bn(i.flags,2),a=new u3(i,t);bn(i.styles.display,2048)&&n.push(a);var A=bn(i.flags,8)?[]:n;if(s||o){var l=s||i.styles.isPositioned()?r:e,u=new l3(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var c=i.styles.zIndex.order;if(c<0){var f=0;l.negativeZIndex.some(function(v,b){return c>v.element.container.styles.zIndex.order?(f=b,!1):f>0}),l.negativeZIndex.splice(f,0,u)}else if(c>0){var g=0;l.positiveZIndex.some(function(v,b){return c>=v.element.container.styles.zIndex.order?(g=b+1,!1):g>0}),l.positiveZIndex.splice(g,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);RB(a,u,s?u:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),RB(a,e,r,A);bn(i.flags,8)&&c3(i,A)})},c3=function(t,e){for(var r=t instanceof NB?t.start:1,n=t instanceof NB?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof WU&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Yp(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},_J=function(t){var e=new u3(t,null),r=new l3(e),n=[];return RB(e,r,r,n),c3(e.container,n),r},p4=function(t,e){switch(e){case 0:return Ns(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ns(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ns(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ns(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},CJ=function(t,e){switch(e){case 0:return Ns(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ns(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ns(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ns(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},EJ=function(t,e){switch(e){case 0:return Ns(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ns(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ns(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ns(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},IJ=function(t,e){switch(e){case 0:return zm(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return zm(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return zm(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return zm(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},zm=function(t,e){var r=[];return Is(t)?r.push(t.subdivide(.5,!1)):r.push(t),Is(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ns=function(t,e,r,n){var i=[];return Is(t)?i.push(t.subdivide(.5,!1)):i.push(t),Is(r)?i.push(r.subdivide(.5,!0)):i.push(r),Is(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Is(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},d3=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Iv=function(t){var e=t.styles,r=t.bounds,n=vr(e.paddingLeft,r.width),i=vr(e.paddingRight,r.width),s=vr(e.paddingTop,r.width),o=vr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},SJ=function(t,e){return t===0?e.bounds:t===2?Iv(e):d3(e)},FJ=function(t,e){return t===0?e.bounds:t===2?Iv(e):d3(e)},xy=function(t,e,r){var n=SJ(od(t.styles.backgroundOrigin,e),t),i=FJ(od(t.styles.backgroundClip,e),t),s=TJ(od(t.styles.backgroundSize,e),r,n),o=s[0],a=s[1],A=Sf(od(t.styles.backgroundPosition,e),n.width-o,n.height-a),l=kJ(od(t.styles.backgroundRepeat,e),A,s,n,i),u=Math.round(n.left+A[0]),c=Math.round(n.top+A[1]);return[l,u,c,o,a]},Yc=function(t){return ur(t)&&t.value===Ld.AUTO},Gm=function(t){return typeof t=="number"},TJ=function(t,e,r){var n=e[0],i=e[1],s=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(gn(o)&&a&&gn(a))return[vr(o,r.width),vr(a,r.height)];var A=Gm(s);if(ur(o)&&(o.value===Ld.CONTAIN||o.value===Ld.COVER)){if(Gm(s)){var l=r.width/r.height;return l<s!=(o.value===Ld.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=Gm(n),c=Gm(i),f=u||c;if(Yc(o)&&(!a||Yc(a))){if(u&&c)return[n,i];if(!A&&!f)return[r.width,r.height];if(f&&A){var g=u?n:i*s,v=c?i:n/s;return[g,v]}var b=u?n:r.width,S=c?i:r.height;return[b,S]}if(A){var w=0,y=0;return gn(o)?w=vr(o,r.width):gn(a)&&(y=vr(a,r.height)),Yc(o)?w=y*s:(!a||Yc(a))&&(y=w/s),[w,y]}var x=null,L=null;if(gn(o)?x=vr(o,r.width):a&&gn(a)&&(L=vr(a,r.height)),x!==null&&(!a||Yc(a))&&(L=u&&c?x/n*i:r.height),L!==null&&Yc(o)&&(x=u&&c?L/i*n:r.width),x!==null&&L!==null)return[x,L];throw new Error("Unable to calculate background-size for element")},od=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},kJ=function(t,e,r,n,i){var s=e[0],o=e[1],a=r[0],A=r[1];switch(t){case 2:return[new dt(Math.round(n.left),Math.round(n.top+o)),new dt(Math.round(n.left+n.width),Math.round(n.top+o)),new dt(Math.round(n.left+n.width),Math.round(A+n.top+o)),new dt(Math.round(n.left),Math.round(A+n.top+o))];case 3:return[new dt(Math.round(n.left+s),Math.round(n.top)),new dt(Math.round(n.left+s+a),Math.round(n.top)),new dt(Math.round(n.left+s+a),Math.round(n.height+n.top)),new dt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new dt(Math.round(n.left+s),Math.round(n.top+o)),new dt(Math.round(n.left+s+a),Math.round(n.top+o)),new dt(Math.round(n.left+s+a),Math.round(n.top+o+A)),new dt(Math.round(n.left+s),Math.round(n.top+o+A))];default:return[new dt(Math.round(i.left),Math.round(i.top)),new dt(Math.round(i.left+i.width),Math.round(i.top)),new dt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new dt(Math.round(i.left),Math.round(i.height+i.top))]}},NJ="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",g4="Hidden Text",QJ=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=NJ,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(g4)),n.appendChild(s),n.appendChild(i);var a=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(g4)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),h3=function(){function t(e,r){this.context=e,this.options=r}return t}(),UJ=1e4,LJ=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new QJ(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),bJ(r)&&(this.ctx.globalAlpha=r.opacity),BJ(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),A3(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return mi(this,void 0,void 0,function(){var n;return si(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return mi(this,void 0,void 0,function(){return si(this,function(n){switch(n.label){case 0:if(bn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var o=T_(r.text);o.reduce(function(a,A){return s.ctx.fillText(A,a,r.bounds.top+i),a+s.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=MJ(r.fontFamily).join(", "),s=Ig(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return mi(this,void 0,void 0,function(){var i,s,o,a,A,l,u,c,f=this;return si(this,function(g){return i=this.createFontStyle(n),s=i[0],o=i[1],a=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,a),l=A.baseline,u=A.middle,c=n.paintOrder,r.textBounds.forEach(function(v){c.forEach(function(b){switch(b){case 0:f.ctx.fillStyle=Sn(n.color),f.renderTextWithLetterSpacing(v,n.letterSpacing,l);var S=n.textShadow;S.length&&v.text.trim().length&&(S.slice(0).reverse().forEach(function(w){f.ctx.shadowColor=Sn(w.color),f.ctx.shadowOffsetX=w.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=w.offsetY.number*f.options.scale,f.ctx.shadowBlur=w.blur.number,f.renderTextWithLetterSpacing(v,n.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=Sn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:f.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+l),v.bounds.width,1);break;case 2:f.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:f.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+u),v.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&v.text.trim().length&&(f.ctx.strokeStyle=Sn(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=Iv(r),o=Ev(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return mi(this,void 0,void 0,function(){var n,i,s,o,a,A,y,y,l,u,c,f,L,g,v,P,b,S,w,y,x,L,P;return si(this,function(M){switch(M.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,o=0,a=n.textNodes,M.label=1;case 1:return o<a.length?(A=a[o],[4,this.renderTextNode(A,s)]):[3,4];case 2:M.sent(),M.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof zU))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=M.sent(),this.renderReplacedElement(n,i,y),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof GU&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof qU))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=M.sent(),this.renderReplacedElement(n,i,y),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof YU&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:u=M.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),M.label=14;case 14:if(n instanceof k_&&(c=Math.min(n.bounds.width,n.bounds.height),n.type===Bv?n.checked&&(this.ctx.save(),this.path([new dt(n.bounds.left+c*.39363,n.bounds.top+c*.79),new dt(n.bounds.left+c*.16,n.bounds.top+c*.5549),new dt(n.bounds.left+c*.27347,n.bounds.top+c*.44071),new dt(n.bounds.left+c*.39694,n.bounds.top+c*.5649),new dt(n.bounds.left+c*.72983,n.bounds.top+c*.23),new dt(n.bounds.left+c*.84,n.bounds.top+c*.34085),new dt(n.bounds.left+c*.39363,n.bounds.top+c*.79)]),this.ctx.fillStyle=Sn(n4),this.ctx.fill(),this.ctx.restore()):n.type===bv&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+c/2,n.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=Sn(n4),this.ctx.fill(),this.ctx.restore())),PJ(n)&&n.value.length){switch(f=this.createFontStyle(s),L=f[0],g=f[1],v=this.fontMetrics.getMetrics(L,g).baseline,this.ctx.font=L,this.ctx.fillStyle=Sn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=DJ(n.styles.textAlign),P=Iv(n),b=0,n.styles.textAlign){case 1:b+=P.width/2;break;case 2:b+=P.width;break}S=P.add(b,0,0,-P.height/2+1),this.ctx.save(),this.path([new dt(P.left,P.top),new dt(P.left+P.width,P.top),new dt(P.left+P.width,P.top+P.height),new dt(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ep(n.value,S),s.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!bn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];y=void 0,x=w.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return y=M.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(L=this.createFontStyle(s)[0],this.ctx.font=L,this.ctx.fillStyle=Sn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new Oa(n.bounds.left,n.bounds.top+vr(n.styles.paddingTop,n.bounds.width),n.bounds.width,MI(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ep(r.listValue,P),s.letterSpacing,MI(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return mi(this,void 0,void 0,function(){var n,i,w,s,o,w,a,A,w,l,u,w,c,f,w,g,v,w,b,S,w;return si(this,function(y){switch(y.label){case 0:if(bn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,i=r.negativeZIndex,y.label=2;case 2:return n<i.length?(w=i[n],[4,this.renderStack(w)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),s=0,o=r.nonInlineLevel,y.label=7;case 7:return s<o.length?(w=o[s],[4,this.renderNode(w)]):[3,10];case 8:y.sent(),y.label=9;case 9:return s++,[3,7];case 10:a=0,A=r.nonPositionedFloats,y.label=11;case 11:return a<A.length?(w=A[a],[4,this.renderStack(w)]):[3,14];case 12:y.sent(),y.label=13;case 13:return a++,[3,11];case 14:l=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return l<u.length?(w=u[l],[4,this.renderStack(w)]):[3,18];case 16:y.sent(),y.label=17;case 17:return l++,[3,15];case 18:c=0,f=r.inlineLevel,y.label=19;case 19:return c<f.length?(w=f[c],[4,this.renderNode(w)]):[3,22];case 20:y.sent(),y.label=21;case 21:return c++,[3,19];case 22:g=0,v=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return g<v.length?(w=v[g],[4,this.renderStack(w)]):[3,26];case 24:y.sent(),y.label=25;case 25:return g++,[3,23];case 26:b=0,S=r.positiveZIndex,y.label=27;case 27:return b<S.length?(w=S[b],[4,this.renderStack(w)]):[3,30];case 28:y.sent(),y.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var o=Is(i)?i.start:i;s===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Is(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=o.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,i);var A=a.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),a},e.prototype.renderBackgroundImage=function(r){return mi(this,void 0,void 0,function(){var n,i,s,o,a,A;return si(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var c,f,g,O,te,K,N,X,_,v,O,te,K,N,X,b,S,w,y,x,L,P,M,I,_,k,O,E,T,N,X,ce,te,K,$,R,q,re,Q,j,G,ee;return si(this,function(ne){switch(ne.label){case 0:if(u.type!==0)return[3,5];c=void 0,f=u.url,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return c=ne.sent(),[3,4];case 3:return ne.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return c&&(g=xy(r,n,[c.width,c.height,c.width/c.height]),O=g[0],te=g[1],K=g[2],N=g[3],X=g[4],_=s.ctx.createPattern(s.resizeImage(c,N,X),"repeat"),s.renderRepeat(O,_,te,K)),[3,6];case 5:Bq(u)?(v=xy(r,n,[null,null,null]),O=v[0],te=v[1],K=v[2],N=v[3],X=v[4],b=gq(u.angle,N,X),S=b[0],w=b[1],y=b[2],x=b[3],L=b[4],P=document.createElement("canvas"),P.width=N,P.height=X,M=P.getContext("2d"),I=M.createLinearGradient(w,x,y,L),DI(u.stops,S).forEach(function(ae){return I.addColorStop(ae.stop,Sn(ae.color))}),M.fillStyle=I,M.fillRect(0,0,N,X),N>0&&X>0&&(_=s.ctx.createPattern(P,"repeat"),s.renderRepeat(O,_,te,K))):bq(u)&&(k=xy(r,n,[null,null,null]),O=k[0],E=k[1],T=k[2],N=k[3],X=k[4],ce=u.position.length===0?[I_]:u.position,te=vr(ce[0],N),K=vr(ce[ce.length-1],X),$=mq(u,te,K,N,X),R=$[0],q=$[1],R>0&&q>0&&(re=s.ctx.createRadialGradient(E+te,T+K,0,E+te,T+K,R),DI(u.stops,R*2).forEach(function(ae){return re.addColorStop(ae.stop,Sn(ae.color))}),s.path(O),s.ctx.fillStyle=re,R!==q?(Q=r.bounds.left+.5*r.bounds.width,j=r.bounds.top+.5*r.bounds.height,G=q/R,ee=1/G,s.ctx.save(),s.ctx.translate(Q,j),s.ctx.transform(1,0,0,G,0,0),s.ctx.translate(-Q,-j),s.ctx.fillRect(E,ee*(T-j)+j,N,X*ee),s.ctx.restore()):s.ctx.fill())),ne.label=6;case 6:return n--,[2]}})},s=this,o=0,a=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<a.length?(A=a[o],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return mi(this,void 0,void 0,function(){return si(this,function(s){return this.path(p4(i,n)),this.ctx.fillStyle=Sn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return mi(this,void 0,void 0,function(){var o,a;return si(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return o=CJ(s,i),this.path(o),this.ctx.fillStyle=Sn(r),this.ctx.fill(),a=EJ(s,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return mi(this,void 0,void 0,function(){var n,i,s,o,a,A,l,u,c=this;return si(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!ll(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=RJ(od(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),ll(n.backgroundColor)||(this.ctx.fillStyle=Sn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){c.ctx.save();var v=Cv(r.curves),b=g.inset?0:UJ,S=xJ(v,-b+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(c.path(v),c.ctx.clip(),c.mask(S)):(c.mask(v),c.ctx.clip(),c.path(S)),c.ctx.shadowOffsetX=g.offsetX.number+b,c.ctx.shadowOffsetY=g.offsetY.number,c.ctx.shadowColor=Sn(g.color),c.ctx.shadowBlur=g.blur.number,c.ctx.fillStyle=g.inset?Sn(g.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),f.label=2;case 2:a=0,A=0,l=s,f.label=3;case 3:return A<l.length?(u=l[A],u.style!==0&&!ll(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,r.curves)];case 10:f.sent(),f.label=11;case 11:a++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,o){return mi(this,void 0,void 0,function(){var a,A,l,u,c,f,g,v,b,S,w,y,x,L,P,M,P,M;return si(this,function(I){return this.ctx.save(),a=IJ(s,i),A=p4(s,i),o===2&&(this.path(A),this.ctx.clip()),Is(A[0])?(l=A[0].start.x,u=A[0].start.y):(l=A[0].x,u=A[0].y),Is(A[1])?(c=A[1].end.x,f=A[1].end.y):(c=A[1].x,f=A[1].y),i===0||i===2?g=Math.abs(l-c):g=Math.abs(u-f),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(A.slice(0,2)),v=n<3?n*3:n*2,b=n<3?n*2:n,o===3&&(v=n,b=n),S=!0,g<=v*2?S=!1:g<=v*2+b?(w=g/(2*v+b),v*=w,b*=w):(y=Math.floor((g+b)/(v+b)),x=(g-y*v)/(y-1),L=(g-(y+1)*v)/y,b=L<=0||Math.abs(b-x)<Math.abs(b-L)?x:L),S&&(o===3?this.ctx.setLineDash([0,v+b]):this.ctx.setLineDash([v,b])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Sn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Is(A[0])&&(P=A[3],M=A[0],this.ctx.beginPath(),this.formatPath([new dt(P.end.x,P.end.y),new dt(M.start.x,M.start.y)]),this.ctx.stroke()),Is(A[1])&&(P=A[1],M=A[2],this.ctx.beginPath(),this.formatPath([new dt(P.end.x,P.end.y),new dt(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return mi(this,void 0,void 0,function(){var n;return si(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Sn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=_J(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(h3),PJ=function(t){return t instanceof JU||t instanceof $U?!0:t instanceof k_&&t.type!==bv&&t.type!==Bv},RJ=function(t,e){switch(t){case 0:return Cv(e);case 2:return vJ(e);case 1:default:return Ev(e)}},DJ=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},OJ=["-apple-system","system-ui"],MJ=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return OJ.indexOf(e)===-1}):t},jJ=function(t){lo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return mi(this,void 0,void 0,function(){var n,i;return si(this,function(s){switch(s.label){case 0:return n=kB(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,HJ(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Sn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(h3),HJ=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},VJ=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,_m([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,_m([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,_m([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,_m([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),KJ=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new VJ({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new uJ(this,e)}return t.instanceCount=1,t}(),f3=function(t,e){return e===void 0&&(e={}),zJ(t,e)};typeof window<"u"&&a3.setContext(window);var zJ=function(t,e){return mi(void 0,void 0,void 0,function(){var r,n,i,s,o,a,A,l,u,c,f,g,v,b,S,w,y,x,L,P,I,M,I,_,k,O,E,T,N,X,ce,te,K,$,R,q,re,Q,j,G;return si(this,function(ee){switch(ee.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(O=e.useCORS)!==null&&O!==void 0?O:!1},s=gB({logging:(E=e.logging)!==null&&E!==void 0?E:!0,cache:e.cache},i),o={windowWidth:(T=e.windowWidth)!==null&&T!==void 0?T:n.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:n.innerHeight,scrollX:(X=e.scrollX)!==null&&X!==void 0?X:n.pageXOffset,scrollY:(ce=e.scrollY)!==null&&ce!==void 0?ce:n.pageYOffset},a=new Oa(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new KJ(s,a),l=(te=e.foreignObjectRendering)!==null&&te!==void 0?te:!1,u={allowTaint:(K=e.allowTaint)!==null&&K!==void 0?K:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),c=new d4(A,t,u),f=c.clonedReferenceElement,f?[4,c.toIFrame(r,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=ee.sent(),v=N_(f)||q$(f)?xz(f.ownerDocument):Nw(A,f),b=v.width,S=v.height,w=v.left,y=v.top,x=GJ(A,f,e.backgroundColor),L={canvas:e.canvas,backgroundColor:x,scale:(R=($=e.scale)!==null&&$!==void 0?$:n.devicePixelRatio)!==null&&R!==void 0?R:1,x:((q=e.x)!==null&&q!==void 0?q:0)+w,y:((re=e.y)!==null&&re!==void 0?re:0)+y,width:(Q=e.width)!==null&&Q!==void 0?Q:Math.ceil(b),height:(j=e.height)!==null&&j!==void 0?j:Math.ceil(S)},l?(A.logger.debug("Document cloned, using foreign object rendering"),I=new jJ(A,L),[4,I.render(f)]):[3,3];case 2:return P=ee.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+w+","+y+" with size "+b+"x"+S+" using computed rendering"),A.logger.debug("Starting DOM parsing"),M=ZU(A,f),x===M.styles.backgroundColor&&(M.styles.backgroundColor=Ta.TRANSPARENT),A.logger.debug("Starting renderer for element at "+L.x+","+L.y+" with size "+L.width+"x"+L.height),I=new LJ(A,L),[4,I.render(M)];case 4:P=ee.sent(),ee.label=5;case 5:return(!((G=e.removeContainer)!==null&&G!==void 0)||G)&&(d4.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,P]}})})},GJ=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Xf(t,getComputedStyle(n.documentElement).backgroundColor):Ta.TRANSPARENT,s=n.body?Xf(t,getComputedStyle(n.body).backgroundColor):Ta.TRANSPARENT,o=typeof r=="string"?Xf(t,r):r===null?Ta.TRANSPARENT:4294967295;return e===n.documentElement?ll(i)?ll(s)?o:s:i:o};const qJ=Object.freeze(Object.defineProperty({__proto__:null,default:f3},Symbol.toStringTag,{value:"Module"})),WJ="modulepreload",$J=function(t){return"/zamenyVStest/"+t},m4={},DB=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(A=>{if(A=$J(A),A in m4)return;m4[A]=!0;const l=A.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":WJ,l||(c.as="script"),c.crossOrigin="",c.href=A,a&&c.setAttribute("nonce",a),document.head.appendChild(c),l)return new Promise((f,g)=>{c.addEventListener("load",f),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function or(t){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(t)}var Ai=Uint8Array,As=Uint16Array,Q_=Int32Array,Hw=new Ai([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vw=new Ai([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OB=new Ai([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p3=function(t,e){for(var r=new As(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Q_(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},g3=p3(Hw,2),m3=g3.b,MB=g3.r;m3[28]=258,MB[258]=28;var v3=p3(Vw,0),JJ=v3.b,v4=v3.r,jB=new As(32768);for(var Cr=0;Cr<32768;++Cr){var FA=(Cr&43690)>>1|(Cr&21845)<<1;FA=(FA&52428)>>2|(FA&13107)<<2,FA=(FA&61680)>>4|(FA&3855)<<4,jB[Cr]=((FA&65280)>>8|(FA&255)<<8)>>1}var Vo=function(t,e,r){for(var n=t.length,i=0,s=new As(e);i<n;++i)t[i]&&++s[t[i]-1];var o=new As(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(r){a=new As(1<<e);var A=15-e;for(i=0;i<n;++i)if(t[i])for(var l=i<<4|t[i],u=e-t[i],c=o[t[i]-1]++<<u,f=c|(1<<u)-1;c<=f;++c)a[jB[c]>>A]=l}else for(a=new As(n),i=0;i<n;++i)t[i]&&(a[i]=jB[o[t[i]-1]++]>>15-t[i]);return a},Cl=new Ai(288);for(var Cr=0;Cr<144;++Cr)Cl[Cr]=8;for(var Cr=144;Cr<256;++Cr)Cl[Cr]=9;for(var Cr=256;Cr<280;++Cr)Cl[Cr]=7;for(var Cr=280;Cr<288;++Cr)Cl[Cr]=8;var Xp=new Ai(32);for(var Cr=0;Cr<32;++Cr)Xp[Cr]=5;var YJ=Vo(Cl,9,0),XJ=Vo(Cl,9,1),ZJ=Vo(Xp,5,0),eY=Vo(Xp,5,1),_y=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Js=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Cy=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},U_=function(t){return(t+7)/8|0},w3=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ai(t.subarray(e,r))},tY=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],eo=function(t,e,r){var n=new Error(e||tY[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,eo),!r)throw n;return n},rY=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new Ai(0);var o=!r,a=o||e.i!=2,A=e.i;o&&(r=new Ai(i*3));var l=function(Ne){var je=r.length;if(Ne>je){var Le=new Ai(Math.max(je*2,Ne));Le.set(r),r=Le}},u=e.f||0,c=e.p||0,f=e.b||0,g=e.l,v=e.d,b=e.m,S=e.n,w=i*8;do{if(!g){u=Js(t,c,1);var y=Js(t,c+1,3);if(c+=3,y)if(y==1)g=XJ,v=eY,b=9,S=5;else if(y==2){var M=Js(t,c,31)+257,I=Js(t,c+10,15)+4,_=M+Js(t,c+5,31)+1;c+=14;for(var k=new Ai(_),O=new Ai(19),E=0;E<I;++E)O[OB[E]]=Js(t,c+E*3,7);c+=I*3;for(var T=_y(O),N=(1<<T)-1,X=Vo(O,T,1),E=0;E<_;){var ce=X[Js(t,c,N)];c+=ce&15;var x=ce>>4;if(x<16)k[E++]=x;else{var te=0,K=0;for(x==16?(K=3+Js(t,c,3),c+=2,te=k[E-1]):x==17?(K=3+Js(t,c,7),c+=3):x==18&&(K=11+Js(t,c,127),c+=7);K--;)k[E++]=te}}var $=k.subarray(0,M),R=k.subarray(M);b=_y($),S=_y(R),g=Vo($,b,1),v=Vo(R,S,1)}else eo(1);else{var x=U_(c)+4,L=t[x-4]|t[x-3]<<8,P=x+L;if(P>i){A&&eo(0);break}a&&l(f+L),r.set(t.subarray(x,P),f),e.b=f+=L,e.p=c=P*8,e.f=u;continue}if(c>w){A&&eo(0);break}}a&&l(f+131072);for(var q=(1<<b)-1,re=(1<<S)-1,Q=c;;Q=c){var te=g[Cy(t,c)&q],j=te>>4;if(c+=te&15,c>w){A&&eo(0);break}if(te||eo(2),j<256)r[f++]=j;else if(j==256){Q=c,g=null;break}else{var G=j-254;if(j>264){var E=j-257,ee=Hw[E];G=Js(t,c,(1<<ee)-1)+m3[E],c+=ee}var ne=v[Cy(t,c)&re],ae=ne>>4;ne||eo(3),c+=ne&15;var R=JJ[ae];if(ae>3){var ee=Vw[ae];R+=Cy(t,c)&(1<<ee)-1,c+=ee}if(c>w){A&&eo(0);break}a&&l(f+131072);var ge=f+G;if(f<R){var we=s-R,Te=Math.min(R,ge);for(we+f<0&&eo(3);f<Te;++f)r[f]=n[we+f]}for(;f<ge;++f)r[f]=r[f-R]}}e.l=g,e.p=Q,e.b=f,e.f=u,g&&(u=1,e.m=b,e.d=v,e.n=S)}while(!u);return f!=r.length&&o?w3(r,0,f):r.subarray(0,f)},va=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},df=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Ey=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:B3,l:0};if(i==1){var o=new Ai(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(P,M){return P.f-M.f}),r.push({s:-1,f:25001});var a=r[0],A=r[1],l=0,u=1,c=2;for(r[0]={s:-1,f:a.f+A.f,l:a,r:A};u!=i-1;)a=r[r[l].f<r[c].f?l++:c++],A=r[l!=u&&r[l].f<r[c].f?l++:c++],r[u++]={s:-1,f:a.f+A.f,l:a,r:A};for(var f=s[0].s,n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var g=new As(f+1),v=HB(r[u-1],g,0);if(v>e){var n=0,b=0,S=v-e,w=1<<S;for(s.sort(function(M,I){return g[I.s]-g[M.s]||M.f-I.f});n<i;++n){var y=s[n].s;if(g[y]>e)b+=w-(1<<v-g[y]),g[y]=e;else break}for(b>>=S;b>0;){var x=s[n].s;g[x]<e?b-=1<<e-g[x]++-1:++n}for(;n>=0&&b;--n){var L=s[n].s;g[L]==e&&(--g[L],++b)}v=e}return{t:new Ai(g),l:v}},HB=function(t,e,r){return t.s==-1?Math.max(HB(t.l,e,r+1),HB(t.r,e,r+1)):e[t.s]=r},w4=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new As(++e),n=0,i=t[0],s=1,o=function(A){r[n++]=A},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:r.subarray(0,n),n:e}},hf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},y3=function(t,e,r){var n=r.length,i=U_(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},y4=function(t,e,r,n,i,s,o,a,A,l,u){va(e,u++,r),++i[256];for(var c=Ey(i,15),f=c.t,g=c.l,v=Ey(s,15),b=v.t,S=v.l,w=w4(f),y=w.c,x=w.n,L=w4(b),P=L.c,M=L.n,I=new As(19),_=0;_<y.length;++_)++I[y[_]&31];for(var _=0;_<P.length;++_)++I[P[_]&31];for(var k=Ey(I,7),O=k.t,E=k.l,T=19;T>4&&!O[OB[T-1]];--T);var N=l+5<<3,X=hf(i,Cl)+hf(s,Xp)+o,ce=hf(i,f)+hf(s,b)+o+14+3*T+hf(I,O)+2*I[16]+3*I[17]+7*I[18];if(A>=0&&N<=X&&N<=ce)return y3(e,u,t.subarray(A,A+l));var te,K,$,R;if(va(e,u,1+(ce<X)),u+=2,ce<X){te=Vo(f,g,0),K=f,$=Vo(b,S,0),R=b;var q=Vo(O,E,0);va(e,u,x-257),va(e,u+5,M-1),va(e,u+10,T-4),u+=14;for(var _=0;_<T;++_)va(e,u+3*_,O[OB[_]]);u+=3*T;for(var re=[y,P],Q=0;Q<2;++Q)for(var j=re[Q],_=0;_<j.length;++_){var G=j[_]&31;va(e,u,q[G]),u+=O[G],G>15&&(va(e,u,j[_]>>5&127),u+=j[_]>>12)}}else te=YJ,K=Cl,$=ZJ,R=Xp;for(var _=0;_<a;++_){var ee=n[_];if(ee>255){var G=ee>>18&31;df(e,u,te[G+257]),u+=K[G+257],G>7&&(va(e,u,ee>>23&31),u+=Hw[G]);var ne=ee&31;df(e,u,$[ne]),u+=R[ne],ne>3&&(df(e,u,ee>>5&8191),u+=Vw[ne])}else df(e,u,te[ee]),u+=K[ee]}return df(e,u,te[256]),u+K[256]},nY=new Q_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),B3=new Ai(0),iY=function(t,e,r,n,i,s){var o=s.z||t.length,a=new Ai(n+o+5*(1+Math.ceil(o/7e3))+i),A=a.subarray(n,a.length-i),l=s.l,u=(s.r||0)&7;if(e){u&&(A[0]=s.r>>3);for(var c=nY[e-1],f=c>>13,g=c&8191,v=(1<<r)-1,b=s.p||new As(32768),S=s.h||new As(v+1),w=Math.ceil(r/3),y=2*w,x=function(He){return(t[He]^t[He+1]<<w^t[He+2]<<y)&v},L=new Q_(25e3),P=new As(288),M=new As(32),I=0,_=0,k=s.i||0,O=0,E=s.w||0,T=0;k+2<o;++k){var N=x(k),X=k&32767,ce=S[N];if(b[X]=ce,S[N]=X,E<=k){var te=o-k;if((I>7e3||O>24576)&&(te>423||!l)){u=y4(t,A,0,L,P,M,_,O,T,k-T,u),O=I=_=0,T=k;for(var K=0;K<286;++K)P[K]=0;for(var K=0;K<30;++K)M[K]=0}var $=2,R=0,q=g,re=X-ce&32767;if(te>2&&N==x(k-re))for(var Q=Math.min(f,te)-1,j=Math.min(32767,k),G=Math.min(258,te);re<=j&&--q&&X!=ce;){if(t[k+$]==t[k+$-re]){for(var ee=0;ee<G&&t[k+ee]==t[k+ee-re];++ee);if(ee>$){if($=ee,R=re,ee>Q)break;for(var ne=Math.min(re,ee-2),ae=0,K=0;K<ne;++K){var ge=k-re+K&32767,we=b[ge],Te=ge-we&32767;Te>ae&&(ae=Te,ce=ge)}}}X=ce,ce=b[X],re+=X-ce&32767}if(R){L[O++]=268435456|MB[$]<<18|v4[R];var Ne=MB[$]&31,je=v4[R]&31;_+=Hw[Ne]+Vw[je],++P[257+Ne],++M[je],E=k+$,++I}else L[O++]=t[k],++P[t[k]]}}for(k=Math.max(k,E);k<o;++k)L[O++]=t[k],++P[t[k]];u=y4(t,A,l,L,P,M,_,O,T,k-T,u),l||(s.r=u&7|A[u/8|0]<<3,u-=7,s.h=S,s.p=b,s.i=k,s.w=E)}else{for(var k=s.w||0;k<o+l;k+=65535){var Le=k+65535;Le>=o&&(A[u/8|0]=l,Le=o),u=y3(A,u+1,t.subarray(k,Le))}s.i=o}return w3(a,0,n+U_(u)+i)},b3=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},sY=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Ai(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return iY(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},x3=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},oY=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=b3();i.p(e.dictionary),x3(t,2,i.d())}},aY=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&eo(6,"invalid zlib data"),(t[1]>>5&1)==1&&eo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function VB(t,e){e||(e={});var r=b3();r.p(t);var n=sY(t,e,e.dictionary?6:2,4);return oY(n,e),x3(n,n.length-4,r.d()),n}function AY(t,e){return rY(t.subarray(aY(t),-4),{i:2},e,e)}var lY=typeof TextDecoder<"u"&&new TextDecoder,uY=0;try{lY.decode(B3,{stream:!0}),uY=1}catch{}var Ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Iy(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var fr={log:Iy,warn:function(t){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):Iy.call(null,arguments))},error:function(t){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):Iy(t))}};function Sy(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){du(n.response,e,r)},n.onerror=function(){fr.error("could not download file")},n.send()}function B4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function qm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var rp,KB,du=Ft.saveAs||((typeof window>"u"?"undefined":or(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ft.URL||Ft.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?B4(i.href)?Sy(t,e,r):qm(i,i.target="_blank"):qm(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){qm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(B4(t))Sy(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){qm(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:or(s)!=="object"&&(fr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Sy(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Ft.HTMLElement)||Ft.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":or(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},a.readAsDataURL(t)}else{var A=Ft.URL||Ft.webkitURL,l=A.createObjectURL(t);n?n.location=l:location.href=l,n=null,setTimeout(function(){A.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _3(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),A=this.g.toString(16),l=this.b.toString(16);return a.length==1&&(a="0"+a),A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),"#"+a+A+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Fy(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=ti(r,n,i,s,e[0],7,-680876936),s=ti(s,r,n,i,e[1],12,-389564586),i=ti(i,s,r,n,e[2],17,606105819),n=ti(n,i,s,r,e[3],22,-1044525330),r=ti(r,n,i,s,e[4],7,-176418897),s=ti(s,r,n,i,e[5],12,1200080426),i=ti(i,s,r,n,e[6],17,-1473231341),n=ti(n,i,s,r,e[7],22,-45705983),r=ti(r,n,i,s,e[8],7,1770035416),s=ti(s,r,n,i,e[9],12,-1958414417),i=ti(i,s,r,n,e[10],17,-42063),n=ti(n,i,s,r,e[11],22,-1990404162),r=ti(r,n,i,s,e[12],7,1804603682),s=ti(s,r,n,i,e[13],12,-40341101),i=ti(i,s,r,n,e[14],17,-1502002290),r=ri(r,n=ti(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ri(s,r,n,i,e[6],9,-1069501632),i=ri(i,s,r,n,e[11],14,643717713),n=ri(n,i,s,r,e[0],20,-373897302),r=ri(r,n,i,s,e[5],5,-701558691),s=ri(s,r,n,i,e[10],9,38016083),i=ri(i,s,r,n,e[15],14,-660478335),n=ri(n,i,s,r,e[4],20,-405537848),r=ri(r,n,i,s,e[9],5,568446438),s=ri(s,r,n,i,e[14],9,-1019803690),i=ri(i,s,r,n,e[3],14,-187363961),n=ri(n,i,s,r,e[8],20,1163531501),r=ri(r,n,i,s,e[13],5,-1444681467),s=ri(s,r,n,i,e[2],9,-51403784),i=ri(i,s,r,n,e[7],14,1735328473),r=ni(r,n=ri(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ni(s,r,n,i,e[8],11,-2022574463),i=ni(i,s,r,n,e[11],16,1839030562),n=ni(n,i,s,r,e[14],23,-35309556),r=ni(r,n,i,s,e[1],4,-1530992060),s=ni(s,r,n,i,e[4],11,1272893353),i=ni(i,s,r,n,e[7],16,-155497632),n=ni(n,i,s,r,e[10],23,-1094730640),r=ni(r,n,i,s,e[13],4,681279174),s=ni(s,r,n,i,e[0],11,-358537222),i=ni(i,s,r,n,e[3],16,-722521979),n=ni(n,i,s,r,e[6],23,76029189),r=ni(r,n,i,s,e[9],4,-640364487),s=ni(s,r,n,i,e[12],11,-421815835),i=ni(i,s,r,n,e[15],16,530742520),r=ii(r,n=ni(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ii(s,r,n,i,e[7],10,1126891415),i=ii(i,s,r,n,e[14],15,-1416354905),n=ii(n,i,s,r,e[5],21,-57434055),r=ii(r,n,i,s,e[12],6,1700485571),s=ii(s,r,n,i,e[3],10,-1894986606),i=ii(i,s,r,n,e[10],15,-1051523),n=ii(n,i,s,r,e[1],21,-2054922799),r=ii(r,n,i,s,e[8],6,1873313359),s=ii(s,r,n,i,e[15],10,-30611744),i=ii(i,s,r,n,e[6],15,-1560198380),n=ii(n,i,s,r,e[13],21,1309151649),r=ii(r,n,i,s,e[4],6,-145523070),s=ii(s,r,n,i,e[11],10,-1120210379),i=ii(i,s,r,n,e[2],15,718787259),n=ii(n,i,s,r,e[9],21,-343485551),t[0]=$A(r,t[0]),t[1]=$A(n,t[1]),t[2]=$A(i,t[2]),t[3]=$A(s,t[3])}function Kw(t,e,r,n,i,s){return e=$A($A(e,t),$A(n,s)),$A(e<<i|e>>>32-i,r)}function ti(t,e,r,n,i,s,o){return Kw(e&r|~e&n,t,e,i,s,o)}function ri(t,e,r,n,i,s,o){return Kw(e&n|r&~n,t,e,i,s,o)}function ni(t,e,r,n,i,s,o){return Kw(e^r^n,t,e,i,s,o)}function ii(t,e,r,n,i,s,o){return Kw(r^(e|~n),t,e,i,s,o)}function C3(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Fy(n,cY(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Fy(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Fy(n,i),n}function cY(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}rp=Ft.atob.bind(Ft),KB=Ft.btoa.bind(Ft);var b4="0123456789abcdef".split("");function dY(t){for(var e="",r=0;r<4;r++)e+=b4[t>>8*r+4&15]+b4[t>>8*r&15];return e}function hY(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function zB(t){return C3(t).map(hY).join("")}var fY=function(t){for(var e=0;e<t.length;e++)t[e]=dY(t[e]);return t.join("")}(C3("hello"))!="5d41402abc4b2a76b9719d911017c592";function $A(t,e){if(fY){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function GB(t,e){var r,n,i,s;if(t!==r){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],A=0;A<256;A++)a[A]=A;var l=0;for(A=0;A<256;A++){var u=a[A];l=(l+u+o.charCodeAt(A))%256,a[A]=a[l],a[l]=u}r=t,n=a}else a=n;var c=e.length,f=0,g=0,v="";for(A=0;A<c;A++)g=(g+(u=a[f=(f+1)%256]))%256,a[f]=a[g],a[g]=u,o=a[(a[f]+a[g])%256],v+=String.fromCharCode(e.charCodeAt(A)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var x4={print:4,modify:8,copy:16,"annot-forms":32};function ad(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(x4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=x4[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=zB(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=GB(this.encryptionKey,this.padding)}function Ad(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function _4(t){if(or(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(a){Ft.console&&fr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Zp(t){if(!(this instanceof Zp))return new Zp(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function E3(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function MA(t,e,r,n,i){if(!(this instanceof MA))return new MA(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,E3.call(this,n,i)}function Iu(t,e,r,n,i){if(!(this instanceof Iu))return new Iu(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,E3.call(this,n,i)}function It(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,A=16,l="S",u=null;or(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(A=t.floatPrecision),l=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var c=t.putOnlyUsedFonts||!1,f={},g={internal:{},__private__:{}};g.__private__.PubSub=_4;var v="1.3",b=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(B){v=B};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return S};var w=g.__private__.getPageFormat=function(B){return S[B]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},x=y.COMPAT;function L(){this.saveGraphicsState(),oe(new mt(ue,0,0,-ue,0,Yn()*ue).toString()+" cm"),this.setFontSize(this.getFontSize()/ue),l="n",x=y.ADVANCED}function P(){this.restoreGraphicsState(),l="S",x=y.COMPAT}var M=g.__private__.combineFontStyleAndFontWeight=function(B,H){if(B=="bold"&&H=="normal"||B=="bold"&&H==400||B=="normal"&&H=="italic"||B=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(B=H==400||H==="normal"?B==="italic"?"italic":"normal":H!=700&&H!=="bold"||B!=="normal"?(H==700?"bold":H)+""+B:"bold"),B};g.advancedAPI=function(B){var H=x===y.COMPAT;return H&&L.call(this),typeof B!="function"||(B(this),H&&P.call(this)),this},g.compatAPI=function(B){var H=x===y.ADVANCED;return H&&P.call(this),typeof B!="function"||(B(this),H&&L.call(this)),this},g.isAdvancedAPI=function(){return x===y.ADVANCED};var I,_=function(B){if(x!==y.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=g.roundToPrecision=g.__private__.roundToPrecision=function(B,H){var se=e||H;if(isNaN(B)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(se).replace(/0+$/,"")};I=g.hpf=g.__private__.hpf=typeof A=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return k(B,A)}:A==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return k(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return k(B,16)};var O=g.f2=g.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return k(B,2)},E=g.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return k(B,3)},T=g.scale=g.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return x===y.COMPAT?B*ue:x===y.ADVANCED?B:void 0},N=function(B){return x===y.COMPAT?Yn()-B:x===y.ADVANCED?B:void 0},X=function(B){return T(N(B))};g.__private__.setPrecision=g.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(e=parseInt(B,10))};var ce,te="00000000000000000000000000000000",K=g.__private__.getFileId=function(){return te},$=g.__private__.setFileId=function(B){return te=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(br=new ad(u.userPermissions,u.userPassword,u.ownerPassword,te)),te};g.setFileId=function(B){return $(B),this},g.getFileId=function(){return K()};var R=g.__private__.convertDateToPDFDate=function(B){var H=B.getTimezoneOffset(),se=H<0?"+":"-",de=Math.floor(Math.abs(H/60)),ye=Math.abs(H%60),Ue=[se,G(de),"'",G(ye),"'"].join("");return["D:",B.getFullYear(),G(B.getMonth()+1),G(B.getDate()),G(B.getHours()),G(B.getMinutes()),G(B.getSeconds()),Ue].join("")},q=g.__private__.convertPDFDateToDate=function(B){var H=parseInt(B.substr(2,4),10),se=parseInt(B.substr(6,2),10)-1,de=parseInt(B.substr(8,2),10),ye=parseInt(B.substr(10,2),10),Ue=parseInt(B.substr(12,2),10),We=parseInt(B.substr(14,2),10);return new Date(H,se,de,ye,Ue,We,0)},re=g.__private__.setCreationDate=function(B){var H;if(B===void 0&&(B=new Date),B instanceof Date)H=R(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=B}return ce=H},Q=g.__private__.getCreationDate=function(B){var H=ce;return B==="jsDate"&&(H=q(ce)),H};g.setCreationDate=function(B){return re(B),this},g.getCreationDate=function(B){return Q(B)};var j,G=g.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},ee=g.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},ne=0,ae=[],ge=[],we=0,Te=[],Ne=[],je=!1,Le=ge,He=function(){ne=0,we=0,ge=[],ae=[],Te=[],Ds=Or(),Jn=Or()};g.__private__.setCustomOutputDestination=function(B){je=!0,Le=B};var _e=function(B){je||(Le=B)};g.__private__.resetCustomOutputDestination=function(){je=!1,Le=ge};var oe=g.__private__.out=function(B){return B=B.toString(),we+=B.length+1,Le.push(B),Le},bt=g.__private__.write=function(B){return oe(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},le=g.__private__.getArrayBuffer=function(B){for(var H=B.length,se=new ArrayBuffer(H),de=new Uint8Array(se);H--;)de[H]=B.charCodeAt(H);return se},pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return pe};var be=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(B){return be=x===y.ADVANCED?B/ue:B,this};var xe,Fe=g.__private__.getFontSize=g.getFontSize=function(){return x===y.COMPAT?be:be*ue},Re=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(B){return Re=B,this},g.__private__.getR2L=g.getR2L=function(){return Re};var Pe,Ge=g.__private__.setZoomMode=function(B){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))xe=B;else if(isNaN(B)){if(H.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');xe=B}else xe=parseInt(B,10)};g.__private__.getZoomMode=function(){return xe};var Ve,qe=g.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');Pe=B};g.__private__.getPageMode=function(){return Pe};var ct=g.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');Ve=B};g.__private__.getLayoutMode=function(){return Ve},g.__private__.setDisplayMode=g.setDisplayMode=function(B,H,se){return Ge(B),ct(H),qe(se),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(B){if(Object.keys(ut).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[B]},g.__private__.getDocumentProperties=function(){return ut},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(B){for(var H in ut)ut.hasOwnProperty(H)&&B[H]&&(ut[H]=B[H]);return this},g.__private__.setDocumentProperty=function(B,H){if(Object.keys(ut).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[B]=H};var gt,ue,Ye,Ze,nt,rt={},wt={},$t=[],Bt={},Rt={},Ar={},tr={},Wi=null,pr=0,Ct=[],Gt=new _4(g),fs=t.hotfixes||[],ln={},Wn={},$i=[],mt=function B(H,se,de,ye,Ue,We){if(!(this instanceof B))return new B(H,se,de,ye,Ue,We);isNaN(H)&&(H=1),isNaN(se)&&(se=0),isNaN(de)&&(de=0),isNaN(ye)&&(ye=1),isNaN(Ue)&&(Ue=0),isNaN(We)&&(We=0),this._matrix=[H,se,de,ye,Ue,We]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(B)},mt.prototype.multiply=function(B){var H=B.sx*this.sx+B.shy*this.shx,se=B.sx*this.shy+B.shy*this.sy,de=B.shx*this.sx+B.sy*this.shx,ye=B.shx*this.shy+B.sy*this.sy,Ue=B.tx*this.sx+B.ty*this.shx+this.tx,We=B.tx*this.shy+B.ty*this.sy+this.ty;return new mt(H,se,de,ye,Ue,We)},mt.prototype.decompose=function(){var B=this.sx,H=this.shy,se=this.shx,de=this.sy,ye=this.tx,Ue=this.ty,We=Math.sqrt(B*B+H*H),ot=(B/=We)*se+(H/=We)*de;se-=B*ot,de-=H*ot;var h=Math.sqrt(se*se+de*de);return ot/=h,B*(de/=h)<H*(se/=h)&&(B=-B,H=-H,ot=-ot,We=-We),{scale:new mt(We,0,0,h,0,0),translate:new mt(1,0,0,1,ye,Ue),rotate:new mt(B,H,-H,B,0,0),skew:new mt(1,0,ot,1,0,0)}},mt.prototype.toString=function(B){return this.join(" ")},mt.prototype.inversed=function(){var B=this.sx,H=this.shy,se=this.shx,de=this.sy,ye=this.tx,Ue=this.ty,We=1/(B*de-H*se),ot=de*We,h=-H*We,F=-se*We,D=B*We;return new mt(ot,h,F,D,-ot*ye-F*Ue,-h*ye-D*Ue)},mt.prototype.applyToPoint=function(B){var H=B.x*this.sx+B.y*this.shx+this.tx,se=B.x*this.shy+B.y*this.sy+this.ty;return new aa(H,se)},mt.prototype.applyToRectangle=function(B){var H=this.applyToPoint(B),se=this.applyToPoint(new aa(B.x+B.w,B.y+B.h));return new lA(H.x,H.y,se.x-H.x,se.y-H.y)},mt.prototype.clone=function(){var B=this.sx,H=this.shy,se=this.shx,de=this.sy,ye=this.tx,Ue=this.ty;return new mt(B,H,se,de,ye,Ue)},g.Matrix=mt;var Si=g.matrixMult=function(B,H){return H.multiply(B)},$n=new mt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=$n;var un=function(B,H){if(!Rt[B]){var se=(H instanceof MA?"Sh":"P")+(Object.keys(Bt).length+1).toString(10);H.id=se,Rt[B]=se,Bt[se]=H,Gt.publish("addPattern",H)}};g.ShadingPattern=MA,g.TilingPattern=Iu,g.addShadingPattern=function(B,H){return _("addShadingPattern()"),un(B,H),this},g.beginTilingPattern=function(B){_("beginTilingPattern()"),uA(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},g.endTilingPattern=function(B,H){_("endTilingPattern()"),H.stream=Ne[j].join(`
`),un(B,H),Gt.publish("endTilingPattern",H),$i.pop().restore()};var $r=g.__private__.newObject=function(){var B=Or();return cn(B,!0),B},Or=g.__private__.newObjectDeferred=function(){return ne++,ae[ne]=function(){return we},ne},cn=function(B,H){return H=typeof H=="boolean"&&H,ae[B]=we,H&&oe(B+" 0 obj"),B},$a=g.__private__.newAdditionalObject=function(){var B={objId:Or(),content:""};return Te.push(B),B},Ds=Or(),Jn=Or(),Fi=g.__private__.decodeColorString=function(B){var H=B.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var se=parseFloat(H[0]);H=[se,se,se,"r"]}for(var de="#",ye=0;ye<3;ye++)de+=("0"+Math.floor(255*parseFloat(H[ye])).toString(16)).slice(-2);return de},ci=g.__private__.encodeColorString=function(B){var H;typeof B=="string"&&(B={ch1:B});var se=B.ch1,de=B.ch2,ye=B.ch3,Ue=B.ch4,We=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var ot=new _3(se);if(ot.ok)se=ot.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var h=parseInt(se.substr(1),16);se=h>>16&255,de=h>>8&255,ye=255&h}if(de===void 0||Ue===void 0&&se===de&&de===ye)if(typeof se=="string")H=se+" "+We[0];else switch(B.precision){case 2:H=O(se/255)+" "+We[0];break;case 3:default:H=E(se/255)+" "+We[0]}else if(Ue===void 0||or(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return H=["1.","1.","1.",We[1]].join(" ");if(typeof se=="string")H=[se,de,ye,We[1]].join(" ");else switch(B.precision){case 2:H=[O(se/255),O(de/255),O(ye/255),We[1]].join(" ");break;default:case 3:H=[E(se/255),E(de/255),E(ye/255),We[1]].join(" ")}}else if(typeof se=="string")H=[se,de,ye,Ue,We[2]].join(" ");else switch(B.precision){case 2:H=[O(se),O(de),O(ye),O(Ue),We[2]].join(" ");break;case 3:default:H=[E(se),E(de),E(ye),E(Ue),We[2]].join(" ")}return H},di=g.__private__.getFilters=function(){return o},Jr=g.__private__.putStream=function(B){var H=(B=B||{}).data||"",se=B.filters||di(),de=B.alreadyAppliedFilters||[],ye=B.addLength1||!1,Ue=H.length,We=B.objectId,ot=function(kt){return kt};if(u!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ot=br.encryptor(We,0));var h={};se===!0&&(se=["FlateEncode"]);var F=B.additionalKeyValues||[],D=(h=It.API.processDataByFilters!==void 0?It.API.processDataByFilters(H,se):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(h.data.length!==0&&(F.push({key:"Length",value:h.data.length}),ye===!0&&F.push({key:"Length1",value:Ue})),D.length!=0)if(D.split("/").length-1==1)F.push({key:"Filter",value:D});else{F.push({key:"Filter",value:"["+D+"]"});for(var J=0;J<F.length;J+=1)if(F[J].key==="DecodeParms"){for(var ve=[],Ie=0;Ie<h.reverseChain.split("/").length-1;Ie+=1)ve.push("null");ve.push(F[J].value),F[J].value="["+ve.join(" ")+"]"}}oe("<<");for(var Xe=0;Xe<F.length;Xe++)oe("/"+F[Xe].key+" "+F[Xe].value);oe(">>"),h.data.length!==0&&(oe("stream"),oe(ot(h.data)),oe("endstream"))},Ji=g.__private__.putPage=function(B){var H=B.number,se=B.data,de=B.objId,ye=B.contentsObjId;cn(de,!0),oe("<</Type /Page"),oe("/Parent "+B.rootDictionaryObjId+" 0 R"),oe("/Resources "+B.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(I(B.mediaBox.bottomLeftX))+" "+parseFloat(I(B.mediaBox.bottomLeftY))+" "+I(B.mediaBox.topRightX)+" "+I(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&oe("/CropBox ["+I(B.cropBox.bottomLeftX)+" "+I(B.cropBox.bottomLeftY)+" "+I(B.cropBox.topRightX)+" "+I(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&oe("/BleedBox ["+I(B.bleedBox.bottomLeftX)+" "+I(B.bleedBox.bottomLeftY)+" "+I(B.bleedBox.topRightX)+" "+I(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&oe("/TrimBox ["+I(B.trimBox.bottomLeftX)+" "+I(B.trimBox.bottomLeftY)+" "+I(B.trimBox.topRightX)+" "+I(B.trimBox.topRightY)+"]"),B.artBox!==null&&oe("/ArtBox ["+I(B.artBox.bottomLeftX)+" "+I(B.artBox.bottomLeftY)+" "+I(B.artBox.topRightX)+" "+I(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&oe("/UserUnit "+B.userUnit),Gt.publish("putPage",{objId:de,pageContext:Ct[H],pageNumber:H,page:se}),oe("/Contents "+ye+" 0 R"),oe(">>"),oe("endobj");var Ue=se.join(`
`);return x===y.ADVANCED&&(Ue+=`
Q`),cn(ye,!0),Jr({data:Ue,filters:di(),objectId:ye}),oe("endobj"),de},ho=g.__private__.putPages=function(){var B,H,se=[];for(B=1;B<=pr;B++)Ct[B].objId=Or(),Ct[B].contentsObjId=Or();for(B=1;B<=pr;B++)se.push(Ji({number:B,data:Ne[B],objId:Ct[B].objId,contentsObjId:Ct[B].contentsObjId,mediaBox:Ct[B].mediaBox,cropBox:Ct[B].cropBox,bleedBox:Ct[B].bleedBox,trimBox:Ct[B].trimBox,artBox:Ct[B].artBox,userUnit:Ct[B].userUnit,rootDictionaryObjId:Ds,resourceDictionaryObjId:Jn}));cn(Ds,!0),oe("<</Type /Pages");var de="/Kids [";for(H=0;H<pr;H++)de+=se[H]+" 0 R ";oe(de+"]"),oe("/Count "+pr),oe(">>"),oe("endobj"),Gt.publish("postPutPages")},fo=function(B){Gt.publish("putFont",{font:B,out:oe,newObject:$r,putStream:Jr}),B.isAlreadyPutted!==!0&&(B.objectNumber=$r(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Ad(B.postScriptName)),oe("/Subtype /Type1"),typeof B.encoding=="string"&&oe("/Encoding /"+B.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},po=function(){for(var B in rt)rt.hasOwnProperty(B)&&(c===!1||c===!0&&f.hasOwnProperty(B))&&fo(rt[B])},Xo=function(B){B.objectNumber=$r();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[I(B.x),I(B.y),I(B.x+B.width),I(B.y+B.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var se=B.pages[1].join(`
`);Jr({data:se,additionalKeyValues:H,objectId:B.objectNumber}),oe("endobj")},Zo=function(){for(var B in ln)ln.hasOwnProperty(B)&&Xo(ln[B])},pc=function(B,H){var se,de=[],ye=1/(H-1);for(se=0;se<1;se+=ye)de.push(se);if(de.push(1),B[0].offset!=0){var Ue={offset:0,color:B[0].color};B.unshift(Ue)}if(B[B.length-1].offset!=1){var We={offset:1,color:B[B.length-1].color};B.push(We)}for(var ot="",h=0,F=0;F<de.length;F++){for(se=de[F];se>B[h+1].offset;)h++;var D=B[h].offset,J=(se-D)/(B[h+1].offset-D),ve=B[h].color,Ie=B[h+1].color;ot+=ee(Math.round((1-J)*ve[0]+J*Ie[0]).toString(16))+ee(Math.round((1-J)*ve[1]+J*Ie[1]).toString(16))+ee(Math.round((1-J)*ve[2]+J*Ie[2]).toString(16))}return ot.trim()},Ja=function(B,H){H||(H=21);var se=$r(),de=pc(B.colors,H),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+H+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jr({data:de,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),oe("endobj"),B.objectNumber=$r(),oe("<< /ShadingType "+B.type),oe("/ColorSpace /DeviceRGB");var Ue="/Coords ["+I(parseFloat(B.coords[0]))+" "+I(parseFloat(B.coords[1]))+" ";B.type===2?Ue+=I(parseFloat(B.coords[2]))+" "+I(parseFloat(B.coords[3])):Ue+=I(parseFloat(B.coords[2]))+" "+I(parseFloat(B.coords[3]))+" "+I(parseFloat(B.coords[4]))+" "+I(parseFloat(B.coords[5])),oe(Ue+="]"),B.matrix&&oe("/Matrix ["+B.matrix.toString()+"]"),oe("/Function "+se+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},gc=function(B,H){var se=Or(),de=$r();H.push({resourcesOid:se,objectOid:de}),B.objectNumber=de;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+B.boundingBox.map(I).join(" ")+"]"}),ye.push({key:"XStep",value:I(B.xStep)}),ye.push({key:"YStep",value:I(B.yStep)}),ye.push({key:"Resources",value:se+" 0 R"}),B.matrix&&ye.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),Jr({data:B.stream,additionalKeyValues:ye,objectId:B.objectNumber}),oe("endobj")},go=function(B){var H;for(H in Bt)Bt.hasOwnProperty(H)&&(Bt[H]instanceof MA?Ja(Bt[H]):Bt[H]instanceof Iu&&gc(Bt[H],B))},mo=function(B){for(var H in B.objectNumber=$r(),oe("<<"),B)switch(H){case"opacity":oe("/ca "+O(B[H]));break;case"stroke-opacity":oe("/CA "+O(B[H]))}oe(">>"),oe("endobj")},Os=function(){var B;for(B in Ar)Ar.hasOwnProperty(B)&&mo(Ar[B])},ea=function(){for(var B in oe("/XObject <<"),ln)ln.hasOwnProperty(B)&&ln[B].objectNumber>=0&&oe("/"+B+" "+ln[B].objectNumber+" 0 R");Gt.publish("putXobjectDict"),oe(">>")},Ih=function(){br.oid=$r(),oe("<<"),oe("/Filter /Standard"),oe("/V "+br.v),oe("/R "+br.r),oe("/U <"+br.toHexString(br.U)+">"),oe("/O <"+br.toHexString(br.O)+">"),oe("/P "+br.P),oe(">>"),oe("endobj")},Dl=function(){for(var B in oe("/Font <<"),rt)rt.hasOwnProperty(B)&&(c===!1||c===!0&&f.hasOwnProperty(B))&&oe("/"+B+" "+rt[B].objectNumber+" 0 R");oe(">>")},mc=function(){if(Object.keys(Bt).length>0){for(var B in oe("/Shading <<"),Bt)Bt.hasOwnProperty(B)&&Bt[B]instanceof MA&&Bt[B].objectNumber>=0&&oe("/"+B+" "+Bt[B].objectNumber+" 0 R");Gt.publish("putShadingPatternDict"),oe(">>")}},ta=function(B){if(Object.keys(Bt).length>0){for(var H in oe("/Pattern <<"),Bt)Bt.hasOwnProperty(H)&&Bt[H]instanceof g.TilingPattern&&Bt[H].objectNumber>=0&&Bt[H].objectNumber<B&&oe("/"+H+" "+Bt[H].objectNumber+" 0 R");Gt.publish("putTilingPatternDict"),oe(">>")}},Ol=function(){if(Object.keys(Ar).length>0){var B;for(B in oe("/ExtGState <<"),Ar)Ar.hasOwnProperty(B)&&Ar[B].objectNumber>=0&&oe("/"+B+" "+Ar[B].objectNumber+" 0 R");Gt.publish("putGStateDict"),oe(">>")}},Br=function(B){cn(B.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Dl(),mc(),ta(B.objectOid),Ol(),ea(),oe(">>"),oe("endobj")},Ml=function(){var B=[];po(),Os(),Zo(),go(B),Gt.publish("putResources"),B.forEach(Br),Br({resourcesOid:Jn,objectOid:Number.MAX_SAFE_INTEGER}),Gt.publish("postPutResources")},jl=function(){Gt.publish("putAdditionalObjects");for(var B=0;B<Te.length;B++){var H=Te[B];cn(H.objId,!0),oe(H.content),oe("endobj")}Gt.publish("postPutAdditionalObjects")},vc=function(B){wt[B.fontName]=wt[B.fontName]||{},wt[B.fontName][B.fontStyle]=B.id},Hl=function(B,H,se,de,ye){var Ue={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:B,fontName:H,fontStyle:se,encoding:de,isStandardFont:ye||!1,metadata:{}};return Gt.publish("addFont",{font:Ue,instance:this}),rt[Ue.id]=Ue,vc(Ue),Ue.id},wc=function(B){for(var H=0,se=pe.length;H<se;H++){var de=Hl.call(this,B[H][0],B[H][1],B[H][2],pe[H][3],!0);c===!1&&(f[de]=!0);var ye=B[H][0].split("-");vc({id:de,fontName:ye[0],fontStyle:ye[1]||""})}Gt.publish("addFonts",{fonts:rt,dictionary:wt})},Ti=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch(de){var H=de.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var se="Error in function "+H.split(`
`)[0].split("<")[0]+": "+de.message;if(!Ft.console)throw new Error(se);Ft.console.error(se,de),Ft.alert&&alert(se)}},B.foo.bar=B,B.foo},Ya=function(B,H){var se,de,ye,Ue,We,ot,h,F,D;if(ye=(H=H||{}).sourceEncoding||"Unicode",We=H.outputEncoding,(H.autoencode||We)&&rt[gt].metadata&&rt[gt].metadata[ye]&&rt[gt].metadata[ye].encoding&&(Ue=rt[gt].metadata[ye].encoding,!We&&rt[gt].encoding&&(We=rt[gt].encoding),!We&&Ue.codePages&&(We=Ue.codePages[0]),typeof We=="string"&&(We=Ue[We]),We)){for(h=!1,ot=[],se=0,de=B.length;se<de;se++)(F=We[B.charCodeAt(se)])?ot.push(String.fromCharCode(F)):ot.push(B[se]),ot[se].charCodeAt(0)>>8&&(h=!0);B=ot.join("")}for(se=B.length;h===void 0&&se!==0;)B.charCodeAt(se-1)>>8&&(h=!0),se--;if(!h)return B;for(ot=H.noBOM?[]:[254,255],se=0,de=B.length;se<de;se++){if((D=(F=B.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ot.push(D),ot.push(F-(D<<8))}return String.fromCharCode.apply(void 0,ot)},Mr=g.__private__.pdfEscape=g.pdfEscape=function(B,H){return Ya(B,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hi=g.__private__.beginPage=function(B){Ne[++pr]=[],Ct[pr]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},Vl(pr),_e(Ne[j])},ra=function(B,H){var se,de,ye;switch(r=H||r,typeof B=="string"&&(se=w(B.toLowerCase()),Array.isArray(se)&&(de=se[0],ye=se[1])),Array.isArray(B)&&(de=B[0]*ue,ye=B[1]*ue),isNaN(de)&&(de=i[0],ye=i[1]),(de>14400||ye>14400)&&(fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),ye=Math.min(14400,ye)),i=[de,ye],r.substr(0,1)){case"l":ye>de&&(i=[ye,de]);break;case"p":de>ye&&(i=[ye,de])}hi(i),Wl(ql),oe(Un),Yl!==0&&oe(Yl+" J"),AA!==0&&oe(AA+" j"),Gt.publish("addPage",{pageNumber:pr})},Xa=function(B){B>0&&B<=pr&&(Ne.splice(B,1),Ct.splice(B,1),pr--,j>pr&&(j=pr),this.setPage(j))},Vl=function(B){B>0&&B<=pr&&(j=B)},rr=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ne.length-1},na=function(B,H,se){var de,ye=void 0;return se=se||{},B=B!==void 0?B:rt[gt].fontName,H=H!==void 0?H:rt[gt].fontStyle,de=B.toLowerCase(),wt[de]!==void 0&&wt[de][H]!==void 0?ye=wt[de][H]:wt[B]!==void 0&&wt[B][H]!==void 0?ye=wt[B][H]:se.disableWarning===!1&&fr.warn("Unable to look up font label for font '"+B+"', '"+H+"'. Refer to getFontList() for available fonts."),ye||se.noFallback||(ye=wt.times[H])==null&&(ye=wt.times.normal),ye},ia=g.__private__.putInfo=function(){var B=$r(),H=function(de){return de};for(var se in u!==null&&(H=br.encryptor(B,0)),oe("<<"),oe("/Producer ("+Mr(H("jsPDF "+It.version))+")"),ut)ut.hasOwnProperty(se)&&ut[se]&&oe("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Mr(H(ut[se]))+")");oe("/CreationDate ("+Mr(H(ce))+")"),oe(">>"),oe("endobj")},Ms=g.__private__.putCatalog=function(B){var H=(B=B||{}).rootDictionaryObjId||Ds;switch($r(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+H+" 0 R"),xe||(xe="fullwidth"),xe){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+xe;se.substr(se.length-1)==="%"&&(xe=parseInt(xe)/100),typeof xe=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+O(xe)+"]")}switch(Ve||(Ve="continuous"),Ve){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Pe&&oe("/PageMode /"+Pe),Gt.publish("putCatalog"),oe(">>"),oe("endobj")},Sh=g.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(ne+1)),oe("/Root "+ne+" 0 R"),oe("/Info "+(ne-1)+" 0 R"),u!==null&&oe("/Encrypt "+br.oid+" 0 R"),oe("/ID [ <"+te+"> <"+te+"> ]"),oe(">>")},yc=g.__private__.putHeader=function(){oe("%PDF-"+v),oe("%")},Fh=g.__private__.putXRef=function(){var B="0000000000";oe("xref"),oe("0 "+(ne+1)),oe("0000000000 65535 f ");for(var H=1;H<=ne;H++)typeof ae[H]=="function"?oe((B+ae[H]()).slice(-10)+" 00000 n "):ae[H]!==void 0?oe((B+ae[H]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},js=g.__private__.buildDocument=function(){He(),_e(ge),Gt.publish("buildDocument"),yc(),ho(),jl(),Ml(),u!==null&&Ih(),ia(),Ms();var B=we;return Fh(),Sh(),oe("startxref"),oe(""+B),oe("%%EOF"),_e(Ne[j]),ge.join(`
`)},Za=g.__private__.getBlob=function(B){return new Blob([le(B)],{type:"application/pdf"})},eA=g.output=g.__private__.output=Ti(function(B,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",B){case void 0:return js();case"save":g.save(H.filename);break;case"arraybuffer":return le(js());case"blob":return Za(js());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(Za(js()))||void 0;fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",de=js();try{se=KB(de)}catch{se=KB(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+H.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(ye=H.pdfObjectUrl,Ue="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",ot=Ft.open();return ot!==null&&ot.document.write(We),ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',F=Ft.open();if(F!==null){F.document.write(h);var D=this;F.document.documentElement.querySelector("#pdfViewer").onload=function(){F.document.title=H.filename,F.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(D.output("bloburl"))}}return F}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var J='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',ve=Ft.open();if(ve!==null&&(ve.document.write(J),ve.document.title=H.filename),ve||typeof safari>"u")return ve;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",H);default:return null}}),vo=function(B){return Array.isArray(fs)===!0&&fs.indexOf(B)>-1};switch(n){case"pt":ue=1;break;case"mm":ue=72/25.4;break;case"cm":ue=72/2.54;break;case"in":ue=72;break;case"px":ue=vo("px_scaling")==1?.75:96/72;break;case"pc":case"em":ue=12;break;case"ex":ue=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ue=n}var br=null;re(),$();var Bc=function(B){return u!==null?br.encryptor(B,0):function(H){return H}},Kl=g.__private__.getPageInfo=g.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[B].objId,pageNumber:B,pageContext:Ct[B]}},Tt=g.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Ct)if(Ct[H].objId===B)break;return Kl(H)},wo=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ct[j].objId,pageNumber:j,pageContext:Ct[j]}};g.addPage=function(){return ra.apply(this,arguments),this},g.setPage=function(){return Vl.apply(this,arguments),_e.call(this,Ne[j]),this},g.insertPage=function(B){return this.addPage(),this.movePage(j,B),this},g.movePage=function(B,H){var se,de;if(B>H){se=Ne[B],de=Ct[B];for(var ye=B;ye>H;ye--)Ne[ye]=Ne[ye-1],Ct[ye]=Ct[ye-1];Ne[H]=se,Ct[H]=de,this.setPage(H)}else if(B<H){se=Ne[B],de=Ct[B];for(var Ue=B;Ue<H;Ue++)Ne[Ue]=Ne[Ue+1],Ct[Ue]=Ct[Ue+1];Ne[H]=se,Ct[H]=de,this.setPage(H)}return this},g.deletePage=function(){return Xa.apply(this,arguments),this},g.__private__.text=g.text=function(B,H,se,de,ye){var Ue,We,ot,h,F,D,J,ve,Ie,Xe=(de=de||{}).scope||this;if(typeof B=="number"&&typeof H=="number"&&(typeof se=="string"||Array.isArray(se))){var kt=se;se=H,H=B,B=kt}if(arguments[3]instanceof mt?(_("The transform parameter of text() with a Matrix value"),Ie=ye):(ot=arguments[4],h=arguments[5],or(J=arguments[3])==="object"&&J!==null||(typeof ot=="string"&&(h=ot,ot=null),typeof J=="string"&&(h=J,J=null),typeof J=="number"&&(ot=J,J=null),de={flags:J,angle:ot,align:h})),isNaN(H)||isNaN(se)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Xe;var Mt="",Nt=!1,Zt=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Xt,dr=Xe.internal.scaleFactor;function Gs(gr){return gr=gr.split("	").join(Array(de.TabLen||9).join(" ")),Mr(gr,J)}function Ln(gr){for(var mr,Xr=gr.concat(),wn=[],da=Xr.length;da--;)typeof(mr=Xr.shift())=="string"?wn.push(mr):Array.isArray(gr)&&(mr.length===1||mr[1]===void 0&&mr[2]===void 0)?wn.push(mr[0]):wn.push([mr[0],mr[1],mr[2]]);return wn}function xo(gr,mr){var Xr;if(typeof gr=="string")Xr=mr(gr)[0];else if(Array.isArray(gr)){for(var wn,da,Dh=gr.concat(),Uc=[],Ng=Dh.length;Ng--;)typeof(wn=Dh.shift())=="string"?Uc.push(mr(wn)[0]):Array.isArray(wn)&&typeof wn[0]=="string"&&(da=mr(wn[0],wn[1],wn[2]),Uc.push([da[0],da[1],da[2]]));Xr=Uc}return Xr}var _o=!1,kh=!0;if(typeof B=="string")_o=!0;else if(Array.isArray(B)){var Nh=B.concat();We=[];for(var Ec,Pn=Nh.length;Pn--;)(typeof(Ec=Nh.shift())!="string"||Array.isArray(Ec)&&typeof Ec[0]!="string")&&(kh=!1);_o=kh}if(_o===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var Ic=be/Xe.internal.scaleFactor,Sc=Ic*(Zt-1);switch(de.baseline){case"bottom":se-=Sc;break;case"top":se+=Ic-Sc;break;case"hanging":se+=Ic-2*Sc;break;case"middle":se+=Ic/2-Sc}if((D=de.maxWidth||0)>0&&(typeof B=="string"?B=Xe.splitTextToSize(B,D):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(gr,mr){return gr.concat(Xe.splitTextToSize(mr,D))},[]))),Ue={text:B,x:H,y:se,options:de,mutex:{pdfEscape:Mr,activeFontKey:gt,fonts:rt,activeFontSize:be}},Gt.publish("preProcessText",Ue),B=Ue.text,ot=(de=Ue.options).angle,!(Ie instanceof mt)&&ot&&typeof ot=="number"){ot*=Math.PI/180,de.rotationDirection===0&&(ot=-ot),x===y.ADVANCED&&(ot=-ot);var Fc=Math.cos(ot),Qh=Math.sin(ot);Ie=new mt(Fc,Qh,-Qh,Fc,0,0)}else ot&&ot instanceof mt&&(Ie=ot);x!==y.ADVANCED||Ie||(Ie=$n),(F=de.charSpace||oa)!==void 0&&(Mt+=I(T(F))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ve=de.horizontalScale)!==void 0&&(Mt+=I(100*ve)+` Tz
`),de.lang;var ki=-1,zw=de.renderingMode!==void 0?de.renderingMode:de.stroke,Uh=Xe.internal.getCurrentPageInfo().pageContext;switch(zw){case 0:case!1:case"fill":ki=0;break;case 1:case!0:case"stroke":ki=1;break;case 2:case"fillThenStroke":ki=2;break;case 3:case"invisible":ki=3;break;case 4:case"fillAndAddForClipping":ki=4;break;case 5:case"strokeAndAddPathForClipping":ki=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ki=6;break;case 7:case"addToPathForClipping":ki=7}var Sg=Uh.usedRenderingMode!==void 0?Uh.usedRenderingMode:-1;ki!==-1?Mt+=ki+` Tr
`:Sg!==-1&&(Mt+=`0 Tr
`),ki!==-1&&(Uh.usedRenderingMode=ki),h=de.align||"left";var gs,Tc=be*Zt,Fg=Xe.internal.pageSize.getWidth(),Tg=rt[gt];F=de.charSpace||oa,D=de.maxWidth||0,J=Object.assign({autoencode:!0,noBOM:!0},de.flags);var hA=[],Xl=function(gr){return Xe.getStringUnitWidth(gr,{font:Tg,charSpace:F,fontSize:be,doKerning:!1})*be/dr};if(Object.prototype.toString.call(B)==="[object Array]"){var Ni;We=Ln(B),h!=="left"&&(gs=We.map(Xl));var fi,fA=0;if(h==="right"){H-=gs[0],B=[],Pn=We.length;for(var la=0;la<Pn;la++)la===0?(fi=Zi(H),Ni=vn(se)):(fi=T(fA-gs[la]),Ni=-Tc),B.push([We[la],fi,Ni]),fA=gs[la]}else if(h==="center"){H-=gs[0]/2,B=[],Pn=We.length;for(var ua=0;ua<Pn;ua++)ua===0?(fi=Zi(H),Ni=vn(se)):(fi=T((fA-gs[ua])/2),Ni=-Tc),B.push([We[ua],fi,Ni]),fA=gs[ua]}else if(h==="left"){B=[],Pn=We.length;for(var kc=0;kc<Pn;kc++)B.push(We[kc])}else if(h==="justify"&&Tg.encoding==="Identity-H"){B=[],Pn=We.length,D=D!==0?D:Fg;for(var ca=0,Yr=0;Yr<Pn;Yr++)if(Ni=Yr===0?vn(se):-Tc,fi=Yr===0?Zi(H):ca,Yr<Pn-1){var Lh=T((D-gs[Yr])/(We[Yr].split(" ").length-1)),pi=We[Yr].split(" ");B.push([pi[0]+" ",fi,Ni]),ca=0;for(var ms=1;ms<pi.length;ms++){var Nc=(Xl(pi[ms-1]+" "+pi[ms])-Xl(pi[ms]))*dr+Lh;ms==pi.length-1?B.push([pi[ms],Nc,0]):B.push([pi[ms]+" ",Nc,0]),ca-=Nc}}else B.push([We[Yr],fi,Ni]);B.push(["",ca,0])}else{if(h!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],Pn=We.length,D=D!==0?D:Fg,Yr=0;Yr<Pn;Yr++)Ni=Yr===0?vn(se):-Tc,fi=Yr===0?Zi(H):0,Yr<Pn-1?hA.push(I(T((D-gs[Yr])/(We[Yr].split(" ").length-1)))):hA.push(0),B.push([We[Yr],fi,Ni])}}var kg=typeof de.R2L=="boolean"?de.R2L:Re;kg===!0&&(B=xo(B,function(gr,mr,Xr){return[gr.split("").reverse().join(""),mr,Xr]})),Ue={text:B,x:H,y:se,options:de,mutex:{pdfEscape:Mr,activeFontKey:gt,fonts:rt,activeFontSize:be}},Gt.publish("postProcessText",Ue),B=Ue.text,Nt=Ue.mutex.isHex||!1;var Ph=rt[gt].encoding;Ph!=="WinAnsiEncoding"&&Ph!=="StandardEncoding"||(B=xo(B,function(gr,mr,Xr){return[Gs(gr),mr,Xr]})),We=Ln(B),B=[];for(var Zl,eu,pA,tu=0,Qc=1,ru=Array.isArray(We[0])?Qc:tu,gA="",Rh=function(gr,mr,Xr){var wn="";return Xr instanceof mt?(Xr=typeof de.angle=="number"?Si(Xr,new mt(1,0,0,1,gr,mr)):Si(new mt(1,0,0,1,gr,mr),Xr),x===y.ADVANCED&&(Xr=Si(new mt(1,0,0,-1,0,0),Xr)),wn=Xr.join(" ")+` Tm
`):wn=I(gr)+" "+I(mr)+` Td
`,wn},vs=0;vs<We.length;vs++){switch(gA="",ru){case Qc:pA=(Nt?"<":"(")+We[vs][0]+(Nt?">":")"),Zl=parseFloat(We[vs][1]),eu=parseFloat(We[vs][2]);break;case tu:pA=(Nt?"<":"(")+We[vs]+(Nt?">":")"),Zl=Zi(H),eu=vn(se)}hA!==void 0&&hA[vs]!==void 0&&(gA=hA[vs]+` Tw
`),vs===0?B.push(gA+Rh(Zl,eu,Ie)+pA):ru===tu?B.push(gA+pA):ru===Qc&&B.push(gA+Rh(Zl,eu,Ie)+pA)}B=ru===tu?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var ws=`BT
/`;return ws+=gt+" "+be+` Tf
`,ws+=I(be*Zt)+` TL
`,ws+=Ks+`
`,ws+=Mt,ws+=B,oe(ws+="ET"),f[gt]=!0,Xe};var Th=g.__private__.clip=g.clip=function(B){return oe(B==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Th("evenodd")},g.__private__.discardPath=g.discardPath=function(){return oe("n"),this};var ps=g.__private__.isValidStyle=function(B){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(H=!0),H};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(B){return ps(B)&&(l=B),this};var bc=g.__private__.getStyle=g.getStyle=function(B){var H=l;switch(B){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=B}return H},Yi=g.close=function(){return oe("h"),this};g.stroke=function(){return oe("S"),this},g.fill=function(B){return tA("f",B),this},g.fillEvenOdd=function(B){return tA("f*",B),this},g.fillStroke=function(B){return tA("B",B),this},g.fillStrokeEvenOdd=function(B){return tA("B*",B),this};var tA=function(B,H){or(H)==="object"?nA(H,B):oe(B)},zl=function(B){B===null||x===y.ADVANCED&&B===void 0||(B=bc(B),oe(B))};function rA(B,H,se,de,ye){var Ue=new Iu(H||this.boundingBox,se||this.xStep,de||this.yStep,this.gState,ye||this.matrix);Ue.stream=this.stream;var We=B+"$$"+this.cloneIndex+++"$$";return un(We,Ue),Ue}var nA=function(B,H){var se=Rt[B.key],de=Bt[se];if(de instanceof MA)oe("q"),oe(xc(H)),de.gState&&g.setGState(de.gState),oe(B.matrix.toString()+" cm"),oe("/"+se+" sh"),oe("Q");else if(de instanceof Iu){var ye=new mt(1,0,0,-1,0,Yn());B.matrix&&(ye=ye.multiply(B.matrix||$n),se=rA.call(de,B.key,B.boundingBox,B.xStep,B.yStep,ye).id),oe("q"),oe("/Pattern cs"),oe("/"+se+" scn"),de.gState&&g.setGState(de.gState),oe(H),oe("Q")}},xc=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Hs=g.moveTo=function(B,H){return oe(I(T(B))+" "+I(X(H))+" m"),this},Xi=g.lineTo=function(B,H){return oe(I(T(B))+" "+I(X(H))+" l"),this},Vs=g.curveTo=function(B,H,se,de,ye,Ue){return oe([I(T(B)),I(X(H)),I(T(se)),I(X(de)),I(T(ye)),I(X(Ue)),"c"].join(" ")),this};g.__private__.line=g.line=function(B,H,se,de,ye){if(isNaN(B)||isNaN(H)||isNaN(se)||isNaN(de)||!ps(ye))throw new Error("Invalid arguments passed to jsPDF.line");return x===y.COMPAT?this.lines([[se-B,de-H]],B,H,[1,1],ye||"S"):this.lines([[se-B,de-H]],B,H,[1,1]).stroke()},g.__private__.lines=g.lines=function(B,H,se,de,ye,Ue){var We,ot,h,F,D,J,ve,Ie,Xe,kt,Mt,Nt;if(typeof B=="number"&&(Nt=se,se=H,H=B,B=Nt),de=de||[1,1],Ue=Ue||!1,isNaN(H)||isNaN(se)||!Array.isArray(B)||!Array.isArray(de)||!ps(ye)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Hs(H,se),We=de[0],ot=de[1],F=B.length,kt=H,Mt=se,h=0;h<F;h++)(D=B[h]).length===2?(kt=D[0]*We+kt,Mt=D[1]*ot+Mt,Xi(kt,Mt)):(J=D[0]*We+kt,ve=D[1]*ot+Mt,Ie=D[2]*We+kt,Xe=D[3]*ot+Mt,kt=D[4]*We+kt,Mt=D[5]*ot+Mt,Vs(J,ve,Ie,Xe,kt,Mt));return Ue&&Yi(),zl(ye),this},g.path=function(B){for(var H=0;H<B.length;H++){var se=B[H],de=se.c;switch(se.op){case"m":Hs(de[0],de[1]);break;case"l":Xi(de[0],de[1]);break;case"c":Vs.apply(this,de);break;case"h":Yi()}}return this},g.__private__.rect=g.rect=function(B,H,se,de,ye){if(isNaN(B)||isNaN(H)||isNaN(se)||isNaN(de)||!ps(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return x===y.COMPAT&&(de=-de),oe([I(T(B)),I(X(H)),I(T(se)),I(T(de)),"re"].join(" ")),zl(ye),this},g.__private__.triangle=g.triangle=function(B,H,se,de,ye,Ue,We){if(isNaN(B)||isNaN(H)||isNaN(se)||isNaN(de)||isNaN(ye)||isNaN(Ue)||!ps(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-B,de-H],[ye-se,Ue-de],[B-ye,H-Ue]],B,H,[1,1],We,!0),this},g.__private__.roundedRect=g.roundedRect=function(B,H,se,de,ye,Ue,We){if(isNaN(B)||isNaN(H)||isNaN(se)||isNaN(de)||isNaN(ye)||isNaN(Ue)||!ps(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ot=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*se),Ue=Math.min(Ue,.5*de),this.lines([[se-2*ye,0],[ye*ot,0,ye,Ue-Ue*ot,ye,Ue],[0,de-2*Ue],[0,Ue*ot,-ye*ot,Ue,-ye,Ue],[2*ye-se,0],[-ye*ot,0,-ye,-Ue*ot,-ye,-Ue],[0,2*Ue-de],[0,-Ue*ot,ye*ot,-Ue,ye,-Ue]],B+ye,H,[1,1],We,!0),this},g.__private__.ellipse=g.ellipse=function(B,H,se,de,ye){if(isNaN(B)||isNaN(H)||isNaN(se)||isNaN(de)||!ps(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*se,We=4/3*(Math.SQRT2-1)*de;return Hs(B+se,H),Vs(B+se,H-We,B+Ue,H-de,B,H-de),Vs(B-Ue,H-de,B-se,H-We,B-se,H),Vs(B-se,H+We,B-Ue,H+de,B,H+de),Vs(B+Ue,H+de,B+se,H+We,B+se,H),zl(ye),this},g.__private__.circle=g.circle=function(B,H,se,de){if(isNaN(B)||isNaN(H)||isNaN(se)||!ps(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,H,se,se,de)},g.setFont=function(B,H,se){return se&&(H=M(H,se)),gt=na(B,H,{disableWarning:!1}),this};var Gl=g.__private__.getFont=g.getFont=function(){return rt[na.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var B,H,se={};for(B in wt)if(wt.hasOwnProperty(B))for(H in se[B]=[],wt[B])wt[B].hasOwnProperty(H)&&se[B].push(H);return se},g.addFont=function(B,H,se,de,ye){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(se=M(se,de)),ye=ye||"Identity-H",Hl.call(this,B,H,se,ye)};var Xt,ql=t.lineWidth||.200025,iA=g.__private__.getLineWidth=g.getLineWidth=function(){return ql},Wl=g.__private__.setLineWidth=g.setLineWidth=function(B){return ql=B,oe(I(T(B))+" w"),this};g.__private__.setLineDash=It.API.setLineDash=It.API.setLineDashPattern=function(B,H){if(B=B||[],H=H||0,isNaN(H)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(se){return I(T(se))}).join(" "),H=I(T(H)),oe("["+B+"] "+H+" d"),this};var $l=g.__private__.getLineHeight=g.getLineHeight=function(){return be*Xt};g.__private__.getLineHeight=g.getLineHeight=function(){return be*Xt};var Jl=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(Xt=B),this},sa=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Xt};Jl(t.lineHeight);var Zi=g.__private__.getHorizontalCoordinate=function(B){return T(B)},vn=g.__private__.getVerticalCoordinate=function(B){return x===y.ADVANCED?B:Ct[j].mediaBox.topRightY-Ct[j].mediaBox.bottomLeftY-T(B)},_c=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(B){return I(Zi(B))},yo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(B){return I(vn(B))},Un=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Fi(Un)},g.__private__.setStrokeColor=g.setDrawColor=function(B,H,se,de){return Un=ci({ch1:B,ch2:H,ch3:se,ch4:de,pdfColorType:"draw",precision:2}),oe(Un),this};var sA=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Fi(sA)},g.__private__.setFillColor=g.setFillColor=function(B,H,se,de){return sA=ci({ch1:B,ch2:H,ch3:se,ch4:de,pdfColorType:"fill",precision:2}),oe(sA),this};var Ks=t.textColor||"0 g",oA=g.__private__.getTextColor=g.getTextColor=function(){return Fi(Ks)};g.__private__.setTextColor=g.setTextColor=function(B,H,se,de){return Ks=ci({ch1:B,ch2:H,ch3:se,ch4:de,pdfColorType:"text",precision:3}),this};var oa=t.charSpace,aA=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(oa||0)};g.__private__.setCharSpace=g.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return oa=B,this};var Yl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(B){var H=g.CapJoinStyles[B];if(H===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yl=H,oe(H+" J"),this};var AA=0;g.__private__.setLineJoin=g.setLineJoin=function(B){var H=g.CapJoinStyles[B];if(H===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return AA=H,oe(H+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(I(T(B))+" M"),this},g.GState=Zp,g.setGState=function(B){(B=typeof B=="string"?Ar[tr[B]]:Bo(null,B)).equals(Wi)||(oe("/"+B.id+" gs"),Wi=B)};var Bo=function(B,H){if(!B||!tr[B]){var se=!1;for(var de in Ar)if(Ar.hasOwnProperty(de)&&Ar[de].equals(H)){se=!0;break}if(se)H=Ar[de];else{var ye="GS"+(Object.keys(Ar).length+1).toString(10);Ar[ye]=H,H.id=ye}return B&&(tr[B]=H.id),Gt.publish("addGState",H),H}};g.addGState=function(B,H){return Bo(B,H),this},g.saveGraphicsState=function(){return oe("q"),$t.push({key:gt,size:be,color:Ks}),this},g.restoreGraphicsState=function(){oe("Q");var B=$t.pop();return gt=B.key,be=B.size,Ks=B.color,Wi=null,this},g.setCurrentTransformationMatrix=function(B){return oe(B.toString()+" cm"),this},g.comment=function(B){return oe("#"+B),this};var aa=function(B,H){var se=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Ue){isNaN(Ue)||(se=parseFloat(Ue))}});var de=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Ue){isNaN(Ue)||(de=parseFloat(Ue))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Ue){ye=Ue.toString()}}),this},lA=function(B,H,se,de){aa.call(this,B,H),this.type="rect";var ye=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(We){isNaN(We)||(ye=parseFloat(We))}});var Ue=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(We){isNaN(We)||(Ue=parseFloat(We))}}),this},Aa=function(){this.page=pr,this.currentPage=j,this.pages=Ne.slice(0),this.pagesContext=Ct.slice(0),this.x=Ye,this.y=Ze,this.matrix=nt,this.width=bo(j),this.height=Yn(j),this.outputDestination=Le,this.id="",this.objectNumber=-1};Aa.prototype.restore=function(){pr=this.page,j=this.currentPage,Ct=this.pagesContext,Ne=this.pages,Ye=this.x,Ze=this.y,nt=this.matrix,cA(j,this.width),dA(j,this.height),Le=this.outputDestination};var uA=function(B,H,se,de,ye){$i.push(new Aa),pr=j=0,Ne=[],Ye=B,Ze=H,nt=ye,hi([se,de])},Cc=function(B){if(Wn[B])$i.pop().restore();else{var H=new Aa,se="Xo"+(Object.keys(ln).length+1).toString(10);H.id=se,Wn[B]=se,ln[se]=H,Gt.publish("addFormObject",H),$i.pop().restore()}};for(var zs in g.beginFormObject=function(B,H,se,de,ye){return uA(B,H,se,de,ye),this},g.endFormObject=function(B){return Cc(B),this},g.doFormObject=function(B,H){var se=ln[Wn[B]];return oe("q"),oe(H.toString()+" cm"),oe("/"+se.id+" Do"),oe("Q"),this},g.getFormObject=function(B){var H=ln[Wn[B]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},g.save=function(B,H){return B=B||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(du(Za(js()),B),typeof du.unload=="function"&&Ft.setTimeout&&setTimeout(du.unload,911),this):new Promise(function(se,de){try{var ye=du(Za(js()),B);typeof du.unload=="function"&&Ft.setTimeout&&setTimeout(du.unload,911),se(ye)}catch(Ue){de(Ue.message)}})},It.API)It.API.hasOwnProperty(zs)&&(zs==="events"&&It.API.events.length?function(B,H){var se,de,ye;for(ye=H.length-1;ye!==-1;ye--)se=H[ye][0],de=H[ye][1],B.subscribe.apply(B,[se].concat(typeof de=="function"?[de]:de))}(Gt,It.API.events):g[zs]=It.API[zs]);var bo=g.getPageWidth=function(B){return(Ct[B=B||j].mediaBox.topRightX-Ct[B].mediaBox.bottomLeftX)/ue},cA=g.setPageWidth=function(B,H){Ct[B].mediaBox.topRightX=H*ue+Ct[B].mediaBox.bottomLeftX},Yn=g.getPageHeight=function(B){return(Ct[B=B||j].mediaBox.topRightY-Ct[B].mediaBox.bottomLeftY)/ue},dA=g.setPageHeight=function(B,H){Ct[B].mediaBox.topRightY=H*ue+Ct[B].mediaBox.bottomLeftY};return g.internal={pdfEscape:Mr,getStyle:bc,getFont:Gl,getFontSize:Fe,getCharSpace:aA,getTextColor:oA,getLineHeight:$l,getLineHeightFactor:sa,getLineWidth:iA,write:bt,getHorizontalCoordinate:Zi,getVerticalCoordinate:vn,getCoordinateString:_c,getVerticalCoordinateString:yo,collections:{},newObject:$r,newAdditionalObject:$a,newObjectDeferred:Or,newObjectDeferredBegin:cn,getFilters:di,putStream:Jr,events:Gt,scaleFactor:ue,pageSize:{getWidth:function(){return bo(j)},setWidth:function(B){cA(j,B)},getHeight:function(){return Yn(j)},setHeight:function(B){dA(j,B)}},encryptionOptions:u,encryption:br,getEncryptor:Bc,output:eA,getNumberOfPages:rr,pages:Ne,out:oe,f2:O,f3:E,getPageInfo:Kl,getPageInfoByObjId:Tt,getCurrentPageInfo:wo,getPDFVersion:b,Point:aa,Rectangle:lA,Matrix:mt,hasHotfix:vo},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return bo(j)},set:function(B){cA(j,B)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Yn(j)},set:function(B){dA(j,B)},enumerable:!0,configurable:!0}),wc.call(g,pe),gt="F1",ra(i,r),Gt.publish("initialized"),g}ad.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},ad.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ad.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ad.prototype.processOwnerPassword=function(t,e){return GB(zB(e).substr(0,5),t)},ad.prototype.encryptor=function(t,e){var r=zB(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return GB(r,n)}},Zp.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||or(t)!==or(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},It.API={events:[]},It.version="2.5.2";var Hr=It.API,L_=1,fc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(t){return t.toFixed(2)},TA=function(t){return t.toFixed(5)};Hr.__acroform__={};var qi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},C4=function(t){return t*L_},So=function(t){var e=new S3,r=yt.internal.getHeight(t)||0,n=yt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Qt(n)),Number(Qt(r))],e},pY=Hr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},gY=Hr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},mY=Hr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},rn=Hr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return mY(t,e-1)},nn=Hr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pY(t,e-1)},sn=Hr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gY(t,e-1)},vY=Hr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],A={};return A.lowerLeft_X=r(i)||0,A.lowerLeft_Y=n(s+a)||0,A.upperRight_X=r(i+o)||0,A.upperRight_Y=n(s)||0,[Number(Qt(A.lowerLeft_X)),Number(Qt(A.lowerLeft_Y)),Number(Qt(A.upperRight_X)),Number(Qt(A.upperRight_Y))]},wY=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=qB(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Qt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=So(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},qB=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=r,o=yt.internal.getHeight(t)||0;o=o<0?-o:o;var a=yt.internal.getWidth(t)||0;a=a<0?-a:a;var A=function(E,T,N){if(E+1<i.length){var X=T+" "+i[E+1][0];return Wm(X,t,N).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var l,u,c=Wm("3",t,s).height,f=t.multiline?o-s:(o-c)/2,g=f+=2,v=0,b=0,S=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Wm(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",y=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var L=!1;if(i[x].length!==1&&S!==i[x].length-1){if((c+2)*(y+2)+2>o)continue e;w+=i[x][S],L=!0,b=x,x--}else{w=(w+=i[x][S]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var P=parseInt(x),M=A(P,w,s),I=x>=i.length-1;if(M&&!I){w+=" ",S=0;continue}if(M||I){if(I)b=P;else if(t.multiline&&(c+2)*(y+2)+2>o)continue e}else{if(!t.multiline||(c+2)*(y+2)+2>o)continue e;b=P}}for(var _="",k=v;k<=b;k++){var O=i[k];if(t.multiline){if(k===b){_+=O[S]+" ",S=(S+1)%O.length;continue}if(k===v){_+=O[O.length-1]+" ";continue}}_+=O[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=Wm(_,t,s).width,t.textAlign){case"right":l=a-u-2;break;case"center":l=(a-u)/2;break;case"left":default:l=2}e+=Qt(l)+" "+Qt(g)+` Td
`,e+="("+fc(_)+`) Tj
`,e+=-Qt(l)+` 0 Td
`,g=-(s+2),u=0,v=L?b:b+1,y++,w=""}break}return n.text=e,n.fontSize=s,n},Wm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},yY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},BY=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},bY=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),or(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},xY=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(uo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(yY)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");L_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new F3,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&BY(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],A=[],l=a.Rect;if(a.Rect&&(a.Rect=vY(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=yt.createDefaultAppearanceStream(a),or(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(A=a.getKeyValueListForStream()),a.Rect=l,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=wY(a);A.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var c="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var g=a.appearanceStreamContent[f];if(c+="/"+f+" ",c+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var v=g[o];typeof v=="function"&&(v=v.call(i,a)),c+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(i,a)),c+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);c+=">>"}A.push({key:"AP",value:`<<
`+c+">>"})}i.internal.putStream({additionalKeyValues:A,objectId:a.objId}),i.internal.out("endobj")}s&&bY(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},I3=Hr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),or(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+fc(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ty=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+fc(n(t))+")"},Do=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Do.prototype.toString=function(){return this.objId+" 0 R"},Do.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Do.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:I3(i,this.objId,this.scope)}):i instanceof Do?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var S3=function(){Do.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};qi(S3,Do);var F3=function(){Do.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+fc(r(t))+")"}},set:function(r){t=r}})};qi(F3,Do);var uo=function t(){Do.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rn(e,3)},set:function(w){w?this.F=nn(e,3):this.F=sn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Sv)return;s="FieldObject"+t.FieldNum++}var w=function(y){return y};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+fc(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(w){A=w}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/L_:l},set:function(w){l=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var c="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!c||this instanceof Sv||this instanceof ul))return Ty(c,this.objId,this.scope)},set:function(w){w=w.toString(),c=w}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Bn?f:Ty(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=this instanceof Bn?w:w.substr(0,1)==="("?Xc(w.substr(1,w.length-2)):Xc(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bn?Xc(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof Bn?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Bn?g:Ty(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof Bn?w:w.substr(0,1)==="("?Xc(w.substr(1,w.length-2)):Xc(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bn?Xc(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Bn?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(w){w=!!w,b=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,1)},set:function(w){w?this.Ff=nn(this.Ff,1):this.Ff=sn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,2)},set:function(w){w?this.Ff=nn(this.Ff,2):this.Ff=sn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,3)},set:function(w){w?this.Ff=nn(this.Ff,3):this.Ff=sn(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');S=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(S){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};qi(uo,Do);var Pu=function(){uo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return I3(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,a){a||(a=1);for(var A,l=[];A=o.exec(s);)l.push(A[a]);return l}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,18)},set:function(r){r?this.Ff=nn(this.Ff,18):this.Ff=sn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=nn(this.Ff,19):this.Ff=sn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,20)},set:function(r){r?(this.Ff=nn(this.Ff,20),e.sort()):this.Ff=sn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,22)},set:function(r){r?this.Ff=nn(this.Ff,22):this.Ff=sn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(r){r?this.Ff=nn(this.Ff,23):this.Ff=sn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,27)},set:function(r){r?this.Ff=nn(this.Ff,27):this.Ff=sn(this.Ff,27)}}),this.hasAppearanceStream=!1};qi(Pu,uo);var Ru=function(){Pu.call(this),this.fontName="helvetica",this.combo=!1};qi(Ru,Pu);var Du=function(){Ru.call(this),this.combo=!0};qi(Du,Ru);var np=function(){Du.call(this),this.edit=!0};qi(np,Du);var Bn=function(){uo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,15)},set:function(r){r?this.Ff=nn(this.Ff,15):this.Ff=sn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,16)},set:function(r){r?this.Ff=nn(this.Ff,16):this.Ff=sn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,17)},set:function(r){r?this.Ff=nn(this.Ff,17):this.Ff=sn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(r){r?this.Ff=nn(this.Ff,26):this.Ff=sn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+fc(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){or(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};qi(Bn,uo);var ip=function(){Bn.call(this),this.pushButton=!0};qi(ip,Bn);var Ou=function(){Bn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};qi(Ou,Bn);var Sv=function(){var t,e;uo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+fc(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){or(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qi(Sv,uo),Ou.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ou.prototype.createOption=function(t){var e=new Sv;return e.Parent=this,e.optionName=t,this.Kids.push(e),_Y.call(this.scope,e),e};var sp=function(){Bn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};qi(sp,Bn);var ul=function(){uo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,13)},set:function(e){e?this.Ff=nn(this.Ff,13):this.Ff=sn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,21)},set:function(e){e?this.Ff=nn(this.Ff,21):this.Ff=sn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(e){e?this.Ff=nn(this.Ff,23):this.Ff=sn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,24)},set:function(e){e?this.Ff=nn(this.Ff,24):this.Ff=sn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,25)},set:function(e){e?this.Ff=nn(this.Ff,25):this.Ff=sn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(e){e?this.Ff=nn(this.Ff,26):this.Ff=sn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qi(ul,uo);var op=function(){ul.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,14)},set:function(t){t?this.Ff=nn(this.Ff,14):this.Ff=sn(this.Ff,14)}}),this.password=!0};qi(op,ul);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=So(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=qB(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Qt(yt.internal.getWidth(t))+" "+Qt(yt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Qt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=So(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=yt.internal.getHeight(t),o=yt.internal.getWidth(t),a=qB(t,t.caption);return i.push("1 g"),i.push("0 0 "+Qt(o)+" "+Qt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qt(o-1)+" "+Qt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Qt(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=So(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(yt.internal.getWidth(t))+" "+Qt(yt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=yt.RadioButton.Circle.YesNormal,e.D[t]=yt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=So(t);e.scope=t.scope;var r=[],n=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=yt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+TA(yt.internal.getWidth(t)/2)+" "+TA(yt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=So(t);e.scope=t.scope;var r=[],n=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*yt.internal.Bezier_C).toFixed(5)),o=Number((n*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+TA(yt.internal.getWidth(t)/2)+" "+TA(yt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+TA(yt.internal.getWidth(t)/2)+" "+TA(yt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=So(t);e.scope=t.scope;var r=[],n=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+TA(yt.internal.getWidth(t)/2)+" "+TA(yt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=yt.RadioButton.Cross.YesNormal,e.D[t]=yt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=So(t);e.scope=t.scope;var r=[],n=yt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Qt(yt.internal.getWidth(t)-2)+" "+Qt(yt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Qt(n.x1.x)+" "+Qt(n.x1.y)+" m"),r.push(Qt(n.x2.x)+" "+Qt(n.x2.y)+" l"),r.push(Qt(n.x4.x)+" "+Qt(n.x4.y)+" m"),r.push(Qt(n.x3.x)+" "+Qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=So(t);e.scope=t.scope;var r=yt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(yt.internal.getWidth(t))+" "+Qt(yt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Qt(yt.internal.getWidth(t)-2)+" "+Qt(yt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Qt(r.x1.x)+" "+Qt(r.x1.y)+" m"),n.push(Qt(r.x2.x)+" "+Qt(r.x2.y)+" l"),n.push(Qt(r.x4.x)+" "+Qt(r.x4.y)+" m"),n.push(Qt(r.x3.x)+" "+Qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=So(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(yt.internal.getWidth(t))+" "+Qt(yt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};yt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=yt.internal.getWidth(t),r=yt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},yt.internal.getWidth=function(t){var e=0;return or(t)==="object"&&(e=C4(t.Rect[2])),e},yt.internal.getHeight=function(t){var e=0;return or(t)==="object"&&(e=C4(t.Rect[3])),e};var _Y=Hr.addField=function(t){if(xY(this,t),!(t instanceof uo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=Pu,Hr.AcroFormListBox=Ru,Hr.AcroFormComboBox=Du,Hr.AcroFormEditBox=np,Hr.AcroFormButton=Bn,Hr.AcroFormPushButton=ip,Hr.AcroFormRadioButton=Ou,Hr.AcroFormCheckBox=sp,Hr.AcroFormTextField=ul,Hr.AcroFormPasswordField=op,Hr.AcroFormAppearance=yt,Hr.AcroForm={ChoiceField:Pu,ListBox:Ru,ComboBox:Du,EditBox:np,Button:Bn,PushButton:ip,RadioButton:Ou,CheckBox:sp,TextField:ul,PasswordField:op,Appearance:yt},It.AcroForm={ChoiceField:Pu,ListBox:Ru,ComboBox:Du,EditBox:np,Button:Bn,PushButton:ip,RadioButton:Ou,CheckBox:sp,TextField:ul,PasswordField:op,Appearance:yt};var CY=It.AcroForm;function T3(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(E,T){var N,X,ce,te,K,$=e;if((T=T||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(M(E))for(K in r)for(ce=r[K],N=0;N<ce.length;N+=1){for(te=!0,X=0;X<ce[N].length;X+=1)if(ce[N][X]!==void 0&&ce[N][X]!==E[X]){te=!1;break}if(te===!0){$=K;break}}else for(K in r)for(ce=r[K],N=0;N<ce.length;N+=1){for(te=!0,X=0;X<ce[N].length;X+=1)if(ce[N][X]!==void 0&&ce[N][X]!==E.charCodeAt(X)){te=!1;break}if(te===!0){$=K;break}}return $===e&&T!==e&&($=T),$},i=function E(T){for(var N=this.internal.write,X=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:T.width}),te.push({key:"Height",value:T.height}),T.colorSpace===S.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===S.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var K="",$=0,R=T.transparency.length;$<R;$++)K+=T.transparency[$]+" "+T.transparency[$]+" ";te.push({key:"Mask",value:"["+K+"]"})}T.sMask!==void 0&&te.push({key:"SMask",value:T.objectId+1+" 0 R"});var q=T.filter!==void 0?["/"+T.filter]:void 0;if(X({data:T.data,additionalKeyValues:te,alreadyAppliedFilters:q,objectId:T.objectId}),N("endobj"),"sMask"in T&&T.sMask!==void 0){var re="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,Q={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:re,data:T.sMask};"filter"in T&&(Q.filter=T.filter),E.call(this,Q)}if(T.colorSpace===S.INDEXED){var j=this.internal.newObject();X({data:_(new Uint8Array(T.palette)),objectId:j}),N("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var T in E)i.call(this,E[T])},o=function(){var E,T=this.internal.collections.addImage_images,N=this.internal.write;for(var X in T)N("/I"+(E=T[X]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},l=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof t["process"+E.toUpperCase()]=="function"},c=function(E){return or(E)==="object"&&E.nodeType===1},f=function(E,T){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var N=""+E.getAttribute("src");if(N.indexOf("data:image/")===0)return rp(unescape(N).split("base64,").pop());var X=t.loadFile(N,!0);if(X!==void 0)return X}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ce;switch(T){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return rp(E.toDataURL(ce,1).split("base64,").pop())}},g=function(E){var T=this.internal.collections.addImage_images;if(T){for(var N in T)if(E===T[N].alias)return T[N]}},v=function(E,T,N){return E||T||(E=-96,T=-96),E<0&&(E=-1*N.width*72/E/this.internal.scaleFactor),T<0&&(T=-1*N.height*72/T/this.internal.scaleFactor),E===0&&(E=T*N.width/N.height),T===0&&(T=E*N.height/N.width),[E,T]},b=function(E,T,N,X,ce,te){var K=v.call(this,N,X,ce),$=this.internal.getCoordinateString,R=this.internal.getVerticalCoordinateString,q=A.call(this);if(N=K[0],X=K[1],q[ce.index]=ce,te){te*=Math.PI/180;var re=Math.cos(te),Q=Math.sin(te),j=function(ee){return ee.toFixed(4)},G=[j(re),j(Q),j(-1*Q),j(re),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,$(E),R(T+X),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([$(N),"0","0",$(X),"0","0","cm"].join(" "))):this.internal.write([$(N),"0","0",$(X),$(E),R(T+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(E){var T,N,X=0;if(typeof E=="string")for(N=E.length,T=0;T<N;T++)X=(X<<5)-X+E.charCodeAt(T),X|=0;else if(M(E))for(N=E.byteLength/2,T=0;T<N;T++)X=(X<<5)-X+E[T],X|=0;return X},x=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var T=!0;return E.length===0&&(T=!1),E.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(T=!1),T},L=t.__addimage__.extractImageFromDataUrl=function(E){var T=(E=E||"").split("base64,"),N=null;if(T.length===2){var X=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(X)&&(N={mimeType:X[1],charset:X[2],data:T[1]})}return N},P=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return P()&&E instanceof ArrayBuffer};var M=t.__addimage__.isArrayBufferView=function(E){return P()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(E){for(var T=E.length,N=new Uint8Array(T),X=0;X<T;X++)N[X]=E.charCodeAt(X);return N},_=t.__addimage__.arrayBufferToBinaryString=function(E){for(var T="",N=M(E)?E:new Uint8Array(E),X=0;X<N.length;X+=8192)T+=String.fromCharCode.apply(null,N.subarray(X,X+8192));return T};t.addImage=function(){var E,T,N,X,ce,te,K,$,R;if(typeof arguments[1]=="number"?(T=e,N=arguments[1],X=arguments[2],ce=arguments[3],te=arguments[4],K=arguments[5],$=arguments[6],R=arguments[7]):(T=arguments[1],N=arguments[2],X=arguments[3],ce=arguments[4],te=arguments[5],K=arguments[6],$=arguments[7],R=arguments[8]),or(E=arguments[0])==="object"&&!c(E)&&"imageData"in E){var q=E;E=q.imageData,T=q.format||T||e,N=q.x||N||0,X=q.y||X||0,ce=q.w||q.width||ce,te=q.h||q.height||te,K=q.alias||K,$=q.compression||$,R=q.rotation||q.angle||R}var re=this.internal.getFilters();if($===void 0&&re.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(N)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var Q=k.call(this,E,T,K,$);return b.call(this,N,X,ce,te,Q,R),this};var k=function(E,T,N,X){var ce,te,K;if(typeof E=="string"&&n(E)===e){E=unescape(E);var $=O(E,!1);($!==""||($=t.loadFile(E,!0))!==void 0)&&(E=$)}if(c(E)&&(E=f(E,T)),T=n(E,T),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((K=N)==null||K.length===0)&&(N=function(R){return typeof R=="string"||M(R)?y(R):M(R.data)?y(R.data):null}(E)),(ce=g.call(this,N))||(P()&&(E instanceof Uint8Array||T==="RGBA"||(te=E,E=I(E))),ce=this["process"+T.toUpperCase()](E,l.call(this),N,function(R){return R&&typeof R=="string"&&(R=R.toUpperCase()),R in t.image_compression?R:w.NONE}(X),te)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},O=t.__addimage__.convertBase64ToBinaryString=function(E,T){var N;T=typeof T!="boolean"||T;var X,ce="";if(typeof E=="string"){X=(N=L(E))!==null?N.data:E;try{ce=rp(X)}catch(te){if(T)throw x(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};t.getImageProperties=function(E){var T,N,X="";if(c(E)&&(E=f(E)),typeof E=="string"&&n(E)===e&&((X=O(E,!1))===""&&(X=t.loadFile(E)||""),E=X),N=n(E),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(!P()||E instanceof Uint8Array||(E=I(E)),!(T=this["process"+N.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=N,T}})(It.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};It.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(r.objId),l=r.pageContext.annotations,u=!1,c=0;c<l.length&&!u;c++)switch((n=l[c]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<l.length;f++){n=l[f];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(b.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",s+=" /Popup "+S.objId+" 0 R",s+=" /P "+A.objId+" 0 R",s+=" /T ("+g(w(y))+") >>",b.content=s;var x=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(s+=" /Open true"),s+=" >>",S.content=s,this.internal.write(b.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var M=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,o){var a=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:A(r),y:l(n),w:A(r+i),h:l(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,i,s){var o,a,A=this.getTextWidth(r),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(r,a).length;o=Math.ceil(l*u)}else a=A,o=l;return this.text(r,n,i,s),i+=.2*l,s.align==="center"&&(n-=A/2),s.align==="right"&&(n-=A),this.link(n,i-l,a,o,s),A},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(It.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},A=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length==4},c=t.__arabicParser__.resolveLigatures=function(b){var S=0,w=r,y="",x=0;for(S=0;S<b.length;S+=1)w[b.charCodeAt(S)]!==void 0?(x++,typeof(w=w[b.charCodeAt(S)])=="number"&&(y+=String.fromCharCode(w),w=r,x=0),S===b.length-1&&(w=r,y+=b.charAt(S-(x-1)),S-=x-1,x=0)):(w=r,y+=b.charAt(S-x),S-=x,x=0);return y};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(b,S,w){return o(b)?s(b)===!1?-1:!l(b)||!o(S)&&!o(w)||!o(w)&&a(S)||a(b)&&!o(S)||a(b)&&A(S)||a(b)&&a(S)?0:u(b)&&o(S)&&!a(S)&&o(w)&&l(w)?3:a(b)||!o(w)?1:2:-1},g=function(b){var S=0,w=0,y=0,x="",L="",P="",M=(b=b||"").split("\\s+"),I=[];for(S=0;S<M.length;S+=1){for(I.push(""),w=0;w<M[S].length;w+=1)x=M[S][w],L=M[S][w-1],P=M[S][w+1],o(x)?(y=f(x,L,P),I[S]+=y!==-1?String.fromCharCode(e[x.charCodeAt(0)][y]):x):I[S]+=x;I[S]=c(I[S])}return I.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var b,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(S)){var y=0;for(w=[],y=0;y<S.length;y+=1)Array.isArray(S[y])?w.push([g(S[y][0]),S[y][1],S[y][2]]):w.push([g(S[y])]);b=w}else b=g(S);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",v])}(It.API),It.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(It.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(b){A=b}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},t.getTextDimensions=function(A,l){n.call(this);var u=(l=l||{}).fontSize||this.getFontSize(),c=l.font||this.getFont(),f=l.scaleFactor||this.internal.scaleFactor,g=0,v=0,b=0,S=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var w=l.maxWidth;w>0?typeof A=="string"?A=this.splitTextToSize(A,w):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(x,L){return x.concat(S.splitTextToSize(L,w))},[])):A=Array.isArray(A)?A:[A];for(var y=0;y<A.length;y++)g<(b=this.getStringUnitWidth(A[y],{font:c})*u)&&(g=b);return g!==0&&(v=A.length),{w:g/=f,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var A;A=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,c=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===A.lineNumber?(A.x=(l.x||0)+(l.width||0),A.y=l.y||0):l.y+l.height+A.height+c.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=c.top,g&&f&&(this.printHeaderRow(A.lineNumber,!0),A.y+=f[0].height)):A.y=l.y+l.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,r===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-u,A.y+u,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+u,{align:"center",baseline:"top",maxWidth:A.width-u-u}):this.text(A.text,A.x+u,A.y+u,{align:"left",baseline:"top",maxWidth:A.width-u-u})),this.internal.__cell__.lastCell=A,this};t.table=function(A,l,u,c,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var g,v,b,S,w=[],y=[],x=[],L={},P={},M=[],I=[],_=(f=f||{}).autoSize||!1,k=f.printHeaders!==!1,O=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,E=f.margins||Object.assign({width:this.getPageWidth()},e),T=typeof f.padding=="number"?f.padding:3,N=f.headerBackgroundColor||"#c8c8c8",X=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=X,this.setFontSize(O),c==null)y=w=Object.keys(u[0]),x=w.map(function(){return"left"});else if(Array.isArray(c)&&or(c[0])==="object")for(w=c.map(function(q){return q.name}),y=c.map(function(q){return q.prompt||q.name||""}),x=c.map(function(q){return q.align||"left"}),g=0;g<c.length;g+=1)P[c[g].name]=c[g].width*(19.049976/25.4);else Array.isArray(c)&&typeof c[0]=="string"&&(y=w=c,x=w.map(function(){return"left"}));if(_||Array.isArray(c)&&typeof c[0]=="string")for(g=0;g<w.length;g+=1){for(L[S=w[g]]=u.map(function(q){return q[S]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=L[S],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)M.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[S]=Math.max.apply(null,M)+T+T,M=[]}if(k){var ce={};for(g=0;g<w.length;g+=1)ce[w[g]]={},ce[w[g]].text=y[g],ce[w[g]].align=x[g];var te=a.call(this,ce,P);I=w.map(function(q){return new s(A,l,P[q],te,ce[q].text,void 0,ce[q].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var K=c.reduce(function(q,re){return q[re.name]=re.align,q},{});for(g=0;g<u.length;g+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:g,data:u[g]},this);var $=a.call(this,u[g],P);for(b=0;b<w.length;b+=1){var R=u[g][w[b]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:g,col:b,data:R},this),o.call(this,new s(A,l,P[w[b]],$,R,g+2,K[w[b]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=l,this};var a=function(A,l){var u=this.internal.__cell__.padding,c=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(A).map(function(g){var v=A[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,l[g]-u-u)},this).map(function(g){return this.getLineHeightFactor()*g.length*c/f+u+u},this).reduce(function(g,v){return Math.max(g,v)},0)};t.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},t.printHeaderRow=function(A,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var c=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(c[0],c[1],c[2],c[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),l&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=A;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(v)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(It.API);var k3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},N3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],WB=T3(N3),Q3=[100,200,300,400,500,600,700,800,900],EY=T3(Q3);function $B(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return k3[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof WB[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function E4(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var IY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},I4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function S4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function SY(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},IY,r.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=$B(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+S4(s)+"' and default family '"+n+"'.");if(o=function(A,l){if(l[A])return l[A];var u=WB[A],c=u<=WB.normal?-1:1,f=E4(l,N3,u,c);if(!f)throw new Error("Could not find a matching font-stretch value for "+A);return f}(s.stretch,o),o=function(A,l){if(l[A])return l[A];for(var u=k3[A],c=0;c<u.length;++c)if(l[u[c]])return l[u[c]];throw new Error("Could not find a matching font-style for "+A)}(s.style,o),!(o=function(A,l){if(l[A])return l[A];if(A===400&&l[500])return l[500];if(A===500&&l[400])return l[400];var u=EY[A],c=E4(l,Q3,u,A<400?-1:1);if(!c)throw new Error("Could not find a matching font-weight for value "+A);return c}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+S4(s)+"'.");return o}function F4(t){return t.trimLeft()}function FY(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function TY(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var $m,T4,k4,ky=["times"];(function(t){var e,r,n,i,s,o,a,A,l,u=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new A,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new c(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,A=this.internal.Matrix,l=new u}]);var c=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=Q;Object.defineProperty(this,"pdf",{get:function(){return j}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(_e){G=!!_e}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(_e){ee=!!_e}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(_e){isNaN(_e)||(ne=_e)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(_e){isNaN(_e)||(ae=_e)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(_e){var oe;typeof _e=="number"?oe=[_e,_e,_e,_e]:((oe=new Array(4))[0]=_e[0],oe[1]=_e.length>=2?_e[1]:oe[0],oe[2]=_e.length>=3?_e[2]:oe[0],oe[3]=_e.length>=4?_e[3]:oe[1]),l.margin=oe}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(_e){ge=_e}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(_e){we=_e}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(_e){Te=_e}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(_e){_e instanceof u&&(l=_e)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(_e){l.path=_e}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(_e){Ne=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var oe;oe=f(_e),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var oe=f(_e);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var je=null;function Le(_e,oe){if(je===null){var bt=function(le){var pe=[];return Object.keys(le).forEach(function(be){le[be].forEach(function(xe){var Fe=null;switch(xe){case"bold":Fe={family:be,weight:"bold"};break;case"italic":Fe={family:be,style:"italic"};break;case"bolditalic":Fe={family:be,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:be}}Fe!==null&&(Fe.ref={name:be,style:xe},pe.push(Fe))})}),pe}(_e.getFontList());je=function(le){for(var pe={},be=0;be<le.length;++be){var xe=$B(le[be]),Fe=xe.family,Re=xe.stretch,Pe=xe.style,Ge=xe.weight;pe[Fe]=pe[Fe]||{},pe[Fe][Re]=pe[Fe][Re]||{},pe[Fe][Re][Pe]=pe[Fe][Re][Pe]||{},pe[Fe][Re][Pe][Ge]=xe}return pe}(bt.concat(oe))}return je}var He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(_e){je=null,He=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var oe;if(this.ctx.font=_e,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var bt=oe[1],le=(oe[2],oe[3]),pe=oe[4],be=(oe[5],oe[6]),xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pe)[2];pe=Math.floor(xe==="px"?parseFloat(pe)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(pe)*this.pdf.getFontSize():parseFloat(pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pe);var Fe=function(ut){var gt,ue,Ye=[],Ze=ut.trim();if(Ze==="")return ky;if(Ze in I4)return[I4[Ze]];for(;Ze!=="";){switch(ue=null,gt=(Ze=F4(Ze)).charAt(0)){case'"':case"'":ue=FY(Ze.substring(1),gt);break;default:ue=TY(Ze)}if(ue===null||(Ye.push(ue[0]),(Ze=F4(ue[1]))!==""&&Ze.charAt(0)!==","))return ky;Ze=Ze.replace(/^,/,"")}return Ye}(be);if(this.fontFaces){var Re=SY(Le(this.pdf,this.fontFaces),Fe.map(function(ut){return{family:ut,stretch:"normal",weight:le,style:bt}}));this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var Pe="";(le==="bold"||parseInt(le,10)>=700||bt==="bold")&&(Pe="bold"),bt==="italic"&&(Pe+="italic"),Pe.length===0&&(Pe="normal");for(var Ge="",Ve={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},qe=0;qe<Fe.length;qe++){if(this.pdf.internal.getFont(Fe[qe],Pe,{noFallback:!0,disableWarning:!0})!==void 0){Ge=Fe[qe];break}if(Pe==="bolditalic"&&this.pdf.internal.getFont(Fe[qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=Fe[qe],Pe="bold";else if(this.pdf.internal.getFont(Fe[qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=Fe[qe],Pe="normal";break}}if(Ge===""){for(var ct=0;ct<Fe.length;ct++)if(Ve[Fe[ct]]){Ge=Ve[Fe[ct]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Pe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};c.prototype.setLineDash=function(Q){this.lineDash=Q},c.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},c.prototype.fill=function(){L.call(this,"fill",!1)},c.prototype.stroke=function(){L.call(this,"stroke",!1)},c.prototype.beginPath=function(){this.path=[{type:"begin"}]},c.prototype.moveTo=function(Q,j){if(isNaN(Q)||isNaN(j))throw fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(Q,j)},c.prototype.closePath=function(){var Q=new o(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&or(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){Q=new o(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},c.prototype.lineTo=function(Q,j){if(isNaN(Q)||isNaN(j))throw fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},c.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},c.prototype.quadraticCurveTo=function(Q,j,G,ee){if(isNaN(G)||isNaN(ee)||isNaN(Q)||isNaN(j))throw fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(G,ee)),ae=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},c.prototype.bezierCurveTo=function(Q,j,G,ee,ne,ae){if(isNaN(ne)||isNaN(ae)||isNaN(Q)||isNaN(j)||isNaN(G)||isNaN(ee))throw fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(ne,ae)),we=this.ctx.transform.applyToPoint(new o(Q,j)),Te=this.ctx.transform.applyToPoint(new o(G,ee));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Te.x,y2:Te.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},c.prototype.arc=function(Q,j,G,ee,ne,ae){if(isNaN(Q)||isNaN(j)||isNaN(G)||isNaN(ee)||isNaN(ne))throw fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(Q,j));Q=ge.x,j=ge.y;var we=this.ctx.transform.applyToPoint(new o(0,G)),Te=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(we.x-Te.x,2)+Math.pow(we.y-Te.y,2))}Math.abs(ne-ee)>=2*Math.PI&&(ee=0,ne=2*Math.PI),this.path.push({type:"arc",x:Q,y:j,radius:G,startAngle:ee,endAngle:ne,counterclockwise:ae})},c.prototype.arcTo=function(Q,j,G,ee,ne){throw new Error("arcTo not implemented.")},c.prototype.rect=function(Q,j,G,ee){if(isNaN(Q)||isNaN(j)||isNaN(G)||isNaN(ee))throw fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,j),this.lineTo(Q+G,j),this.lineTo(Q+G,j+ee),this.lineTo(Q,j+ee),this.lineTo(Q,j),this.lineTo(Q+G,j),this.lineTo(Q,j)},c.prototype.fillRect=function(Q,j,G,ee){if(isNaN(Q)||isNaN(j)||isNaN(G)||isNaN(ee))throw fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,j,G,ee),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},c.prototype.strokeRect=function(Q,j,G,ee){if(isNaN(Q)||isNaN(j)||isNaN(G)||isNaN(ee))throw fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(Q,j,G,ee),this.stroke())},c.prototype.clearRect=function(Q,j,G,ee){if(isNaN(Q)||isNaN(j)||isNaN(G)||isNaN(ee))throw fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,j,G,ee))},c.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},c.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(j),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},c.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(Q){var j,G,ee,ne;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))j=0,G=0,ee=0,ne=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(ae!==null)j=parseInt(ae[1]),G=parseInt(ae[2]),ee=parseInt(ae[3]),ne=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)j=parseInt(ae[1]),G=parseInt(ae[2]),ee=parseInt(ae[3]),ne=parseFloat(ae[4]);else{if(ne=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var ge=new _3(Q);Q=ge.ok?ge.toHex():"#000000"}Q.length===4?(j=Q.substring(1,2),j+=j,G=Q.substring(2,3),G+=G,ee=Q.substring(3,4),ee+=ee):(j=Q.substring(1,3),G=Q.substring(3,5),ee=Q.substring(5,7)),j=parseInt(j,16),G=parseInt(G,16),ee=parseInt(ee,16)}}return{r:j,g:G,b:ee,a:ne,style:Q}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};c.prototype.fillText=function(Q,j,G,ee){if(isNaN(j)||isNaN(G)||typeof Q!="string")throw fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!g.call(this)){var ne=$(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:Q,x:j,y:G,scale:ae,angle:ne,align:this.textAlign,maxWidth:ee})}},c.prototype.strokeText=function(Q,j,G,ee){if(isNaN(j)||isNaN(G)||typeof Q!="string")throw fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ee=isNaN(ee)?void 0:ee;var ne=$(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:Q,x:j,y:G,scale:ae,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:ee})}},c.prototype.measureText=function(Q){if(typeof Q!="string")throw fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,G=this.pdf.internal.scaleFactor,ee=j.internal.getFontSize(),ne=j.getStringUnitWidth(Q)*ee/j.internal.scaleFactor,ae=function(ge){var we=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this};return new ae({width:ne*=Math.round(96*G/72*1e4)/1e4})},c.prototype.scale=function(Q,j){if(isNaN(Q)||isNaN(j))throw fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new A(Q,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},c.prototype.rotate=function(Q){if(isNaN(Q))throw fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new A(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},c.prototype.translate=function(Q,j){if(isNaN(Q)||isNaN(j))throw fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new A(1,0,0,1,Q,j);this.ctx.transform=this.ctx.transform.multiply(G)},c.prototype.transform=function(Q,j,G,ee,ne,ae){if(isNaN(Q)||isNaN(j)||isNaN(G)||isNaN(ee)||isNaN(ne)||isNaN(ae))throw fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new A(Q,j,G,ee,ne,ae);this.ctx.transform=this.ctx.transform.multiply(ge)},c.prototype.setTransform=function(Q,j,G,ee,ne,ae){Q=isNaN(Q)?1:Q,j=isNaN(j)?0:j,G=isNaN(G)?0:G,ee=isNaN(ee)?1:ee,ne=isNaN(ne)?0:ne,ae=isNaN(ae)?0:ae,this.ctx.transform=new A(Q,j,G,ee,ne,ae)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};c.prototype.drawImage=function(Q,j,G,ee,ne,ae,ge,we,Te){var Ne=this.pdf.getImageProperties(Q),je=1,Le=1,He=1,_e=1;ee!==void 0&&we!==void 0&&(He=we/ee,_e=Te/ne,je=Ne.width/ee*we/ee,Le=Ne.height/ne*Te/ne),ae===void 0&&(ae=j,ge=G,j=0,G=0),ee!==void 0&&we===void 0&&(we=ee,Te=ne),ee===void 0&&we===void 0&&(we=Ne.width,Te=Ne.height);for(var oe,bt=this.ctx.transform.decompose(),le=$(bt.rotate.shx),pe=new A,be=(pe=(pe=(pe=pe.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new a(ae-j*He,ge-G*_e,ee*je,ne*Le)),xe=S.call(this,be),Fe=[],Re=0;Re<xe.length;Re+=1)Fe.indexOf(xe[Re])===-1&&Fe.push(xe[Re]);if(x(Fe),this.autoPaging)for(var Pe=Fe[0],Ge=Fe[Fe.length-1],Ve=Pe;Ve<Ge+1;Ve++){this.pdf.setPage(Ve);var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=Ve===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ue=Ve===1?0:ut+(Ve-2)*gt;if(this.ctx.clip_path.length!==0){var Ye=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(oe,this.posX+this.margin[3],-ue+ct+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Ye}var Ze=JSON.parse(JSON.stringify(be));Ze=y([Ze],this.posX+this.margin[3],-ue+ct+this.ctx.prevPageLastElemOffset)[0];var nt=(Ve>Pe||Ve<Ge)&&b.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,gt,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,le),nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",be.x,be.y,be.w,be.h,null,null,le)};var S=function(Q,j,G){var ee=[];j=j||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":ee.push(Math.floor((Q.y+ne)/G)+1);break;case"arc":ee.push(Math.floor((Q.y+ne-Q.radius)/G)+1),ee.push(Math.floor((Q.y+ne+Q.radius)/G)+1);break;case"qct":var ae=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);ee.push(Math.floor((ae.y+ne)/G)+1),ee.push(Math.floor((ae.y+ae.h+ne)/G)+1);break;case"bct":var ge=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);ee.push(Math.floor((ge.y+ne)/G)+1),ee.push(Math.floor((ge.y+ge.h+ne)/G)+1);break;case"rect":ee.push(Math.floor((Q.y+ne)/G)+1),ee.push(Math.floor((Q.y+Q.h+ne)/G)+1)}for(var we=0;we<ee.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<ee[we];)w.call(this);return ee},w=function(){var Q=this.fillStyle,j=this.strokeStyle,G=this.font,ee=this.lineCap,ne=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=j,this.font=G,this.lineCap=ee,this.lineWidth=ne,this.lineJoin=ae},y=function(Q,j,G){for(var ee=0;ee<Q.length;ee++)switch(Q[ee].type){case"bct":Q[ee].x2+=j,Q[ee].y2+=G;case"qct":Q[ee].x1+=j,Q[ee].y1+=G;case"mt":case"lt":case"arc":default:Q[ee].x+=j,Q[ee].y+=G}return Q},x=function(Q){return Q.sort(function(j,G){return j-G})},L=function(Q,j){for(var G,ee,ne=this.fillStyle,ae=this.strokeStyle,ge=this.lineCap,we=this.lineWidth,Te=Math.abs(we*this.ctx.transform.scaleX),Ne=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),He=[],_e=0;_e<Le.length;_e++)if(Le[_e].x!==void 0)for(var oe=S.call(this,Le[_e]),bt=0;bt<oe.length;bt+=1)He.indexOf(oe[bt])===-1&&He.push(oe[bt]);for(var le=0;le<He.length;le++)for(;this.pdf.internal.getNumberOfPages()<He[le];)w.call(this);if(x(He),this.autoPaging)for(var pe=He[0],be=He[He.length-1],xe=pe;xe<be+1;xe++){this.pdf.setPage(xe),this.fillStyle=ne,this.strokeStyle=ae,this.lineCap=ge,this.lineWidth=Te,this.lineJoin=Ne;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=xe===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=xe===1?0:Pe+(xe-2)*Ge;if(this.ctx.clip_path.length!==0){var qe=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(G,this.posX+this.margin[3],-Ve+Re+this.ctx.prevPageLastElemOffset),P.call(this,Q,!0),this.path=qe}if(ee=JSON.parse(JSON.stringify(je)),this.path=y(ee,this.posX+this.margin[3],-Ve+Re+this.ctx.prevPageLastElemOffset),j===!1||xe===0){var ct=(xe>pe||xe<be)&&b.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Ge,null).clip().discardPath()),P.call(this,Q,j),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=Te,P.call(this,Q,j),this.lineWidth=we;this.path=je},P=function(Q,j){if((Q!=="stroke"||j||!v.call(this))&&(Q==="stroke"||j||!g.call(this))){for(var G,ee,ne=[],ae=this.path,ge=0;ge<ae.length;ge++){var we=ae[ge];switch(we.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:we,deltas:[],abs:[]});break;case"lt":var Te=ne.length;if(ae[ge-1]&&!isNaN(ae[ge-1].x)&&(G=[we.x-ae[ge-1].x,we.y-ae[ge-1].y],Te>0)){for(;Te>=0;Te--)if(ne[Te-1].close!==!0&&ne[Te-1].begin!==!0){ne[Te-1].deltas.push(G),ne[Te-1].abs.push(we);break}}break;case"bct":G=[we.x1-ae[ge-1].x,we.y1-ae[ge-1].y,we.x2-ae[ge-1].x,we.y2-ae[ge-1].y,we.x-ae[ge-1].x,we.y-ae[ge-1].y],ne[ne.length-1].deltas.push(G);break;case"qct":var Ne=ae[ge-1].x+2/3*(we.x1-ae[ge-1].x),je=ae[ge-1].y+2/3*(we.y1-ae[ge-1].y),Le=we.x+2/3*(we.x1-we.x),He=we.y+2/3*(we.y1-we.y),_e=we.x,oe=we.y;G=[Ne-ae[ge-1].x,je-ae[ge-1].y,Le-ae[ge-1].x,He-ae[ge-1].y,_e-ae[ge-1].x,oe-ae[ge-1].y],ne[ne.length-1].deltas.push(G);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(we)}}ee=j?null:Q==="stroke"?"stroke":"fill";for(var bt=!1,le=0;le<ne.length;le++)if(ne[le].arc)for(var pe=ne[le].abs,be=0;be<pe.length;be++){var xe=pe[be];xe.type==="arc"?_.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,j,!bt):N.call(this,xe.x,xe.y),bt=!0}else if(ne[le].close===!0)this.pdf.internal.out("h"),bt=!1;else if(ne[le].begin!==!0){var Fe=ne[le].start.x,Re=ne[le].start.y;X.call(this,ne[le].deltas,Fe,Re),bt=!0}ee&&k.call(this,ee),j&&O.call(this)}},M=function(Q){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-G;case"top":return Q+j-G;case"hanging":return Q+j-2*G;case"middle":return Q+j/2-G;case"ideographic":return Q;case"alphabetic":default:return Q}},I=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};c.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(j,G){this.colorStops.push([j,G])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},c.prototype.createPattern=function(){return this.createLinearGradient()},c.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(Q,j,G,ee,ne,ae,ge,we,Te){for(var Ne=te.call(this,G,ee,ne,ae),je=0;je<Ne.length;je++){var Le=Ne[je];je===0&&(Te?E.call(this,Le.x1+Q,Le.y1+j):N.call(this,Le.x1+Q,Le.y1+j)),ce.call(this,Q,j,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}we?O.call(this):k.call(this,ge)},k=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(Q,j){this.pdf.internal.out(r(Q)+" "+n(j)+" m")},T=function(Q){var j;switch(Q.align){case"right":case"end":j="right";break;case"center":j="center";break;case"left":case"start":default:j="left"}var G=this.pdf.getTextDimensions(Q.text),ee=M.call(this,Q.y),ne=I.call(this,ee)-G.h,ae=this.ctx.transform.applyToPoint(new o(Q.x,ee)),ge=this.ctx.transform.decompose(),we=new A;we=(we=(we=we.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Te,Ne,je,Le=this.ctx.transform.applyToRectangle(new a(Q.x,ee,G.w,G.h)),He=we.applyToRectangle(new a(Q.x,ne,G.w,G.h)),_e=S.call(this,He),oe=[],bt=0;bt<_e.length;bt+=1)oe.indexOf(_e[bt])===-1&&oe.push(_e[bt]);if(x(oe),this.autoPaging)for(var le=oe[0],pe=oe[oe.length-1],be=le;be<pe+1;be++){this.pdf.setPage(be);var xe=be===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[2],Pe=Re-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],Ve=Ge-this.margin[3],qe=be===1?0:Fe+(be-2)*Pe;if(this.ctx.clip_path.length!==0){var ct=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Te,this.posX+this.margin[3],-1*qe+xe),P.call(this,"fill",!0),this.path=ct}var ut=y([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-qe+xe+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*Q.scale),je=this.lineWidth,this.lineWidth=je*Q.scale);var gt=this.autoPaging!=="text";if(gt||ut.y+ut.h<=Re){if(gt||ut.y>=xe&&ut.x<=Ge){var ue=gt?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Ge-ut.x)[0],Ye=y([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-qe+xe+this.ctx.prevPageLastElemOffset)[0],Ze=gt&&(be>le||be<pe)&&b.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Pe,null).clip().discardPath()),this.pdf.text(ue,Ye.x,Ye.y,{angle:Q.angle,align:j,renderingMode:Q.renderingMode}),Ze&&this.pdf.restoreGraphicsState()}}else ut.y<Re&&(this.ctx.prevPageLastElemOffset+=Re-ut.y);Q.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=je)}else Q.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*Q.scale),je=this.lineWidth,this.lineWidth=je*Q.scale),this.pdf.text(Q.text,ae.x+this.posX,ae.y+this.posY,{angle:Q.angle,align:j,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=je)},N=function(Q,j,G,ee){G=G||0,ee=ee||0,this.pdf.internal.out(r(Q+G)+" "+n(j+ee)+" l")},X=function(Q,j,G){return this.pdf.lines(Q,j,G,null,null)},ce=function(Q,j,G,ee,ne,ae,ge,we){this.pdf.internal.out([e(i(G+Q)),e(s(ee+j)),e(i(ne+Q)),e(s(ae+j)),e(i(ge+Q)),e(s(we+j)),"c"].join(" "))},te=function(Q,j,G,ee){for(var ne=2*Math.PI,ae=Math.PI/2;j>G;)j-=ne;var ge=Math.abs(G-j);ge<ne&&ee&&(ge=ne-ge);for(var we=[],Te=ee?-1:1,Ne=j;ge>1e-5;){var je=Ne+Te*Math.min(ge,ae);we.push(K.call(this,Q,Ne,je)),ge-=Math.abs(je-Ne),Ne=je}return we},K=function(Q,j,G){var ee=(G-j)/2,ne=Q*Math.cos(ee),ae=Q*Math.sin(ee),ge=ne,we=-ae,Te=ge*ge+we*we,Ne=Te+ge*ne+we*ae,je=4/3*(Math.sqrt(2*Te*Ne)-Ne)/(ge*ae-we*ne),Le=ge-je*we,He=we+je*ge,_e=Le,oe=-He,bt=ee+j,le=Math.cos(bt),pe=Math.sin(bt);return{x1:Q*Math.cos(j),y1:Q*Math.sin(j),x2:Le*le-He*pe,y2:Le*pe+He*le,x3:_e*le-oe*pe,y3:_e*pe+oe*le,x4:Q*Math.cos(G),y4:Q*Math.sin(G)}},$=function(Q){return 180*Q/Math.PI},R=function(Q,j,G,ee,ne,ae){var ge=Q+.5*(G-Q),we=j+.5*(ee-j),Te=ne+.5*(G-ne),Ne=ae+.5*(ee-ae),je=Math.min(Q,ne,ge,Te),Le=Math.max(Q,ne,ge,Te),He=Math.min(j,ae,we,Ne),_e=Math.max(j,ae,we,Ne);return new a(je,He,Le-je,_e-He)},q=function(Q,j,G,ee,ne,ae,ge,we){var Te,Ne,je,Le,He,_e,oe,bt,le,pe,be,xe,Fe,Re,Pe=G-Q,Ge=ee-j,Ve=ne-G,qe=ae-ee,ct=ge-ne,ut=we-ae;for(Ne=0;Ne<41;Ne++)le=(oe=(je=Q+(Te=Ne/40)*Pe)+Te*((He=G+Te*Ve)-je))+Te*(He+Te*(ne+Te*ct-He)-oe),pe=(bt=(Le=j+Te*Ge)+Te*((_e=ee+Te*qe)-Le))+Te*(_e+Te*(ae+Te*ut-_e)-bt),Ne==0?(be=le,xe=pe,Fe=le,Re=pe):(be=Math.min(be,le),xe=Math.min(xe,pe),Fe=Math.max(Fe,le),Re=Math.max(Re,pe));return new a(Math.round(be),Math.round(xe),Math.round(Fe-be),Math.round(Re-xe))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,j,G=(Q=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:j}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(It.API),function(t){var e=function(s){var o,a,A,l,u,c,f,g,v,b;for(a=[],A=0,l=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;l>A;A+=4)(u=(s.charCodeAt(A)<<24)+(s.charCodeAt(A+1)<<16)+(s.charCodeAt(A+2)<<8)+s.charCodeAt(A+3))!==0?(c=(u=((u=((u=((u=(u-(b=u%85))/85)-(v=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)%85,a.push(c+33,f+33,g+33,v+33,b+33)):a.push(122);return function(S,w){for(var y=w;y>0;y--)S.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},r=function(s){var o,a,A,l,u,c=String,f="length",g=255,v="charCodeAt",b="slice",S="replace";for(s[b](-2),s=s[b](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),A=[],l=0,u=(s+=o="uuuuu"[b](s[f]%5||5))[f];u>l;l+=5)a=52200625*(s[v](l)-33)+614125*(s[v](l+1)-33)+7225*(s[v](l+2)-33)+85*(s[v](l+3)-33)+(s[v](l+4)-33),A.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(w,y){for(var x=y;x>0;x--)w.pop()}(A,o[f]),c.fromCharCode.apply(c,A)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",A=0;A<s.length;A+=2)a+=String.fromCharCode("0x"+(s[A]+s[A+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=VB(o)).reduce(function(A,l){return A+String.fromCharCode(l)},"")};t.processDataByFilters=function(s,o){var a=0,A=s||"",l=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":A=r(A),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=e(A),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=n(A),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=A.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=i(A),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:A,reverseChain:l.reverse().join(" ")}}}(It.API),function(t){t.loadFile=function(e,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(A,l,u){var c=new XMLHttpRequest,f=0,g=function(v){var b=v.length,S=[],w=String.fromCharCode;for(f=0;f<b;f+=1)S.push(w(255&v.charCodeAt(f)));return S.join("")};if(c.open("GET",A,!l),c.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(c.onload=function(){c.status===200?u(g(this.responseText)):u(void 0)}),c.send(null),l&&c.status===200)return g(c.responseText)}(i,s,o)}catch{}return a}(e,r,n)},t.loadImageFile=t.loadFile}(It.API),function(t){function e(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):DB(()=>Promise.resolve().then(()=>qJ),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):DB(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var a=or(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var A=document.createElement(o);for(var l in a.className&&(A.className=a.className),a.innerHTML&&a.dompurify&&(A.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)A.style[l]=a.style[l];return A},s=function o(a){var A=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),l=o.convert(Promise.resolve(),A);return l=(l=l.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(A){switch(n(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(A){return this.set({src:i("div",{innerHTML:o,dompurify:A})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function A(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||c.appendChild(A(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,a(this.prop.container,A)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var A=this.opt.jsPDF,l=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,c=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete c.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=l,l)for(var f=0;f<l.length;++f){var g=l[f],v=g.src.find(function(b){return b.format==="truetype"});v&&A.addFont(v.url,g.ref.name,g.ref.style)}return c.windowHeight=c.windowHeight||0,c.windowHeight=c.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):c.windowHeight,A.context2d.save(!0),a(this.prop.container,c)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var a=Object.keys(o||{}).map(function(A){if(A in s.template.prop)return function(){this.prop[A]=o[A]};switch(A){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[A]=o[A]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var A=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(A):A})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(A,l){return Math.floor(A*l/72*96)}return this.then(function(){(o=o||It.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,A,l){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),A!=null&&(this.progress.n=A),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,A,l){return this.setProgress(o?this.progress.val+o:null,a||null,A?this.progress.n+A:null,l?this.progress.stack.concat(l):null)},s.prototype.then=function(o,a){var A=this;return this.thenCore(o,a,function(l,u){return A.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(c){return A.updateProgress(null,l),c}).then(l,u).then(function(c){return A.updateProgress(1),c})})},s.prototype.thenCore=function(o,a,A){A=A||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=A.call(l,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(A){a=a.thenCore(A)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,It.getPageSize=function(o,a,A){if(or(o)==="object"){var l=o;o=l.orientation,a=l.unit||a,A=l.format||A}a=a||"mm",A=A||"a4",o=(""+(o||"P")).toLowerCase();var u,c=(""+A).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var g,v=0,b=0;if(f.hasOwnProperty(c))v=f[c][1]/u,b=f[c][0]/u;else try{v=A[1],b=A[0]}catch{throw new Error("Invalid format: "+A)}if(o==="p"||o==="portrait")o="p",b>v&&(g=b,b=v,v=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(g=b,b=v,v=g)}return{width:b,height:v,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map($B):null;var A=new s(a);return a.worker?A:A.from(o).doCallback()}}(It.API),It.API.addJS=function(t){return k4=t,this.internal.events.subscribe("postPutResources",function(){$m=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($m+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),T4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+k4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$m!==void 0&&T4!==void 0&&this.internal.out("/Names <</JavaScript "+$m+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=n.exec(o);if(a!=null){var A=a[1];r.internal.newObjectDeferredBegin(A,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,u=[];for(s=0;s<l;s++){var c=r.internal.newObject();u.push(c);var f=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var A=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(It.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,o,a){var A,l=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(A=function(c){for(var f,g=256*c.charCodeAt(4)+c.charCodeAt(5),v=c.length,b={width:0,height:0,numcomponents:1},S=4;S<v;S+=2){if(S+=g,e.indexOf(c.charCodeAt(S+1))!==-1){f=256*c.charCodeAt(S+5)+c.charCodeAt(S+6),b={width:256*c.charCodeAt(S+7)+c.charCodeAt(S+8),height:f,numcomponents:c.charCodeAt(S+9)};break}g=256*c.charCodeAt(S+2)+c.charCodeAt(S+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:r,width:A.width,height:A.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:i}}return u}}(It.API);var Zc,Jm,N4,Q4,U4,kY=function(){var t,e,r;function n(s){var o,a,A,l,u,c,f,g,v,b,S,w,y,x;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},c=null;;){switch(o=this.readUInt32(),v=(function(){var L,P;for(P=[],L=0;L<4;++L)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":c&&this.animation.frames.push(c),this.pos+=4,c={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),l=this.readUInt16()||100,c.delay=1e3*u/l,c.disposeOp=this.data[this.pos++],c.blendOp=this.data[this.pos++],c.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),s=(c!=null?c.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(A=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>A)throw new Error("More transparent colors than palette size");if((b=A-this.transparency.indexed.length)>0)for(y=0;0<=b?y<b:y>b;0<=b?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(S=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,S.slice(0,f)),this.text[g]=String.fromCharCode.apply(String,S.slice(f+1));break;case"IEND":return c&&this.animation.frames.push(c),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),A=0,l=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(c,f,g,v){var b,S,w,y,x,L,P,M,I,_,k,O,E,T,N,X,ce,te,K,$,R,q=Math.ceil((l.width-c)/g),re=Math.ceil((l.height-f)/v),Q=l.width==q&&l.height==re;for(T=o*q,O=Q?a:new Uint8Array(T*re),L=s.length,E=0,S=0;E<re&&A<L;){switch(s[A++]){case 0:for(y=ce=0;ce<T;y=ce+=1)O[S++]=s[A++];break;case 1:for(y=te=0;te<T;y=te+=1)b=s[A++],x=y<o?0:O[S-o],O[S++]=(b+x)%256;break;case 2:for(y=K=0;K<T;y=K+=1)b=s[A++],w=(y-y%o)/o,N=E&&O[(E-1)*T+w*o+y%o],O[S++]=(N+b)%256;break;case 3:for(y=$=0;$<T;y=$+=1)b=s[A++],w=(y-y%o)/o,x=y<o?0:O[S-o],N=E&&O[(E-1)*T+w*o+y%o],O[S++]=(b+Math.floor((x+N)/2))%256;break;case 4:for(y=R=0;R<T;y=R+=1)b=s[A++],w=(y-y%o)/o,x=y<o?0:O[S-o],E===0?N=X=0:(N=O[(E-1)*T+w*o+y%o],X=w&&O[(E-1)*T+(w-1)*o+y%o]),P=x+N-X,M=Math.abs(P-x),_=Math.abs(P-N),k=Math.abs(P-X),I=M<=_&&M<=k?x:_<=k?N:X,O[S++]=(b+I)%256;break;default:throw new Error("Invalid filter algorithm: "+s[A-1])}if(!Q){var j=((f+E*v)*l.width+c)*o,G=E*T;for(y=0;y<q;y+=1){for(var ee=0;ee<o;ee+=1)a[j++]=O[G++];j+=(g-1)*o}}E++}}return s=AY(s),l.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},n.prototype.decodePalette=function(){var s,o,a,A,l,u,c,f,g;for(a=this.palette,u=this.transparency.indexed||[],l=new Uint8Array((u.length||0)+a.length),A=0,s=0,o=c=0,f=a.length;c<f;o=c+=3)l[A++]=a[o],l[A++]=a[o+1],l[A++]=a[o+2],l[A++]=(g=u[s++])!=null?g:255;return l},n.prototype.copyToImageData=function(s,o){var a,A,l,u,c,f,g,v,b,S,w;if(A=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),A=4,a=!0),v=(l=s.data||s).length,c=b||o,u=f=0,A===1)for(;u<v;)g=b?4*o[u/4]:f,S=c[g++],l[u++]=S,l[u++]=S,l[u++]=S,l[u++]=a?c[g++]:255,f=g;else for(;u<v;)g=b?4*o[u/4]:f,l[u++]=c[g++],l[u++]=c[g++],l[u++]=c[g++],l[u++]=a?c[g++]:255,f=g},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ft)==="[object Window]"){try{e=Ft.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,a,A,l,u,c,f,g;if(this.animation){for(g=[],a=u=0,c=(f=this.animation.frames).length;u<c;a=++u)o=f[a],A=s.createImageData(o.width,o.height),l=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(A,l),o.imageData=A,g.push(o.image=t(A));return g}},n.prototype.renderFrame=function(s,o){var a,A,l;return a=(A=this.animation.frames)[o],l=A[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?s.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&s.putImageData(l.imageData,l.xOffset,l.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(s){var o,a,A,l,u,c,f=this;return a=0,c=this.animation,l=c.numFrames,A=c.frames,u=c.numPlays,(o=function(){var g,v;if(g=a++%l,v=A[g],f.renderFrame(s,g),l>1&&a/l<u)return f.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function NY(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,A=null;s&&(a=e,A=o,e+=3*o);var l=!0,u=[],c=0,f=null,g=0,v=null;for(this.width=r,this.height=n;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];c=t[e++]|t[e++]<<8,f=t[e++],!(1&b)&&(f=null),g=b>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,L=t[e++],P=L>>6&1,M=1<<(7&L)+1,I=a,_=A,k=!1;L>>7&&(k=!0,I=e,_=M,e+=3*M);var O=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}u.push({x:S,y:w,width:y,height:x,has_local_palette:k,palette_offset:I,palette_size:_,data_offset:O,data_length:e-O,transparent_index:f,interlaced:!!P,delay:c,disposal:g});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,N){var X=this.frameInfo(T),ce=X.width*X.height,te=new Uint8Array(ce);L4(t,X.data_offset,te,ce);var K=X.palette_offset,$=X.transparent_index;$===null&&($=256);var R=X.width,q=r-R,re=R,Q=4*(X.y*r+X.x),j=4*((X.y+X.height)*r+X.x),G=Q,ee=4*q;X.interlaced===!0&&(ee+=4*r*7);for(var ne=8,ae=0,ge=te.length;ae<ge;++ae){var we=te[ae];if(re===0&&(re=R,(G+=ee)>=j&&(ee=4*q+4*r*(ne-1),G=Q+(R+q)*(ne<<1),ne>>=1)),we===$)G+=4;else{var Te=t[K+3*we],Ne=t[K+3*we+1],je=t[K+3*we+2];N[G++]=je,N[G++]=Ne,N[G++]=Te,N[G++]=255}--re}},this.decodeAndBlitFrameRGBA=function(T,N){var X=this.frameInfo(T),ce=X.width*X.height,te=new Uint8Array(ce);L4(t,X.data_offset,te,ce);var K=X.palette_offset,$=X.transparent_index;$===null&&($=256);var R=X.width,q=r-R,re=R,Q=4*(X.y*r+X.x),j=4*((X.y+X.height)*r+X.x),G=Q,ee=4*q;X.interlaced===!0&&(ee+=4*r*7);for(var ne=8,ae=0,ge=te.length;ae<ge;++ae){var we=te[ae];if(re===0&&(re=R,(G+=ee)>=j&&(ee=4*q+4*r*(ne-1),G=Q+(R+q)*(ne<<1),ne>>=1)),we===$)G+=4;else{var Te=t[K+3*we],Ne=t[K+3*we+1],je=t[K+3*we+2];N[G++]=Te,N[G++]=Ne,N[G++]=je,N[G++]=255}--re}}}function L4(t,e,r,n){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,A=i+1,l=(1<<A)-1,u=0,c=0,f=0,g=t[e++],v=new Int32Array(4096),b=null;;){for(;u<16&&g!==0;)c|=t[e++]<<u,u+=8,g===1?g=t[e++]:--g;if(u<A)break;var S=c&l;if(c>>=A,u-=A,S!==s){if(S===o)break;for(var w=S<a?S:b,y=0,x=w;x>s;)x=v[x]>>8,++y;var L=x;if(f+y+(w!==S?1:0)>n)return void fr.log("Warning, gif stream longer than expected.");r[f++]=L;var P=f+=y;for(w!==S&&(r[f++]=L),x=w;y--;)x=v[x],r[--P]=255&x,x>>=8;b!==null&&a<4096&&(v[a++]=b<<8|L,a>=l+1&&A<12&&(++A,l=l<<1|1)),b=S}else a=o+1,l=(1<<(A=i+1))-1,b=null}return f!==n&&fr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ny(t){var e,r,n,i,s,o=Math.floor,a=new Array(64),A=new Array(64),l=new Array(64),u=new Array(64),c=new Array(65535),f=new Array(65535),g=new Array(64),v=new Array(64),b=[],S=0,w=7,y=new Array(64),x=new Array(64),L=new Array(64),P=new Array(256),M=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(Q,j){for(var G=0,ee=0,ne=new Array,ae=1;ae<=16;ae++){for(var ge=1;ge<=Q[ae];ge++)ne[j[ee]]=[],ne[j[ee]][0]=G,ne[j[ee]][1]=ae,ee++,G++;G*=2}return ne}function K(Q){for(var j=Q[0],G=Q[1]-1;G>=0;)j&1<<G&&(S|=1<<w),G--,--w<0&&(S==255?($(255),$(0)):$(S),w=7,S=0)}function $(Q){b.push(Q)}function R(Q){$(Q>>8&255),$(255&Q)}function q(Q,j,G,ee,ne){for(var ae,ge=ne[0],we=ne[240],Te=function(pe,be){var xe,Fe,Re,Pe,Ge,Ve,qe,ct,ut,gt,ue=0;for(ut=0;ut<8;++ut){xe=pe[ue],Fe=pe[ue+1],Re=pe[ue+2],Pe=pe[ue+3],Ge=pe[ue+4],Ve=pe[ue+5],qe=pe[ue+6];var Ye=xe+(ct=pe[ue+7]),Ze=xe-ct,nt=Fe+qe,rt=Fe-qe,wt=Re+Ve,$t=Re-Ve,Bt=Pe+Ge,Rt=Pe-Ge,Ar=Ye+Bt,tr=Ye-Bt,Wi=nt+wt,pr=nt-wt;pe[ue]=Ar+Wi,pe[ue+4]=Ar-Wi;var Ct=.707106781*(pr+tr);pe[ue+2]=tr+Ct,pe[ue+6]=tr-Ct;var Gt=.382683433*((Ar=Rt+$t)-(pr=rt+Ze)),fs=.5411961*Ar+Gt,ln=1.306562965*pr+Gt,Wn=.707106781*(Wi=$t+rt),$i=Ze+Wn,mt=Ze-Wn;pe[ue+5]=mt+fs,pe[ue+3]=mt-fs,pe[ue+1]=$i+ln,pe[ue+7]=$i-ln,ue+=8}for(ue=0,ut=0;ut<8;++ut){xe=pe[ue],Fe=pe[ue+8],Re=pe[ue+16],Pe=pe[ue+24],Ge=pe[ue+32],Ve=pe[ue+40],qe=pe[ue+48];var Si=xe+(ct=pe[ue+56]),$n=xe-ct,un=Fe+qe,$r=Fe-qe,Or=Re+Ve,cn=Re-Ve,$a=Pe+Ge,Ds=Pe-Ge,Jn=Si+$a,Fi=Si-$a,ci=un+Or,di=un-Or;pe[ue]=Jn+ci,pe[ue+32]=Jn-ci;var Jr=.707106781*(di+Fi);pe[ue+16]=Fi+Jr,pe[ue+48]=Fi-Jr;var Ji=.382683433*((Jn=Ds+cn)-(di=$r+$n)),ho=.5411961*Jn+Ji,fo=1.306562965*di+Ji,po=.707106781*(ci=cn+$r),Xo=$n+po,Zo=$n-po;pe[ue+40]=Zo+ho,pe[ue+24]=Zo-ho,pe[ue+8]=Xo+fo,pe[ue+56]=Xo-fo,ue++}for(ut=0;ut<64;++ut)gt=pe[ut]*be[ut],g[ut]=gt>0?gt+.5|0:gt-.5|0;return g}(Q,j),Ne=0;Ne<64;++Ne)v[I[Ne]]=Te[Ne];var je=v[0]-G;G=v[0],je==0?K(ee[0]):(K(ee[f[ae=32767+je]]),K(c[ae]));for(var Le=63;Le>0&&v[Le]==0;)Le--;if(Le==0)return K(ge),G;for(var He,_e=1;_e<=Le;){for(var oe=_e;v[_e]==0&&_e<=Le;)++_e;var bt=_e-oe;if(bt>=16){He=bt>>4;for(var le=1;le<=He;++le)K(we);bt&=15}ae=32767+v[_e],K(ne[(bt<<4)+f[ae]]),K(c[ae]),_e++}return Le!=63&&K(ge),G}function re(Q){Q=Math.min(Math.max(Q,1),100),s!=Q&&(function(j){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ne=o((G[ee]*j+50)/100);ne=Math.min(Math.max(ne,1),255),a[I[ee]]=ne}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var we=o((ae[ge]*j+50)/100);we=Math.min(Math.max(we,1),255),A[I[ge]]=we}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,je=0;je<8;je++)for(var Le=0;Le<8;Le++)l[Ne]=1/(a[I[Ne]]*Te[je]*Te[Le]*8),u[Ne]=1/(A[I[Ne]]*Te[je]*Te[Le]*8),Ne++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),s=Q)}this.encode=function(Q,j){j&&re(j),b=new Array,S=0,w=7,R(65496),R(65504),R(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),R(1),R(1),$(0),$(0),function(){R(65499),R(132),$(0);for(var Fe=0;Fe<64;Fe++)$(a[Fe]);$(1);for(var Re=0;Re<64;Re++)$(A[Re])}(),function(Fe,Re){R(65472),R(17),$(8),R(Re),R(Fe),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(Q.width,Q.height),function(){R(65476),R(418),$(0);for(var Fe=0;Fe<16;Fe++)$(_[Fe+1]);for(var Re=0;Re<=11;Re++)$(k[Re]);$(16);for(var Pe=0;Pe<16;Pe++)$(O[Pe+1]);for(var Ge=0;Ge<=161;Ge++)$(E[Ge]);$(1);for(var Ve=0;Ve<16;Ve++)$(T[Ve+1]);for(var qe=0;qe<=11;qe++)$(N[qe]);$(17);for(var ct=0;ct<16;ct++)$(X[ct+1]);for(var ut=0;ut<=161;ut++)$(ce[ut])}(),R(65498),R(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var G=0,ee=0,ne=0;S=0,w=7,this.encode.displayName="_encode_";for(var ae,ge,we,Te,Ne,je,Le,He,_e,oe=Q.data,bt=Q.width,le=Q.height,pe=4*bt,be=0;be<le;){for(ae=0;ae<pe;){for(Ne=pe*be+ae,Le=-1,He=0,_e=0;_e<64;_e++)je=Ne+(He=_e>>3)*pe+(Le=4*(7&_e)),be+He>=le&&(je-=pe*(be+1+He-le)),ae+Le>=pe&&(je-=ae+Le-pe+4),ge=oe[je++],we=oe[je++],Te=oe[je++],y[_e]=(M[ge]+M[we+256>>0]+M[Te+512>>0]>>16)-128,x[_e]=(M[ge+768>>0]+M[we+1024>>0]+M[Te+1280>>0]>>16)-128,L[_e]=(M[ge+1280>>0]+M[we+1536>>0]+M[Te+1792>>0]>>16)-128;G=q(y,l,G,e,n),ee=q(x,u,ee,r,i),ne=q(L,u,ne,r,i),ae+=32}be+=8}if(w>=0){var xe=[];xe[1]=w+1,xe[0]=(1<<w+1)-1,K(xe)}return R(65497),new Uint8Array(b)},t=t||50,function(){for(var Q=String.fromCharCode,j=0;j<256;j++)P[j]=Q(j)}(),e=te(_,k),r=te(T,N),n=te(O,E),i=te(X,ce),function(){for(var Q=1,j=2,G=1;G<=15;G++){for(var ee=Q;ee<j;ee++)f[32767+ee]=G,c[32767+ee]=[],c[32767+ee][1]=G,c[32767+ee][0]=ee;for(var ne=-(j-1);ne<=-Q;ne++)f[32767+ne]=G,c[32767+ne]=[],c[32767+ne][1]=G,c[32767+ne][0]=j-1+ne;Q<<=1,j<<=1}}(),function(){for(var Q=0;Q<256;Q++)M[Q]=19595*Q,M[Q+256>>0]=38470*Q,M[Q+512>>0]=7471*Q+32768,M[Q+768>>0]=-11059*Q,M[Q+1024>>0]=-21709*Q,M[Q+1280>>0]=32768*Q+8421375,M[Q+1536>>0]=-27439*Q,M[Q+1792>>0]=-5329*Q}(),re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ys(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function P4(t){function e(_){if(!_)throw Error("assert :P")}function r(_,k,O){for(var E=0;4>E;E++)if(_[k+E]!=O.charCodeAt(E))return!0;return!1}function n(_,k,O,E,T){for(var N=0;N<T;N++)_[k+N]=O[E+N]}function i(_,k,O,E){for(var T=0;T<E;T++)_[k+T]=O}function s(_){return new Int32Array(_)}function o(_,k){for(var O=[],E=0;E<_;E++)O.push(new k);return O}function a(_,k){var O=[];return function E(T,N,X){for(var ce=X[N],te=0;te<ce&&(T.push(X.length>N+1?[]:new k),!(X.length<N+1));te++)E(T[te],N+1,X)}(O,0,_),O}var A=function(){var _=this;function k(d,m){for(var C=1<<m-1>>>0;d&C;)C>>>=1;return C?(d&C-1)+C:d}function O(d,m,C,U,V){e(!(U%C));do d[m+(U-=C)]=V;while(0<U)}function E(d,m,C,U,V){if(e(2328>=V),512>=V)var z=s(512);else if((z=s(V))==null)return 0;return function(W,Y,Z,ie,he,Ce){var Ee,Be,Me=Y,Qe=1<<Z,fe=s(16),me=s(16);for(e(he!=0),e(ie!=null),e(W!=null),e(0<Z),Be=0;Be<he;++Be){if(15<ie[Be])return 0;++fe[ie[Be]]}if(fe[0]==he)return 0;for(me[1]=0,Ee=1;15>Ee;++Ee){if(fe[Ee]>1<<Ee)return 0;me[Ee+1]=me[Ee]+fe[Ee]}for(Be=0;Be<he;++Be)Ee=ie[Be],0<ie[Be]&&(Ce[me[Ee]++]=Be);if(me[15]==1)return(ie=new T).g=0,ie.value=Ce[0],O(W,Me,1,Qe,ie),Qe;var De,ze=-1,Oe=Qe-1,ht=0,it=1,Et=1,lt=1<<Z;for(Be=0,Ee=1,he=2;Ee<=Z;++Ee,he<<=1){if(it+=Et<<=1,0>(Et-=fe[Ee]))return 0;for(;0<fe[Ee];--fe[Ee])(ie=new T).g=Ee,ie.value=Ce[Be++],O(W,Me+ht,he,lt,ie),ht=k(ht,Ee)}for(Ee=Z+1,he=2;15>=Ee;++Ee,he<<=1){if(it+=Et<<=1,0>(Et-=fe[Ee]))return 0;for(;0<fe[Ee];--fe[Ee]){if(ie=new T,(ht&Oe)!=ze){for(Me+=lt,De=1<<(ze=Ee)-Z;15>ze&&!(0>=(De-=fe[ze]));)++ze,De<<=1;Qe+=lt=1<<(De=ze-Z),W[Y+(ze=ht&Oe)].g=De+Z,W[Y+ze].value=Me-Y-ze}ie.g=Ee-Z,ie.value=Ce[Be++],O(W,Me+(ht>>Z),he,lt,ie),ht=k(ht,Ee)}}return it!=2*me[15]-1?0:Qe}(d,m,C,U,V,z)}function T(){this.value=this.g=0}function N(){this.value=this.g=0}function X(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Pn,N)}function ce(d,m,C,U){e(d!=null),e(m!=null),e(2147483648>U),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=m,d.pa=C,d.Jd=m,d.Yc=C+U,d.Zc=4<=U?C+U-4+1:C,ae(d)}function te(d,m){for(var C=0;0<m--;)C|=we(d,128)<<m;return C}function K(d,m){var C=te(d,m);return ge(d)?-C:C}function $(d,m,C,U){var V,z=0;for(e(d!=null),e(m!=null),e(4294967288>U),d.Sb=U,d.Ra=0,d.u=0,d.h=0,4<U&&(U=4),V=0;V<U;++V)z+=m[C+V]<<8*V;d.Ra=z,d.bb=U,d.oa=m,d.pa=C}function R(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Fc-8>>>0,++d.bb,d.u-=8;G(d)&&(d.h=1,d.u=0)}function q(d,m){if(e(0<=m),!d.h&&m<=Sc){var C=j(d)&Ic[m];return d.u+=m,R(d),C}return d.h=1,d.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(d){return d.Ra>>>(d.u&Fc-1)>>>0}function G(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Fc}function ee(d,m){d.u=m,d.h=G(d)}function ne(d){d.u>=Qh&&(e(d.u>=Qh),R(d))}function ae(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function ge(d){return te(d,1)}function we(d,m){var C=d.Ca;0>d.b&&ae(d);var U=d.b,V=C*m>>>8,z=(d.I>>>U>V)+0;for(z?(C-=V,d.I-=V+1<<U>>>0):C=V+1,U=C,V=0;256<=U;)V+=8,U>>=8;return U=7^V+ki[U],d.b-=U,d.Ca=(C<<U)-1,z}function Te(d,m,C){d[m+0]=C>>24&255,d[m+1]=C>>16&255,d[m+2]=C>>8&255,d[m+3]=C>>0&255}function Ne(d,m){return d[m+0]<<0|d[m+1]<<8}function je(d,m){return Ne(d,m)|d[m+2]<<16}function Le(d,m){return Ne(d,m)|Ne(d,m+2)<<16}function He(d,m){var C=1<<m;return e(d!=null),e(0<m),d.X=s(C),d.X==null?0:(d.Mb=32-m,d.Xa=m,1)}function _e(d,m){e(d!=null),e(m!=null),e(d.Xa==m.Xa),n(m.X,0,d.X,0,1<<m.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function bt(d,m,C,U){e(C!=null),e(U!=null);var V=C[0],z=U[0];return V==0&&(V=(d*z+m/2)/m),z==0&&(z=(m*V+d/2)/d),0>=V||0>=z?0:(C[0]=V,U[0]=z,1)}function le(d,m){return d+(1<<m)-1>>>m}function pe(d,m){return((4278255360&d)+(4278255360&m)>>>0&4278255360)+((16711935&d)+(16711935&m)>>>0&16711935)>>>0}function be(d,m){_[m]=function(C,U,V,z,W,Y,Z){var ie;for(ie=0;ie<W;++ie){var he=_[d](Y[Z+ie-1],V,z+ie);Y[Z+ie]=pe(C[U+ie],he)}}}function xe(){this.ud=this.hd=this.jd=0}function Fe(d,m){return((4278124286&(d^m))>>>1)+(d&m)>>>0}function Re(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Pe(d,m){return Re(d+(d-m+.5>>1))}function Ge(d,m,C){return Math.abs(m-C)-Math.abs(d-C)}function Ve(d,m,C,U,V,z,W){for(U=z[W-1],C=0;C<V;++C)z[W+C]=U=pe(d[m+C],U)}function qe(d,m,C,U,V){var z;for(z=0;z<C;++z){var W=d[m+z],Y=W>>8&255,Z=16711935&(Z=(Z=16711935&W)+((Y<<16)+Y));U[V+z]=(4278255360&W)+Z>>>0}}function ct(d,m){m.jd=d>>0&255,m.hd=d>>8&255,m.ud=d>>16&255}function ut(d,m,C,U,V,z){var W;for(W=0;W<U;++W){var Y=m[C+W],Z=Y>>>8,ie=Y,he=255&(he=(he=Y>>>16)+((d.jd<<24>>24)*(Z<<24>>24)>>>5));ie=255&(ie=(ie=ie+((d.hd<<24>>24)*(Z<<24>>24)>>>5))+((d.ud<<24>>24)*(he<<24>>24)>>>5)),V[z+W]=(4278255360&Y)+(he<<16)+ie}}function gt(d,m,C,U,V){_[m]=function(z,W,Y,Z,ie,he,Ce,Ee,Be){for(Z=Ce;Z<Ee;++Z)for(Ce=0;Ce<Be;++Ce)ie[he++]=V(Y[U(z[W++])])},_[d]=function(z,W,Y,Z,ie,he,Ce){var Ee=8>>z.b,Be=z.Ea,Me=z.K[0],Qe=z.w;if(8>Ee)for(z=(1<<z.b)-1,Qe=(1<<Ee)-1;W<Y;++W){var fe,me=0;for(fe=0;fe<Be;++fe)fe&z||(me=U(Z[ie++])),he[Ce++]=V(Me[me&Qe]),me>>=Ee}else _["VP8LMapColor"+C](Z,ie,Me,Qe,he,Ce,W,Y,Be)}}function ue(d,m,C,U,V){for(C=m+C;m<C;){var z=d[m++];U[V++]=z>>16&255,U[V++]=z>>8&255,U[V++]=z>>0&255}}function Ye(d,m,C,U,V){for(C=m+C;m<C;){var z=d[m++];U[V++]=z>>16&255,U[V++]=z>>8&255,U[V++]=z>>0&255,U[V++]=z>>24&255}}function Ze(d,m,C,U,V){for(C=m+C;m<C;){var z=(W=d[m++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;U[V++]=z,U[V++]=W}}function nt(d,m,C,U,V){for(C=m+C;m<C;){var z=(W=d[m++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;U[V++]=z,U[V++]=W}}function rt(d,m,C,U,V){for(C=m+C;m<C;){var z=d[m++];U[V++]=z>>0&255,U[V++]=z>>8&255,U[V++]=z>>16&255}}function wt(d,m,C,U,V,z){if(z==0)for(C=m+C;m<C;)Te(U,((z=d[m++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),V+=32;else n(U,V,d,m,C)}function $t(d,m){_[m][0]=_[d+"0"],_[m][1]=_[d+"1"],_[m][2]=_[d+"2"],_[m][3]=_[d+"3"],_[m][4]=_[d+"4"],_[m][5]=_[d+"5"],_[m][6]=_[d+"6"],_[m][7]=_[d+"7"],_[m][8]=_[d+"8"],_[m][9]=_[d+"9"],_[m][10]=_[d+"10"],_[m][11]=_[d+"11"],_[m][12]=_[d+"12"],_[m][13]=_[d+"13"],_[m][14]=_[d+"0"],_[m][15]=_[d+"0"]}function Bt(d){return d==Ww||d==$w||d==Dg||d==Jw}function Rt(){this.eb=[],this.size=this.A=this.fb=0}function Ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rt,this.f.kb=new Ar,this.sd=null}function Wi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ct(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Gt(d,m){var C=d.T,U=m.ba.f.RGBA,V=U.eb,z=U.fb+d.ka*U.A,W=Bs[m.ba.S],Y=d.y,Z=d.O,ie=d.f,he=d.N,Ce=d.ea,Ee=d.W,Be=m.cc,Me=m.dc,Qe=m.Mc,fe=m.Nc,me=d.ka,De=d.ka+d.T,ze=d.U,Oe=ze+1>>1;for(me==0?W(Y,Z,null,null,ie,he,Ce,Ee,ie,he,Ce,Ee,V,z,null,null,ze):(W(m.ec,m.fc,Y,Z,Be,Me,Qe,fe,ie,he,Ce,Ee,V,z-U.A,V,z,ze),++C);me+2<De;me+=2)Be=ie,Me=he,Qe=Ce,fe=Ee,he+=d.Rc,Ee+=d.Rc,z+=2*U.A,W(Y,(Z+=2*d.fa)-d.fa,Y,Z,Be,Me,Qe,fe,ie,he,Ce,Ee,V,z-U.A,V,z,ze);return Z+=d.fa,d.j+De<d.o?(n(m.ec,m.fc,Y,Z,ze),n(m.cc,m.dc,ie,he,Oe),n(m.Mc,m.Nc,Ce,Ee,Oe),C--):1&De||W(Y,Z,null,null,ie,he,Ce,Ee,ie,he,Ce,Ee,V,z+U.A,null,null,ze),C}function fs(d,m,C){var U=d.F,V=[d.J];if(U!=null){var z=d.U,W=m.ba.S,Y=W==Rg||W==Dg;m=m.ba.f.RGBA;var Z=[0],ie=d.ka;Z[0]=d.T,d.Kb&&(ie==0?--Z[0]:(--ie,V[0]-=d.width),d.j+d.ka+d.T==d.o&&(Z[0]=d.o-d.j-ie));var he=m.eb;ie=m.fb+ie*m.A,d=mr(U,V[0],d.width,z,Z,he,ie+(Y?0:3),m.A),e(C==Z),d&&Bt(W)&&ws(he,ie,Y,z,Z,m.A)}return 0}function ln(d){var m=d.ma,C=m.ba.S,U=11>C,V=C==Lg||C==Pg||C==Rg||C==qw||C==12||Bt(C);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!kh(m.Oa,d,V?11:12))return 0;if(V&&Bt(C)&&We(),d.da)alert("todo:use_scaling");else{if(U){if(m.Ib=Ct,d.Kb){if(C=d.U+1>>1,m.memory=s(d.U+2*C),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+d.U,m.Mc=m.cc,m.Nc=m.dc+C,m.Ib=Gt,We()}}else alert("todo:EmitYUV");V&&(m.Jb=fs,U&&ye())}if(U&&!z_){for(d=0;256>d;++d)nL[d]=89858*(d-128)+Mg>>Og,oL[d]=-22014*(d-128)+Mg,sL[d]=-45773*(d-128),iL[d]=113618*(d-128)+Mg>>Og;for(d=Mh;d<Zw;++d)m=76283*(d-16)+Mg>>Og,aL[d-Mh]=Zt(m,255),AL[d-Mh]=Zt(m+8>>4,15);z_=1}return 1}function Wn(d){var m=d.ma,C=d.U,U=d.T;return e(!(1&d.ka)),0>=C||0>=U?0:(C=m.Ib(d,m),m.Jb!=null&&m.Jb(d,m,C),m.Dc+=C,1)}function $i(d){d.ma.memory=null}function mt(d,m,C,U){return q(d,8)!=47?0:(m[0]=q(d,14)+1,C[0]=q(d,14)+1,U[0]=q(d,1),q(d,3)!=0?0:!d.h)}function Si(d,m){if(4>d)return d+1;var C=d-2>>1;return(2+(1&d)<<C)+q(m,C)+1}function $n(d,m){return 120<m?m-120:1<=(C=((C=V3[m-1])>>4)*d+(8-(15&C)))?C:1;var C}function un(d,m,C){var U=j(C),V=d[m+=255&U].g-8;return 0<V&&(ee(C,C.u+8),U=j(C),m+=d[m].value,m+=U&(1<<V)-1),ee(C,C.u+d[m].g),d[m].value}function $r(d,m,C){return C.g+=d.g,C.value+=d.value<<m>>>0,e(8>=C.g),d.g}function Or(d,m,C){var U=d.xc;return e((m=U==0?0:d.vc[d.md*(C>>U)+(m>>U)])<d.Wb),d.Ya[m]}function cn(d,m,C,U){var V=d.ab,z=d.c*m,W=d.C;m=W+m;var Y=C,Z=U;for(U=d.Ta,C=d.Ua;0<V--;){var ie=d.gc[V],he=W,Ce=m,Ee=Y,Be=Z,Me=(Z=U,Y=C,ie.Ea);switch(e(he<Ce),e(Ce<=ie.nc),ie.hc){case 2:Sg(Ee,Be,(Ce-he)*Me,Z,Y);break;case 0:var Qe=he,fe=Ce,me=Z,De=Y,ze=(lt=ie).Ea;Qe==0&&(zw(Ee,Be,null,null,1,me,De),Ve(Ee,Be+1,0,0,ze-1,me,De+1),Be+=ze,De+=ze,++Qe);for(var Oe=1<<lt.b,ht=Oe-1,it=le(ze,lt.b),Et=lt.K,lt=lt.w+(Qe>>lt.b)*it;Qe<fe;){var Yt=Et,nr=lt,qt=1;for(Uh(Ee,Be,me,De-ze,1,me,De);qt<ze;){var jt=(qt&~ht)+Oe;jt>ze&&(jt=ze),(0,hA[Yt[nr++]>>8&15])(Ee,Be+ +qt,me,De+qt-ze,jt-qt,me,De+qt),qt=jt}Be+=ze,De+=ze,++Qe&ht||(lt+=it)}Ce!=ie.nc&&n(Z,Y-Me,Z,Y+(Ce-he-1)*Me,Me);break;case 1:for(Me=Ee,fe=Be,ze=(Ee=ie.Ea)-(De=Ee&~(me=(Be=1<<ie.b)-1)),Qe=le(Ee,ie.b),Oe=ie.K,ie=ie.w+(he>>ie.b)*Qe;he<Ce;){for(ht=Oe,it=ie,Et=new xe,lt=fe+De,Yt=fe+Ee;fe<lt;)ct(ht[it++],Et),Xl(Et,Me,fe,Be,Z,Y),fe+=Be,Y+=Be;fe<Yt&&(ct(ht[it++],Et),Xl(Et,Me,fe,ze,Z,Y),fe+=ze,Y+=ze),++he&me||(ie+=Qe)}break;case 3:if(Ee==Z&&Be==Y&&0<ie.b){for(fe=Z,Ee=Me=Y+(Ce-he)*Me-(De=(Ce-he)*le(ie.Ea,ie.b)),Be=Z,me=Y,Qe=[],De=(ze=De)-1;0<=De;--De)Qe[De]=Be[me+De];for(De=ze-1;0<=De;--De)fe[Ee+De]=Qe[De];gs(ie,he,Ce,Z,Me,Z,Y)}else gs(ie,he,Ce,Ee,Be,Z,Y)}Y=U,Z=C}Z!=C&&n(U,C,Y,Z,z)}function $a(d,m){var C=d.V,U=d.Ba+d.c*d.C,V=m-d.C;if(e(m<=d.l.o),e(16>=V),0<V){var z=d.l,W=d.Ta,Y=d.Ua,Z=z.width;if(cn(d,V,C,U),V=Y=[Y],e((C=d.C)<(U=m)),e(z.v<z.va),U>z.o&&(U=z.o),C<z.j){var ie=z.j-C;C=z.j,V[0]+=ie*Z}if(C>=U?C=0:(V[0]+=4*z.v,z.ka=C-z.j,z.U=z.va-z.v,z.T=U-C,C=1),C){if(Y=Y[0],11>(C=d.ca).S){var he=C.f.RGBA,Ce=(U=C.S,V=z.U,z=z.T,ie=he.eb,he.A),Ee=z;for(he=he.fb+d.Ma*he.A;0<Ee--;){var Be=W,Me=Y,Qe=V,fe=ie,me=he;switch(U){case Ug:Ni(Be,Me,Qe,fe,me);break;case Lg:fi(Be,Me,Qe,fe,me);break;case Ww:fi(Be,Me,Qe,fe,me),ws(fe,me,0,Qe,1,0);break;case P_:ua(Be,Me,Qe,fe,me);break;case Pg:wt(Be,Me,Qe,fe,me,1);break;case $w:wt(Be,Me,Qe,fe,me,1),ws(fe,me,0,Qe,1,0);break;case Rg:wt(Be,Me,Qe,fe,me,0);break;case Dg:wt(Be,Me,Qe,fe,me,0),ws(fe,me,1,Qe,1,0);break;case qw:fA(Be,Me,Qe,fe,me);break;case Jw:fA(Be,Me,Qe,fe,me),gr(fe,me,Qe,1,0);break;case R_:la(Be,Me,Qe,fe,me);break;default:e(0)}Y+=Z,he+=Ce}d.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=C.height)}}d.C=m,e(d.C<=d.i)}function Ds(d){var m;if(0<d.ua)return 0;for(m=0;m<d.Wb;++m){var C=d.Ya[m].G,U=d.Ya[m].H;if(0<C[1][U[1]+0].g||0<C[2][U[2]+0].g||0<C[3][U[3]+0].g)return 0}return 1}function Jn(d,m,C,U,V,z){if(d.Z!=0){var W=d.qd,Y=d.rd;for(e(vA[d.Z]!=null);m<C;++m)vA[d.Z](W,Y,U,V,U,V,z),W=U,Y=V,V+=z;d.qd=W,d.rd=Y}}function Fi(d,m){var C=d.l.ma,U=C.Z==0||C.Z==1?d.l.j:d.C;if(U=d.C<U?U:d.C,e(m<=d.l.o),m>U){var V=d.l.width,z=C.ca,W=C.tb+V*U,Y=d.V,Z=d.Ba+d.c*U,ie=d.gc;e(d.ab==1),e(ie[0].hc==3),Fg(ie[0],U,m,Y,Z,z,W),Jn(C,U,m,z,W,V)}d.C=d.Ma=m}function ci(d,m,C,U,V,z,W){var Y=d.$/U,Z=d.$%U,ie=d.m,he=d.s,Ce=C+d.$,Ee=Ce;V=C+U*V;var Be=C+U*z,Me=280+he.ua,Qe=d.Pb?Y:16777216,fe=0<he.ua?he.Wa:null,me=he.wc,De=Ce<Be?Or(he,Z,Y):null;e(d.C<z),e(Be<=V);var ze=!1;e:for(;;){for(;ze||Ce<Be;){var Oe=0;if(Y>=Qe){var ht=Ce-C;e((Qe=d).Pb),Qe.wd=Qe.m,Qe.xd=ht,0<Qe.s.ua&&_e(Qe.s.Wa,Qe.s.vb),Qe=Y+z3}if(Z&me||(De=Or(he,Z,Y)),e(De!=null),De.Qb&&(m[Ce]=De.qb,ze=!0),!ze)if(ne(ie),De.jc){Oe=ie,ht=m;var it=Ce,Et=De.pd[j(Oe)&Pn-1];e(De.jc),256>Et.g?(ee(Oe,Oe.u+Et.g),ht[it]=Et.value,Oe=0):(ee(Oe,Oe.u+Et.g-256),e(256<=Et.value),Oe=Et.value),Oe==0&&(ze=!0)}else Oe=un(De.G[0],De.H[0],ie);if(ie.h)break;if(ze||256>Oe){if(!ze)if(De.nd)m[Ce]=(De.qb|Oe<<8)>>>0;else{if(ne(ie),ze=un(De.G[1],De.H[1],ie),ne(ie),ht=un(De.G[2],De.H[2],ie),it=un(De.G[3],De.H[3],ie),ie.h)break;m[Ce]=(it<<24|ze<<16|Oe<<8|ht)>>>0}if(ze=!1,++Ce,++Z>=U&&(Z=0,++Y,W!=null&&Y<=z&&!(Y%16)&&W(d,Y),fe!=null))for(;Ee<Ce;)Oe=m[Ee++],fe.X[(506832829*Oe&4294967295)>>>fe.Mb]=Oe}else if(280>Oe){if(Oe=Si(Oe-256,ie),ht=un(De.G[4],De.H[4],ie),ne(ie),ht=$n(U,ht=Si(ht,ie)),ie.h)break;if(Ce-C<ht||V-Ce<Oe)break e;for(it=0;it<Oe;++it)m[Ce+it]=m[Ce+it-ht];for(Ce+=Oe,Z+=Oe;Z>=U;)Z-=U,++Y,W!=null&&Y<=z&&!(Y%16)&&W(d,Y);if(e(Ce<=V),Z&me&&(De=Or(he,Z,Y)),fe!=null)for(;Ee<Ce;)Oe=m[Ee++],fe.X[(506832829*Oe&4294967295)>>>fe.Mb]=Oe}else{if(!(Oe<Me))break e;for(ze=Oe-280,e(fe!=null);Ee<Ce;)Oe=m[Ee++],fe.X[(506832829*Oe&4294967295)>>>fe.Mb]=Oe;Oe=Ce,e(!(ze>>>(ht=fe).Xa)),m[Oe]=ht.X[ze],ze=!0}ze||e(ie.h==G(ie))}if(d.Pb&&ie.h&&Ce<V)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&_e(d.s.vb,d.s.Wa);else{if(ie.h)break e;W!=null&&W(d,Y>z?z:Y),d.a=0,d.$=Ce-C}return 1}return d.a=3,0}function di(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var m=d.Wa;m!=null&&(m.X=null),d.vb=null,e(d!=null)}function Jr(){var d=new Cc;return d==null?null:(d.a=0,d.xb=M_,$t("Predictor","VP8LPredictors"),$t("Predictor","VP8LPredictors_C"),$t("PredictorAdd","VP8LPredictorsAdd"),$t("PredictorAdd","VP8LPredictorsAdd_C"),Sg=qe,Xl=ut,Ni=ue,fi=Ye,fA=Ze,la=nt,ua=rt,_.VP8LMapColor32b=Tc,_.VP8LMapColor8b=Tg,d)}function Ji(d,m,C,U,V){var z=1,W=[d],Y=[m],Z=U.m,ie=U.s,he=null,Ce=0;e:for(;;){if(C)for(;z&&q(Z,1);){var Ee=W,Be=Y,Me=U,Qe=1,fe=Me.m,me=Me.gc[Me.ab],De=q(fe,2);if(Me.Oc&1<<De)z=0;else{switch(Me.Oc|=1<<De,me.hc=De,me.Ea=Ee[0],me.nc=Be[0],me.K=[null],++Me.ab,e(4>=Me.ab),De){case 0:case 1:me.b=q(fe,3)+2,Qe=Ji(le(me.Ea,me.b),le(me.nc,me.b),0,Me,me.K),me.K=me.K[0];break;case 3:var ze,Oe=q(fe,8)+1,ht=16<Oe?0:4<Oe?1:2<Oe?2:3;if(Ee[0]=le(me.Ea,ht),me.b=ht,ze=Qe=Ji(Oe,1,0,Me,me.K)){var it,Et=Oe,lt=me,Yt=1<<(8>>lt.b),nr=s(Yt);if(nr==null)ze=0;else{var qt=lt.K[0],jt=lt.w;for(nr[0]=lt.K[0][0],it=1;it<1*Et;++it)nr[it]=pe(qt[jt+it],nr[it-1]);for(;it<4*Yt;++it)nr[it]=0;lt.K[0]=null,lt.K[0]=nr,ze=1}}Qe=ze;break;case 2:break;default:e(0)}z=Qe}}if(W=W[0],Y=Y[0],z&&q(Z,1)&&!(z=1<=(Ce=q(Z,4))&&11>=Ce)){U.a=3;break e}var hr;if(hr=z)t:{var lr,Lt,dn,Qi=U,hn=W,Ui=Y,ir=Ce,ts=C,rs=Qi.m,En=Qi.s,Rn=[null],gi=1,bs=0,Co=K3[ir];r:for(;;){if(ts&&q(rs,1)){var In=q(rs,3)+2,fa=le(hn,In),nu=le(Ui,In),Lc=fa*nu;if(!Ji(fa,nu,0,Qi,Rn))break r;for(Rn=Rn[0],En.xc=In,lr=0;lr<Lc;++lr){var wA=Rn[lr]>>8&65535;Rn[lr]=wA,wA>=gi&&(gi=wA+1)}}if(rs.h)break r;for(Lt=0;5>Lt;++Lt){var jr=D_[Lt];!Lt&&0<ir&&(jr+=1<<ir),bs<jr&&(bs=jr)}var e1=o(gi*Co,T),W_=gi,$_=o(W_,X);if($_==null)var Hg=null;else e(65536>=W_),Hg=$_;var jh=s(bs);if(Hg==null||jh==null||e1==null){Qi.a=1;break r}var Vg=e1;for(lr=dn=0;lr<gi;++lr){var Ws=Hg[lr],Pc=Ws.G,Rc=Ws.H,J_=0,Kg=1,Y_=0;for(Lt=0;5>Lt;++Lt){jr=D_[Lt],Pc[Lt]=Vg,Rc[Lt]=dn,!Lt&&0<ir&&(jr+=1<<ir);i:{var zg,t1=jr,Gg=Qi,Hh=jh,cL=Vg,dL=dn,r1=0,yA=Gg.m,hL=q(yA,1);if(i(Hh,0,0,t1),hL){var fL=q(yA,1)+1,pL=q(yA,1),X_=q(yA,pL==0?1:8);Hh[X_]=1,fL==2&&(Hh[X_=q(yA,8)]=1);var qg=1}else{var Z_=s(19),eC=q(yA,4)+4;if(19<eC){Gg.a=3;var Wg=0;break i}for(zg=0;zg<eC;++zg)Z_[H3[zg]]=q(yA,3);var n1=void 0,Vh=void 0,tC=Gg,gL=Z_,$g=t1,rC=Hh,i1=0,BA=tC.m,nC=8,iC=o(128,T);n:for(;E(iC,0,7,gL,19);){if(q(BA,1)){var mL=2+2*q(BA,3);if((n1=2+q(BA,mL))>$g)break n}else n1=$g;for(Vh=0;Vh<$g&&n1--;){ne(BA);var sC=iC[0+(127&j(BA))];ee(BA,BA.u+sC.g);var Dc=sC.value;if(16>Dc)rC[Vh++]=Dc,Dc!=0&&(nC=Dc);else{var vL=Dc==16,oC=Dc-16,wL=M3[oC],aC=q(BA,O3[oC])+wL;if(Vh+aC>$g)break n;for(var yL=vL?nC:0;0<aC--;)rC[Vh++]=yL}}i1=1;break n}i1||(tC.a=3),qg=i1}(qg=qg&&!yA.h)&&(r1=E(cL,dL,8,Hh,t1)),qg&&r1!=0?Wg=r1:(Gg.a=3,Wg=0)}if(Wg==0)break r;if(Kg&&j3[Lt]==1&&(Kg=Vg[dn].g==0),J_+=Vg[dn].g,dn+=Wg,3>=Lt){var Kh,s1=jh[0];for(Kh=1;Kh<jr;++Kh)jh[Kh]>s1&&(s1=jh[Kh]);Y_+=s1}}if(Ws.nd=Kg,Ws.Qb=0,Kg&&(Ws.qb=(Pc[3][Rc[3]+0].value<<24|Pc[1][Rc[1]+0].value<<16|Pc[2][Rc[2]+0].value)>>>0,J_==0&&256>Pc[0][Rc[0]+0].value&&(Ws.Qb=1,Ws.qb+=Pc[0][Rc[0]+0].value<<8)),Ws.jc=!Ws.Qb&&6>Y_,Ws.jc){var Jg,pa=Ws;for(Jg=0;Jg<Pn;++Jg){var bA=Jg,xA=pa.pd[bA],Yg=pa.G[0][pa.H[0]+bA];256<=Yg.value?(xA.g=Yg.g+256,xA.value=Yg.value):(xA.g=0,xA.value=0,bA>>=$r(Yg,8,xA),bA>>=$r(pa.G[1][pa.H[1]+bA],16,xA),bA>>=$r(pa.G[2][pa.H[2]+bA],0,xA),$r(pa.G[3][pa.H[3]+bA],24,xA))}}}En.vc=Rn,En.Wb=gi,En.Ya=Hg,En.yc=e1,hr=1;break t}hr=0}if(!(z=hr)){U.a=3;break e}if(0<Ce){if(ie.ua=1<<Ce,!He(ie.Wa,Ce)){U.a=1,z=0;break e}}else ie.ua=0;var o1=U,AC=W,BL=Y,a1=o1.s,A1=a1.xc;if(o1.c=AC,o1.i=BL,a1.md=le(AC,A1),a1.wc=A1==0?-1:(1<<A1)-1,C){U.xb=X3;break e}if((he=s(W*Y))==null){U.a=1,z=0;break e}z=(z=ci(U,he,0,W,Y,Y,null))&&!Z.h;break e}return z?(V!=null?V[0]=he:(e(he==null),e(C)),U.$=0,C||di(ie)):di(ie),z}function ho(d,m){var C=d.c*d.i,U=C+m+16*m;return e(d.c<=m),d.V=s(U),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+C+m,1)}function fo(d,m){var C=d.C,U=m-C,V=d.V,z=d.Ba+d.c*C;for(e(m<=d.l.o);0<U;){var W=16<U?16:U,Y=d.l.ma,Z=d.l.width,ie=Z*W,he=Y.ca,Ce=Y.tb+Z*C,Ee=d.Ta,Be=d.Ua;cn(d,W,V,z),Xr(Ee,Be,he,Ce,ie),Jn(Y,C,C+W,he,Ce,Z),U-=W,V+=W*d.c,C+=W}e(C==m),d.C=d.Ma=m}function po(){this.ub=this.yd=this.td=this.Rb=0}function Xo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function pc(){this.Yb=function(){var d=[];return function m(C,U,V){for(var z=V[U],W=0;W<z&&(C.push(V.length>U+1?[]:0),!(V.length<U+1));W++)m(C[W],U+1,V)}(d,0,[3,11]),d}()}function Ja(){this.jb=s(3),this.Wc=a([4,8],pc),this.Xc=a([4,17],pc)}function gc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function go(){this.ld=this.La=this.dd=this.tc=0}function mo(){this.Na=this.la=0}function Os(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ea(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ih(){this.uc=this.M=this.Nb=0,this.wa=Array(new go),this.Y=0,this.ya=Array(new ea),this.aa=0,this.l=new ta}function Dl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function mc(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new po,this.Kc=new Xo,this.ed=new gc,this.Qa=new Zo,this.Ic=this.$c=this.Aa=0,this.D=new Ih,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,re),this.ia=0,this.pb=o(4,Os),this.Pa=new Ja,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dl),this.Hd=0,this.rb=Array(new mo),this.sb=0,this.wa=Array(new go),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ea),this.L=this.aa=0,this.gd=a([4,2],go),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ta(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ol(){var d=new mc;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Oh||(Oh=vc)),d}function Br(d,m,C){return d.a==0&&(d.a=m,d.sc=C,d.cb=0),0}function Ml(d,m,C){return 3<=C&&d[m+0]==157&&d[m+1]==1&&d[m+2]==42}function jl(d,m){if(d==null)return 0;if(d.a=0,d.sc="OK",m==null)return Br(d,2,"null VP8Io passed to VP8GetHeaders()");var C=m.data,U=m.w,V=m.ha;if(4>V)return Br(d,7,"Truncated header.");var z=C[U+0]|C[U+1]<<8|C[U+2]<<16,W=d.Od;if(W.Rb=!(1&z),W.td=z>>1&7,W.yd=z>>4&1,W.ub=z>>5,3<W.td)return Br(d,3,"Incorrect keyframe parameters.");if(!W.yd)return Br(d,4,"Frame not displayable.");U+=3,V-=3;var Y=d.Kc;if(W.Rb){if(7>V)return Br(d,7,"cannot parse picture header");if(!Ml(C,U,V))return Br(d,3,"Bad code word");Y.c=16383&(C[U+4]<<8|C[U+3]),Y.Td=C[U+4]>>6,Y.i=16383&(C[U+6]<<8|C[U+5]),Y.Ud=C[U+6]>>6,U+=7,V-=7,d.za=Y.c+15>>4,d.Ub=Y.i+15>>4,m.width=Y.c,m.height=Y.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((z=d.Pa).jb,0,255,z.jb.length),e((z=d.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(W.ub>V)return Br(d,7,"bad partition length");ce(z=d.m,C,U,W.ub),U+=W.ub,V-=W.ub,W.Rb&&(Y.Ld=ge(z),Y.Kd=ge(z)),Y=d.Qa;var Z,ie=d.Pa;if(e(z!=null),e(Y!=null),Y.Cb=ge(z),Y.Cb){if(Y.Bb=ge(z),ge(z)){for(Y.Fb=ge(z),Z=0;4>Z;++Z)Y.Zb[Z]=ge(z)?K(z,7):0;for(Z=0;4>Z;++Z)Y.Lb[Z]=ge(z)?K(z,6):0}if(Y.Bb)for(Z=0;3>Z;++Z)ie.jb[Z]=ge(z)?te(z,8):255}else Y.Bb=0;if(z.Ka)return Br(d,3,"cannot parse segment header");if((Y=d.ed).zd=ge(z),Y.Tb=te(z,6),Y.wb=te(z,3),Y.Pc=ge(z),Y.Pc&&ge(z)){for(ie=0;4>ie;++ie)ge(z)&&(Y.vd[ie]=K(z,6));for(ie=0;4>ie;++ie)ge(z)&&(Y.od[ie]=K(z,6))}if(d.L=Y.Tb==0?0:Y.zd?1:2,z.Ka)return Br(d,3,"cannot parse filter header");var he=V;if(V=Z=U,U=Z+he,Y=he,d.Xb=(1<<te(d.m,2))-1,he<3*(ie=d.Xb))C=7;else{for(Z+=3*ie,Y-=3*ie,he=0;he<ie;++he){var Ce=C[V+0]|C[V+1]<<8|C[V+2]<<16;Ce>Y&&(Ce=Y),ce(d.Jc[+he],C,Z,Ce),Z+=Ce,Y-=Ce,V+=3}ce(d.Jc[+ie],C,Z,Y),C=Z<U?0:5}if(C!=0)return Br(d,C,"cannot parse partitions");for(C=te(Z=d.m,7),V=ge(Z)?K(Z,4):0,U=ge(Z)?K(Z,4):0,Y=ge(Z)?K(Z,4):0,ie=ge(Z)?K(Z,4):0,Z=ge(Z)?K(Z,4):0,he=d.Qa,Ce=0;4>Ce;++Ce){if(he.Cb){var Ee=he.Zb[Ce];he.Fb||(Ee+=C)}else{if(0<Ce){d.pb[Ce]=d.pb[0];continue}Ee=C}var Be=d.pb[Ce];Be.Sc[0]=Yw[Zt(Ee+V,127)],Be.Sc[1]=Xw[Zt(Ee+0,127)],Be.Eb[0]=2*Yw[Zt(Ee+U,127)],Be.Eb[1]=101581*Xw[Zt(Ee+Y,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=Yw[Zt(Ee+ie,117)],Be.Qc[1]=Xw[Zt(Ee+Z,127)],Be.lc=Ee+Z}if(!W.Rb)return Br(d,4,"Not a key frame.");for(ge(z),W=d.Pa,C=0;4>C;++C){for(V=0;8>V;++V)for(U=0;3>U;++U)for(Y=0;11>Y;++Y)ie=we(z,J3[C][V][U][Y])?te(z,8):W3[C][V][U][Y],W.Wc[C][V].Yb[U][Y]=ie;for(V=0;17>V;++V)W.Xc[C][V]=W.Wc[C][Y3[V]]}return d.kc=ge(z),d.kc&&(d.Bd=te(z,8)),d.cb=1}function vc(d,m,C,U,V,z,W){var Y=m[V].Yb[C];for(C=0;16>V;++V){if(!we(d,Y[C+0]))return V;for(;!we(d,Y[C+1]);)if(Y=m[++V].Yb[0],C=0,V==16)return 16;var Z=m[V+1].Yb;if(we(d,Y[C+2])){var ie=d,he=0;if(we(ie,(Ee=Y)[(Ce=C)+3]))if(we(ie,Ee[Ce+6])){for(Y=0,Ce=2*(he=we(ie,Ee[Ce+8]))+(Ee=we(ie,Ee[Ce+9+he])),he=0,Ee=G3[Ce];Ee[Y];++Y)he+=he+we(ie,Ee[Y]);he+=3+(8<<Ce)}else we(ie,Ee[Ce+7])?(he=7+2*we(ie,165),he+=we(ie,145)):he=5+we(ie,159);else he=we(ie,Ee[Ce+4])?3+we(ie,Ee[Ce+5]):2;Y=Z[2]}else he=1,Y=Z[1];Z=W+q3[V],0>(ie=d).b&&ae(ie);var Ce,Ee=ie.b,Be=(Ce=ie.Ca>>1)-(ie.I>>Ee)>>31;--ie.b,ie.Ca+=Be,ie.Ca|=1,ie.I-=(Ce+1&Be)<<Ee,z[Z]=((he^Be)-Be)*U[(0<V)+0]}return 16}function Hl(d){var m=d.rb[d.sb-1];m.la=0,m.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function wc(d,m){if(d==null)return 0;if(m==null)return Br(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!jl(d,m))return 0;if(e(d.cb),m.ac==null||m.ac(m)){m.ob&&(d.L=0);var C=jg[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=m.v-C>>4,d.zb=m.j-C>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=m.o+15+C>>4,d.Hb=m.va+15+C>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var U=d.ed;for(C=0;4>C;++C){var V;if(d.Qa.Cb){var z=d.Qa.Lb[C];d.Qa.Fb||(z+=U.Tb)}else z=U.Tb;for(V=0;1>=V;++V){var W=d.gd[C][V],Y=z;if(U.Pc&&(Y+=U.vd[0],V&&(Y+=U.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var Z=Y;0<U.wb&&(Z=4<U.wb?Z>>2:Z>>1)>9-U.wb&&(Z=9-U.wb),1>Z&&(Z=1),W.dd=Z,W.tc=2*Y+Z,W.ld=40<=Y?2:15<=Y?1:0}else W.tc=0;W.La=V}}}C=0}else Br(d,6,"Frame setup failed"),C=d.a;if(C=C==0){if(C){d.$c=0,0<d.Aa||(d.Ic=uL);e:{C=d.Ic,U=4*(Z=d.za);var ie=32*Z,he=Z+1,Ce=0<d.L?Z*(0<d.Aa?2:1):0,Ee=(d.Aa==2?2:1)*Z;if((W=U+832+(V=3*(16*C+jg[d.L])/2*ie)+(z=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=W)C=0;else{if(W>d.Vb){if(d.Vb=0,d.Ec=s(W),d.Fc=0,d.Ec==null){C=Br(d,1,"no memory during frame initialization.");break e}d.Vb=W}W=d.Ec,Y=d.Fc,d.Ac=W,d.Bc=Y,Y+=U,d.Gd=o(ie,Dl),d.Hd=0,d.rb=o(he+1,mo),d.sb=1,d.wa=Ce?o(Ce,go):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=Z),e(!0),d.oc=W,d.pc=Y,Y+=832,d.ya=o(Ee,ea),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=Z),d.R=16*Z,d.B=8*Z,Z=(ie=jg[d.L])*d.R,ie=ie/2*d.B,d.sa=W,d.ta=Y+Z,d.qa=d.sa,d.ra=d.ta+16*C*d.R+ie,d.Ha=d.qa,d.Ia=d.ra+8*C*d.B+ie,d.$c=0,Y+=V,d.mb=z?W:null,d.nb=z?Y:null,e(Y+z<=d.Fc+d.Vb),Hl(d),i(d.Ac,d.Bc,0,U),C=1}}if(C){if(m.ka=0,m.y=d.sa,m.O=d.ta,m.f=d.qa,m.N=d.ra,m.ea=d.Ha,m.Vd=d.Ia,m.fa=d.R,m.Rc=d.B,m.F=null,m.J=0,!Ng){for(C=-255;255>=C;++C)wn[255+C]=0>C?-C:C;for(C=-1020;1020>=C;++C)da[1020+C]=-128>C?-128:127<C?127:C;for(C=-112;112>=C;++C)Dh[112+C]=-16>C?-16:15<C?15:C;for(C=-255;510>=C;++C)Uc[255+C]=0>C?0:255<C?255:C;Ng=1}kc=ia,ca=Xa,Lh=Vl,pi=rr,ms=na,Yr=ra,Nc=sA,kg=Ks,Ph=aA,Zl=Yl,eu=oA,pA=oa,tu=AA,Qc=Bo,ru=sa,gA=Zi,Rh=vn,vs=_c,qs[0]=ps,qs[1]=Sh,qs[2]=wo,qs[3]=Th,qs[4]=bc,qs[5]=tA,qs[6]=Yi,qs[7]=zl,qs[8]=nA,qs[9]=rA,mA[0]=vo,mA[1]=Fh,mA[2]=js,mA[3]=Za,mA[4]=br,mA[5]=Bc,mA[6]=Kl,ha[0]=Vs,ha[1]=yc,ha[2]=xc,ha[3]=Hs,ha[4]=Xt,ha[5]=Gl,ha[6]=ql,C=1}else C=0}C&&(C=function(Be,Me){for(Be.M=0;Be.M<Be.Va;++Be.M){var Qe,fe=Be.Jc[Be.M&Be.Xb],me=Be.m,De=Be;for(Qe=0;Qe<De.za;++Qe){var ze=me,Oe=De,ht=Oe.Ac,it=Oe.Bc+4*Qe,Et=Oe.zc,lt=Oe.ya[Oe.aa+Qe];if(Oe.Qa.Bb?lt.$b=we(ze,Oe.Pa.jb[0])?2+we(ze,Oe.Pa.jb[2]):we(ze,Oe.Pa.jb[1]):lt.$b=0,Oe.kc&&(lt.Ad=we(ze,Oe.Bd)),lt.Za=!we(ze,145)+0,lt.Za){var Yt=lt.Ob,nr=0;for(Oe=0;4>Oe;++Oe){var qt,jt=Et[0+Oe];for(qt=0;4>qt;++qt){jt=$3[ht[it+qt]][jt];for(var hr=O_[we(ze,jt[0])];0<hr;)hr=O_[2*hr+we(ze,jt[hr])];jt=-hr,ht[it+qt]=jt}n(Yt,nr,ht,it,4),nr+=4,Et[0+Oe]=jt}}else jt=we(ze,156)?we(ze,128)?1:3:we(ze,163)?2:0,lt.Ob[0]=jt,i(ht,it,jt,4),i(Et,0,jt,4);lt.Dd=we(ze,142)?we(ze,114)?we(ze,183)?1:3:2:0}if(De.m.Ka)return Br(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(De=fe,ze=(me=Be).rb[me.sb-1],ht=me.rb[me.sb+me.ja],Qe=me.ya[me.aa+me.ja],it=me.kc?Qe.Ad:0)ze.la=ht.la=0,Qe.Za||(ze.Na=ht.Na=0),Qe.Hc=0,Qe.Gc=0,Qe.ia=0;else{var lr,Lt;if(ze=ht,ht=De,it=me.Pa.Xc,Et=me.ya[me.aa+me.ja],lt=me.pb[Et.$b],Oe=Et.ad,Yt=0,nr=me.rb[me.sb-1],jt=qt=0,i(Oe,Yt,0,384),Et.Za)var dn=0,Qi=it[3];else{hr=s(16);var hn=ze.Na+nr.Na;if(hn=Oh(ht,it[1],hn,lt.Eb,0,hr,0),ze.Na=nr.Na=(0<hn)+0,1<hn)kc(hr,0,Oe,Yt);else{var Ui=hr[0]+3>>3;for(hr=0;256>hr;hr+=16)Oe[Yt+hr]=Ui}dn=1,Qi=it[0]}var ir=15&ze.la,ts=15&nr.la;for(hr=0;4>hr;++hr){var rs=1&ts;for(Ui=Lt=0;4>Ui;++Ui)ir=ir>>1|(rs=(hn=Oh(ht,Qi,hn=rs+(1&ir),lt.Sc,dn,Oe,Yt))>dn)<<7,Lt=Lt<<2|(3<hn?3:1<hn?2:Oe[Yt+0]!=0),Yt+=16;ir>>=4,ts=ts>>1|rs<<7,qt=(qt<<8|Lt)>>>0}for(Qi=ir,dn=ts>>4,lr=0;4>lr;lr+=2){for(Lt=0,ir=ze.la>>4+lr,ts=nr.la>>4+lr,hr=0;2>hr;++hr){for(rs=1&ts,Ui=0;2>Ui;++Ui)hn=rs+(1&ir),ir=ir>>1|(rs=0<(hn=Oh(ht,it[2],hn,lt.Qc,0,Oe,Yt)))<<3,Lt=Lt<<2|(3<hn?3:1<hn?2:Oe[Yt+0]!=0),Yt+=16;ir>>=2,ts=ts>>1|rs<<5}jt|=Lt<<4*lr,Qi|=ir<<4<<lr,dn|=(240&ts)<<lr}ze.la=Qi,nr.la=dn,Et.Hc=qt,Et.Gc=jt,Et.ia=43690&jt?0:lt.ia,it=!(qt|jt)}if(0<me.L&&(me.wa[me.Y+me.ja]=me.gd[Qe.$b][Qe.Za],me.wa[me.Y+me.ja].La|=!it),De.Ka)return Br(Be,7,"Premature end-of-file encountered.")}if(Hl(Be),me=Me,De=1,Qe=(fe=Be).D,ze=0<fe.L&&fe.M>=fe.zb&&fe.M<=fe.Va,fe.Aa==0)e:{if(Qe.M=fe.M,Qe.uc=ze,xo(fe,Qe),De=1,Qe=(Lt=fe.D).Nb,ze=(jt=jg[fe.L])*fe.R,ht=jt/2*fe.B,hr=16*Qe*fe.R,Ui=8*Qe*fe.B,it=fe.sa,Et=fe.ta-ze+hr,lt=fe.qa,Oe=fe.ra-ht+Ui,Yt=fe.Ha,nr=fe.Ia-ht+Ui,ts=(ir=Lt.M)==0,qt=ir>=fe.Va-1,fe.Aa==2&&xo(fe,Lt),Lt.uc)for(rs=(hn=fe).D.M,e(hn.D.uc),Lt=hn.yb;Lt<hn.Hb;++Lt){dn=Lt,Qi=rs;var En=(Rn=(jr=hn).D).Nb;lr=jr.R;var Rn=Rn.wa[Rn.Y+dn],gi=jr.sa,bs=jr.ta+16*En*lr+16*dn,Co=Rn.dd,In=Rn.tc;if(In!=0)if(e(3<=In),jr.L==1)0<dn&&gA(gi,bs,lr,In+4),Rn.La&&vs(gi,bs,lr,In),0<Qi&&ru(gi,bs,lr,In+4),Rn.La&&Rh(gi,bs,lr,In);else{var fa=jr.B,nu=jr.qa,Lc=jr.ra+8*En*fa+8*dn,wA=jr.Ha,jr=jr.Ia+8*En*fa+8*dn;En=Rn.ld,0<dn&&(kg(gi,bs,lr,In+4,Co,En),Zl(nu,Lc,wA,jr,fa,In+4,Co,En)),Rn.La&&(pA(gi,bs,lr,In,Co,En),Qc(nu,Lc,wA,jr,fa,In,Co,En)),0<Qi&&(Nc(gi,bs,lr,In+4,Co,En),Ph(nu,Lc,wA,jr,fa,In+4,Co,En)),Rn.La&&(eu(gi,bs,lr,In,Co,En),tu(nu,Lc,wA,jr,fa,In,Co,En))}}if(fe.ia&&alert("todo:DitherRow"),me.put!=null){if(Lt=16*ir,ir=16*(ir+1),ts?(me.y=fe.sa,me.O=fe.ta+hr,me.f=fe.qa,me.N=fe.ra+Ui,me.ea=fe.Ha,me.W=fe.Ia+Ui):(Lt-=jt,me.y=it,me.O=Et,me.f=lt,me.N=Oe,me.ea=Yt,me.W=nr),qt||(ir-=jt),ir>me.o&&(ir=me.o),me.F=null,me.J=null,fe.Fa!=null&&0<fe.Fa.length&&Lt<ir&&(me.J=dA(fe,me,Lt,ir-Lt),me.F=fe.mb,me.F==null&&me.F.length==0)){De=Br(fe,3,"Could not decode alpha data.");break e}Lt<me.j&&(jt=me.j-Lt,Lt=me.j,e(!(1&jt)),me.O+=fe.R*jt,me.N+=fe.B*(jt>>1),me.W+=fe.B*(jt>>1),me.F!=null&&(me.J+=me.width*jt)),Lt<ir&&(me.O+=me.v,me.N+=me.v>>1,me.W+=me.v>>1,me.F!=null&&(me.J+=me.v),me.ka=Lt-me.j,me.U=me.va-me.v,me.T=ir-Lt,De=me.put(me))}Qe+1!=fe.Ic||qt||(n(fe.sa,fe.ta-ze,it,Et+16*fe.R,ze),n(fe.qa,fe.ra-ht,lt,Oe+8*fe.B,ht),n(fe.Ha,fe.Ia-ht,Yt,nr+8*fe.B,ht))}if(!De)return Br(Be,6,"Output aborted.")}return 1}(d,m)),m.bc!=null&&m.bc(m),C&=1}return C?(d.cb=0,C):0}function Ti(d,m,C,U,V){V=d[m+C+32*U]+(V>>3),d[m+C+32*U]=-256&V?0>V?0:255:V}function Ya(d,m,C,U,V,z){Ti(d,m,0,C,U+V),Ti(d,m,1,C,U+z),Ti(d,m,2,C,U-z),Ti(d,m,3,C,U-V)}function Mr(d){return(20091*d>>16)+d}function hi(d,m,C,U){var V,z=0,W=s(16);for(V=0;4>V;++V){var Y=d[m+0]+d[m+8],Z=d[m+0]-d[m+8],ie=(35468*d[m+4]>>16)-Mr(d[m+12]),he=Mr(d[m+4])+(35468*d[m+12]>>16);W[z+0]=Y+he,W[z+1]=Z+ie,W[z+2]=Z-ie,W[z+3]=Y-he,z+=4,m++}for(V=z=0;4>V;++V)Y=(d=W[z+0]+4)+W[z+8],Z=d-W[z+8],ie=(35468*W[z+4]>>16)-Mr(W[z+12]),Ti(C,U,0,0,Y+(he=Mr(W[z+4])+(35468*W[z+12]>>16))),Ti(C,U,1,0,Z+ie),Ti(C,U,2,0,Z-ie),Ti(C,U,3,0,Y-he),z++,U+=32}function ra(d,m,C,U){var V=d[m+0]+4,z=35468*d[m+4]>>16,W=Mr(d[m+4]),Y=35468*d[m+1]>>16;Ya(C,U,0,V+W,d=Mr(d[m+1]),Y),Ya(C,U,1,V+z,d,Y),Ya(C,U,2,V-z,d,Y),Ya(C,U,3,V-W,d,Y)}function Xa(d,m,C,U,V){hi(d,m,C,U),V&&hi(d,m+16,C,U+4)}function Vl(d,m,C,U){ca(d,m+0,C,U,1),ca(d,m+32,C,U+128,1)}function rr(d,m,C,U){var V;for(d=d[m+0]+4,V=0;4>V;++V)for(m=0;4>m;++m)Ti(C,U,m,V,d)}function na(d,m,C,U){d[m+0]&&pi(d,m+0,C,U),d[m+16]&&pi(d,m+16,C,U+4),d[m+32]&&pi(d,m+32,C,U+128),d[m+48]&&pi(d,m+48,C,U+128+4)}function ia(d,m,C,U){var V,z=s(16);for(V=0;4>V;++V){var W=d[m+0+V]+d[m+12+V],Y=d[m+4+V]+d[m+8+V],Z=d[m+4+V]-d[m+8+V],ie=d[m+0+V]-d[m+12+V];z[0+V]=W+Y,z[8+V]=W-Y,z[4+V]=ie+Z,z[12+V]=ie-Z}for(V=0;4>V;++V)W=(d=z[0+4*V]+3)+z[3+4*V],Y=z[1+4*V]+z[2+4*V],Z=z[1+4*V]-z[2+4*V],ie=d-z[3+4*V],C[U+0]=W+Y>>3,C[U+16]=ie+Z>>3,C[U+32]=W-Y>>3,C[U+48]=ie-Z>>3,U+=64}function Ms(d,m,C){var U,V=m-32,z=es,W=255-d[V-1];for(U=0;U<C;++U){var Y,Z=z,ie=W+d[m-1];for(Y=0;Y<C;++Y)d[m+Y]=Z[ie+d[V+Y]];m+=32}}function Sh(d,m){Ms(d,m,4)}function yc(d,m){Ms(d,m,8)}function Fh(d,m){Ms(d,m,16)}function js(d,m){var C;for(C=0;16>C;++C)n(d,m+32*C,d,m-32,16)}function Za(d,m){var C;for(C=16;0<C;--C)i(d,m,d[m-1],16),m+=32}function eA(d,m,C){var U;for(U=0;16>U;++U)i(m,C+32*U,d,16)}function vo(d,m){var C,U=16;for(C=0;16>C;++C)U+=d[m-1+32*C]+d[m+C-32];eA(U>>5,d,m)}function br(d,m){var C,U=8;for(C=0;16>C;++C)U+=d[m-1+32*C];eA(U>>4,d,m)}function Bc(d,m){var C,U=8;for(C=0;16>C;++C)U+=d[m+C-32];eA(U>>4,d,m)}function Kl(d,m){eA(128,d,m)}function Tt(d,m,C){return d+2*m+C+2>>2}function wo(d,m){var C,U=m-32;for(U=new Uint8Array([Tt(d[U-1],d[U+0],d[U+1]),Tt(d[U+0],d[U+1],d[U+2]),Tt(d[U+1],d[U+2],d[U+3]),Tt(d[U+2],d[U+3],d[U+4])]),C=0;4>C;++C)n(d,m+32*C,U,0,U.length)}function Th(d,m){var C=d[m-1],U=d[m-1+32],V=d[m-1+64],z=d[m-1+96];Te(d,m+0,16843009*Tt(d[m-1-32],C,U)),Te(d,m+32,16843009*Tt(C,U,V)),Te(d,m+64,16843009*Tt(U,V,z)),Te(d,m+96,16843009*Tt(V,z,z))}function ps(d,m){var C,U=4;for(C=0;4>C;++C)U+=d[m+C-32]+d[m-1+32*C];for(U>>=3,C=0;4>C;++C)i(d,m+32*C,U,4)}function bc(d,m){var C=d[m-1+0],U=d[m-1+32],V=d[m-1+64],z=d[m-1-32],W=d[m+0-32],Y=d[m+1-32],Z=d[m+2-32],ie=d[m+3-32];d[m+0+96]=Tt(U,V,d[m-1+96]),d[m+1+96]=d[m+0+64]=Tt(C,U,V),d[m+2+96]=d[m+1+64]=d[m+0+32]=Tt(z,C,U),d[m+3+96]=d[m+2+64]=d[m+1+32]=d[m+0+0]=Tt(W,z,C),d[m+3+64]=d[m+2+32]=d[m+1+0]=Tt(Y,W,z),d[m+3+32]=d[m+2+0]=Tt(Z,Y,W),d[m+3+0]=Tt(ie,Z,Y)}function Yi(d,m){var C=d[m+1-32],U=d[m+2-32],V=d[m+3-32],z=d[m+4-32],W=d[m+5-32],Y=d[m+6-32],Z=d[m+7-32];d[m+0+0]=Tt(d[m+0-32],C,U),d[m+1+0]=d[m+0+32]=Tt(C,U,V),d[m+2+0]=d[m+1+32]=d[m+0+64]=Tt(U,V,z),d[m+3+0]=d[m+2+32]=d[m+1+64]=d[m+0+96]=Tt(V,z,W),d[m+3+32]=d[m+2+64]=d[m+1+96]=Tt(z,W,Y),d[m+3+64]=d[m+2+96]=Tt(W,Y,Z),d[m+3+96]=Tt(Y,Z,Z)}function tA(d,m){var C=d[m-1+0],U=d[m-1+32],V=d[m-1+64],z=d[m-1-32],W=d[m+0-32],Y=d[m+1-32],Z=d[m+2-32],ie=d[m+3-32];d[m+0+0]=d[m+1+64]=z+W+1>>1,d[m+1+0]=d[m+2+64]=W+Y+1>>1,d[m+2+0]=d[m+3+64]=Y+Z+1>>1,d[m+3+0]=Z+ie+1>>1,d[m+0+96]=Tt(V,U,C),d[m+0+64]=Tt(U,C,z),d[m+0+32]=d[m+1+96]=Tt(C,z,W),d[m+1+32]=d[m+2+96]=Tt(z,W,Y),d[m+2+32]=d[m+3+96]=Tt(W,Y,Z),d[m+3+32]=Tt(Y,Z,ie)}function zl(d,m){var C=d[m+0-32],U=d[m+1-32],V=d[m+2-32],z=d[m+3-32],W=d[m+4-32],Y=d[m+5-32],Z=d[m+6-32],ie=d[m+7-32];d[m+0+0]=C+U+1>>1,d[m+1+0]=d[m+0+64]=U+V+1>>1,d[m+2+0]=d[m+1+64]=V+z+1>>1,d[m+3+0]=d[m+2+64]=z+W+1>>1,d[m+0+32]=Tt(C,U,V),d[m+1+32]=d[m+0+96]=Tt(U,V,z),d[m+2+32]=d[m+1+96]=Tt(V,z,W),d[m+3+32]=d[m+2+96]=Tt(z,W,Y),d[m+3+64]=Tt(W,Y,Z),d[m+3+96]=Tt(Y,Z,ie)}function rA(d,m){var C=d[m-1+0],U=d[m-1+32],V=d[m-1+64],z=d[m-1+96];d[m+0+0]=C+U+1>>1,d[m+2+0]=d[m+0+32]=U+V+1>>1,d[m+2+32]=d[m+0+64]=V+z+1>>1,d[m+1+0]=Tt(C,U,V),d[m+3+0]=d[m+1+32]=Tt(U,V,z),d[m+3+32]=d[m+1+64]=Tt(V,z,z),d[m+3+64]=d[m+2+64]=d[m+0+96]=d[m+1+96]=d[m+2+96]=d[m+3+96]=z}function nA(d,m){var C=d[m-1+0],U=d[m-1+32],V=d[m-1+64],z=d[m-1+96],W=d[m-1-32],Y=d[m+0-32],Z=d[m+1-32],ie=d[m+2-32];d[m+0+0]=d[m+2+32]=C+W+1>>1,d[m+0+32]=d[m+2+64]=U+C+1>>1,d[m+0+64]=d[m+2+96]=V+U+1>>1,d[m+0+96]=z+V+1>>1,d[m+3+0]=Tt(Y,Z,ie),d[m+2+0]=Tt(W,Y,Z),d[m+1+0]=d[m+3+32]=Tt(C,W,Y),d[m+1+32]=d[m+3+64]=Tt(U,C,W),d[m+1+64]=d[m+3+96]=Tt(V,U,C),d[m+1+96]=Tt(z,V,U)}function xc(d,m){var C;for(C=0;8>C;++C)n(d,m+32*C,d,m-32,8)}function Hs(d,m){var C;for(C=0;8>C;++C)i(d,m,d[m-1],8),m+=32}function Xi(d,m,C){var U;for(U=0;8>U;++U)i(m,C+32*U,d,8)}function Vs(d,m){var C,U=8;for(C=0;8>C;++C)U+=d[m+C-32]+d[m-1+32*C];Xi(U>>4,d,m)}function Gl(d,m){var C,U=4;for(C=0;8>C;++C)U+=d[m+C-32];Xi(U>>3,d,m)}function Xt(d,m){var C,U=4;for(C=0;8>C;++C)U+=d[m-1+32*C];Xi(U>>3,d,m)}function ql(d,m){Xi(128,d,m)}function iA(d,m,C){var U=d[m-C],V=d[m+0],z=3*(V-U)+Gw[1020+d[m-2*C]-d[m+C]],W=Qg[112+(z+4>>3)];d[m-C]=es[255+U+Qg[112+(z+3>>3)]],d[m+0]=es[255+V-W]}function Wl(d,m,C,U){var V=d[m+0],z=d[m+C];return ys[255+d[m-2*C]-d[m-C]]>U||ys[255+z-V]>U}function $l(d,m,C,U){return 4*ys[255+d[m-C]-d[m+0]]+ys[255+d[m-2*C]-d[m+C]]<=U}function Jl(d,m,C,U,V){var z=d[m-3*C],W=d[m-2*C],Y=d[m-C],Z=d[m+0],ie=d[m+C],he=d[m+2*C],Ce=d[m+3*C];return 4*ys[255+Y-Z]+ys[255+W-ie]>U?0:ys[255+d[m-4*C]-z]<=V&&ys[255+z-W]<=V&&ys[255+W-Y]<=V&&ys[255+Ce-he]<=V&&ys[255+he-ie]<=V&&ys[255+ie-Z]<=V}function sa(d,m,C,U){var V=2*U+1;for(U=0;16>U;++U)$l(d,m+U,C,V)&&iA(d,m+U,C)}function Zi(d,m,C,U){var V=2*U+1;for(U=0;16>U;++U)$l(d,m+U*C,1,V)&&iA(d,m+U*C,1)}function vn(d,m,C,U){var V;for(V=3;0<V;--V)sa(d,m+=4*C,C,U)}function _c(d,m,C,U){var V;for(V=3;0<V;--V)Zi(d,m+=4,C,U)}function yo(d,m,C,U,V,z,W,Y){for(z=2*z+1;0<V--;){if(Jl(d,m,C,z,W))if(Wl(d,m,C,Y))iA(d,m,C);else{var Z=d,ie=m,he=C,Ce=Z[ie-2*he],Ee=Z[ie-he],Be=Z[ie+0],Me=Z[ie+he],Qe=Z[ie+2*he],fe=27*(De=Gw[1020+3*(Be-Ee)+Gw[1020+Ce-Me]])+63>>7,me=18*De+63>>7,De=9*De+63>>7;Z[ie-3*he]=es[255+Z[ie-3*he]+De],Z[ie-2*he]=es[255+Ce+me],Z[ie-he]=es[255+Ee+fe],Z[ie+0]=es[255+Be-fe],Z[ie+he]=es[255+Me-me],Z[ie+2*he]=es[255+Qe-De]}m+=U}}function Un(d,m,C,U,V,z,W,Y){for(z=2*z+1;0<V--;){if(Jl(d,m,C,z,W))if(Wl(d,m,C,Y))iA(d,m,C);else{var Z=d,ie=m,he=C,Ce=Z[ie-he],Ee=Z[ie+0],Be=Z[ie+he],Me=Qg[112+((Qe=3*(Ee-Ce))+4>>3)],Qe=Qg[112+(Qe+3>>3)],fe=Me+1>>1;Z[ie-2*he]=es[255+Z[ie-2*he]+fe],Z[ie-he]=es[255+Ce+Qe],Z[ie+0]=es[255+Ee-Me],Z[ie+he]=es[255+Be-fe]}m+=U}}function sA(d,m,C,U,V,z){yo(d,m,C,1,16,U,V,z)}function Ks(d,m,C,U,V,z){yo(d,m,1,C,16,U,V,z)}function oA(d,m,C,U,V,z){var W;for(W=3;0<W;--W)Un(d,m+=4*C,C,1,16,U,V,z)}function oa(d,m,C,U,V,z){var W;for(W=3;0<W;--W)Un(d,m+=4,1,C,16,U,V,z)}function aA(d,m,C,U,V,z,W,Y){yo(d,m,V,1,8,z,W,Y),yo(C,U,V,1,8,z,W,Y)}function Yl(d,m,C,U,V,z,W,Y){yo(d,m,1,V,8,z,W,Y),yo(C,U,1,V,8,z,W,Y)}function AA(d,m,C,U,V,z,W,Y){Un(d,m+4*V,V,1,8,z,W,Y),Un(C,U+4*V,V,1,8,z,W,Y)}function Bo(d,m,C,U,V,z,W,Y){Un(d,m+4,1,V,8,z,W,Y),Un(C,U+4,1,V,8,z,W,Y)}function aa(){this.ba=new tr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Aa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function uA(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new T}function Cc(){this.xb=this.a=0,this.l=new ta,this.ca=new tr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new uA,this.ab=0,this.gc=o(4,Aa),this.Oc=0}function zs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ta,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bo(d,m,C,U,V,z,W){for(d=d==null?0:d[m+0],m=0;m<W;++m)V[z+m]=d+C[U+m]&255,d=V[z+m]}function cA(d,m,C,U,V,z,W){var Y;if(d==null)bo(null,null,C,U,V,z,W);else for(Y=0;Y<W;++Y)V[z+Y]=d[m+Y]+C[U+Y]&255}function Yn(d,m,C,U,V,z,W){if(d==null)bo(null,null,C,U,V,z,W);else{var Y,Z=d[m+0],ie=Z,he=Z;for(Y=0;Y<W;++Y)ie=he+(Z=d[m+Y])-ie,he=C[U+Y]+(-256&ie?0>ie?0:255:ie)&255,ie=Z,V[z+Y]=he}}function dA(d,m,C,U){var V=m.width,z=m.o;if(e(d!=null&&m!=null),0>C||0>=U||C+U>z)return null;if(!d.Cc){if(d.ga==null){var W;if(d.ga=new zs,(W=d.ga==null)||(W=m.width*m.o,e(d.Gb.length==0),d.Gb=s(W),d.Uc=0,d.Gb==null?W=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,W=1),W=!W),!W){W=d.ga;var Y=d.Fa,Z=d.P,ie=d.qc,he=d.mb,Ce=d.nb,Ee=Z+1,Be=ie-1,Me=W.l;if(e(Y!=null&&he!=null&&m!=null),vA[0]=null,vA[1]=bo,vA[2]=cA,vA[3]=Yn,W.ca=he,W.tb=Ce,W.c=m.width,W.i=m.height,e(0<W.c&&0<W.i),1>=ie)m=0;else if(W.$a=Y[Z+0]>>0&3,W.Z=Y[Z+0]>>2&3,W.Lc=Y[Z+0]>>4&3,Z=Y[Z+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Z)m=0;else if(Me.put=Wn,Me.ac=ln,Me.bc=$i,Me.ma=W,Me.width=m.width,Me.height=m.height,Me.Da=m.Da,Me.v=m.v,Me.va=m.va,Me.j=m.j,Me.o=m.o,W.$a)e:{e(W.$a==1),m=Jr();t:for(;;){if(m==null){m=0;break e}if(e(W!=null),W.mc=m,m.c=W.c,m.i=W.i,m.l=W.l,m.l.ma=W,m.l.width=W.c,m.l.height=W.i,m.a=0,$(m.m,Y,Ee,Be),!Ji(W.c,W.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Ds(m.s)?(W.ic=1,Y=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(Y),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(W.ic=0,m=ho(m,W.c)),!m))break t;m=1;break e}W.mc=null,m=0}else m=Be>=W.c*W.i;W=!m}if(W)return null;d.ga.Lc!=1?d.Ga=0:U=z-C}e(d.ga!=null),e(C+U<=z);e:{if(m=(Y=d.ga).c,z=Y.l.o,Y.$a==0){if(Ee=d.rc,Be=d.Vc,Me=d.Fa,Z=d.P+1+C*m,ie=d.mb,he=d.nb+C*m,e(Z<=d.P+d.qc),Y.Z!=0)for(e(vA[Y.Z]!=null),W=0;W<U;++W)vA[Y.Z](Ee,Be,Me,Z,ie,he,m),Ee=ie,Be=he,he+=m,Z+=m;else for(W=0;W<U;++W)n(ie,he,Me,Z,m),Ee=ie,Be=he,he+=m,Z+=m;d.rc=Ee,d.Vc=Be}else{if(e(Y.mc!=null),m=C+U,e((W=Y.mc)!=null),e(m<=W.i),W.C>=m)m=1;else if(Y.ic||ye(),Y.ic){Y=W.V,Ee=W.Ba,Be=W.c;var Qe=W.i,fe=(Me=1,Z=W.$/Be,ie=W.$%Be,he=W.m,Ce=W.s,W.$),me=Be*Qe,De=Be*m,ze=Ce.wc,Oe=fe<De?Or(Ce,ie,Z):null;e(fe<=me),e(m<=Qe),e(Ds(Ce));t:for(;;){for(;!he.h&&fe<De;){if(ie&ze||(Oe=Or(Ce,ie,Z)),e(Oe!=null),ne(he),256>(Qe=un(Oe.G[0],Oe.H[0],he)))Y[Ee+fe]=Qe,++fe,++ie>=Be&&(ie=0,++Z<=m&&!(Z%16)&&Fi(W,Z));else{if(!(280>Qe)){Me=0;break t}Qe=Si(Qe-256,he);var ht,it=un(Oe.G[4],Oe.H[4],he);if(ne(he),!(fe>=(it=$n(Be,it=Si(it,he)))&&me-fe>=Qe)){Me=0;break t}for(ht=0;ht<Qe;++ht)Y[Ee+fe+ht]=Y[Ee+fe+ht-it];for(fe+=Qe,ie+=Qe;ie>=Be;)ie-=Be,++Z<=m&&!(Z%16)&&Fi(W,Z);fe<De&&ie&ze&&(Oe=Or(Ce,ie,Z))}e(he.h==G(he))}Fi(W,Z>m?m:Z);break t}!Me||he.h&&fe<me?(Me=0,W.a=he.h?5:3):W.$=fe,m=Me}else m=ci(W,W.V,W.Ba,W.c,W.i,m,fo);if(!m){U=0;break e}}C+U>=z&&(d.Cc=1),U=1}if(!U)return null;if(d.Cc&&((U=d.ga)!=null&&(U.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+C*V}function B(d,m,C,U,V,z){for(;0<V--;){var W,Y=d,Z=m+(C?1:0),ie=d,he=m+(C?0:3);for(W=0;W<U;++W){var Ce=ie[he+4*W];Ce!=255&&(Ce*=32897,Y[Z+4*W+0]=Y[Z+4*W+0]*Ce>>23,Y[Z+4*W+1]=Y[Z+4*W+1]*Ce>>23,Y[Z+4*W+2]=Y[Z+4*W+2]*Ce>>23)}m+=z}}function H(d,m,C,U,V){for(;0<U--;){var z;for(z=0;z<C;++z){var W=d[m+2*z+0],Y=15&(ie=d[m+2*z+1]),Z=4369*Y,ie=(240&ie|ie>>4)*Z>>16;d[m+2*z+0]=(240&W|W>>4)*Z>>16&240|(15&W|W<<4)*Z>>16>>4&15,d[m+2*z+1]=240&ie|Y}m+=V}}function se(d,m,C,U,V,z,W,Y){var Z,ie,he=255;for(ie=0;ie<V;++ie){for(Z=0;Z<U;++Z){var Ce=d[m+Z];z[W+4*Z]=Ce,he&=Ce}m+=C,W+=Y}return he!=255}function de(d,m,C,U,V){var z;for(z=0;z<V;++z)C[U+z]=d[m+z]>>8}function ye(){ws=B,gr=H,mr=se,Xr=de}function Ue(d,m,C){_[d]=function(U,V,z,W,Y,Z,ie,he,Ce,Ee,Be,Me,Qe,fe,me,De,ze){var Oe,ht=ze-1>>1,it=Y[Z+0]|ie[he+0]<<16,Et=Ce[Ee+0]|Be[Me+0]<<16;e(U!=null);var lt=3*it+Et+131074>>2;for(m(U[V+0],255&lt,lt>>16,Qe,fe),z!=null&&(lt=3*Et+it+131074>>2,m(z[W+0],255&lt,lt>>16,me,De)),Oe=1;Oe<=ht;++Oe){var Yt=Y[Z+Oe]|ie[he+Oe]<<16,nr=Ce[Ee+Oe]|Be[Me+Oe]<<16,qt=it+Yt+Et+nr+524296,jt=qt+2*(Yt+Et)>>3;lt=jt+it>>1,it=(qt=qt+2*(it+nr)>>3)+Yt>>1,m(U[V+2*Oe-1],255&lt,lt>>16,Qe,fe+(2*Oe-1)*C),m(U[V+2*Oe-0],255&it,it>>16,Qe,fe+(2*Oe-0)*C),z!=null&&(lt=qt+Et>>1,it=jt+nr>>1,m(z[W+2*Oe-1],255&lt,lt>>16,me,De+(2*Oe-1)*C),m(z[W+2*Oe+0],255&it,it>>16,me,De+(2*Oe+0)*C)),it=Yt,Et=nr}1&ze||(lt=3*it+Et+131074>>2,m(U[V+ze-1],255&lt,lt>>16,Qe,fe+(ze-1)*C),z!=null&&(lt=3*Et+it+131074>>2,m(z[W+ze-1],255&lt,lt>>16,me,De+(ze-1)*C)))}}function We(){Bs[Ug]=Z3,Bs[Lg]=j_,Bs[P_]=eL,Bs[Pg]=H_,Bs[Rg]=V_,Bs[qw]=K_,Bs[R_]=tL,Bs[Ww]=j_,Bs[$w]=H_,Bs[Dg]=V_,Bs[Jw]=K_}function ot(d){return d&-16384?0>d?0:255:d>>rL}function h(d,m){return ot((19077*d>>8)+(26149*m>>8)-14234)}function F(d,m,C){return ot((19077*d>>8)-(6419*m>>8)-(13320*C>>8)+8708)}function D(d,m){return ot((19077*d>>8)+(33050*m>>8)-17685)}function J(d,m,C,U,V){U[V+0]=h(d,C),U[V+1]=F(d,m,C),U[V+2]=D(d,m)}function ve(d,m,C,U,V){U[V+0]=D(d,m),U[V+1]=F(d,m,C),U[V+2]=h(d,C)}function Ie(d,m,C,U,V){var z=F(d,m,C);m=z<<3&224|D(d,m)>>3,U[V+0]=248&h(d,C)|z>>5,U[V+1]=m}function Xe(d,m,C,U,V){var z=240&D(d,m)|15;U[V+0]=240&h(d,C)|F(d,m,C)>>4,U[V+1]=z}function kt(d,m,C,U,V){U[V+0]=255,J(d,m,C,U,V+1)}function Mt(d,m,C,U,V){ve(d,m,C,U,V),U[V+3]=255}function Nt(d,m,C,U,V){J(d,m,C,U,V),U[V+3]=255}function Zt(d,m){return 0>d?0:d>m?m:d}function dr(d,m,C){_[d]=function(U,V,z,W,Y,Z,ie,he,Ce){for(var Ee=he+(-2&Ce)*C;he!=Ee;)m(U[V+0],z[W+0],Y[Z+0],ie,he),m(U[V+1],z[W+0],Y[Z+0],ie,he+C),V+=2,++W,++Z,he+=2*C;1&Ce&&m(U[V+0],z[W+0],Y[Z+0],ie,he)}}function Gs(d,m,C){return C==0?d==0?m==0?6:5:m==0?4:0:C}function Ln(d,m,C,U,V){switch(d>>>30){case 3:ca(m,C,U,V,0);break;case 2:Yr(m,C,U,V);break;case 1:pi(m,C,U,V)}}function xo(d,m){var C,U,V=m.M,z=m.Nb,W=d.oc,Y=d.pc+40,Z=d.oc,ie=d.pc+584,he=d.oc,Ce=d.pc+600;for(C=0;16>C;++C)W[Y+32*C-1]=129;for(C=0;8>C;++C)Z[ie+32*C-1]=129,he[Ce+32*C-1]=129;for(0<V?W[Y-1-32]=Z[ie-1-32]=he[Ce-1-32]=129:(i(W,Y-32-1,127,21),i(Z,ie-32-1,127,9),i(he,Ce-32-1,127,9)),U=0;U<d.za;++U){var Ee=m.ya[m.aa+U];if(0<U){for(C=-1;16>C;++C)n(W,Y+32*C-4,W,Y+32*C+12,4);for(C=-1;8>C;++C)n(Z,ie+32*C-4,Z,ie+32*C+4,4),n(he,Ce+32*C-4,he,Ce+32*C+4,4)}var Be=d.Gd,Me=d.Hd+U,Qe=Ee.ad,fe=Ee.Hc;if(0<V&&(n(W,Y-32,Be[Me].y,0,16),n(Z,ie-32,Be[Me].f,0,8),n(he,Ce-32,Be[Me].ea,0,8)),Ee.Za){var me=W,De=Y-32+16;for(0<V&&(U>=d.za-1?i(me,De,Be[Me].y[15],4):n(me,De,Be[Me+1].y,0,4)),C=0;4>C;C++)me[De+128+C]=me[De+256+C]=me[De+384+C]=me[De+0+C];for(C=0;16>C;++C,fe<<=2)me=W,De=Y+G_[C],qs[Ee.Ob[C]](me,De),Ln(fe,Qe,16*+C,me,De)}else if(me=Gs(U,V,Ee.Ob[0]),mA[me](W,Y),fe!=0)for(C=0;16>C;++C,fe<<=2)Ln(fe,Qe,16*+C,W,Y+G_[C]);for(C=Ee.Gc,me=Gs(U,V,Ee.Dd),ha[me](Z,ie),ha[me](he,Ce),fe=Qe,me=Z,De=ie,255&(Ee=C>>0)&&(170&Ee?Lh(fe,256,me,De):ms(fe,256,me,De)),Ee=he,fe=Ce,255&(C>>=8)&&(170&C?Lh(Qe,320,Ee,fe):ms(Qe,320,Ee,fe)),V<d.Ub-1&&(n(Be[Me].y,0,W,Y+480,16),n(Be[Me].f,0,Z,ie+224,8),n(Be[Me].ea,0,he,Ce+224,8)),C=8*z*d.B,Be=d.sa,Me=d.ta+16*U+16*z*d.R,Qe=d.qa,Ee=d.ra+8*U+C,fe=d.Ha,me=d.Ia+8*U+C,C=0;16>C;++C)n(Be,Me+C*d.R,W,Y+32*C,16);for(C=0;8>C;++C)n(Qe,Ee+C*d.B,Z,ie+32*C,8),n(fe,me+C*d.B,he,Ce+32*C,8)}}function _o(d,m,C,U,V,z,W,Y,Z){var ie=[0],he=[0],Ce=0,Ee=Z!=null?Z.kd:0,Be=Z??new lA;if(d==null||12>C)return 7;Be.data=d,Be.w=m,Be.ha=C,m=[m],C=[C],Be.gb=[Be.gb];e:{var Me=m,Qe=C,fe=Be.gb;if(e(d!=null),e(Qe!=null),e(fe!=null),fe[0]=0,12<=Qe[0]&&!r(d,Me[0],"RIFF")){if(r(d,Me[0]+8,"WEBP")){fe=3;break e}var me=Le(d,Me[0]+4);if(12>me||4294967286<me){fe=3;break e}if(Ee&&me>Qe[0]-8){fe=7;break e}fe[0]=me,Me[0]+=12,Qe[0]-=12}fe=0}if(fe!=0)return fe;for(me=0<Be.gb[0],C=C[0];;){e:{var De=d;Qe=m,fe=C;var ze=ie,Oe=he,ht=Me=[0];if((lt=Ce=[Ce])[0]=0,8>fe[0])fe=7;else{if(!r(De,Qe[0],"VP8X")){if(Le(De,Qe[0]+4)!=10){fe=3;break e}if(18>fe[0]){fe=7;break e}var it=Le(De,Qe[0]+8),Et=1+je(De,Qe[0]+12);if(2147483648<=Et*(De=1+je(De,Qe[0]+15))){fe=3;break e}ht!=null&&(ht[0]=it),ze!=null&&(ze[0]=Et),Oe!=null&&(Oe[0]=De),Qe[0]+=18,fe[0]-=18,lt[0]=1}fe=0}}if(Ce=Ce[0],Me=Me[0],fe!=0)return fe;if(Qe=!!(2&Me),!me&&Ce)return 3;if(z!=null&&(z[0]=!!(16&Me)),W!=null&&(W[0]=Qe),Y!=null&&(Y[0]=0),W=ie[0],Me=he[0],Ce&&Qe&&Z==null){fe=0;break}if(4>C){fe=7;break}if(me&&Ce||!me&&!Ce&&!r(d,m[0],"ALPH")){C=[C],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{it=d,fe=m,me=C;var lt=Be.gb;ze=Be.na,Oe=Be.P,ht=Be.Sa,Et=22,e(it!=null),e(me!=null),De=fe[0];var Yt=me[0];for(e(ze!=null),e(ht!=null),ze[0]=null,Oe[0]=null,ht[0]=0;;){if(fe[0]=De,me[0]=Yt,8>Yt){fe=7;break e}var nr=Le(it,De+4);if(4294967286<nr){fe=3;break e}var qt=8+nr+1&-2;if(Et+=qt,0<lt&&Et>lt){fe=3;break e}if(!r(it,De,"VP8 ")||!r(it,De,"VP8L")){fe=0;break e}if(Yt[0]<qt){fe=7;break e}r(it,De,"ALPH")||(ze[0]=it,Oe[0]=De+8,ht[0]=nr),De+=qt,Yt-=qt}}if(C=C[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],fe!=0)break}C=[C],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(lt=d,fe=m,me=C,ze=Be.gb[0],Oe=Be.Ja,ht=Be.xa,it=fe[0],De=!r(lt,it,"VP8 "),Et=!r(lt,it,"VP8L"),e(lt!=null),e(me!=null),e(Oe!=null),e(ht!=null),8>me[0])fe=7;else{if(De||Et){if(lt=Le(lt,it+4),12<=ze&&lt>ze-12){fe=3;break e}if(Ee&&lt>me[0]-8){fe=7;break e}Oe[0]=lt,fe[0]+=8,me[0]-=8,ht[0]=Et}else ht[0]=5<=me[0]&&lt[it+0]==47&&!(lt[it+4]>>5),Oe[0]=me[0];fe=0}if(C=C[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],m=m[0],fe!=0)break;if(4294967286<Be.Ja)return 3;if(Y==null||Qe||(Y[0]=Be.xa?2:1),W=[W],Me=[Me],Be.xa){if(5>C){fe=7;break}Y=W,Ee=Me,Qe=z,d==null||5>C?d=0:5<=C&&d[m+0]==47&&!(d[m+4]>>5)?(me=[0],lt=[0],ze=[0],$(Oe=new Q,d,m,C),mt(Oe,me,lt,ze)?(Y!=null&&(Y[0]=me[0]),Ee!=null&&(Ee[0]=lt[0]),Qe!=null&&(Qe[0]=ze[0]),d=1):d=0):d=0}else{if(10>C){fe=7;break}Y=Me,d==null||10>C||!Ml(d,m+3,C-3)?d=0:(Ee=d[m+0]|d[m+1]<<8|d[m+2]<<16,Qe=16383&(d[m+7]<<8|d[m+6]),d=16383&(d[m+9]<<8|d[m+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=Be.Ja||!Qe||!d?d=0:(W&&(W[0]=Qe),Y&&(Y[0]=d),d=1))}if(!d||(W=W[0],Me=Me[0],Ce&&(ie[0]!=W||he[0]!=Me)))return 3;Z!=null&&(Z[0]=Be,Z.offset=m-Z.w,e(4294967286>m-Z.w),e(Z.offset==Z.ha-C));break}return fe==0||fe==7&&Ce&&Z==null?(z!=null&&(z[0]|=Be.na!=null&&0<Be.na.length),U!=null&&(U[0]=W),V!=null&&(V[0]=Me),0):fe}function kh(d,m,C){var U=m.width,V=m.height,z=0,W=0,Y=U,Z=V;if(m.Da=d!=null&&0<d.Da,m.Da&&(Y=d.cd,Z=d.bd,z=d.v,W=d.j,11>C||(z&=-2,W&=-2),0>z||0>W||0>=Y||0>=Z||z+Y>U||W+Z>V))return 0;if(m.v=z,m.j=W,m.va=z+Y,m.o=W+Z,m.U=Y,m.T=Z,m.da=d!=null&&0<d.da,m.da){if(!bt(Y,Z,C=[d.ib],z=[d.hb]))return 0;m.ib=C[0],m.hb=z[0]}return m.ob=d!=null&&d.ob,m.Kb=d==null||!d.Sd,m.da&&(m.ob=m.ib<3*U/4&&m.hb<3*V/4,m.Kb=0),1}function Nh(d){if(d==null)return 2;if(11>d.S){var m=d.f.RGBA;m.fb+=(d.height-1)*m.A,m.A=-m.A}else m=d.f.kb,d=d.height,m.O+=(d-1)*m.fa,m.fa=-m.fa,m.N+=(d-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(d-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(d-1)*m.lb,m.lb=-m.lb);return 0}function Ec(d,m,C,U){if(U==null||0>=d||0>=m)return 2;if(C!=null){if(C.Da){var V=C.cd,z=C.bd,W=-2&C.v,Y=-2&C.j;if(0>W||0>Y||0>=V||0>=z||W+V>d||Y+z>m)return 2;d=V,m=z}if(C.da){if(!bt(d,m,V=[C.ib],z=[C.hb]))return 2;d=V[0],m=z[0]}}U.width=d,U.height=m;e:{var Z=U.width,ie=U.height;if(d=U.S,0>=Z||0>=ie||!(d>=Ug&&13>d))d=2;else{if(0>=U.Rd&&U.sd==null){W=z=V=m=0;var he=(Y=Z*q_[d])*ie;if(11>d||(z=(ie+1)/2*(m=(Z+1)/2),d==12&&(W=(V=Z)*ie)),(ie=s(he+2*z+W))==null){d=1;break e}U.sd=ie,11>d?((Z=U.f.RGBA).eb=ie,Z.fb=0,Z.A=Y,Z.size=he):((Z=U.f.kb).y=ie,Z.O=0,Z.fa=Y,Z.Fd=he,Z.f=ie,Z.N=0+he,Z.Ab=m,Z.Cd=z,Z.ea=ie,Z.W=0+he+z,Z.Db=m,Z.Ed=z,d==12&&(Z.F=ie,Z.J=0+he+2*z),Z.Tc=W,Z.lb=V)}if(m=1,V=U.S,z=U.width,W=U.height,V>=Ug&&13>V)if(11>V)d=U.f.RGBA,m&=(Y=Math.abs(d.A))*(W-1)+z<=d.size,m&=Y>=z*q_[V],m&=d.eb!=null;else{d=U.f.kb,Y=(z+1)/2,he=(W+1)/2,Z=Math.abs(d.fa),ie=Math.abs(d.Ab);var Ce=Math.abs(d.Db),Ee=Math.abs(d.lb),Be=Ee*(W-1)+z;m&=Z*(W-1)+z<=d.Fd,m&=ie*(he-1)+Y<=d.Cd,m=(m&=Ce*(he-1)+Y<=d.Ed)&Z>=z&ie>=Y&Ce>=Y,m&=d.y!=null,m&=d.f!=null,m&=d.ea!=null,V==12&&(m&=Ee>=z,m&=Be<=d.Tc,m&=d.F!=null)}else m=0;d=m?0:2}}return d!=0||C!=null&&C.fd&&(d=Nh(U)),d}var Pn=64,Ic=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sc=24,Fc=32,Qh=8,ki=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];be("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(d){return d},_.Predictor2=function(d,m,C){return m[C+0]},_.Predictor3=function(d,m,C){return m[C+1]},_.Predictor4=function(d,m,C){return m[C-1]},_.Predictor5=function(d,m,C){return Fe(Fe(d,m[C+1]),m[C+0])},_.Predictor6=function(d,m,C){return Fe(d,m[C-1])},_.Predictor7=function(d,m,C){return Fe(d,m[C+0])},_.Predictor8=function(d,m,C){return Fe(m[C-1],m[C+0])},_.Predictor9=function(d,m,C){return Fe(m[C+0],m[C+1])},_.Predictor10=function(d,m,C){return Fe(Fe(d,m[C-1]),Fe(m[C+0],m[C+1]))},_.Predictor11=function(d,m,C){var U=m[C+0];return 0>=Ge(U>>24&255,d>>24&255,(m=m[C-1])>>24&255)+Ge(U>>16&255,d>>16&255,m>>16&255)+Ge(U>>8&255,d>>8&255,m>>8&255)+Ge(255&U,255&d,255&m)?U:d},_.Predictor12=function(d,m,C){var U=m[C+0];return(Re((d>>24&255)+(U>>24&255)-((m=m[C-1])>>24&255))<<24|Re((d>>16&255)+(U>>16&255)-(m>>16&255))<<16|Re((d>>8&255)+(U>>8&255)-(m>>8&255))<<8|Re((255&d)+(255&U)-(255&m)))>>>0},_.Predictor13=function(d,m,C){var U=m[C-1];return(Pe((d=Fe(d,m[C+0]))>>24&255,U>>24&255)<<24|Pe(d>>16&255,U>>16&255)<<16|Pe(d>>8&255,U>>8&255)<<8|Pe(d>>0&255,U>>0&255))>>>0};var zw=_.PredictorAdd0;_.PredictorAdd1=Ve,be("Predictor2","PredictorAdd2"),be("Predictor3","PredictorAdd3"),be("Predictor4","PredictorAdd4"),be("Predictor5","PredictorAdd5"),be("Predictor6","PredictorAdd6"),be("Predictor7","PredictorAdd7"),be("Predictor8","PredictorAdd8"),be("Predictor9","PredictorAdd9"),be("Predictor10","PredictorAdd10"),be("Predictor11","PredictorAdd11"),be("Predictor12","PredictorAdd12"),be("Predictor13","PredictorAdd13");var Uh=_.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Sg,gs=_.ColorIndexInverseTransform,Tc=_.MapARGB,Fg=_.VP8LColorIndexInverseTransformAlpha,Tg=_.MapAlpha,hA=_.VP8LPredictorsAdd=[];hA.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Xl,Ni,fi,fA,la,ua,kc,ca,Yr,Lh,pi,ms,Nc,kg,Ph,Zl,eu,pA,tu,Qc,ru,gA,Rh,vs,ws,gr,mr,Xr,wn=s(511),da=s(2041),Dh=s(225),Uc=s(767),Ng=0,Gw=da,Qg=Dh,es=Uc,ys=wn,Ug=0,Lg=1,P_=2,Pg=3,Rg=4,qw=5,R_=6,Ww=7,$w=8,Dg=9,Jw=10,O3=[2,3,7],M3=[3,3,11],D_=[280,256,256,256,40],j3=[0,1,1,1,0],H3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],V3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],K3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],z3=8,Yw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Oh=null,G3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],q3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],O_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],W3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],J3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Y3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],mA=[],qs=[],ha=[],X3=1,M_=2,vA=[],Bs=[];Ue("UpsampleRgbLinePair",J,3),Ue("UpsampleBgrLinePair",ve,3),Ue("UpsampleRgbaLinePair",Nt,4),Ue("UpsampleBgraLinePair",Mt,4),Ue("UpsampleArgbLinePair",kt,4),Ue("UpsampleRgba4444LinePair",Xe,2),Ue("UpsampleRgb565LinePair",Ie,2);var Z3=_.UpsampleRgbLinePair,eL=_.UpsampleBgrLinePair,j_=_.UpsampleRgbaLinePair,H_=_.UpsampleBgraLinePair,V_=_.UpsampleArgbLinePair,K_=_.UpsampleRgba4444LinePair,tL=_.UpsampleRgb565LinePair,Og=16,Mg=1<<Og-1,Mh=-227,Zw=482,rL=6,z_=0,nL=s(256),iL=s(256),sL=s(256),oL=s(256),aL=s(Zw-Mh),AL=s(Zw-Mh);dr("YuvToRgbRow",J,3),dr("YuvToBgrRow",ve,3),dr("YuvToRgbaRow",Nt,4),dr("YuvToBgraRow",Mt,4),dr("YuvToArgbRow",kt,4),dr("YuvToRgba4444Row",Xe,2),dr("YuvToRgb565Row",Ie,2);var G_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jg=[0,2,8],lL=[8,7,6,4,4,2,2,2,1,1,1,1],uL=1;this.WebPDecodeRGBA=function(d,m,C,U,V){var z=Lg,W=new aa,Y=new tr;W.ba=Y,Y.S=z,Y.width=[Y.width],Y.height=[Y.height];var Z=Y.width,ie=Y.height,he=new Wi;if(he==null||d==null)var Ce=2;else e(he!=null),Ce=_o(d,m,C,he.width,he.height,he.Pd,he.Qd,he.format,null);if(Ce!=0?Z=0:(Z!=null&&(Z[0]=he.width[0]),ie!=null&&(ie[0]=he.height[0]),Z=1),Z){Y.width=Y.width[0],Y.height=Y.height[0],U!=null&&(U[0]=Y.width),V!=null&&(V[0]=Y.height);e:{if(U=new ta,(V=new lA).data=d,V.w=m,V.ha=C,V.kd=1,m=[0],e(V!=null),((d=_o(V.data,V.w,V.ha,null,null,null,m,null,V))==0||d==7)&&m[0]&&(d=4),(m=d)==0){if(e(W!=null),U.data=V.data,U.w=V.w+V.offset,U.ha=V.ha-V.offset,U.put=Wn,U.ac=ln,U.bc=$i,U.ma=W,V.xa){if((d=Jr())==null){W=1;break e}if(function(Ee,Be){var Me=[0],Qe=[0],fe=[0];t:for(;;){if(Ee==null)return 0;if(Be==null)return Ee.a=2,0;if(Ee.l=Be,Ee.a=0,$(Ee.m,Be.data,Be.w,Be.ha),!mt(Ee.m,Me,Qe,fe)){Ee.a=3;break t}if(Ee.xb=M_,Be.width=Me[0],Be.height=Qe[0],!Ji(Me[0],Qe[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0}(d,U)){if(U=(m=Ec(U.width,U.height,W.Oa,W.ba))==0){t:{U=d;r:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((C=U.l)!=null),e((V=C.ma)!=null),U.xb!=0){if(U.ca=V.ba,U.tb=V.tb,e(U.ca!=null),!kh(V.Oa,C,Pg)){U.a=2;break r}if(!ho(U,C.width)||C.da)break r;if((C.da||Bt(U.ca.S))&&ye(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&ye()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!He(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!ci(U,U.V,U.Ba,U.c,U.i,C.o,$a))break r;V.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(m=d.a)}else m=d.a}else{if((d=new Ol)==null){W=1;break e}if(d.Fa=V.na,d.P=V.P,d.qc=V.Sa,jl(d,U)){if((m=Ec(U.width,U.height,W.Oa,W.ba))==0){if(d.Aa=0,C=W.Oa,e((V=d)!=null),C!=null){if(0<(Z=0>(Z=C.Md)?0:100<Z?255:255*Z/100)){for(ie=he=0;4>ie;++ie)12>(Ce=V.pb[ie]).lc&&(Ce.ia=Z*lL[0>Ce.lc?0:Ce.lc]>>3),he|=Ce.ia;he&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=C.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}wc(d,U)||(m=d.a)}}else m=d.a}m==0&&W.Oa!=null&&W.Oa.fd&&(m=Nh(W.ba))}W=m}z=W!=0?null:11>z?Y.f.RGBA.eb:Y.f.kb.y}else z=null;return z};var q_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(_,k){for(var O="",E=0;E<4;E++)O+=String.fromCharCode(_[k++]);return O}function u(_,k){return(_[k+0]<<0|_[k+1]<<8|_[k+2]<<16)>>>0}function c(_,k){return(_[k+0]<<0|_[k+1]<<8|_[k+2]<<16|_[k+3]<<24)>>>0}new A;var f=[0],g=[0],v=[],b=new A,S=t,w=function(_,k){var O={},E=0,T=!1,N=0,X=0;if(O.frames=[],!function(j,G,ee,ne){for(var ae=0;ae<ne;ae++)if(j[G+ae]!=ee.charCodeAt(ae))return!0;return!1}(_,k,"RIFF",4)){var ce,te;for(c(_,k+=4),k+=8;k<_.length;){var K=l(_,k),$=c(_,k+=4);k+=4;var R=$+(1&$);switch(K){case"VP8 ":case"VP8L":O.frames[E]===void 0&&(O.frames[E]={}),(Q=O.frames[E]).src_off=T?X:k-8,Q.src_size=N+$+8,E++,T&&(T=!1,N=0,X=0);break;case"VP8X":(Q=O.header={}).feature_flags=_[k];var q=k+4;Q.canvas_width=1+u(_,q),q+=3,Q.canvas_height=1+u(_,q),q+=3;break;case"ALPH":T=!0,N=R+8,X=k-8;break;case"ANIM":(Q=O.header).bgcolor=c(_,k),q=k+4,Q.loop_count=(ce=_)[(te=q)+0]<<0|ce[te+1]<<8,q+=2;break;case"ANMF":var re,Q;(Q=O.frames[E]={}).offset_x=2*u(_,k),k+=3,Q.offset_y=2*u(_,k),k+=3,Q.width=1+u(_,k),k+=3,Q.height=1+u(_,k),k+=3,Q.duration=u(_,k),k+=3,re=_[k++],Q.dispose=1&re,Q.blend=re>>1&1}K!="ANMF"&&(k+=R)}return O}}(S,0);w.response=S,w.rgbaoutput=!0,w.dataurl=!1;var y=w.header?w.header:null,x=w.frames?w.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],g=[y.canvas_width];for(var L=0;L<x.length&&x[L].blend!=0;L++);}var P=x[0],M=b.WebPDecodeRGBA(S,P.src_off,P.src_size,g,f);P.rgba=M,P.imgwidth=g[0],P.imgheight=f[0];for(var I=0;I<g[0]*f[0]*4;I++)v[I]=M[I];return this.width=g,this.height=f,this.data=v,this}(function(t){var e=function(){return typeof VB=="function"},r=function(f,g,v,b){var S=4,w=o;switch(b){case t.image_compression.FAST:S=1,w=s;break;case t.image_compression.MEDIUM:S=6,w=a;break;case t.image_compression.SLOW:S=9,w=A}f=n(f,g,v,w);var y=VB(f,{level:S});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(f,g,v,b){for(var S,w,y,x=f.length/g,L=new Uint8Array(f.length+x),P=u(),M=0;M<x;M+=1){if(y=M*g,S=f.subarray(y,y+g),b)L.set(b(S,v,w),y+M);else{for(var I,_=P.length,k=[];I<_;I+=1)k[I]=P[I](S,v,w);var O=c(k.concat());L.set(k[O],y+M)}w=S}return L},i=function(f){var g=Array.apply([],f);return g.unshift(0),g},s=function(f,g){var v,b=[],S=f.length;b[0]=1;for(var w=0;w<S;w+=1)v=f[w-g]||0,b[w+1]=f[w]-v+256&255;return b},o=function(f,g,v){var b,S=[],w=f.length;S[0]=2;for(var y=0;y<w;y+=1)b=v&&v[y]||0,S[y+1]=f[y]-b+256&255;return S},a=function(f,g,v){var b,S,w=[],y=f.length;w[0]=3;for(var x=0;x<y;x+=1)b=f[x-g]||0,S=v&&v[x]||0,w[x+1]=f[x]+256-(b+S>>>1)&255;return w},A=function(f,g,v){var b,S,w,y,x=[],L=f.length;x[0]=4;for(var P=0;P<L;P+=1)b=f[P-g]||0,S=v&&v[P]||0,w=v&&v[P-g]||0,y=l(b,S,w),x[P+1]=f[P]-y+256&255;return x},l=function(f,g,v){if(f===g&&g===v)return f;var b=Math.abs(g-v),S=Math.abs(f-v),w=Math.abs(f+g-v-v);return b<=S&&b<=w?f:S<=w?g:v},u=function(){return[i,s,o,a,A]},c=function(f){var g=f.map(function(v){return v.reduce(function(b,S){return b+Math.abs(S)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(f,g,v,b){var S,w,y,x,L,P,M,I,_,k,O,E,T,N,X,ce=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new kY(f)).imgData,w=y.bits,S=y.colorSpace,L=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){_=(I=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,O=new Uint8Array(_*y.colors),k=new Uint8Array(_);var K,$=y.pixelBitlength-y.bits;for(N=0,X=0;N<_;N++){for(T=I[N],K=0;K<$;)O[X++]=T>>>K&255,K+=y.bits;k[N]=T>>>K&255}}if(y.bits===16){_=(I=new Uint32Array(y.decodePixels().buffer)).length,O=new Uint8Array(_*(32/y.pixelBitlength)*y.colors),k=new Uint8Array(_*(32/y.pixelBitlength)),E=y.colors>1,N=0,X=0;for(var R=0;N<_;)T=I[N++],O[X++]=T>>>0&255,E&&(O[X++]=T>>>16&255,T=I[N++],O[X++]=T>>>0&255),k[R++]=T>>>16&255;w=8}b!==t.image_compression.NONE&&e()?(f=r(O,y.width*y.colors,y.colors,b),M=r(k,y.width,1,b)):(f=O,M=k,ce=void 0)}if(y.colorType===3&&(S=this.color_spaces.INDEXED,P=y.palette,y.transparency.indexed)){var q=y.transparency.indexed,re=0;for(N=0,_=q.length;N<_;++N)re+=q[N];if((re/=255)===_-1&&q.indexOf(0)!==-1)x=[q.indexOf(0)];else if(re!==_){for(I=y.decodePixels(),k=new Uint8Array(I.length),N=0,_=I.length;N<_;N++)k[N]=q[I[N]];M=r(k,y.width,1)}}var Q=function(j){var G;switch(j){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(b);return ce===this.decode.FLATE_DECODE&&(te="/Predictor "+Q+" "),te+="/Colors "+L+" /BitsPerComponent "+w+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:v,data:f,index:g,filter:ce,decodeParameters:te,transparency:x,palette:P,sMask:M,predictor:Q,width:y.width,height:y.height,bitsPerComponent:w,colorSpace:S}}}})(It.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new NY(e),o=s.width,a=s.height,A=[];s.decodeAndBlitFrameRGBA(0,A);var l={data:A,width:o,height:a},u=new Ny(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(It.API),Ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ys.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){fr.log("bit decode error:"+r)}},Ys.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var A=this.palette[s>>7-a&1];this.data[o+4*a]=A.blue,this.data[o+4*a+1]=A.green,this.data[o+4*a+2]=A.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},Ys.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,a=s>>4,A=15&s,l=this.palette[a];if(this.data[o]=l.blue,this.data[o+1]=l.green,this.data[o+2]=l.red,this.data[o+3]=255,2*i+1>=this.width)break;l=this.palette[A],this.data[o+4]=l.blue,this.data[o+4+1]=l.green,this.data[o+4+2]=l.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ys.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ys.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,A=(s>>10&e)/e*255|0,l=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=A,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=l}this.pos+=t}},Ys.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,A=(o>>5&r)/r*255|0,l=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=l,this.data[u+1]=A,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Ys.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ys.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=o}},Ys.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Ys(e,!1),o=s.width,a=s.height,A={data:s.getData(),width:o,height:a},l=new Ny(100).encode(A,100);return t.processJPEG.call(this,l,r,n,i)}}(It.API),P4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new P4(e),o=s.width,a=s.height,A={data:s.getData(),width:o,height:a},l=new Ny(100).encode(A,100);return t.processJPEG.call(this,l,r,n,i)}}(It.API),It.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,A=0,l=0;l<i;l+=4){var u=n[l],c=n[l+1],f=n[l+2],g=n[l+3];s[a++]=u,s[a++]=c,s[a++]=f,o[A++]=g}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},It.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zc=It.API,Jm=Zc.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,A=a.fof?a.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=l.fof?l.fof:1,c=e.doKerning!==!1,f=0,g=t.length,v=0,b=a[0]||A,S=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(f=c&&or(l[n])==="object"&&!isNaN(parseInt(l[n][v],10))?l[n][v]/u:0,S.push((a[n]||b)/A+f)),v=n;return S},N4=Zc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Zc.processArabic&&(t=Zc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Jm.apply(this,arguments).reduce(function(s,o){return s+o},0)},Q4=function(t,e,r,n){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<r;)a+=e[s],s++;i.push(t.slice(0,s));var A=s;for(a=0;s!==o;)a+e[s]>n&&(i.push(t.slice(A,s)),a=0,A=s),a+=e[s],s++;return A!==s&&i.push(t.slice(A,s)),i},U4=function(t,e,r){r||(r={});var n,i,s,o,a,A,l,u=[],c=[u],f=r.textIndent||0,g=0,v=0,b=t.split(" "),S=Jm.apply(this,[" ",r])[0];if(A=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var w=Array(A).join(" "),y=[];b.map(function(L){(L=L.split(/\s*\n/)).length>1?y=y.concat(L.map(function(P,M){return(M&&P.length?`
`:"")+P})):y.push(L[0])}),b=y,A=N4.apply(this,[w,r])}for(s=0,o=b.length;s<o;s++){var x=0;if(n=b[s],A&&n[0]==`
`&&(n=n.substr(1),x=1),f+g+(v=(i=Jm.apply(this,[n,r])).reduce(function(L,P){return L+P},0))>e||x){if(v>e){for(a=Q4.apply(this,[n,i,e-(f+g),e]),u.push(a.shift()),u=[a.pop()];a.length;)c.push([a.shift()]);v=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(L,P){return L+P},0)}else u=[n];c.push(u),f=v+A,g=S}else u.push(n),f+=g+v,g=S}return l=A?function(L,P){return(P?w:"")+L.join(" ")}:function(L){return L.join(" ")},c.map(l)},Zc.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var c=this.internal.getFont(u.fontName,u.fontStyle);return c.metadata.Unicode?{widths:c.metadata.Unicode.widths||{0:1},kerning:c.metadata.Unicode.kerning||{}}:{font:c.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,A,l=[];for(a=0,A=n.length;a<A;a++)l=l.concat(U4.apply(this,[n[a],o,s]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(c){return"0x"+parseInt(c,10).toString(16)},o=t.__fontmetrics__.compress=function(c){var f,g,v,b,S=["{"];for(var w in c){if(f=c[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=s(w).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof f=="number")f<0?(v=s(f).slice(3),b="-"):(v=s(f).slice(2),b=""),v=b+v.slice(0,-1)+n[v.slice(-1)];else{if(or(f)!=="object")throw new Error("Don't know what to do with value type "+or(f)+".");v=o(f)}S.push(g+v)}return S.push("}"),S.join("")},a=t.__fontmetrics__.uncompress=function(c){if(typeof c!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,v,b,S={},w=1,y=S,x=[],L="",P="",M=c.length-1,I=1;I<M;I+=1)(b=c[I])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(b):b=="{"?(x.push([y,v]),y={},v=void 0):b=="}"?((g=x.pop())[0][g[1]]=y,v=void 0,y=g[0]):b=="-"?w=-1:v===void 0?r.hasOwnProperty(b)?(L+=r[b],v=parseInt(L,16)*w,w=1,L=""):L+=b:r.hasOwnProperty(b)?(P+=r[b],y[v]=parseInt(P,16)*w,w=1,v=void 0,P=""):P+=b;return S},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(c){var f=c.font,g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var v=l.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])}(It.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(rp(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(It),function(t){function e(){return(Ft.canvg?Promise.resolve(Ft.canvg):DB(()=>import("./index.es-6hy-zmAr.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}It.API.addSvgAsImage=function(r,n,i,s,o,a,A,l){if(isNaN(n)||isNaN(i))throw fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var c=u.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(v){return v.fromString(c,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),n,i,s,o,A,l)})}}(),It.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},It.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),A=[],l=0,u=0,c=0;function f(v,b){var S,w=!1;for(S=0;S<v.length;S+=1)v[S]===b&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(c=0;c<g;c+=1)r[a[c]].value=r[a[c]].defaultValue,r[a[c]].explicitSet=!1}if(or(t)==="object"){for(i in t)if(s=t[i],f(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&f(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(l=0;l<s.length;l+=1)if(n=!0,s[l].length===1&&typeof s[l][0]=="number")A.push(String(s[l]-1));else if(s[l].length>1){for(u=0;u<s[l].length;u+=1)typeof s[l][u]!="number"&&(n=!1);n===!0&&A.push([s[l][0]-1,s[l][1]-1].join(" "))}r[i].value="["+A.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,b=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?b.push("/"+v+" /"+r[v].value):b.push("/"+v+" "+r[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),l=s.length+o.length+a.length+i.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+A),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(It.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var a,A=o.metadata.Unicode.widths,l=["","0","00","000","0000"],u=[""],c=0,f=s.length;c<f;++c){if(a=o.metadata.characterToGlyph(s.charCodeAt(c)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(c),A.indexOf(a)==-1&&(A.push(a),A.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(l[4-a.length],a)}return u.join("")},n=function(s){var o,a,A,l,u,c,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],c=0,f=(a=Object.keys(s).sort(function(g,v){return g-v})).length;c<f;c++)o=a[c],A.length>=100&&(u+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(l=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+l+">"));return A.length&&(u+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,A=o.out,l=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var c=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",v=0;v<f.length;v++)g+=String.fromCharCode(f[v]);var b=l();u({data:g,addLength1:!0,objectId:b}),A("endobj");var S=l();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:S}),A("endobj");var w=l();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+Ad(a.fontName)),A("/FontFile2 "+b+" 0 R"),A("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),A("/Flags "+a.metadata.flags),A("/StemV "+a.metadata.stemV),A("/ItalicAngle "+a.metadata.italicAngle),A("/Ascent "+a.metadata.ascender),A("/Descent "+a.metadata.decender),A("/CapHeight "+a.metadata.capHeight),A(">>"),A("endobj");var y=l();A("<<"),A("/Type /Font"),A("/BaseFont /"+Ad(a.fontName)),A("/FontDescriptor "+w+" 0 R"),A("/W "+t.API.PDFObject.convert(c)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+a.encoding+")"),A(">>"),A(">>"),A("endobj"),a.objectNumber=l(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+S+" 0 R"),A("/BaseFont /"+Ad(a.fontName)),A("/Encoding /"+a.encoding),A("/DescendantFonts ["+y+" 0 R]"),A(">>"),A("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,A=o.out,l=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var c=a.metadata.rawData,f="",g=0;g<c.length;g++)f+=String.fromCharCode(c[g]);var v=l();u({data:f,addLength1:!0,objectId:v}),A("endobj");var b=l();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:b}),A("endobj");var S=l();A("<<"),A("/Descent "+a.metadata.decender),A("/CapHeight "+a.metadata.capHeight),A("/StemV "+a.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+v+" 0 R"),A("/Flags 96"),A("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),A("/FontName /"+Ad(a.fontName)),A("/ItalicAngle "+a.metadata.italicAngle),A("/Ascent "+a.metadata.ascender),A(">>"),A("endobj"),a.objectNumber=l();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Ad(a.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),A("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",A=s.x,l=s.y,u=s.options||{},c=s.mutex||{},f=c.pdfEscape,g=c.activeFontKey,v=c.fonts,b=g,S="",w=0,y="",x=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:a,x:A,y:l,options:u,mutex:c};for(y=a,b=g,Array.isArray(a)&&(y=a[0]),w=0;w<y.length;w+=1)v[b].metadata.hasOwnProperty("cmap")&&(o=v[b].metadata.cmap.unicode.codeMap[y[w].charCodeAt(0)]),o||y[w].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?S+=y[w]:S+="";var L="";return parseInt(b.slice(1))<14||x==="WinAnsiEncoding"?L=f(S,b).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(L=r(S,v[b])),c.isHex=!0,{text:L,x:A,y:l,options:u,mutex:c}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],A={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var l=0;for(l=0;l<o.length;l+=1)Array.isArray(o[l])&&o[l].length===3?a.push([i(Object.assign({},A,{text:o[l][0]})).text,o[l][1],o[l][2]]):a.push(i(Object.assign({},A,{text:o[l]})).text);s.text=a}else s.text=i(Object.assign({},A,{text:o})).text}])}(It),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(It.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,o,a,A,l,u,c=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,x=0;this.__bidiEngine__={};var L=function(E){var T=E.charCodeAt(),N=T>>8,X=b[N];return X!==void 0?c[256*X+(255&T)]:N===252||N===253?"AL":w.test(N)?"L":N===8?"R":"N"},P=function(E){for(var T,N=0;N<E.length;N++){if((T=L(E.charAt(N)))==="L")return!1;if(T==="R")return!0}return!1},M=function(E,T,N,X){var ce,te,K,$,R=T[X];switch(R){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(R="AN");break;case"AL":y=!0,R="R";break;case"WS":R="N";break;case"CS":X<1||X+1>=T.length||(ce=N[X-1])!=="EN"&&ce!=="AN"||(te=T[X+1])!=="EN"&&te!=="AN"?R="N":y&&(te="AN"),R=te===ce?te:"N";break;case"ES":R=(ce=X>0?N[X-1]:"B")==="EN"&&X+1<T.length&&T[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&N[X-1]==="EN"){R="EN";break}if(y){R="N";break}for(K=X+1,$=T.length;K<$&&T[K]==="ET";)K++;R=K<$&&T[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for($=T.length,K=X+1;K<$&&T[K]==="NSM";)K++;if(K<$){var q=E[X],re=q>=1425&&q<=2303||q===64286;if(ce=T[K],re&&(ce==="R"||ce==="AL")){R="R";break}}}R=X<1||(ce=T[X-1])==="B"?"N":N[X-1];break;case"B":y=!1,i=!0,R=x;break;case"S":s=!0,R="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":R="N"}return R},I=function(E,T,N){var X=E.split("");return N&&_(X,N,{hiLevel:x}),X.reverse(),T&&T.reverse(),X.join("")},_=function(E,T,N){var X,ce,te,K,$,R=-1,q=E.length,re=0,Q=[],j=x?g:f,G=[];for(y=!1,i=!1,s=!1,ce=0;ce<q;ce++)G[ce]=L(E[ce]);for(te=0;te<q;te++){if($=re,Q[te]=M(E,G,Q,te),X=240&(re=j[$][v[Q[te]]]),re&=15,T[te]=K=j[re][5],X>0)if(X===16){for(ce=R;ce<te;ce++)T[ce]=1;R=-1}else R=-1;if(j[re][6])R===-1&&(R=te);else if(R>-1){for(ce=R;ce<te;ce++)T[ce]=K;R=-1}G[te]==="B"&&(T[te]=0),N.hiLevel|=K}s&&function(ee,ne,ae){for(var ge=0;ge<ae;ge++)if(ee[ge]==="S"){ne[ge]=x;for(var we=ge-1;we>=0&&ee[we]==="WS";we--)ne[we]=x}}(G,T,q)},k=function(E,T,N,X,ce){if(!(ce.hiLevel<E)){if(E===1&&x===1&&!i)return T.reverse(),void(N&&N.reverse());for(var te,K,$,R,q=T.length,re=0;re<q;){if(X[re]>=E){for($=re+1;$<q&&X[$]>=E;)$++;for(R=re,K=$-1;R<K;R++,K--)te=T[R],T[R]=T[K],T[K]=te,N&&(te=N[R],N[R]=N[K],N[K]=te);re=$}re++}}},O=function(E,T,N){var X=E.split(""),ce={hiLevel:x};return N||(N=[]),_(X,N,ce),function(te,K,$){if($.hiLevel!==0&&u)for(var R,q=0;q<te.length;q++)K[q]===1&&(R=S.indexOf(te[q]))>=0&&(te[q]=S[R+1])}(X,N,ce),k(2,X,T,N,ce),k(1,X,T,N,ce),X.join("")};return this.__bidiEngine__.doBidiReorder=function(E,T,N){if(function(ce,te){if(te)for(var K=0;K<ce.length;K++)te[K]=K;a===void 0&&(a=P(ce)),l===void 0&&(l=P(ce))}(E,T),o||!A||l)if(o&&A&&a^l)x=a?1:0,E=I(E,T,N);else if(!o&&A&&l)x=a?1:0,E=O(E,T,N),E=I(E,T);else if(!o||a||A||l){if(o&&!A&&a^l)E=I(E,T),a?(x=0,E=O(E,T,N)):(x=1,E=O(E,T,N),E=I(E,T));else if(o&&a&&!A&&l)x=1,E=O(E,T,N),E=I(E,T);else if(!o&&!A&&a^l){var X=u;a?(x=1,E=O(E,T,N),x=0,u=!1,E=O(E,T,N),u=X):(x=0,E=O(E,T,N),E=I(E,T),x=1,u=!1,E=O(E,T,N),u=X,E=I(E,T))}}else x=0,E=O(E,T,N);else x=a?1:0,E=O(E,T,N);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,A=E.isOutputVisual,a=E.isInputRtl,l=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),o=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([r.doBidiReorder(i[a])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(It),It.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new El(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new qY(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new QY(this.contents),this.head=new LY(this),this.name=new MY(this),this.cmap=new U3(this),this.toUnicode={},this.hhea=new PY(this),this.maxp=new jY(this),this.hmtx=new HY(this),this.post=new DY(this),this.os2=new RY(this),this.loca=new GY(this),this.glyf=new VY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,A,l;for(l=[],o=0,a=(A=this.bbox).length;o<a;o++)e=A[o],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var co,El=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,o,a,A;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),A=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^A)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*a+A},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),QY=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,o,a,A,l,u,c,f,g,v,b;for(b in g=Object.keys(r).length,A=Math.log(2),c=16*Math.floor(Math.log(g)/A),o=Math.floor(c/A),u=16*g-c,(i=new El).writeInt(this.scalarType),i.writeShort(g),i.writeShort(c),i.writeShort(o),i.writeShort(u),s=16*g,l=i.pos+s,a=null,v=[],r)for(f=r[b],i.writeString(b),i.writeInt(t(f)),i.writeInt(l),i.writeInt(f.length),v=v.concat(f),b==="head"&&(a=l),l+=f.length;l%4;)v.push(0),l++;return i.write(v),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,o;for(r=L3.call(r);r.length%4;)r.push(0);for(s=new El(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),UY={}.hasOwnProperty,Yo=function(t,e){for(var r in e)UY.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};co=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var LY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new El).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),R4=function(){function t(e,r){var n,i,s,o,a,A,l,u,c,f,g,v,b,S,w,y,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=e.readByte();break;case 4:for(g=e.readUInt16(),f=g/2,e.pos+=6,s=function(){var L,P;for(P=[],A=L=0;0<=f?L<f:L>f;A=0<=f?++L:--L)P.push(e.readUInt16());return P}(),e.pos+=2,b=function(){var L,P;for(P=[],A=L=0;0<=f?L<f:L>f;A=0<=f?++L:--L)P.push(e.readUInt16());return P}(),l=function(){var L,P;for(P=[],A=L=0;0<=f?L<f:L>f;A=0<=f?++L:--L)P.push(e.readUInt16());return P}(),u=function(){var L,P;for(P=[],A=L=0;0<=f?L<f:L>f;A=0<=f?++L:--L)P.push(e.readUInt16());return P}(),i=(this.length-e.pos+this.offset)/2,a=function(){var L,P;for(P=[],A=L=0;0<=i?L<i:L>i;A=0<=i?++L:--L)P.push(e.readUInt16());return P}(),A=w=0,x=s.length;w<x;A=++w)for(S=s[A],n=y=v=b[A];v<=S?y<=S:y>=S;n=v<=S?++y:--y)u[A]===0?o=n+l[A]:(o=a[u[A]/2+(n-v)-(f-A)]||0)!==0&&(o+=l[A]),this.codeMap[n]=65535&o}e.pos=c}return t.encode=function(e,r){var n,i,s,o,a,A,l,u,c,f,g,v,b,S,w,y,x,L,P,M,I,_,k,O,E,T,N,X,ce,te,K,$,R,q,re,Q,j,G,ee,ne,ae,ge,we,Te,Ne,je;switch(X=new El,o=Object.keys(e).sort(function(Le,He){return Le-He}),r){case"macroman":for(b=0,S=function(){var Le=[];for(v=0;v<256;++v)Le.push(0);return Le}(),y={0:0},s={},ce=0,R=o.length;ce<R;ce++)y[we=e[i=o[ce]]]==null&&(y[we]=++b),s[i]={old:e[i],new:y[e[i]]},S[i]=y[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(S),{charMap:s,subtable:X.data,maxGlyphID:b+1};case"unicode":for(T=[],c=[],x=0,y={},n={},w=l=null,te=0,q=o.length;te<q;te++)y[P=e[i=o[te]]]==null&&(y[P]=++x),n[i]={old:P,new:y[P]},a=y[P]-i,w!=null&&a===l||(w&&c.push(w),T.push(i),l=a),w=i;for(w&&c.push(w),c.push(65535),T.push(65535),O=2*(k=T.length),_=2*Math.pow(Math.log(k)/Math.LN2,2),f=Math.log(_/2)/Math.LN2,I=2*k-_,A=[],M=[],g=[],v=K=0,re=T.length;K<re;v=++K){if(E=T[v],u=c[v],E===65535){A.push(0),M.push(0);break}if(E-(N=n[E].new)>=32768)for(A.push(0),M.push(2*(g.length+k-v)),i=$=E;E<=u?$<=u:$>=u;i=E<=u?++$:--$)g.push(n[i].new);else A.push(N-E),M.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*k+2*g.length),X.writeUInt16(0),X.writeUInt16(O),X.writeUInt16(_),X.writeUInt16(f),X.writeUInt16(I),ae=0,Q=c.length;ae<Q;ae++)i=c[ae],X.writeUInt16(i);for(X.writeUInt16(0),ge=0,j=T.length;ge<j;ge++)i=T[ge],X.writeUInt16(i);for(Te=0,G=A.length;Te<G;Te++)a=A[Te],X.writeUInt16(a);for(Ne=0,ee=M.length;Ne<ee;Ne++)L=M[Ne],X.writeUInt16(L);for(je=0,ne=g.length;je<ne;je++)b=g[je],X.writeUInt16(b);return{charMap:n,subtable:X.data,maxGlyphID:x+1}}},t}(),U3=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new R4(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=R4.encode(r,n),(s=new El).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),PY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),RY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),DY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(i=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var a,A,l;for(l=[],o=a=0,A=this.file.maxp.numGlyphs;0<=A?a<A:a>A;o=0<=A?++a:--a)l.push(r.readUInt32());return l}).call(this)}},e}(),OY=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},MY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,o,a,A,l,u,c,f,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),A=r.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+A+r.readShort()});for(l={},o=c=0,f=i.length;c<f;o=++c)s=i[o],r.pos=s.offset,u=r.readString(s.length),a=new OY(u,s),l[g=s.nameID]==null&&(l[g]=[]),l[s.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),jY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),HY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,o,a,A,l;for(r.pos=this.offset,this.metrics=[],n=0,A=this.file.hhea.numberOfMetrics;0<=A?n<A:n>A;n=0<=A?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)c.push(r.readInt16());return c}(),this.widths=(function(){var u,c,f,g;for(g=[],u=0,c=(f=this.metrics).length;u<c;u++)o=f[u],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],l=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)l.push(this.widths.push(i));return l},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),L3=[].slice,VY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,o,a,A,l,u,c,f;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,a=(A=new El(n.read(s))).readShort(),u=A.readShort(),f=A.readShort(),l=A.readShort(),c=A.readShort(),this.cache[r]=a===-1?new zY(A,u,f,l,c):new KY(A,a,u,f,l,c),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,o,a,A,l;for(a=[],o=[],A=0,l=n.length;A<l;A++)s=r[n[A]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),KY=function(){function t(e,r,n,i,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),zY=function(){function t(e,r,n,i,s){var o,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new El(L3.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),GY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,co),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<n.length&&n[o]==a){++o,i[a]=s;var A=this.offsets[a],l=this.offsets[a+1]-A;l>0&&(s+=l)}for(var u=new Array(4*i.length),c=0;c<i.length;++c)u[4*c+3]=255&i[c],u[4*c+2]=(65280&i[c])>>8,u[4*c+1]=(16711680&i[c])>>16,u[4*c]=(4278190080&i[c])>>24;return u},e}(),qY=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,o,a,A;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in A=this.glyphsFor(r))n=A[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,o,a,A,l,u,c,f,g,v,b,S,w;for(i in n=U3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},w=n.charMap)g[(A=w[i]).old]=A.new;for(v in f=n.maxGlyphID,o)v in g||(g[v]=f++);return u=function(y){var x,L;for(x in L={},y)L[y[x]]=x;return L}(g),c=Object.keys(u).sort(function(y,x){return y-x}),b=function(){var y,x,L;for(L=[],y=0,x=c.length;y<x;y++)a=c[y],L.push(u[a]);return L}(),s=this.font.glyf.encode(o,b,g),l=this.font.loca.encode(s.offsets,b),S={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t}();It.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var a,A,l;for(l=[],a=0,A=r.length;a<A;a++)n=r[a],l.push(e.convert(n));return l}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e}();const WY=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:CY,AcroFormAppearance:yt,AcroFormButton:Bn,AcroFormCheckBox:sp,AcroFormChoiceField:Pu,AcroFormComboBox:Du,AcroFormEditBox:np,AcroFormListBox:Ru,AcroFormPasswordField:op,AcroFormPushButton:ip,AcroFormRadioButton:Ou,AcroFormTextField:ul,GState:Zp,ShadingPattern:MA,TilingPattern:Iu,default:It,jsPDF:It},Symbol.toStringTag,{value:"Module"}));var $Y={exports:{}};const JY=xL(WY);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(n,i){t.exports=i(function(){try{return JY}catch{}}())})(typeof globalThis<"u"?globalThis:typeof l1<"u"?l1:typeof window<"u"?window:typeof self<"u"?self:l1,function(r){return function(){var n={172:function(a,A){var l=this&&this.__extends||function(){var f=function(g,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(b[w]=S[w])},f(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");f(g,v);function b(){this.constructor=g}g.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.CellHookData=A.HookData=void 0;var u=function(){function f(g,v,b){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=b,this.doc=g.getDocument()}return f}();A.HookData=u;var c=function(f){l(g,f);function g(v,b,S,w,y,x){var L=f.call(this,v,b,x)||this;return L.cell=S,L.row=w,L.column=y,L.section=w.section,L}return g}(u);A.CellHookData=c},340:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0});var u=l(4),c=l(136),f=l(744),g=l(776),v=l(664),b=l(972);function S(w){w.API.autoTable=function(){for(var y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];var L;y.length===1?L=y[0]:(console.error("Use of deprecated autoTable initiation"),L=y[2]||{},L.columns=y[0],L.body=y[1]);var P=(0,g.parseInput)(this,L),M=(0,b.createTable)(this,P);return(0,v.drawTable)(this,M),this},w.API.lastAutoTable=!1,w.API.previousAutoTable=!1,w.API.autoTable.previous=!1,w.API.autoTableText=function(y,x,L,P){(0,c.default)(y,x,L,P,this)},w.API.autoTableSetDefaults=function(y){return f.DocHandler.setDefaults(y,this),this},w.autoTableSetDefaults=function(y,x){f.DocHandler.setDefaults(y,x)},w.API.autoTableHtmlToJson=function(y,x){var L;if(x===void 0&&(x=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var P=new f.DocHandler(this),M=(0,u.parseHtml)(P,y,window,x,!1),I=M.head,_=M.body,k=((L=I[0])===null||L===void 0?void 0:L.map(function(O){return O.content}))||[];return{columns:k,rows:_,data:_}},w.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},w.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),w.API.autoTable.globalDefaults||(w.API.autoTable.globalDefaults={}),w.API.autoTable.globalDefaults.addPageContent=y,this},w.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}A.default=S},136:function(a,A){Object.defineProperty(A,"__esModule",{value:!0});function l(u,c,f,g,v){g=g||{};var b=1.15,S=v.internal.scaleFactor,w=v.internal.getFontSize()/S,y=v.getLineHeightFactor?v.getLineHeightFactor():b,x=w*y,L=/\r\n|\r|\n/g,P="",M=1;if((g.valign==="middle"||g.valign==="bottom"||g.halign==="center"||g.halign==="right")&&(P=typeof u=="string"?u.split(L):u,M=P.length||1),f+=w*(2-b),g.valign==="middle"?f-=M/2*x:g.valign==="bottom"&&(f-=M*x),g.halign==="center"||g.halign==="right"){var I=w;if(g.halign==="center"&&(I*=.5),P&&M>=1){for(var _=0;_<P.length;_++)v.text(P[_],c-v.getStringUnitWidth(P[_])*I,f),f+=x;return v}c-=v.getStringUnitWidth(u)*I}return g.halign==="justify"?v.text(u,c,f,{maxWidth:g.maxWidth||100,align:"justify"}):v.text(u,c,f),v}A.default=l},420:function(a,A){Object.defineProperty(A,"__esModule",{value:!0}),A.getPageAvailableWidth=A.parseSpacing=A.getFillStyle=A.addTableBorder=A.getStringWidth=void 0;function l(v,b,S){S.applyStyles(b,!0);var w=Array.isArray(v)?v:[v],y=w.map(function(x){return S.getTextWidth(x)}).reduce(function(x,L){return Math.max(x,L)},0);return y}A.getStringWidth=l;function u(v,b,S,w){var y=b.settings.tableLineWidth,x=b.settings.tableLineColor;v.applyStyles({lineWidth:y,lineColor:x});var L=c(y,!1);L&&v.rect(S.x,S.y,b.getWidth(v.pageSize().width),w.y-S.y,L)}A.addTableBorder=u;function c(v,b){var S=v>0,w=b||b===0;return S&&w?"DF":S?"S":w?"F":null}A.getFillStyle=c;function f(v,b){var S,w,y,x;if(v=v||b,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=b}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(S=v.left)!==null&&S!==void 0?S:b,top:(w=v.top)!==null&&w!==void 0?w:b,right:(y=v.right)!==null&&y!==void 0?y:b,bottom:(x=v.bottom)!==null&&x!==void 0?x:b}):(typeof v!="number"&&(v=b),{top:v,right:v,bottom:v,left:v})}A.parseSpacing=f;function g(v,b){var S=f(b.settings.margin,0);return v.pageSize().width-(S.left+S.right)}A.getPageAvailableWidth=g},796:function(a,A){var l=this&&this.__extends||function(){var g=function(v,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,w){S.__proto__=w}||function(S,w){for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(S[y]=w[y])},g(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(v,b);function S(){this.constructor=v}v.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.getTheme=A.defaultStyles=A.HtmlRowInput=void 0;var u=function(g){l(v,g);function v(b){var S=g.call(this)||this;return S._element=b,S}return v}(Array);A.HtmlRowInput=u;function c(g){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/g,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}A.defaultStyles=c;function f(g){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[g]}A.getTheme=f},903:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.parseCss=void 0;var u=l(420);function c(S,w,y,x,L){var P={},M=1.3333333333333333,I=g(w,function(R){return L.getComputedStyle(R).backgroundColor});I!=null&&(P.fillColor=I);var _=g(w,function(R){return L.getComputedStyle(R).color});_!=null&&(P.textColor=_);var k=b(x,y);k&&(P.cellPadding=k);var O="borderTopColor",E=M*y,T=x.borderTopWidth;if(x.borderBottomWidth===T&&x.borderRightWidth===T&&x.borderLeftWidth===T){var N=(parseFloat(T)||0)/E;N&&(P.lineWidth=N)}else P.lineWidth={top:(parseFloat(x.borderTopWidth)||0)/E,right:(parseFloat(x.borderRightWidth)||0)/E,bottom:(parseFloat(x.borderBottomWidth)||0)/E,left:(parseFloat(x.borderLeftWidth)||0)/E},P.lineWidth.top||(P.lineWidth.right?O="borderRightColor":P.lineWidth.bottom?O="borderBottomColor":P.lineWidth.left&&(O="borderLeftColor"));var X=g(w,function(R){return L.getComputedStyle(R)[O]});X!=null&&(P.lineColor=X);var ce=["left","right","center","justify"];ce.indexOf(x.textAlign)!==-1&&(P.halign=x.textAlign),ce=["middle","bottom","top"],ce.indexOf(x.verticalAlign)!==-1&&(P.valign=x.verticalAlign);var te=parseInt(x.fontSize||"");isNaN(te)||(P.fontSize=te/M);var K=f(x);K&&(P.fontStyle=K);var $=(x.fontFamily||"").toLowerCase();return S.indexOf($)!==-1&&(P.font=$),P}A.parseCss=c;function f(S){var w="";return(S.fontWeight==="bold"||S.fontWeight==="bolder"||parseInt(S.fontWeight)>=700)&&(w="bold"),(S.fontStyle==="italic"||S.fontStyle==="oblique")&&(w+="italic"),w}function g(S,w){var y=v(S,w);if(!y)return null;var x=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!x||!Array.isArray(x))return null;var L=[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])],P=parseInt(x[4]);return P===0||isNaN(L[0])||isNaN(L[1])||isNaN(L[2])?null:L}function v(S,w){var y=w(S);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?S.parentElement==null?null:v(S.parentElement,w):y}function b(S,w){var y=[S.paddingTop,S.paddingRight,S.paddingBottom,S.paddingLeft],x=96/(72/w),L=(parseInt(S.lineHeight)-parseInt(S.fontSize))/w/2,P=y.map(function(I){return parseInt(I||"0")/x}),M=(0,u.parseSpacing)(P,0);return L>M.top&&(M.top=L),L>M.bottom&&(M.bottom=L),M}},744:function(a,A){Object.defineProperty(A,"__esModule",{value:!0}),A.DocHandler=void 0;var l={},u=function(){function c(f){this.jsPDFDocument=f,this.userStyles={textColor:f.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:f.internal.getFontSize(),fontStyle:f.internal.getFont().fontStyle,font:f.internal.getFont().fontName,lineWidth:f.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:f.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return c.setDefaults=function(f,g){g===void 0&&(g=null),g?g.__autoTableDocumentDefaults=f:l=f},c.unifyColor=function(f){return Array.isArray(f)?f:typeof f=="number"?[f,f,f]:typeof f=="string"?[f]:null},c.prototype.applyStyles=function(f,g){var v,b,S;g===void 0&&(g=!1),f.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(f.fontStyle);var w=this.jsPDFDocument.internal.getFont(),y=w.fontStyle,x=w.fontName;if(f.font&&(x=f.font),f.fontStyle){y=f.fontStyle;var L=this.getFontList()[x];L&&L.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(L[0]),y=L[0])}if(this.jsPDFDocument.setFont(x,y),f.fontSize&&this.jsPDFDocument.setFontSize(f.fontSize),!g){var P=c.unifyColor(f.fillColor);P&&(v=this.jsPDFDocument).setFillColor.apply(v,P),P=c.unifyColor(f.textColor),P&&(b=this.jsPDFDocument).setTextColor.apply(b,P),P=c.unifyColor(f.lineColor),P&&(S=this.jsPDFDocument).setDrawColor.apply(S,P),typeof f.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(f.lineWidth)}},c.prototype.splitTextToSize=function(f,g,v){return this.jsPDFDocument.splitTextToSize(f,g,v)},c.prototype.rect=function(f,g,v,b,S){return this.jsPDFDocument.rect(f,g,v,b,S)},c.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},c.prototype.getTextWidth=function(f){return this.jsPDFDocument.getTextWidth(f)},c.prototype.getDocument=function(){return this.jsPDFDocument},c.prototype.setPage=function(f){this.jsPDFDocument.setPage(f)},c.prototype.addPage=function(){return this.jsPDFDocument.addPage()},c.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},c.prototype.getGlobalOptions=function(){return l||{}},c.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},c.prototype.pageSize=function(){var f=this.jsPDFDocument.internal.pageSize;return f.width==null&&(f={width:f.getWidth(),height:f.getHeight()}),f},c.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},c.prototype.getLineHeightFactor=function(){var f=this.jsPDFDocument;return f.getLineHeightFactor?f.getLineHeightFactor():1.15},c.prototype.getLineHeight=function(f){return f/this.scaleFactor()*this.getLineHeightFactor()},c.prototype.pageNumber=function(){var f=this.jsPDFDocument.internal.getCurrentPageInfo();return f?f.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},c}();A.DocHandler=u},4:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.parseHtml=void 0;var u=l(903),c=l(796);function f(b,S,w,y,x){var L,P;y===void 0&&(y=!1),x===void 0&&(x=!1);var M;typeof S=="string"?M=w.document.querySelector(S):M=S;var I=Object.keys(b.getFontList()),_=b.scaleFactor(),k=[],O=[],E=[];if(!M)return console.error("Html table could not be found with input: ",S),{head:k,body:O,foot:E};for(var T=0;T<M.rows.length;T++){var N=M.rows[T],X=(P=(L=N==null?void 0:N.parentElement)===null||L===void 0?void 0:L.tagName)===null||P===void 0?void 0:P.toLowerCase(),ce=g(I,_,w,N,y,x);ce&&(X==="thead"?k.push(ce):X==="tfoot"?E.push(ce):O.push(ce))}return{head:k,body:O,foot:E}}A.parseHtml=f;function g(b,S,w,y,x,L){for(var P=new c.HtmlRowInput(y),M=0;M<y.cells.length;M++){var I=y.cells[M],_=w.getComputedStyle(I);if(x||_.display!=="none"){var k=void 0;L&&(k=(0,u.parseCss)(b,I,S,_,w)),P.push({rowSpan:I.rowSpan,colSpan:I.colSpan,styles:k,_element:I,content:v(I)})}}var O=w.getComputedStyle(y);if(P.length>0&&(x||O.display!=="none"))return P}function v(b){var S=b.cloneNode(!0);return S.innerHTML=S.innerHTML.replace(/\n/g,"").replace(/ +/g," "),S.innerHTML=S.innerHTML.split(/<br.*?>/).map(function(w){return w.trim()}).join(`
`),S.innerText||S.textContent||""}},776:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.parseInput=void 0;var u=l(4),c=l(356),f=l(420),g=l(744),v=l(792);function b(M,I){var _=new g.DocHandler(M),k=_.getDocumentOptions(),O=_.getGlobalOptions();(0,v.default)(_,O,k,I);var E=(0,c.assign)({},O,k,I),T;typeof window<"u"&&(T=window);var N=S(O,k,I),X=w(O,k,I),ce=y(_,E),te=L(_,E,T);return{id:I.tableId,content:te,hooks:X,styles:N,settings:ce}}A.parseInput=b;function S(M,I,_){for(var k={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},O=function(X){if(X==="columnStyles"){var ce=M[X],te=I[X],K=_[X];k.columnStyles=(0,c.assign)({},ce,te,K)}else{var $=[M,I,_],R=$.map(function(q){return q[X]||{}});k[X]=(0,c.assign)({},R[0],R[1],R[2])}},E=0,T=Object.keys(k);E<T.length;E++){var N=T[E];O(N)}return k}function w(M,I,_){for(var k=[M,I,_],O={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},E=0,T=k;E<T.length;E++){var N=T[E];N.didParseCell&&O.didParseCell.push(N.didParseCell),N.willDrawCell&&O.willDrawCell.push(N.willDrawCell),N.didDrawCell&&O.didDrawCell.push(N.didDrawCell),N.willDrawPage&&O.willDrawPage.push(N.willDrawPage),N.didDrawPage&&O.didDrawPage.push(N.didDrawPage)}return O}function y(M,I){var _,k,O,E,T,N,X,ce,te,K,$,R,q=(0,f.parseSpacing)(I.margin,40/M.scaleFactor()),re=(_=x(M,I.startY))!==null&&_!==void 0?_:q.top,Q;I.showFoot===!0?Q="everyPage":I.showFoot===!1?Q="never":Q=(k=I.showFoot)!==null&&k!==void 0?k:"everyPage";var j;I.showHead===!0?j="everyPage":I.showHead===!1?j="never":j=(O=I.showHead)!==null&&O!==void 0?O:"everyPage";var G=(E=I.useCss)!==null&&E!==void 0?E:!1,ee=I.theme||(G?"plain":"striped"),ne=!!I.horizontalPageBreak,ae=(T=I.horizontalPageBreakRepeat)!==null&&T!==void 0?T:null;return{includeHiddenHtml:(N=I.includeHiddenHtml)!==null&&N!==void 0?N:!1,useCss:G,theme:ee,startY:re,margin:q,pageBreak:(X=I.pageBreak)!==null&&X!==void 0?X:"auto",rowPageBreak:(ce=I.rowPageBreak)!==null&&ce!==void 0?ce:"auto",tableWidth:(te=I.tableWidth)!==null&&te!==void 0?te:"auto",showHead:j,showFoot:Q,tableLineWidth:(K=I.tableLineWidth)!==null&&K!==void 0?K:0,tableLineColor:($=I.tableLineColor)!==null&&$!==void 0?$:200,horizontalPageBreak:ne,horizontalPageBreakRepeat:ae,horizontalPageBreakBehaviour:(R=I.horizontalPageBreakBehaviour)!==null&&R!==void 0?R:"afterAllRows"}}function x(M,I){var _=M.getLastAutoTable(),k=M.scaleFactor(),O=M.pageNumber(),E=!1;if(_&&_.startPageNumber){var T=_.startPageNumber+_.pageNumber-1;E=T===O}return typeof I=="number"?I:(I==null||I===!1)&&E&&(_==null?void 0:_.finalY)!=null?_.finalY+20/k:null}function L(M,I,_){var k=I.head||[],O=I.body||[],E=I.foot||[];if(I.html){var T=I.includeHiddenHtml;if(_){var N=(0,u.parseHtml)(M,I.html,_,T,I.useCss)||{};k=N.head||k,O=N.body||k,E=N.foot||k}else console.error("Cannot parse html in non browser environment")}var X=I.columns||P(k,O,E);return{columns:X,head:k,body:O,foot:E}}function P(M,I,_){var k=M[0]||I[0]||_[0]||[],O=[];return Object.keys(k).filter(function(E){return E!=="_element"}).forEach(function(E){var T=1,N;Array.isArray(k)?N=k[parseInt(E)]:N=k[E],typeof N=="object"&&!Array.isArray(N)&&(T=(N==null?void 0:N.colSpan)||1);for(var X=0;X<T;X++){var ce=void 0;Array.isArray(k)?ce=O.length:ce=E+(X>0?"_".concat(X):"");var te={dataKey:ce};O.push(te)}}),O}},792:function(a,A){Object.defineProperty(A,"__esModule",{value:!0});function l(c,f,g,v){for(var b=function(x){x&&typeof x!="object"&&console.error("The options parameter should be of type object, is: "+typeof x),typeof x.extendWidth<"u"&&(x.tableWidth=x.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof x.margins<"u"&&(typeof x.margin>"u"&&(x.margin=x.margins),console.error("Use of deprecated option: margins, use margin instead.")),x.startY&&typeof x.startY!="number"&&(console.error("Invalid value for startY option",x.startY),delete x.startY),!x.didDrawPage&&(x.afterPageContent||x.beforePageContent||x.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),x.didDrawPage=function(E){c.applyStyles(c.userStyles),x.beforePageContent&&x.beforePageContent(E),c.applyStyles(c.userStyles),x.afterPageContent&&x.afterPageContent(E),c.applyStyles(c.userStyles),x.afterPageAdd&&E.pageNumber>1&&E.afterPageAdd(E),c.applyStyles(c.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(E){x[E]&&console.error('The "'.concat(E,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(E){var T=E[0],N=E[1];x[N]&&(console.error("Use of deprecated option ".concat(N,". Use ").concat(T," instead")),x[T]=x[N])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(E){var T=typeof E=="string"?E:E[0],N=typeof E=="string"?E:E[1];typeof x[T]<"u"&&(typeof x.styles[N]>"u"&&(x.styles[N]=x[T]),console.error("Use of deprecated option: "+T+", use the style "+N+" instead."))});for(var L=0,P=["styles","bodyStyles","headStyles","footStyles"];L<P.length;L++){var M=P[L];u(x[M]||{})}for(var I=x.columnStyles||{},_=0,k=Object.keys(I);_<k.length;_++){var O=k[_];u(I[O]||{})}},S=0,w=[f,g,v];S<w.length;S++){var y=w[S];b(y)}}A.default=l;function u(c){c.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),c.minCellHeight||(c.minCellHeight=c.rowHeight)):c.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),c.cellWidth||(c.cellWidth=c.columnWidth))}},260:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.Column=A.Cell=A.Row=A.Table=void 0;var u=l(796),c=l(172),f=l(420),g=function(){function w(y,x){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=x.columns,this.head=x.head,this.body=x.body,this.foot=x.foot}return w.prototype.getHeadHeight=function(y){return this.head.reduce(function(x,L){return x+L.getMaxCellHeight(y)},0)},w.prototype.getFootHeight=function(y){return this.foot.reduce(function(x,L){return x+L.getMaxCellHeight(y)},0)},w.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},w.prototype.callCellHooks=function(y,x,L,P,M,I){for(var _=0,k=x;_<k.length;_++){var O=k[_],E=new c.CellHookData(y,this,L,P,M,I),T=O(E)===!1;if(L.text=Array.isArray(L.text)?L.text:[L.text],T)return!1}return!0},w.prototype.callEndPageHooks=function(y,x){y.applyStyles(y.userStyles);for(var L=0,P=this.hooks.didDrawPage;L<P.length;L++){var M=P[L];M(new c.HookData(y,this,x))}},w.prototype.callWillDrawPageHooks=function(y,x){for(var L=0,P=this.hooks.willDrawPage;L<P.length;L++){var M=P[L];M(new c.HookData(y,this,x))}},w.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var x=this.columns.reduce(function(P,M){return P+M.wrappedWidth},0);return x}else{var L=this.settings.margin;return y-L.left-L.right}},w}();A.Table=g;var v=function(){function w(y,x,L,P,M){M===void 0&&(M=!1),this.height=0,this.raw=y,y instanceof u.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=x,this.section=L,this.cells=P,this.spansMultiplePages=M}return w.prototype.getMaxCellHeight=function(y){var x=this;return y.reduce(function(L,P){var M;return Math.max(L,((M=x.cells[P.index])===null||M===void 0?void 0:M.height)||0)},0)},w.prototype.hasRowSpan=function(y){var x=this;return y.filter(function(L){var P=x.cells[L.index];return P?P.rowSpan>1:!1}).length>0},w.prototype.canEntireRowFit=function(y,x){return this.getMaxCellHeight(x)<=y},w.prototype.getMinimumRowHeight=function(y,x){var L=this;return y.reduce(function(P,M){var I=L.cells[M.index];if(!I)return 0;var _=x.getLineHeight(I.styles.fontSize),k=I.padding("vertical"),O=k+_;return O>P?O:P},0)},w}();A.Row=v;var b=function(){function w(y,x,L){var P,M;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=x,this.section=L,this.raw=y;var I=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,I=(M=(P=y.content)!==null&&P!==void 0?P:y.title)!==null&&M!==void 0?M:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var _=I!=null?""+I:"",k=/\r\n|\r|\n/g;this.text=_.split(k)}return w.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var x=this.height-this.padding("vertical");y=this.y+x/2+this.padding("top")}var L;if(this.styles.halign==="right")L=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var P=this.width-this.padding("horizontal");L=this.x+P/2+this.padding("left")}else L=this.x+this.padding("left");return{x:L,y}},w.prototype.getContentHeight=function(y,x){x===void 0&&(x=1.15);var L=Array.isArray(this.text)?this.text.length:1,P=this.styles.fontSize/y*x,M=L*P+this.padding("vertical");return Math.max(M,this.styles.minCellHeight)},w.prototype.padding=function(y){var x=(0,f.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?x.top+x.bottom:y==="horizontal"?x.left+x.right:x[y]},w}();A.Cell=b;var S=function(){function w(y,x,L){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=x,this.index=L}return w.prototype.getMaxCustomCellWidth=function(y){for(var x=0,L=0,P=y.allRows();L<P.length;L++){var M=P[L],I=M.cells[this.index];I&&typeof I.styles.cellWidth=="number"&&(x=Math.max(x,I.styles.cellWidth))}return x},w}();A.Column=S},356:function(a,A){Object.defineProperty(A,"__esModule",{value:!0}),A.assign=void 0;function l(u,c,f,g,v){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(u),S=1;S<arguments.length;S++){var w=arguments[S];if(w!=null)for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(b[y]=w[y])}return b}A.assign=l},972:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.createTable=void 0;var u=l(744),c=l(260),f=l(324),g=l(796),v=l(356);function b(M,I){var _=new u.DocHandler(M),k=S(I,_.scaleFactor()),O=new c.Table(I,k);return(0,f.calculateWidths)(_,O),_.applyStyles(_.userStyles),O}A.createTable=b;function S(M,I){var _=M.content,k=L(_.columns);if(_.head.length===0){var O=y(k,"head");O&&_.head.push(O)}if(_.foot.length===0){var O=y(k,"foot");O&&_.foot.push(O)}var E=M.settings.theme,T=M.styles;return{columns:k,head:w("head",_.head,k,T,E,I),body:w("body",_.body,k,T,E,I),foot:w("foot",_.foot,k,T,E,I)}}function w(M,I,_,k,O,E){var T={},N=I.map(function(X,ce){for(var te=0,K={},$=0,R=0,q=0,re=_;q<re.length;q++){var Q=re[q];if(T[Q.index]==null||T[Q.index].left===0)if(R===0){var j=void 0;Array.isArray(X)?j=X[Q.index-$-te]:j=X[Q.dataKey];var G={};typeof j=="object"&&!Array.isArray(j)&&(G=(j==null?void 0:j.styles)||{});var ee=P(M,Q,ce,O,k,E,G),ne=new c.Cell(j,ee,M);K[Q.dataKey]=ne,K[Q.index]=ne,R=ne.colSpan-1,T[Q.index]={left:ne.rowSpan-1,times:R}}else R--,$++;else T[Q.index].left--,R=T[Q.index].times,te++}return new c.Row(X,ce,M,K)});return N}function y(M,I){var _={};return M.forEach(function(k){if(k.raw!=null){var O=x(I,k.raw);O!=null&&(_[k.dataKey]=O)}}),Object.keys(_).length>0?_:null}function x(M,I){if(M==="head"){if(typeof I=="object")return I.header||I.title||null;if(typeof I=="string"||typeof I=="number")return I}else if(M==="foot"&&typeof I=="object")return I.footer;return null}function L(M){return M.map(function(I,_){var k,O,E;return typeof I=="object"?E=(O=(k=I.dataKey)!==null&&k!==void 0?k:I.key)!==null&&O!==void 0?O:_:E=_,new c.Column(E,I,_)})}function P(M,I,_,k,O,E,T){var N=(0,g.getTheme)(k),X;M==="head"?X=O.headStyles:M==="body"?X=O.bodyStyles:M==="foot"&&(X=O.footStyles);var ce=(0,v.assign)({},N.table,N[M],O.styles,X),te=O.columnStyles[I.dataKey]||O.columnStyles[I.index]||{},K=M==="body"?te:{},$=M==="body"&&_%2===0?(0,v.assign)({},N.alternateRow,O.alternateRowStyles):{},R=(0,g.defaultStyles)(E),q=(0,v.assign)({},R,ce,$,K);return(0,v.assign)(q,T)}},664:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.addPage=A.drawTable=void 0;var u=l(420),c=l(260),f=l(744),g=l(356),v=l(136),b=l(224);function S(te,K){var $=K.settings,R=$.startY,q=$.margin,re={x:q.left,y:R},Q=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns),j=R+q.bottom+Q;if($.pageBreak==="avoid"){var G=K.body,ee=G.reduce(function(ge,we){return ge+we.height},0);j+=ee}var ne=new f.DocHandler(te);($.pageBreak==="always"||$.startY!=null&&j>ne.pageSize().height)&&(ce(ne),re.y=q.top),K.callWillDrawPageHooks(ne,re);var ae=(0,g.assign)({},re);K.startPageNumber=ne.pageNumber(),$.horizontalPageBreak?w(ne,K,ae,re):(ne.applyStyles(ne.userStyles),($.showHead==="firstPage"||$.showHead==="everyPage")&&K.head.forEach(function(ge){return O(ne,K,ge,re,K.columns)}),ne.applyStyles(ne.userStyles),K.body.forEach(function(ge,we){var Te=we===K.body.length-1;k(ne,K,ge,Te,ae,re,K.columns)}),ne.applyStyles(ne.userStyles),($.showFoot==="lastPage"||$.showFoot==="everyPage")&&K.foot.forEach(function(ge){return O(ne,K,ge,re,K.columns)})),(0,u.addTableBorder)(ne,K,ae,re),K.callEndPageHooks(ne,re),K.finalY=re.y,te.lastAutoTable=K,te.previousAutoTable=K,te.autoTable&&(te.autoTable.previous=K),ne.applyStyles(ne.userStyles)}A.drawTable=S;function w(te,K,$,R){var q=(0,b.calculateAllColumnsCanFitInPage)(te,K),re=K.settings;if(re.horizontalPageBreakBehaviour==="afterAllRows")q.forEach(function(ee,ne){te.applyStyles(te.userStyles),ne>0?X(te,K,$,R,ee.columns,!0):y(te,K,R,ee.columns),x(te,K,$,R,ee.columns),P(te,K,R,ee.columns)});else for(var Q=-1,j=q[0],G=function(){var ee=Q;if(j){te.applyStyles(te.userStyles);var ne=j.columns;Q>=0?X(te,K,$,R,ne,!0):y(te,K,R,ne),ee=L(te,K,Q+1,R,ne),P(te,K,R,ne)}var ae=ee-Q;q.slice(1).forEach(function(ge){te.applyStyles(te.userStyles),X(te,K,$,R,ge.columns,!0),L(te,K,Q+1,R,ge.columns,ae),P(te,K,R,ge.columns)}),Q=ee};Q<K.body.length-1;)G()}function y(te,K,$,R){var q=K.settings;te.applyStyles(te.userStyles),(q.showHead==="firstPage"||q.showHead==="everyPage")&&K.head.forEach(function(re){return O(te,K,re,$,R)})}function x(te,K,$,R,q){te.applyStyles(te.userStyles),K.body.forEach(function(re,Q){var j=Q===K.body.length-1;k(te,K,re,j,$,R,q)})}function L(te,K,$,R,q,re){te.applyStyles(te.userStyles),re=re??K.body.length;var Q=Math.min($+re,K.body.length),j=-1;return K.body.slice($,Q).forEach(function(G,ee){var ne=$+ee===K.body.length-1,ae=N(te,K,ne,R);G.canEntireRowFit(ae,q)&&(O(te,K,G,R,q),j=$+ee)}),j}function P(te,K,$,R){var q=K.settings;te.applyStyles(te.userStyles),(q.showFoot==="lastPage"||q.showFoot==="everyPage")&&K.foot.forEach(function(re){return O(te,K,re,$,R)})}function M(te,K,$){var R=$.getLineHeight(te.styles.fontSize),q=te.padding("vertical"),re=Math.floor((K-q)/R);return Math.max(0,re)}function I(te,K,$,R){var q={};te.spansMultiplePages=!0,te.height=0;for(var re=0,Q=0,j=$.columns;Q<j.length;Q++){var G=j[Q],ee=te.cells[G.index];if(ee){Array.isArray(ee.text)||(ee.text=[ee.text]);var ne=new c.Cell(ee.raw,ee.styles,ee.section);ne=(0,g.assign)(ne,ee),ne.text=[];var ae=M(ee,K,R);ee.text.length>ae&&(ne.text=ee.text.splice(ae,ee.text.length));var ge=R.scaleFactor(),we=R.getLineHeightFactor();ee.contentHeight=ee.getContentHeight(ge,we),ee.contentHeight>=K&&(ee.contentHeight=K,ne.styles.minCellHeight-=K),ee.contentHeight>te.height&&(te.height=ee.contentHeight),ne.contentHeight=ne.getContentHeight(ge,we),ne.contentHeight>re&&(re=ne.contentHeight),q[G.index]=ne}}var Te=new c.Row(te.raw,-1,te.section,q,!0);Te.height=re;for(var Ne=0,je=$.columns;Ne<je.length;Ne++){var G=je[Ne],ne=Te.cells[G.index];ne&&(ne.height=Te.height);var ee=te.cells[G.index];ee&&(ee.height=te.height)}return Te}function _(te,K,$,R){var q=te.pageSize().height,re=R.settings.margin,Q=re.top+re.bottom,j=q-Q;K.section==="body"&&(j-=R.getHeadHeight(R.columns)+R.getFootHeight(R.columns));var G=K.getMinimumRowHeight(R.columns,te),ee=G<$;if(G>j)return console.error("Will not be able to print row ".concat(K.index," correctly since it's minimum height is larger than page height")),!0;if(!ee)return!1;var ne=K.hasRowSpan(R.columns),ae=K.getMaxCellHeight(R.columns)>j;return ae?(ne&&console.error("The content of row ".concat(K.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ne||R.settings.rowPageBreak==="avoid")}function k(te,K,$,R,q,re,Q){var j=N(te,K,R,re);if($.canEntireRowFit(j,Q))O(te,K,$,re,Q);else if(_(te,$,j,K)){var G=I($,j,K,te);O(te,K,$,re,Q),X(te,K,q,re,Q),k(te,K,G,R,q,re,Q)}else X(te,K,q,re,Q),k(te,K,$,R,q,re,Q)}function O(te,K,$,R,q){R.x=K.settings.margin.left;for(var re=0,Q=q;re<Q.length;re++){var j=Q[re],G=$.cells[j.index];if(!G){R.x+=j.width;continue}te.applyStyles(G.styles),G.x=R.x,G.y=R.y;var ee=K.callCellHooks(te,K.hooks.willDrawCell,G,$,j,R);if(ee===!1){R.x+=j.width;continue}E(te,G,R);var ne=G.getTextPos();(0,v.default)(G.text,ne.x,ne.y,{halign:G.styles.halign,valign:G.styles.valign,maxWidth:Math.ceil(G.width-G.padding("left")-G.padding("right"))},te.getDocument()),K.callCellHooks(te,K.hooks.didDrawCell,G,$,j,R),R.x+=j.width}R.y+=$.height}function E(te,K,$){var R=K.styles;if(te.getDocument().setFillColor(te.getDocument().getFillColor()),typeof R.lineWidth=="number"){var q=(0,u.getFillStyle)(R.lineWidth,R.fillColor);q&&te.rect(K.x,$.y,K.width,K.height,q)}else typeof R.lineWidth=="object"&&(R.fillColor&&te.rect(K.x,$.y,K.width,K.height,"F"),T(te,K,$,R.lineWidth))}function T(te,K,$,R){var q,re,Q,j;R.top&&(q=$.x,re=$.y,Q=$.x+K.width,j=$.y,R.right&&(Q+=.5*R.right),R.left&&(q-=.5*R.left),G(R.top,q,re,Q,j)),R.bottom&&(q=$.x,re=$.y+K.height,Q=$.x+K.width,j=$.y+K.height,R.right&&(Q+=.5*R.right),R.left&&(q-=.5*R.left),G(R.bottom,q,re,Q,j)),R.left&&(q=$.x,re=$.y,Q=$.x,j=$.y+K.height,R.top&&(re-=.5*R.top),R.bottom&&(j+=.5*R.bottom),G(R.left,q,re,Q,j)),R.right&&(q=$.x+K.width,re=$.y,Q=$.x+K.width,j=$.y+K.height,R.top&&(re-=.5*R.top),R.bottom&&(j+=.5*R.bottom),G(R.right,q,re,Q,j));function G(ee,ne,ae,ge,we){te.getDocument().setLineWidth(ee),te.getDocument().line(ne,ae,ge,we,"S")}}function N(te,K,$,R){var q=K.settings.margin.bottom,re=K.settings.showFoot;return(re==="everyPage"||re==="lastPage"&&$)&&(q+=K.getFootHeight(K.columns)),te.pageSize().height-R.y-q}function X(te,K,$,R,q,re){q===void 0&&(q=[]),re===void 0&&(re=!1),te.applyStyles(te.userStyles),K.settings.showFoot==="everyPage"&&!re&&K.foot.forEach(function(j){return O(te,K,j,R,q)}),K.callEndPageHooks(te,R);var Q=K.settings.margin;(0,u.addTableBorder)(te,K,$,R),ce(te),K.pageNumber++,K.pageCount++,R.x=Q.left,R.y=Q.top,$.y=Q.top,K.callWillDrawPageHooks(te,R),K.settings.showHead==="everyPage"&&(K.head.forEach(function(j){return O(te,K,j,R,q)}),te.applyStyles(te.userStyles))}A.addPage=X;function ce(te){var K=te.pageNumber();te.setPage(K+1);var $=te.pageNumber();return $===K?(te.addPage(),!0):!1}},224:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.calculateAllColumnsCanFitInPage=void 0;var u=l(420);function c(g,v,b){var S;b===void 0&&(b={});var w=(0,u.getPageAvailableWidth)(g,v),y=new Map,x=[],L=[],P=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?P=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(P=[v.settings.horizontalPageBreakRepeat]),P.forEach(function(k){var O=v.columns.find(function(E){return E.dataKey===k||E.index===k});O&&!y.has(O.index)&&(y.set(O.index,!0),x.push(O.index),L.push(v.columns[O.index]),w-=O.wrappedWidth)});for(var M=!0,I=(S=b==null?void 0:b.start)!==null&&S!==void 0?S:0;I<v.columns.length;){if(y.has(I)){I++;continue}var _=v.columns[I].wrappedWidth;if(M||w>=_)M=!1,x.push(I),L.push(v.columns[I]),w-=_;else break;I++}return{colIndexes:x,columns:L,lastIndex:I-1}}function f(g,v){for(var b=[],S=0;S<v.columns.length;S++){var w=c(g,v,{start:S});w.columns.length&&(b.push(w),S=w.lastIndex)}return b}A.calculateAllColumnsCanFitInPage=f},324:function(a,A,l){Object.defineProperty(A,"__esModule",{value:!0}),A.ellipsize=A.resizeColumns=A.calculateWidths=void 0;var u=l(420);function c(x,L){f(x,L);var P=[],M=0;L.columns.forEach(function(_){var k=_.getMaxCustomCellWidth(L);k?_.width=k:(_.width=_.wrappedWidth,P.push(_)),M+=_.width});var I=L.getWidth(x.pageSize().width)-M;I&&(I=g(P,I,function(_){return Math.max(_.minReadableWidth,_.minWidth)})),I&&(I=g(P,I,function(_){return _.minWidth})),I=Math.abs(I),!L.settings.horizontalPageBreak&&I>.1/x.scaleFactor()&&(I=I<1?I:Math.round(I),console.warn("Of the table content, ".concat(I," units width could not fit page"))),b(L),S(L,x),v(L)}A.calculateWidths=c;function f(x,L){var P=x.scaleFactor(),M=L.settings.horizontalPageBreak,I=(0,u.getPageAvailableWidth)(x,L);L.allRows().forEach(function(_){for(var k=0,O=L.columns;k<O.length;k++){var E=O[k],T=_.cells[E.index];if(T){var N=L.hooks.didParseCell;L.callCellHooks(x,N,T,_,E,null);var X=T.padding("horizontal");T.contentWidth=(0,u.getStringWidth)(T.text,T.styles,x)+X;var ce=(0,u.getStringWidth)(T.text.join(" ").split(/[^\S\u00A0]+/),T.styles,x);if(T.minReadableWidth=ce+T.padding("horizontal"),typeof T.styles.cellWidth=="number")T.minWidth=T.styles.cellWidth,T.wrappedWidth=T.styles.cellWidth;else if(T.styles.cellWidth==="wrap"||M===!0)T.contentWidth>I?(T.minWidth=I,T.wrappedWidth=I):(T.minWidth=T.contentWidth,T.wrappedWidth=T.contentWidth);else{var te=10/P;T.minWidth=T.styles.minCellWidth||te,T.wrappedWidth=T.contentWidth,T.minWidth>T.wrappedWidth&&(T.wrappedWidth=T.minWidth)}}}}),L.allRows().forEach(function(_){for(var k=0,O=L.columns;k<O.length;k++){var E=O[k],T=_.cells[E.index];if(T&&T.colSpan===1)E.wrappedWidth=Math.max(E.wrappedWidth,T.wrappedWidth),E.minWidth=Math.max(E.minWidth,T.minWidth),E.minReadableWidth=Math.max(E.minReadableWidth,T.minReadableWidth);else{var N=L.styles.columnStyles[E.dataKey]||L.styles.columnStyles[E.index]||{},X=N.cellWidth||N.minCellWidth;X&&typeof X=="number"&&(E.minWidth=X,E.wrappedWidth=X)}T&&(T.colSpan>1&&!E.minWidth&&(E.minWidth=T.minWidth),T.colSpan>1&&!E.wrappedWidth&&(E.wrappedWidth=T.minWidth))}})}function g(x,L,P){for(var M=L,I=x.reduce(function(te,K){return te+K.wrappedWidth},0),_=0;_<x.length;_++){var k=x[_],O=k.wrappedWidth/I,E=M*O,T=k.width+E,N=P(k),X=T<N?N:T;L-=X-k.width,k.width=X}if(L=Math.round(L*1e10)/1e10,L){var ce=x.filter(function(te){return L<0?te.width>P(te):!0});ce.length&&(L=g(ce,L,P))}return L}A.resizeColumns=g;function v(x){for(var L={},P=1,M=x.allRows(),I=0;I<M.length;I++)for(var _=M[I],k=0,O=x.columns;k<O.length;k++){var E=O[k],T=L[E.index];if(P>1)P--,delete _.cells[E.index];else if(T)T.cell.height+=_.height,P=T.cell.colSpan,delete _.cells[E.index],T.left--,T.left<=1&&delete L[E.index];else{var N=_.cells[E.index];if(!N)continue;if(N.height=_.height,N.rowSpan>1){var X=M.length-I,ce=N.rowSpan>X?X:N.rowSpan;L[E.index]={cell:N,left:ce,row:_}}}}}function b(x){for(var L=x.allRows(),P=0;P<L.length;P++)for(var M=L[P],I=null,_=0,k=0,O=0;O<x.columns.length;O++){var E=x.columns[O];if(k-=1,k>1&&x.columns[O+1])_+=E.width,delete M.cells[E.index];else if(I){var T=I;delete M.cells[E.index],I=null,T.width=E.width+_}else{var T=M.cells[E.index];if(!T)continue;if(k=T.colSpan,_=0,T.colSpan>1){I=T,_+=E.width;continue}T.width=E.width+_}}}function S(x,L){for(var P={count:0,height:0},M=0,I=x.allRows();M<I.length;M++){for(var _=I[M],k=0,O=x.columns;k<O.length;k++){var E=O[k],T=_.cells[E.index];if(T){L.applyStyles(T.styles,!0);var N=T.width-T.padding("horizontal");if(T.styles.overflow==="linebreak")T.text=L.splitTextToSize(T.text,N+1/L.scaleFactor(),{fontSize:T.styles.fontSize});else if(T.styles.overflow==="ellipsize")T.text=w(T.text,N,T.styles,L,"...");else if(T.styles.overflow==="hidden")T.text=w(T.text,N,T.styles,L,"");else if(typeof T.styles.overflow=="function"){var X=T.styles.overflow(T.text,N);typeof X=="string"?T.text=[X]:T.text=X}T.contentHeight=T.getContentHeight(L.scaleFactor(),L.getLineHeightFactor());var ce=T.contentHeight/T.rowSpan;T.rowSpan>1&&P.count*P.height<ce*T.rowSpan?P={height:ce,count:T.rowSpan}:P&&P.count>0&&P.height>ce&&(ce=P.height),ce>_.height&&(_.height=ce)}}P.count--}}function w(x,L,P,M,I){return x.map(function(_){return y(_,L,P,M,I)})}A.ellipsize=w;function y(x,L,P,M,I){var _=1e4*M.scaleFactor();if(L=Math.ceil(L*_)/_,L>=(0,u.getStringWidth)(x,P,M))return x;for(;L<(0,u.getStringWidth)(x+I,P,M)&&!(x.length<=1);)x=x.substring(0,x.length-1);return x.trim()+I}},964:function(a){if(typeof r>"u"){var A=new Error("Cannot find module 'undefined'");throw A.code="MODULE_NOT_FOUND",A}a.exports=r}},i={};function s(a){var A=i[a];if(A!==void 0)return A.exports;var l=i[a]={exports:{}};return n[a].call(l.exports,l,l.exports,s),l.exports}var o={};return function(){var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var A=s(340),l=s(776),u=s(664),c=s(972),f=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return f.Table}});var g=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return g.CellHookData}});var v=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return v.Row}});function b(L){(0,A.default)(L)}a.applyPlugin=b;function S(L,P){var M=(0,l.parseInput)(L,P),I=(0,c.createTable)(L,M);(0,u.drawTable)(L,I)}function w(L,P){var M=(0,l.parseInput)(L,P);return(0,c.createTable)(L,M)}a.__createTable=w;function y(L,P){(0,u.drawTable)(L,P)}a.__drawTable=y;try{var x=s(964);x.jsPDF&&(x=x.jsPDF),b(x)}catch{}a.default=S}(),o}()})})($Y);var YY=Object.defineProperty,Fv=Object.getOwnPropertySymbols,P3=Object.prototype.hasOwnProperty,R3=Object.prototype.propertyIsEnumerable,D4=(t,e,r)=>e in t?YY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,XY=(t,e)=>{for(var r in e||(e={}))P3.call(e,r)&&D4(t,r,e[r]);if(Fv)for(var r of Fv(e))R3.call(e,r)&&D4(t,r,e[r]);return t},ZY=(t,e)=>{var r={};for(var n in t)P3.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Fv)for(var n of Fv(t))e.indexOf(n)<0&&R3.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var nc;(t=>{const e=class{constructor(A,l,u,c){if(this.version=A,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],A<e.MIN_VERSION||A>e.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=A*4+17;let f=[];for(let v=0;v<this.size;v++)f.push(!1);for(let v=0;v<this.size;v++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),c==-1){let v=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const S=this.getPenaltyScore();S<v&&(c=b,v=S),this.applyMask(b)}}s(0<=c&&c<=7),this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}static encodeText(A,l){const u=t.QrSegment.makeSegments(A);return e.encodeSegments(u,l)}static encodeBinary(A,l){const u=t.QrSegment.makeBytes(A);return e.encodeSegments([u],l)}static encodeSegments(A,l,u=1,c=40,f=-1,g=!0){if(!(e.MIN_VERSION<=u&&u<=c&&c<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let v,b;for(v=u;;v++){const x=e.getNumDataCodewords(v,l)*8,L=a.getTotalBits(A,v);if(L<=x){b=L;break}if(v>=c)throw new RangeError("Data too long")}for(const x of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])g&&b<=e.getNumDataCodewords(v,x)*8&&(l=x);let S=[];for(const x of A){n(x.mode.modeBits,4,S),n(x.numChars,x.mode.numCharCountBits(v),S);for(const L of x.getData())S.push(L)}s(S.length==b);const w=e.getNumDataCodewords(v,l)*8;s(S.length<=w),n(0,Math.min(4,w-S.length),S),n(0,(8-S.length%8)%8,S),s(S.length%8==0);for(let x=236;S.length<w;x^=253)n(x,8,S);let y=[];for(;y.length*8<S.length;)y.push(0);return S.forEach((x,L)=>y[L>>>3]|=x<<7-(L&7)),new e(v,l,y,f)}getModule(A,l){return 0<=A&&A<this.size&&0<=l&&l<this.size&&this.modules[l][A]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const A=this.getAlignmentPatternPositions(),l=A.length;for(let u=0;u<l;u++)for(let c=0;c<l;c++)u==0&&c==0||u==0&&c==l-1||u==l-1&&c==0||this.drawAlignmentPattern(A[u],A[c]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(A){const l=this.errorCorrectionLevel.formatBits<<3|A;let u=l;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const c=(l<<10|u)^21522;s(c>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,i(c,f));this.setFunctionModule(8,7,i(c,6)),this.setFunctionModule(8,8,i(c,7)),this.setFunctionModule(7,8,i(c,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,i(c,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,i(c,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,i(c,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let A=this.version;for(let u=0;u<12;u++)A=A<<1^(A>>>11)*7973;const l=this.version<<12|A;s(l>>>18==0);for(let u=0;u<18;u++){const c=i(l,u),f=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(f,g,c),this.setFunctionModule(g,f,c)}}drawFinderPattern(A,l){for(let u=-4;u<=4;u++)for(let c=-4;c<=4;c++){const f=Math.max(Math.abs(c),Math.abs(u)),g=A+c,v=l+u;0<=g&&g<this.size&&0<=v&&v<this.size&&this.setFunctionModule(g,v,f!=2&&f!=4)}}drawAlignmentPattern(A,l){for(let u=-2;u<=2;u++)for(let c=-2;c<=2;c++)this.setFunctionModule(A+c,l+u,Math.max(Math.abs(c),Math.abs(u))!=1)}setFunctionModule(A,l,u){this.modules[l][A]=u,this.isFunction[l][A]=!0}addEccAndInterleave(A){const l=this.version,u=this.errorCorrectionLevel;if(A.length!=e.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");const c=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],f=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],g=Math.floor(e.getNumRawDataModules(l)/8),v=c-g%c,b=Math.floor(g/c);let S=[];const w=e.reedSolomonComputeDivisor(f);for(let x=0,L=0;x<c;x++){let P=A.slice(L,L+b-f+(x<v?0:1));L+=P.length;const M=e.reedSolomonComputeRemainder(P,w);x<v&&P.push(0),S.push(P.concat(M))}let y=[];for(let x=0;x<S[0].length;x++)S.forEach((L,P)=>{(x!=b-f||P>=v)&&y.push(L[x])});return s(y.length==g),y}drawCodewords(A){if(A.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let c=0;c<this.size;c++)for(let f=0;f<2;f++){const g=u-f,b=(u+1&2)==0?this.size-1-c:c;!this.isFunction[b][g]&&l<A.length*8&&(this.modules[b][g]=i(A[l>>>3],7-(l&7)),l++)}}s(l==A.length*8)}applyMask(A){if(A<0||A>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let u=0;u<this.size;u++){let c;switch(A){case 0:c=(u+l)%2==0;break;case 1:c=l%2==0;break;case 2:c=u%3==0;break;case 3:c=(u+l)%3==0;break;case 4:c=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:c=u*l%2+u*l%3==0;break;case 6:c=(u*l%2+u*l%3)%2==0;break;case 7:c=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&c&&(this.modules[l][u]=!this.modules[l][u])}}getPenaltyScore(){let A=0;for(let f=0;f<this.size;f++){let g=!1,v=0,b=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[f][S]==g?(v++,v==5?A+=e.PENALTY_N1:v>5&&A++):(this.finderPenaltyAddHistory(v,b),g||(A+=this.finderPenaltyCountPatterns(b)*e.PENALTY_N3),g=this.modules[f][S],v=1);A+=this.finderPenaltyTerminateAndCount(g,v,b)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let g=!1,v=0,b=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[S][f]==g?(v++,v==5?A+=e.PENALTY_N1:v>5&&A++):(this.finderPenaltyAddHistory(v,b),g||(A+=this.finderPenaltyCountPatterns(b)*e.PENALTY_N3),g=this.modules[S][f],v=1);A+=this.finderPenaltyTerminateAndCount(g,v,b)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let g=0;g<this.size-1;g++){const v=this.modules[f][g];v==this.modules[f][g+1]&&v==this.modules[f+1][g]&&v==this.modules[f+1][g+1]&&(A+=e.PENALTY_N2)}let l=0;for(const f of this.modules)l=f.reduce((g,v)=>g+(v?1:0),l);const u=this.size*this.size,c=Math.ceil(Math.abs(l*20-u*10)/u)-1;return s(0<=c&&c<=9),A+=c*e.PENALTY_N4,s(0<=A&&A<=2568888),A}getAlignmentPatternPositions(){if(this.version==1)return[];{const A=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(A*2-2))*2;let u=[6];for(let c=this.size-7;u.length<A;c-=l)u.splice(1,0,c);return u}}static getNumRawDataModules(A){if(A<e.MIN_VERSION||A>e.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*A+128)*A+64;if(A>=2){const u=Math.floor(A/7)+2;l-=(25*u-10)*u-55,A>=7&&(l-=36)}return s(208<=l&&l<=29648),l}static getNumDataCodewords(A,l){return Math.floor(e.getNumRawDataModules(A)/8)-e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][A]*e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][A]}static reedSolomonComputeDivisor(A){if(A<1||A>255)throw new RangeError("Degree out of range");let l=[];for(let c=0;c<A-1;c++)l.push(0);l.push(1);let u=1;for(let c=0;c<A;c++){for(let f=0;f<l.length;f++)l[f]=e.reedSolomonMultiply(l[f],u),f+1<l.length&&(l[f]^=l[f+1]);u=e.reedSolomonMultiply(u,2)}return l}static reedSolomonComputeRemainder(A,l){let u=l.map(c=>0);for(const c of A){const f=c^u.shift();u.push(0),l.forEach((g,v)=>u[v]^=e.reedSolomonMultiply(g,f))}return u}static reedSolomonMultiply(A,l){if(A>>>8||l>>>8)throw new RangeError("Byte out of range");let u=0;for(let c=7;c>=0;c--)u=u<<1^(u>>>7)*285,u^=(l>>>c&1)*A;return s(u>>>8==0),u}finderPenaltyCountPatterns(A){const l=A[1];s(l<=this.size*3);const u=l>0&&A[2]==l&&A[3]==l*3&&A[4]==l&&A[5]==l;return(u&&A[0]>=l*4&&A[6]>=l?1:0)+(u&&A[6]>=l*4&&A[0]>=l?1:0)}finderPenaltyTerminateAndCount(A,l,u){return A&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(A,l){l[0]==0&&(A+=this.size),l.pop(),l.unshift(A)}};let r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function n(A,l,u){if(l<0||l>31||A>>>l)throw new RangeError("Value out of range");for(let c=l-1;c>=0;c--)u.push(A>>>c&1)}function i(A,l){return(A>>>l&1)!=0}function s(A){if(!A)throw new Error("Assertion error")}const o=class{constructor(A,l,u){if(this.mode=A,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(A){let l=[];for(const u of A)n(u,8,l);return new o(o.Mode.BYTE,A.length,l)}static makeNumeric(A){if(!o.isNumeric(A))throw new RangeError("String contains non-numeric characters");let l=[];for(let u=0;u<A.length;){const c=Math.min(A.length-u,3);n(parseInt(A.substr(u,c),10),c*3+1,l),u+=c}return new o(o.Mode.NUMERIC,A.length,l)}static makeAlphanumeric(A){if(!o.isAlphanumeric(A))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],u;for(u=0;u+2<=A.length;u+=2){let c=o.ALPHANUMERIC_CHARSET.indexOf(A.charAt(u))*45;c+=o.ALPHANUMERIC_CHARSET.indexOf(A.charAt(u+1)),n(c,11,l)}return u<A.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(A.charAt(u)),6,l),new o(o.Mode.ALPHANUMERIC,A.length,l)}static makeSegments(A){return A==""?[]:o.isNumeric(A)?[o.makeNumeric(A)]:o.isAlphanumeric(A)?[o.makeAlphanumeric(A)]:[o.makeBytes(o.toUtf8ByteArray(A))]}static makeEci(A){let l=[];if(A<0)throw new RangeError("ECI assignment value out of range");if(A<128)n(A,8,l);else if(A<16384)n(2,2,l),n(A,14,l);else if(A<1e6)n(6,3,l),n(A,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)}static isNumeric(A){return o.NUMERIC_REGEX.test(A)}static isAlphanumeric(A){return o.ALPHANUMERIC_REGEX.test(A)}getData(){return this.bitData.slice()}static getTotalBits(A,l){let u=0;for(const c of A){const f=c.mode.numCharCountBits(l);if(c.numChars>=1<<f)return 1/0;u+=4+f+c.bitData.length}return u}static toUtf8ByteArray(A){A=encodeURI(A);let l=[];for(let u=0;u<A.length;u++)A.charAt(u)!="%"?l.push(A.charCodeAt(u)):(l.push(parseInt(A.substr(u+1,2),16)),u+=2);return l}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(nc||(nc={}));(t=>{(e=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(nc||(nc={}));(t=>{(e=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(nc||(nc={}));var kf=nc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var eX={L:kf.QrCode.Ecc.LOW,M:kf.QrCode.Ecc.MEDIUM,Q:kf.QrCode.Ecc.QUARTILE,H:kf.QrCode.Ecc.HIGH},tX=128,rX="L",nX="#FFFFFF",iX="#000000",sX=!1,D3=4,oX=.1;function aX(t,e=0){const r=[];return t.forEach(function(n,i){let s=null;n.forEach(function(o,a){if(!o&&s!==null){r.push(`M${s+e} ${i+e}h${a-s}v1H${s+e}z`),s=null;return}if(a===n.length-1){if(!o)return;s===null?r.push(`M${a+e},${i+e} h1v1H${a+e}z`):r.push(`M${s+e},${i+e} h${a+1-s}v1H${s+e}z`);return}o&&s===null&&(s=a)})}),r.join("")}function AX(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function lX(t,e,r,n){if(n==null)return null;const i=r?D3:0,s=t.length+i*2,o=Math.floor(e*oX),a=s/e,A=(n.width||o)*a,l=(n.height||o)*a,u=n.x==null?t.length/2-A/2:n.x*a,c=n.y==null?t.length/2-l/2:n.y*a;let f=null;if(n.excavate){let g=Math.floor(u),v=Math.floor(c),b=Math.ceil(A+u-g),S=Math.ceil(l+c-v);f={x:g,y:v,w:b,h:S}}return{x:u,y:c,h:l,w:A,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function uX(t){const e=t,{value:r,size:n=tX,level:i=rX,bgColor:s=nX,fgColor:o=iX,includeMargin:a=sX,imageSettings:A}=e,l=ZY(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=kf.QrCode.encodeText(r,eX[i]).getModules();const c=a?D3:0,f=u.length+c*2,g=lX(u,n,a,A);let v=null;A!=null&&g!=null&&(g.excavation!=null&&(u=AX(u,g.excavation)),v=wu.createElement("image",{xlinkHref:A.src,height:g.h,width:g.w,x:g.x+c,y:g.y+c,preserveAspectRatio:"none"}));const b=aX(u,c);return wu.createElement("svg",XY({height:n,width:n,viewBox:`0 0 ${f} ${f}`},l),wu.createElement("path",{fill:s,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),wu.createElement("path",{fill:o,d:b,shapeRendering:"crispEdges"}),v)}const cX="AAEAAAAQAQAABgAARkZUTVzakQcAAAZcAAAAHE9TLzI0/s7/AAABSAAAAGBjbWFwDSsLjwAACOwAAAHQY3Z0IAAUBLwAAAsoAAAAOmZwZ20u+uVBAAAGkAAAB7BnYXNwAAAAEAAAAYAAAAAIZ2x5ZnscVFUAAA1MAAAAdGhlYWQGZuXMAAABDAAAADZoaGVhB70E5AAAAVgAAAAkaG10eCoAh4YAAAb4AAAAXGxvY2EBvQYUAAAMcAAAACJtYXhwARgAmgAAAWgAAAAgbmFtZdyb1YwAAQtUAAACbXBvc3T/ogebAAAEyAAAACBwcmVwglggrwAACrgAAAAaAAEAAAABAAAAAM3+a9pfDzz1AAsEAAAAAADb0PUnAAAAANvQ9Sf/ogebBG0GhQAAAAgAAgAAAAAAAAABAAAAAQAA//4ADwABAAAAAAACAAoAAAAGAAAAAAQAAAAEAAEAAAAAAAEAAQAEAAAAAQAIAAAAAQABAAAAAAAGAAwAAQABAAAAAgAMABQAAQABAAAAAwAMACYAAQABAAAABAAcADQAAQABAAAAAQAAMADgAAQABAAAAAQBCAD4AAQABAAAAAQCAAEQAAQABAAAAAQCcAEgAAQABAAAAAQDCAEoAAQABAAAAAQDYAFAAAQABAAAAAQEIAFoAAQABAAAAAQFYAHEAAQABAAAAAQGIAH0AAQABAAAAAQHYAIkAAQABAAAAAQCIAJsAAQABAAAAAQE4AKsAAQABAAAAAQHIAK8AAQABAAAAAQIYAOsAAQABAAAAAQJgAPMAAQABAAAAAQK4AQsAAQABAAAAAQMAARQAAQABAAAAAQMcASQAAQABAAAAAQNIAUYAAQABAAAAAQQIATEAAQABAAAAAQQgAUcAAQABAAAAAQQwAVcAAQABAAAAAQUIAWMAAQABAAAAAQUwAWsAAQABAAAAAQWIAXMAAQABAAAAAQXgAYMAAQABAAAAAQYIAZMAAQABAAAAAQYwAZsAAQABAAAAAQbIAacAAQABAAAAAQcIAasAAQABAAAAAQcwAbsAAQABAAAAAQeIAfMAAQABAAAAAQewAhMAAQABAAAAAgAIACUAAQABAAAAAgAQACsAAQABAAAAAgAYADMAAQABAAAAAgAgADsAAQABAAAAAgAoAEMAAQABAAAAAgAwAEsAAQABAAAAAgA4AFMAAQABAAAAAgBAAFsAAQABAAAAAgBIAF0AAQABAAAAAgBIAF8AAQABAAAAAgBIAWEAAQABAAAAAgBIAGEAAQABAAAAAgBIAWMAAQABAAAAAgBIAWMADgADAAEECQABACAAUAADAAEECQACACgAWAADAAEECQADACgAeAADAAEECQAEACQAvgADAAEECQABMAAAAAADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQABQAAAABADAAEECQACgAeAADAAEECQACgAYgAAADAAEECQADgAYgAAADAAEECQADgAUgAAADAAEECQADgAUgAAADAAEECQACAAUAAgADAAEECQABACgAHAADAAEECQACACgAWAADAAEECQADACgAeAADAAEECQAEACQAvgADAAEECQABMAAAAAQAuAFIAbwBiAG8AdABvACAAUgBlAGcAdQBsAGEAcgBSZWd1bGFyUm9ib3RvUm9ib3RvIFJlZ3VsYXJWZXJzaW9uIDIuMTM3O1JvYm90bzIuMTM3O01hcmNoIDEsIDIwMTlSb2JvdG8gUmVndWxhckNocmlzdGlhbiBSb2JlcnRzb25hUEMgMjAxMSBSZWd1bGFyUm9ib3Rv Um9ib3RvIFJlZ3VsYXIAAAAAAf//AAIAAQAAAAwAAAAWAAEAAgACAAIAAQAAAAAA",dX=()=>{const{subjects:t,teachers:e,classes:r,rooms:n,settings:i,bellSchedule:s,saveStaticData:o}=Wa(),{schedule:a,substitutions:A,saveScheduleData:l}=Ch(),u=Ae.useRef(null),c=Ae.useRef(null),[f,g]=Ae.useState(new Date().toISOString().split("T")[0]),[v,b]=Ae.useState(!1),[S,w]=Ae.useState(!1),[y,x]=Ae.useState(""),[L,P]=Ae.useState(""),M=Ae.useMemo(()=>({subjects:t,teachers:e,classes:r,rooms:n,settings:i,bellSchedule:s,schedule:a,substitutions:A}),[t,e,r,n,i,s,a,A]),I=K=>{var q;const $=(q=K.target.files)==null?void 0:q[0];if(!$)return;const R=new FileReader;R.onload=async re=>{try{const Q=JSON.parse(re.target.result);if(Q.teachers&&Q.schedule){if(window.confirm("    . ?")){const j={...jn,...Q,rooms:Q.rooms||jn.rooms,classes:Q.classes||[],schedule:Q.schedule||[],teachers:Q.teachers||[],subjects:Q.subjects||[],substitutions:Q.substitutions||[],settings:{...jn.settings,...Q.settings}};await o(j),await l(j),alert("  !")}}else alert("  .")}catch{alert("  .")}},R.readAsText($)},_=()=>{let K=`
            <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">
            <head><meta charset="UTF-8"><style>
                table { border-collapse: collapse; width: 100%; font-family: Arial, sans-serif; }
                td, th { border: 1px solid #999; padding: 5px; vertical-align: top; }
                .header { background-color: #f3f4f6; font-weight: bold; text-align: center; }
                .class-cell { font-size: 14px; font-weight: bold; text-align: center; vertical-align: middle; }
                .subject { font-weight: bold; font-size: 11px; }
                .meta { font-size: 10px; color: #555; }
            </style></head><body><table>
        `;Ri.forEach(re=>{K+=`<tr><td colspan="8" style="background-color:#4f46e5; color:white; font-size:16px; font-weight:bold; text-align:center;">${re}</td></tr>`,[at.First,at.Second].forEach(Q=>{const j=r.filter(G=>G.shift===Q);j.length!==0&&(K+=`<tr><td colspan="8" style="background-color:#e0e7ff; font-weight:bold;">${Q}</td></tr>`,K+='<tr><th class="header"></th>',Ia[Q].forEach(G=>K+=`<th class="header">${G} </th>`),K+="</tr>",j.forEach(G=>{K+=`<tr><td class="class-cell">${G.name}</td>`,Ia[Q].forEach(ee=>{const ne=a.filter(ae=>ae.classId===G.id&&ae.day===re&&ae.shift===Q&&ae.period===ee);K+='<td style="height: 60px;">',ne.forEach(ae=>{const ge=t.find(je=>je.id===ae.subjectId),we=e.find(je=>je.id===ae.teacherId),Te=n.find(je=>je.id===ae.roomId),Ne=Te?Te.name:ae.roomId;K+=`<div style="background-color: ${(ge==null?void 0:ge.color)||"#fff"}; padding: 2px; margin-bottom: 2px; border: 1px solid #eee;">
                                <div class="subject">${(ge==null?void 0:ge.name)||""} ${ae.direction||""}</div>
                                <div class="meta">${(we==null?void 0:we.name)||""} ${Ne?`(. ${Ne})`:""}</div>
                            </div>`}),K+="</td>"}),K+="</tr>"}))})}),K+="</table></body></html>";const $=new Blob([K],{type:"application/vnd.ms-excel"}),R=URL.createObjectURL($),q=document.createElement("a");q.href=R,q.download="_22.xls",document.body.appendChild(q),q.click(),document.body.removeChild(q)},k=()=>{let K=`
            <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">
            <head><meta charset="UTF-8"><style>
                table { border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px; margin-bottom: 20px; }
                td, th { border: 1px solid #000; padding: 2px; vertical-align: middle; text-align: center; }
                .header { font-weight: bold; background-color: #f3f4f6; }
                .subject-cell { font-weight: bold; vertical-align: middle; background-color: #fff; }
                .teacher-cell { text-align: left; padding-left: 5px; }
                sub { font-size: 9px; vertical-align: sub; }
            </style></head><body>
        `;[at.First,at.Second].forEach(re=>{const Q=Ia[re];K+="<table>",K+=`<tr>
                <th rowspan="3" class="header" style="border: 2px solid #000; width: 150px;"> </th>
                <th rowspan="3" class="header" style="border: 2px solid #000; width: 200px;"></th>
                <th colspan="${Ri.length*Q.length}" class="header" style="border: 2px solid #000; font-size: 14px;"> </th>
            </tr>`,K+="<tr>",Ri.forEach(j=>{K+=`<th colspan="${Q.length}" class="header" style="border: 2px solid #000;">${j}</th>`}),K+="</tr>",K+="<tr>",Ri.forEach(()=>{Q.forEach(j=>K+='<th class="header" style="border-bottom: 2px solid #000;"></th>')}),K+="</tr>",K+=`<tr>
                <th class="header" style="border: 2px solid #000; background-color: #e0e7ff;">${re}</th>
                <th class="header" style="border: 2px solid #000;"></th>
            `,Ri.forEach(()=>{Q.forEach(j=>K+=`<th class="header" style="width: 40px;">${j}</th>`)}),K+="</tr>",t.forEach(j=>{const G=e.filter(ne=>ne.subjectIds.includes(j.id));if(G.length===0)return;const ee=j.color||"#ffffff";G.forEach((ne,ae)=>{K+="<tr>",ae===0&&(K+=`<td rowspan="${G.length}" class="subject-cell" style="border: 2px solid #000; background-color: ${ee};">${j.name}</td>`),K+=`<td class="teacher-cell" style="border-right: 2px solid #000;">${ne.name}</td>`,Ri.forEach(ge=>{Q.forEach(we=>{const Te=a.find(Ne=>Ne.teacherId===ne.id&&Ne.subjectId===j.id&&Ne.day===ge&&Ne.period===we&&Ne.shift===re);if(Te){const Ne=r.find(bt=>bt.id===Te.classId),je=n.find(bt=>bt.id===Te.roomId),Le=je?je.name:Te.roomId,He=Le?`<sub>${Le}</sub>`:"",_e=Te.direction?` <span style="font-size:9px">(${Te.direction})</span>`:"",oe=j.color||"#ffffff";K+=`<td style="border: 1px solid #000; font-weight: bold; background-color: ${oe};">${Ne?Ne.name:""}${_e}${He}</td>`}else K+='<td style="border: 1px solid #000;"></td>'})}),K+="</tr>"}),K+=`<tr><td colspan="${2+Ri.length*Q.length}" style="height: 2px; background-color: #000;"></td></tr>`}),K+="</table><br/><br/>"}),K+="</body></html>";const $=new Blob([K],{type:"application/vnd.ms-excel"}),R=URL.createObjectURL($),q=document.createElement("a");q.href=R,q.download="_.xls",document.body.appendChild(q),q.click(),document.body.removeChild(q)},O=()=>{let K=`							
`;Ri.forEach($=>{[at.First,at.Second].forEach(R=>{r.filter(re=>re.shift===R).forEach(re=>{Ia[R].forEach(Q=>{a.filter(G=>G.classId===re.id&&G.day===$&&G.shift===R&&G.period===Q).forEach(G=>{const ee=t.find(we=>we.id===G.subjectId),ne=e.find(we=>we.id===G.teacherId),ae=n.find(we=>we.id===G.roomId),ge=ae?ae.name:G.roomId||"";K+=`${$}	${R}	${re.name}	${Q}	${(ee==null?void 0:ee.name)||""}	${(ne==null?void 0:ne.name)||""}	${ge}	${G.direction||""}
`})})})})}),navigator.clipboard.writeText(K).then(()=>{alert(" !  Google Sheets   Ctrl+V (Cmd+V).")})},E=async()=>{if(c.current){b(!0);try{const K=await f3(c.current,{scale:2,backgroundColor:"#ffffff",logging:!1}),$=document.createElement("a");$.download=`_${f}.png`,$.href=K.toDataURL("image/png"),$.click()}catch(K){console.error(K),alert("   ")}b(!1)}},T=Ae.useMemo(()=>A.filter(K=>K.date===f),[A,f]),N=K=>{const $=T.filter(R=>{const q=a.find(re=>re.id===R.scheduleItemId);return q&&q.shift===K}).filter(R=>R.replacementTeacherId!=="conducted");return $.length===0?null:p.jsxs("div",{className:"mb-8",children:[p.jsx("div",{className:"text-xl font-bold bg-slate-100 text-slate-700 p-2 mb-2 uppercase tracking-wide border-l-4 border-indigo-500",children:K}),p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-slate-200",children:[p.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-16 text-center",children:""}),p.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-24",children:""}),p.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider",children:""}),p.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-1/4",children:""}),p.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-1/4",children:""}),p.jsx("th",{className:"py-3 px-2 font-black text-slate-400 text-xs uppercase tracking-wider w-20 text-right",children:"."})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:$.map(R=>{var Le;const q=a.find(He=>He.id===R.scheduleItemId);if(!q)return null;const re=r.find(He=>He.id===q.classId),Q=t.find(He=>He.id===q.subjectId),j=e.find(He=>He.id===R.originalTeacherId),G=R.replacementRoomId,ee=q.roomId?n.find(He=>He.id===q.roomId):null,ne=ee?ee.name:q.roomId||"",ae=G?n.find(He=>He.id===G):null,ge=ae?ae.name:G||"",we=R.replacementTeacherId==="cancelled",Te=we?{name:" "}:e.find(He=>He.id===R.replacementTeacherId),Ne=(Le=j==null?void 0:j.absenceReasons)==null?void 0:Le[f],je=R.replacementTeacherId===R.originalTeacherId&&G;return p.jsxs("tr",{children:[p.jsx("td",{className:"py-3 px-2 text-center font-bold text-slate-800 text-lg",children:q.period}),p.jsx("td",{className:"py-3 px-2 font-bold text-slate-700",children:re==null?void 0:re.name}),p.jsxs("td",{className:"py-3 px-2",children:[p.jsx("div",{className:"font-semibold text-slate-800",children:Q==null?void 0:Q.name}),q.direction&&p.jsx("div",{className:"text-[10px] text-slate-500 bg-slate-100 inline-block px-1 rounded mt-0.5",children:q.direction})]}),p.jsx("td",{className:"py-3 px-2",children:!je&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"text-red-400 line-through text-sm font-medium decoration-red-200",children:j==null?void 0:j.name}),Ne===" "&&p.jsx("span",{className:"text-[10px] text-slate-500 block font-bold uppercase mt-0.5",children:"( )"})]})}),p.jsx("td",{className:`py-3 px-2 font-bold text-sm ${we?"text-red-600 uppercase font-black":"text-emerald-700"}`,children:je?p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-800",children:j==null?void 0:j.name}),p.jsx("span",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-wide mt-0.5",children:" "})]}):Te==null?void 0:Te.name}),p.jsx("td",{className:`py-3 px-2 text-right font-mono ${G?"font-black text-indigo-600":"text-slate-500"}`,children:G&&G!==q.roomId?p.jsxs("span",{children:[p.jsx("span",{className:"text-slate-400 line-through mr-1 decoration-slate-300 decoration-2 opacity-70 text-xs",children:ne}),p.jsxs("span",{className:"text-indigo-600 font-black text-sm",children:[" ",ge]})]}):ne})]},R.id)})})]})]})},X=()=>{const K=new It;K.addFileToVFS("Roboto-Regular.ttf",cX),K.addFont("Roboto-Regular.ttf","Roboto","normal"),K.setFont("Roboto","normal"),K.setLanguage("ru");let $=20;K.setFontSize(22),K.text(" ",105,$,{align:"center"}),$+=10,K.setFontSize(12),K.text("   ",105,$,{align:"center"}),$+=15,K.text(`: ${new Date(f).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}`,190,$,{align:"right"}),$+=15,T.length===0?(K.setFontSize(14),K.text("    ",105,K.internal.pageSize.height/2,{align:"center"})):[at.First,at.Second].forEach(R=>{const q=T.filter(re=>{const Q=a.find(j=>j.id===re.scheduleItemId);return Q&&Q.shift===R}).filter(re=>re.replacementTeacherId!=="conducted");if(q.length>0){K.setFontSize(16),K.setTextColor(50,50,50),K.text(`${R}`,14,$),$+=5;const re=["","","","","","."],Q=[];q.forEach(j=>{var be;const G=a.find(xe=>xe.id===j.scheduleItemId);if(!G)return;const ee=r.find(xe=>xe.id===G.classId),ne=t.find(xe=>xe.id===G.subjectId),ae=e.find(xe=>xe.id===j.originalTeacherId),ge=j.replacementRoomId,we=G.roomId?n.find(xe=>xe.id===G.roomId):null,Te=we?we.name:G.roomId||"",Ne=ge?n.find(xe=>xe.id===ge):null,je=Ne?Ne.name:ge||"",He=j.replacementTeacherId==="cancelled"?{name:" "}:e.find(xe=>xe.id===j.replacementTeacherId),_e=(be=ae==null?void 0:ae.absenceReasons)==null?void 0:be[f],oe=j.replacementTeacherId===j.originalTeacherId&&ge,bt=oe?"":`${(ae==null?void 0:ae.name)||""} ${_e===" "?"( )":""}`,le=oe?`${(ae==null?void 0:ae.name)||""}
( )`:(He==null?void 0:He.name)||"",pe=ge&&ge!==G.roomId?`${Te}  ${je}`:Te;Q.push([G.period.toString(),(ee==null?void 0:ee.name)||"",`${(ne==null?void 0:ne.name)||""} ${G.direction?`(${G.direction})`:""}`,bt,le,pe])}),K.autoTable({startY:$+5,head:[re],body:Q,theme:"grid",styles:{font:"Roboto",fontStyle:"normal",fontSize:10,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:[240,240,240],textColor:[80,80,80],fontStyle:"bold",halign:"center"},bodyStyles:{textColor:[50,50,50],valign:"middle"},columnStyles:{0:{halign:"center",cellWidth:15},1:{cellWidth:25},2:{cellWidth:45},3:{cellWidth:40},4:{cellWidth:40},5:{halign:"right",cellWidth:20}},didDrawPage:function(j){$=j.cursor.y}}),$=K.autoTable.previous.finalY+10}}),K.setFontSize(10),K.setTextColor(150,150,150),K.text(" ",14,K.internal.pageSize.height-20),K.text(" ",190,K.internal.pageSize.height-20,{align:"right"}),K.line(150,K.internal.pageSize.height-25,190,K.internal.pageSize.height-25),K.save(`_${f}.pdf`)},ce=async()=>{const K=Math.random().toString(36).substr(2,9);await Qu.setPublicData(K,M),await o({settings:{...i,publicScheduleId:K}});const $=`${window.location.origin}${window.location.pathname}#/public?id=${K}`;x($),P(K),w(!0)},te=async()=>{!i.publicScheduleId||!window.confirm(" ,     ?      .")||(await Qu.deletePublicData(i.publicScheduleId),await o({settings:{...i,publicScheduleId:null}}),alert("  ."),x(""),P(""))};return p.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 pb-20",children:[p.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[p.jsx(Ke,{name:"Download",className:"text-indigo-600 dark:text-indigo-400"}),"  "]}),p.jsxs("div",{className:"flex flex-wrap gap-4",children:[p.jsxs("button",{onClick:()=>Qu.exportJson(M),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none flex items-center gap-2",children:[p.jsx(Ke,{name:"Download",size:20}),"  JSON"]}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"file",ref:u,onChange:I,accept:".json",className:"hidden"}),p.jsxs("button",{onClick:()=>{var K;return(K=u.current)==null?void 0:K.click()},className:"px-6 py-3 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold hover:bg-slate-50 dark:hover:bg-slate-600 transition flex items-center gap-2",children:[p.jsx(Ke,{name:"Upload",size:20}),"  JSON"]})]})]})]}),p.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6 mb-6",children:[p.jsx("div",{children:p.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(Ke,{name:"Image",className:"text-indigo-600 dark:text-indigo-400"}),"   (PNG)"]})}),p.jsxs("div",{className:"flex gap-4 items-center",children:[p.jsx("input",{type:"date",value:f,onChange:K=>g(K.target.value),className:"border border-slate-200 dark:border-slate-600 p-2 rounded-lg font-bold outline-none focus:border-indigo-500 bg-transparent dark:text-white"}),p.jsx("button",{onClick:E,disabled:v,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none flex items-center gap-2 disabled:opacity-50",children:v?p.jsxs(p.Fragment,{children:[p.jsx(Ke,{name:"Loader",size:20,className:"animate-spin"})," ..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Ke,{name:"Download",size:20}),"  PNG"]})})]})]}),p.jsx("div",{className:"overflow-auto bg-slate-100 dark:bg-slate-900 p-8 rounded-xl border border-slate-200 dark:border-slate-700 flex justify-center",children:p.jsxs("div",{ref:c,className:"bg-white p-8 min-w-[800px] max-w-[1000px] shadow-xl text-slate-900",children:[p.jsxs("div",{className:"flex justify-between items-end border-b-2 border-slate-800 pb-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black uppercase tracking-tight mb-1 text-slate-800",children:" "}),p.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"   "})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider mb-1",children:""}),p.jsx("div",{className:"text-xl font-bold text-slate-800",children:new Date(f).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})})]})]}),T.length===0?p.jsx("div",{className:"py-12 text-center border-2 border-dashed border-slate-200 rounded-xl bg-slate-50",children:p.jsx("p",{className:"text-slate-400 font-medium italic",children:"    "})}):p.jsxs(p.Fragment,{children:[N(at.First),N(at.Second)]}),p.jsxs("div",{className:"mt-8 pt-4 border-t border-slate-100 flex justify-between items-end text-[10px] text-slate-400",children:[p.jsx("div",{children:" "}),p.jsxs("div",{className:"flex flex-col items-end gap-2",children:[p.jsx("div",{className:"h-px w-32 bg-slate-300"}),p.jsx("div",{children:" "})]})]})]})})]}),p.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[p.jsx(Ke,{name:"FileSpreadsheet",className:"text-emerald-600 dark:text-emerald-400"}),"  "]}),p.jsxs("div",{className:"flex flex-wrap gap-4",children:[p.jsxs("button",{onClick:_,className:"px-6 py-3 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900 rounded-xl font-bold hover:bg-emerald-100 dark:hover:bg-emerald-900/50 transition flex items-center gap-2",children:[p.jsx(Ke,{name:"FileSpreadsheet",size:20}),"  Excel (XLS)"]}),p.jsxs("button",{onClick:k,className:"px-6 py-3 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border border-blue-100 dark:border-blue-900 rounded-xl font-bold hover:bg-blue-100 dark:hover:bg-blue-900/50 transition flex items-center gap-2",children:[p.jsx(Ke,{name:"Table",size:20}),"   (XLS)"]}),p.jsxs("button",{onClick:O,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition shadow-lg shadow-green-200 dark:shadow-none flex items-center gap-2",children:[p.jsx(Ke,{name:"Clipboard",size:20}),"   Google Sheets"]}),p.jsxs("button",{onClick:X,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition shadow-lg shadow-red-200 dark:shadow-none flex items-center gap-2",children:[p.jsx(Ke,{name:"Download",size:20}),"  PDF ()"]})]})]}),p.jsxs("section",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[p.jsx(Ke,{name:"QrCode",className:"text-purple-600 dark:text-purple-400"}),"  "]}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"      .      QR-."}),i.publicScheduleId?p.jsx("div",{className:"flex flex-col md:flex-row items-center gap-4",children:p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mb-2",children:[" ! ID: ",p.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded",children:i.publicScheduleId})]}),p.jsxs("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition flex items-center gap-2",children:[p.jsx(Ke,{name:"Share2",size:16}),"  QR-  "]}),p.jsxs("button",{onClick:te,className:"ml-3 px-4 py-2 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 border border-red-100 dark:border-red-900 rounded-xl font-bold hover:bg-red-100 dark:hover:bg-red-900/50 transition flex items-center gap-2",children:[p.jsx(Ke,{name:"Trash2",size:16}),"  "]})]})}):p.jsxs("button",{onClick:ce,disabled:v,className:"px-6 py-3 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition shadow-lg shadow-purple-200 dark:shadow-none flex items-center gap-2 disabled:opacity-50",children:[p.jsx(Ke,{name:"Share2",size:20}),"  "]})]}),p.jsx(al,{isOpen:S,onClose:()=>w(!1),title:" ",children:p.jsxs("div",{className:"flex flex-col items-center justify-center p-4 text-center space-y-4",children:[p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:" QR-    ,    ."}),y&&p.jsxs(p.Fragment,{children:[p.jsx(uX,{value:y,size:256,level:"H",includeMargin:!0,className:"p-2 bg-white border border-slate-200 rounded-lg shadow-md"}),p.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm font-medium break-all",children:y}),p.jsxs("button",{onClick:()=>navigator.clipboard.writeText(y),className:"px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 rounded-xl text-sm font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition flex items-center gap-2",children:[p.jsx(Ke,{name:"Copy",size:16}),"  "]})]})]})})]})},hX=()=>{var g;const{subjects:t,teachers:e,classes:r}=Wa(),{schedule:n,substitutions:i}=Ch(),[s,o]=Ae.useState("load"),[a,A]=Ae.useState(((g=r[0])==null?void 0:g.id)||""),l=Ae.useMemo(()=>e.map(b=>{const S=n.filter(I=>I.teacherId===b.id),w=S.length,y=w*4,x=i.filter(I=>I.replacementTeacherId===b.id).length,L=i.filter(I=>I.originalTeacherId===b.id).length,P=y+x-L,M={};return S.forEach(I=>{const _=t.find(k=>k.id===I.subjectId);_&&(M[_.name]=(M[_.name]||0)+1)}),{id:b.id,name:b.name,weeklyHours:w,subsTaken:x,subsMissed:L,actualHours:P,subjectBreakdown:M}}).sort((b,S)=>S.actualHours-b.actualHours),[e,n,i,t]),u=Ae.useMemo(()=>a?Ri.map(v=>{const S=n.filter(w=>w.classId===a&&w.day===v).reduce((w,y)=>{const x=t.find(L=>L.id===y.subjectId);return w+((x==null?void 0:x.difficulty)||5)},0);return{label:v,value:S}}):[],[n,t,a]),c=Ae.useMemo(()=>{const v=e.map(S=>({name:S.name,count:i.filter(w=>w.replacementTeacherId===S.id).length})).sort((S,w)=>w.count-S.count).slice(0,5),b=e.map(S=>({name:S.name,count:S.unavailableDates.length})).sort((S,w)=>w.count-S.count).slice(0,5);return{heroes:v,absentees:b}},[e,i]),f=()=>{let v="";s==="load"?v=`Teacher,Planned Weekly,Subs Taken,Absences (Lessons),Est. Monthly Actual,Details
`+l.map(w=>`"${w.name}",${w.weeklyHours},${w.subsTaken},${w.subsMissed},${w.actualHours},"${Object.entries(w.subjectBreakdown).map(([y,x])=>y+": "+x).join(", ")}"`).join(`
`):s==="sanpin"&&(v=`Day,Score
`+u.map(w=>`${w.label},${w.value}`).join(`
`));const b=new Blob([`\uFEFF${v}`],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(b),S.download=`report_${s}.csv`,document.body.appendChild(S),S.click(),document.body.removeChild(S)};return p.jsxs("div",{className:"max-w-6xl mx-auto w-full pb-20",children:[p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mb-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[p.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[p.jsx(Ke,{name:"BarChart2",className:"text-indigo-600 dark:text-indigo-400"})," "]}),p.jsxs("button",{onClick:f,className:"px-4 py-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-sm font-bold flex items-center gap-2",children:[p.jsx(Ke,{name:"FileSpreadsheet",size:16}),"  CSV"]})]}),p.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-xl w-fit overflow-x-auto max-w-full",children:[p.jsx("button",{onClick:()=>o("load"),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all ${s==="load"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:" ()"}),p.jsx("button",{onClick:()=>o("sanpin"),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all ${s==="sanpin"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:" ()"}),p.jsx("button",{onClick:()=>o("rating"),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all ${s==="rating"?"bg-white dark:bg-slate-600 shadow text-indigo-600 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:" "})]})]}),s==="load"&&p.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase",children:""}),p.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right",children:" ()"}),p.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right text-emerald-600",children:"+ "}),p.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right text-red-500",children:"- "}),p.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase text-right",children:" ()"}),p.jsx("th",{className:"p-4 font-bold text-slate-500 dark:text-slate-400 text-xs uppercase w-1/3",children:""})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l.map(v=>p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[p.jsx("td",{className:"p-4 font-bold text-slate-800 dark:text-slate-200",children:v.name}),p.jsx("td",{className:"p-4 text-right font-mono",children:v.weeklyHours}),p.jsxs("td",{className:"p-4 text-right font-mono text-emerald-600 font-bold",children:["+",v.subsTaken]}),p.jsxs("td",{className:"p-4 text-right font-mono text-red-500 font-bold",children:["-",v.subsMissed]}),p.jsx("td",{className:"p-4 text-right font-mono font-black text-lg",children:v.actualHours}),p.jsx("td",{className:"p-4 text-xs text-slate-500 dark:text-slate-400",children:p.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(v.subjectBreakdown).map(([b,S])=>p.jsxs("span",{className:"bg-slate-100 dark:bg-slate-600 px-1.5 py-0.5 rounded",children:[b,": ",S]},b))})})]},v.id))})]})}),s==="sanpin"&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"font-bold text-lg dark:text-white",children:" "}),p.jsx("select",{value:a,onChange:v=>A(v.target.value),className:"border dark:border-slate-600 p-2 rounded-lg bg-transparent dark:text-white outline-none",children:r.map(v=>p.jsx("option",{value:v.id,children:v.name},v.id))})]}),p.jsx(ry,{items:u,max:60,barClassName:"bg-indigo-500"}),p.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:"*        (=11,  ..).   : /."})]}),p.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-2xl border border-indigo-100 dark:border-indigo-900",children:[p.jsx("h3",{className:"font-bold text-indigo-900 dark:text-indigo-300 mb-4",children:" "}),p.jsxs("ul",{className:"space-y-3 text-sm text-indigo-800 dark:text-indigo-400",children:[p.jsxs("li",{className:"flex gap-2",children:[p.jsx("div",{className:"w-1.5 h-1.5 mt-1.5 bg-indigo-500 rounded-full"}),"  "]}),p.jsxs("li",{className:"flex gap-2",children:[p.jsx("div",{className:"w-1.5 h-1.5 mt-1.5 bg-indigo-500 rounded-full"}),"    "]}),p.jsxs("li",{className:"flex gap-2",children:[p.jsx("div",{className:"w-1.5 h-1.5 mt-1.5 bg-indigo-500 rounded-full"}),"   /"]})]})]})]}),s==="rating"&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("h3",{className:"font-bold text-lg text-emerald-600 mb-4 flex items-center gap-2",children:[p.jsx(Ke,{name:"TrendingUp",size:20}),"   ( 5)"]}),p.jsx(ry,{items:c.heroes.map(v=>({label:v.name,value:v.count})),max:Math.max(...c.heroes.map(v=>v.count),1),barClassName:"bg-emerald-500"})]}),p.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("h3",{className:"font-bold text-lg text-red-500 mb-4 flex items-center gap-2",children:[p.jsx(Ke,{name:"Activity",size:20}),"  ( 5)"]}),p.jsx(ry,{items:c.absentees.map(v=>({label:v.name,value:v.count})),max:Math.max(...c.absentees.map(v=>v.count),1),barClassName:"bg-red-500"})]})]})]})},fX=()=>{const{setGuestRole:t,role:e,loading:r}=Tw(),n=dh(),[i,s]=Ae.useState("select"),[o,a]=Ae.useState(""),[A,l]=Ae.useState(""),[u,c]=Ae.useState(""),[f,g]=Ae.useState(!1);Ae.useEffect(()=>{!r&&e&&(e==="admin"||e==="teacher")&&n("/dashboard")},[e,r,n]);const v=async S=>{S.preventDefault(),c(""),g(!0);try{let w=o;i==="teacher"&&(w="teacher@gymnasium22.com"),await B0.signInWithEmailAndPassword(w,A)}catch(w){console.error("Firebase Auth Error:",w);const y=w.code;let x="   .";switch(y){case"auth/invalid-credential":case"auth/wrong-password":case"auth/user-not-found":x="   .     .";break;case"auth/invalid-email":x="  email .";break;case"auth/too-many-requests":x="   .  .";break;default:x=" .       Firebase."}c(x)}finally{g(!1)}},b=()=>{t(),n("/schedule")};return p.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-xl max-w-md w-full p-8 transition-all",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex p-4 bg-indigo-100 dark:bg-indigo-900/30 rounded-2xl text-indigo-600 dark:text-indigo-400 mb-4",children:p.jsx(Ke,{name:"GraduationCap",size:48})}),p.jsx("h1",{className:"text-2xl font-black text-slate-800 dark:text-white",children:"Gymnasium Manager"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"  "})]}),i==="select"&&p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:b,className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-emerald-500 dark:hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 group transition-all text-left flex items-center gap-4",children:[p.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/50 p-3 rounded-lg text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform",children:p.jsx(Ke,{name:"Users",size:24})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-emerald-700 dark:group-hover:text-emerald-400",children:" / "}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  "})]})]}),p.jsxs("button",{onClick:()=>s("teacher"),className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 group transition-all text-left flex items-center gap-4",children:[p.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-3 rounded-lg text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform",children:p.jsx(Ke,{name:"BookOpen",size:24})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-700 dark:group-hover:text-indigo-400",children:""}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"   "})]})]}),p.jsxs("button",{onClick:()=>s("admin"),className:"w-full p-4 rounded-xl border-2 border-slate-100 dark:border-slate-700 hover:border-purple-500 dark:hover:border-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/20 group transition-all text-left flex items-center gap-4",children:[p.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-3 rounded-lg text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform",children:p.jsx(Ke,{name:"Settings",size:24})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-slate-800 dark:text-white group-hover:text-purple-700 dark:group-hover:text-purple-400",children:""}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"  (/)"})]})]})]}),i!=="select"&&p.jsxs("form",{onSubmit:v,className:"space-y-4 animate-fade-in",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx("button",{type:"button",onClick:()=>{s("select"),c("")},className:"p-2 -ml-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:p.jsx(Ke,{name:"ArrowRight",className:"rotate-180",size:20})}),p.jsx("h2",{className:"font-bold text-lg dark:text-white",children:i==="teacher"?"  ":"  "})]}),i==="admin"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 dark:text-slate-400 mb-1",children:"Email"}),p.jsx("input",{type:"email",value:o,onChange:S=>a(S.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 ring-indigo-500",autoFocus:!0,required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 dark:text-slate-400 mb-1",children:""}),p.jsx("input",{type:"password",value:A,onChange:S=>l(S.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 ring-indigo-500",required:!0})]}),u&&p.jsx("div",{className:"text-red-500 text-sm font-bold text-center bg-red-50 dark:bg-red-900/20 p-2 rounded-lg",children:u}),p.jsxs("button",{type:"submit",disabled:f||r,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 dark:shadow-none flex items-center justify-center gap-2 disabled:opacity-50",children:[(f||r)&&p.jsx(Ke,{name:"Loader",className:"animate-spin",size:20}),""]})]})]})})},pX=()=>{const[t,e]=Ae.useState(!1),[r,n]=Ae.useState(localStorage.getItem("theme")||"light"),{isLoading:i,isReadOnly:s}=Az(),{role:o,logout:a}=Tw(),A=dh();Ae.useEffect(()=>{r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",r)},[r]);const l=async()=>{await a(),A("/login")};if(i)return p.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 dark:bg-dark-950",children:p.jsx(Ke,{name:"Loader",className:"animate-spin text-indigo-600",size:48})});const c=[{to:"/dashboard",label:" ",icon:"Home",roles:["admin","teacher"]},{to:"/schedule",label:"",icon:"Calendar",roles:["admin","teacher","guest"]},{to:"/substitutions",label:"",icon:"Repeat",roles:["admin"]},{to:"/directory",label:"",icon:"BookOpen",roles:["admin"]},{to:"/reports",label:"",icon:"BarChart2",roles:["admin"]},{to:"/export",label:"",icon:"Download",roles:["admin"]},{to:"/admin",label:"",icon:"Settings",roles:["admin"]}].filter(f=>f.roles.includes(o||"guest"));return p.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-dark-950 overflow-hidden transition-colors duration-300",children:[t&&p.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>e(!1)}),p.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-white dark:bg-dark-800 border-r border-slate-200 dark:border-slate-700 transform transition-all duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"} no-print`,children:p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-slate-100 dark:border-slate-700",children:[p.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-xl text-white",children:p.jsx(Ke,{name:"GraduationCap",size:24})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-lg font-black text-slate-800 dark:text-white",children:" 22"}),p.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:" V1.0"})]})]}),p.jsx("nav",{className:"flex-1 p-4 space-y-1",children:c.map(f=>p.jsxs(r6,{to:f.to,onClick:()=>e(!1),className:({isActive:g})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all ${g?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[p.jsx(Ke,{name:f.icon,size:20}),f.label]},f.to))}),p.jsx(cz,{}),p.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 flex flex-col gap-2",children:[p.jsx("button",{onClick:()=>n(r==="light"?"dark":"light"),className:"flex items-center gap-2 text-xs font-bold text-slate-500 dark:text-slate-400 px-2",children:r==="light"?p.jsxs(p.Fragment,{children:[p.jsx(Ke,{name:"Moon",size:16}),"  "]}):p.jsxs(p.Fragment,{children:[p.jsx(Ke,{name:"Sun",size:16}),"  "]})}),p.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-xs font-bold text-red-500 px-2 mt-2 hover:bg-red-50 dark:hover:bg-red-900/20 py-2 rounded-lg transition-colors",children:[p.jsx(Ke,{name:"UserX",size:16})," "]})]})]})}),p.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-slate-50/50 dark:bg-dark-950",children:[p.jsxs("header",{className:"lg:hidden p-4 flex items-center gap-3 bg-white dark:bg-dark-800 border-b border-slate-200 dark:border-slate-700 no-print",children:[p.jsx("button",{onClick:()=>e(!0),children:p.jsx(Ke,{name:"Menu",size:24})}),p.jsx("span",{className:"font-bold",children:""})]}),p.jsxs("div",{className:"flex-1 overflow-auto p-4 lg:p-8 relative",children:[s&&p.jsxs("div",{className:"absolute top-4 right-8 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 z-10 pointer-events-none no-print",children:[p.jsx(Ke,{name:"Eye",size:12}),"  "]}),p.jsx(jD,{})]})]})]})},ou=({children:t,allowedRoles:e})=>{const{role:r,loading:n}=Tw();return n?p.jsx("div",{className:"h-screen flex items-center justify-center",children:p.jsx(Ke,{name:"Loader",className:"animate-spin text-indigo-600",size:48})}):r?e.includes(r)?t:p.jsx(S2,{to:"/schedule",replace:!0}):p.jsx(S2,{to:"/login",replace:!0})},gX=()=>{const[t,e]=Ae.useState(null),[r,n]=Ae.useState(!0),[i]=s6(),s=i.get("id");return Ae.useEffect(()=>{s?(n(!0),Qu.getPublicData(s).then(o=>{const a={...jn,...o,settings:{...jn.settings,...o==null?void 0:o.settings}};e(a),n(!1)}).catch(o=>{console.error(o),e(null),n(!1)})):(n(!1),e(null))},[s]),r?p.jsx("div",{className:"h-screen flex items-center justify-center",children:p.jsx(Ke,{name:"Loader",className:"animate-spin text-indigo-600",size:48})}):t?p.jsx(rU,{initialData:t,children:p.jsx(sU,{children:p.jsx(oU,{children:p.jsx("div",{className:"min-h-screen bg-slate-50 p-4",children:p.jsx(uU,{readOnly:!0})})})})}):p.jsx("div",{children:"  "})};function mX(){return p.jsx(az,{children:p.jsx(rU,{children:p.jsx(sU,{children:p.jsx(oU,{children:p.jsx(XD,{children:p.jsxs(VD,{children:[p.jsx(xs,{path:"/login",element:p.jsx(fX,{})}),p.jsxs(xs,{path:"/",element:p.jsx(pX,{}),children:[p.jsx(xs,{index:!0,element:p.jsx(S2,{to:"/login",replace:!0})}),p.jsx(xs,{path:"dashboard",element:p.jsx(ou,{allowedRoles:["admin","teacher"],children:p.jsx(dz,{})})}),p.jsx(xs,{path:"schedule",element:p.jsxs(ou,{allowedRoles:["admin","teacher","guest"],children:[p.jsx(uU,{readOnly:!1})," "]})}),p.jsx(xs,{path:"substitutions",element:p.jsx(ou,{allowedRoles:["admin"],children:p.jsx(Bz,{})})}),p.jsx(xs,{path:"directory",element:p.jsx(ou,{allowedRoles:["admin"],children:p.jsx(yz,{})})}),p.jsx(xs,{path:"admin",element:p.jsx(ou,{allowedRoles:["admin"],children:p.jsx(bz,{})})}),p.jsx(xs,{path:"reports",element:p.jsx(ou,{allowedRoles:["admin"],children:p.jsx(hX,{})})}),p.jsx(xs,{path:"export",element:p.jsx(ou,{allowedRoles:["admin"],children:p.jsx(dX,{})})})]}),p.jsx(xs,{path:"/public",element:p.jsx(gX,{})})]})})})})})})}Qy.createRoot(document.getElementById("root")).render(p.jsx(wu.StrictMode,{children:p.jsx(mX,{})}));export{or as _,l1 as c,O4 as g};
